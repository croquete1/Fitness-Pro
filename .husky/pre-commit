#!/bin/sh
# Husky pre-commit minimalista (sem husky.sh / sem $(...))

printf "ğŸ§ª Type checking...\n"

# Raiz do repo (sem usar $(...), sÃ³ backticks)
ROOT=`git rev-parse --show-toplevel 2>/dev/null`
if [ "x$ROOT" = "x" ]; then
  ROOT="."
fi

node "$ROOT/scripts/precommit.cjs"
status=$?

if [ $status -ne 0 ]; then
  printf "âŒ Pre-commit falhou\n"
  exit $status
fi

printf "âœ… Pre-commit OK\n"
