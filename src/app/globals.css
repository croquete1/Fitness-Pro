/* ========== HMS Personal Trainer — Tema global & Layout base ========== */

/* Paleta & tokens */
:root{
  --bg:#f8fafc;           /* slate-50 */
  --fg:#0f172a;           /* slate-900 */
  --muted:#475569;        /* slate-600 */
  --border:#e2e8f0;       /* slate-200 */
  --accent:#3b82f6;       /* blue-500 */
  --accent-600:#2563eb;   /* blue-600 */
  --bg-header:rgba(248,250,252,.85);
  --chip:#e8f0fe;

  /* Layout */
  --sidebar-w: 264px;         /* largura sidebar aberta */
  --sidebar-collapsed: 72px;  /* largura sidebar recolhida (rail) */
  --header-h: 64px;
  --radius: 14px;

  /* Transições */
  --sb-ease:cubic-bezier(.22,1,.36,1);
  --sb-dur:240ms;

  /* variável corrente (muda com o estado recolhido/expandido) */
  --sidebar-current: var(--sidebar-w);
}

[data-theme="dark"]{
  --bg:#0b1220;
  --fg:#e5e7eb;
  --muted:#94a3b8;
  --border:#1f2937;
  --accent:#60a5fa;
  --accent-600:#3b82f6;
  --bg-header:rgba(11,18,32,.6);
  --chip:#1f2937;
}

html,body{
  background:var(--bg);
  color:var(--fg);
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",
    Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol",sans-serif;
}
input,button,select,textarea{ font:inherit; }

a{ color:inherit; text-decoration:none; }
.text-muted{ color:var(--muted); }

/* Botões (look moderno & consistente) */
.btn{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.6rem .9rem; border:1px solid var(--border);
  background:#fff; color:var(--fg);
  border-radius:12px; box-shadow:0 1px 0 rgba(0,0,0,.03);
  transition:background .15s ease, transform .05s ease, border-color .15s ease;
}
.btn:hover{ background:#f3f7ff; border-color:#d6e4ff; }
.btn:active{ transform:translateY(1px); }
.btn-primary{
  background:var(--accent); border-color:transparent; color:#fff;
}
.btn-primary:hover{ background:var(--accent-600); }
.pill{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.5rem .8rem; border:1px solid var(--border);
  border-radius:999px; background:#fff;
}

/* Cards/Tabelas */
.card{ background:#fff; border:1px solid var(--border); border-radius:var(--radius); }
table th, table td{ font-weight:400; }

/* Bloquear scroll geral quando a sidebar off-canvas abre no mobile */
html[data-sidebar="open"]{ overflow:hidden; }

/* ===== Shell com sidebar ===== */
.fp-shell{
  display:grid;
  grid-template-columns: var(--sidebar-current) 1fr; /* expande/encolhe com a variável */
  min-height: calc(100dvh - var(--header-h));
  transition: grid-template-columns var(--sb-dur) var(--sb-ease);
}

/* Sidebar (desktop) */
.fp-sidebar{
  position:sticky; top:0;
  height: calc(100dvh - var(--header-h));
  width: var(--sidebar-current);
  background:var(--bg);
  border-right:1px solid var(--border);
  transition: width var(--sb-dur) var(--sb-ease), box-shadow .2s ease;
  overflow:hidden;
}
.fp-sidebar .inner{
  height:100%;
  display:grid;
  grid-template-rows:auto 1fr auto; /* header | nav (scroll) | footer */
}
.fp-sidebar .nav-scroll{
  overflow:auto;
  padding-right:6px; /* nice scroll */
}

/* Itens de navegação */
.nav-item, .nav-group-trigger{
  display:grid; grid-template-columns: 32px 1fr auto; align-items:center;
  gap:.75rem; padding:.7rem .9rem; border-radius:12px; cursor:pointer;
  transition: background .12s ease, transform .05s ease;
}
.nav-item:hover, .nav-group-trigger:hover{ background:rgba(59,130,246,.08); }
.nav-item[aria-current="page"]{ background:rgba(59,130,246,.12); }
.nav-icon{
  width:32px; height:32px; border-radius:10px; display:grid; place-items:center;
  background:#eef4ff; color:#2643a3; font-size:18px;
}
.nav-label{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* Collapsed (rail) – esconde label mas mantém tooltip/title */
html[data-sb="collapsed"]{
  --sidebar-current: var(--sidebar-collapsed);
}
html[data-sb="collapsed"] .nav-label,
html[data-sb="collapsed"] .nav-caret,
html[data-sb="collapsed"] .section-title{
  opacity:0; transform:translateX(-8px); pointer-events:none;
}
.section-title{
  font-size:12px; color:var(--muted); font-weight:700;
  margin:1rem .75rem .4rem;
  transition:opacity var(--sb-dur) var(--sb-ease), transform var(--sb-dur) var(--sb-ease);
}

/* Header alinhado ao layout com sidebar */
.fp-header{
  position:sticky; top:0; z-index:40;
  background:var(--bg-header); backdrop-filter: blur(6px);
  min-height:var(--header-h);
  display:grid; grid-template-columns: var(--sidebar-current) 1fr;
  transition: grid-template-columns var(--sb-dur) var(--sb-ease);
  border-bottom:1px solid rgba(0,0,0,.04);
}
.fp-header-inner{
  grid-column:2; display:grid; grid-template-columns:1fr auto; align-items:center;
  gap:.75rem; padding:.8rem 1rem;
}

/* Conteúdo */
.fp-content{ padding:16px; min-height:calc(100dvh - var(--header-h)); }
.page h1{ margin: 0 0 12px; }

/* Tooltip simples para rail */
.tooltip{ position:relative; }
.tooltip[data-tip]:hover:after{
  content:attr(data-tip);
  position:absolute; left:52px; top:50%; transform:translateY(-50%);
  background:#111; color:#fff; padding:.25rem .5rem; border-radius:8px;
  font-size:12px; white-space:nowrap; z-index:10;
}

/* ===== Mobile/Tablet ===== */
@media (max-width:1023.98px){
  .fp-shell{ grid-template-columns:1fr !important; }
  .fp-header{ grid-template-columns:1fr; }
  .fp-header-inner{ grid-column:1; }

  .fp-sidebar{
    position:fixed; left:0; top:var(--header-h);
    height: calc(100dvh - var(--header-h));
    width: 85vw; max-width: 360px;
    transform:translateX(-100%);
    box-shadow:0 10px 30px rgba(0,0,0,.18);
    transition: transform var(--sb-dur) var(--sb-ease), width var(--sb-dur) var(--sb-ease);
    z-index:60;
  }
  html[data-sidebar="open"] .fp-sidebar{ transform:translateX(0); }
}

/* ===== Utilidades ===== */
.sr-only{ position:absolute!important; width:1px;height:1px; padding:0;margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
.badge{ display:inline-flex; align-items:center; gap:.4rem; padding:.3rem .6rem; border-radius:999px; background:#eef4ff; color:#2643a3; font-weight:700; font-size:12px; }
.badge-danger{ background:#fee2e2; color:#991b1b; }
