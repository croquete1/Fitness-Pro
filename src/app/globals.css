/* ====== Tema & tokens ====== */
:root{
  --bg:#f7f9fc;
  --fg:#0f172a;
  --muted:#64748b;
  --border:#e5e9f2;
  --brand:#6366f1;

  /* sidebar */
  --sidebar-w:260px;
  --sidebar-collapsed-w:68px;

  /* layout */
  --header-h:64px;
  --space:18px;
}

html,body{background:var(--bg);color:var(--fg);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
*{box-sizing:border-box}

/* ====== Shell ====== */
.fp-shell{
  --sidebar-col: var(--sidebar-w);
  display:grid;
  grid-template-columns: var(--sidebar-col) 1fr;
  min-height:100dvh;
}

.fp-shell[data-collapsed="true"]{ --sidebar-col: var(--sidebar-collapsed-w); }

/* overlay só em mobile/overlay mode */
.fp-overlay{
  position:fixed;inset:0;z-index:40;background:rgba(0,0,0,.35);backdrop-filter:blur(2px);
  opacity:0;pointer-events:none;transition:opacity .25s ease;
}
.fp-shell[data-overlay="true"] .fp-overlay{ opacity:1; pointer-events:auto; }

/* ====== Sidebar ====== */
.fp-sidebar{
  position:sticky; top:0; height:100dvh;
  border-right:1px solid var(--border);
  background:var(--bg);
  overflow:auto;
  transition: width .28s ease; /* mais suave */
  width: var(--sidebar-col);
}

/* Expansão temporária por hover quando colapsada e afixada */
.fp-sidebar[data-expanded="true"]{
  width: var(--sidebar-w);
}

/* ====== Main ====== */
.fp-main{
  min-height:100dvh;
  display:flex;flex-direction:column;
}
.fp-header{
  position:sticky; top:0; z-index:10; background:rgba(255,255,255,.85);
  backdrop-filter:saturate(120%) blur(6px);
  border-bottom:1px solid var(--border);
}
.fp-header-inner{
  max-width:1280px; margin:0 auto; padding:10px var(--space);
  display:grid; grid-template-columns:1fr minmax(200px,720px) auto; gap:10px; align-items:center;
}

.fp-main .search{
  width:100%; border:1px solid var(--border); border-radius:12px; padding:10px 12px;
  outline:none; background:#fff;
}
.btn{border:1px solid var(--border); background:#fff; border-radius:12px; padding:.55rem .8rem; cursor:pointer;}
.btn.ghost{background:transparent}
.btn.danger{background:#ef4444;color:#fff;border-color:transparent}
.btn.block{width:100%}

/* Conteúdo */
.fp-content{ max-width:1280px; margin:0 auto; padding:18px var(--space); }

/* ====== Navegação ====== */
.nav{ display:flex; flex-direction:column; height:100%; }
.nav-actions{ display:flex; gap:8px; padding:10px var(--space) 6px; position:sticky; top:0; background:var(--bg); z-index:5; }
.nav-scroll{ padding:6px var(--space) 12px; display:flex; flex-direction:column; gap:6px; }
.nav-bottom{ margin-top:auto; padding:12px var(--space) 16px; }

.nav-item{
  display:grid; grid-template-columns:28px 1fr; align-items:center;
  gap:12px; padding:10px 12px; border-radius:14px; border:1px solid transparent;
  text-decoration:none; color:inherit;
}
.nav-item:hover{ background:#eef2ff; }
.nav-item.active{ background:#eef2ff; border-color:#dfe3fb; }

.nav-ico{ width:28px; height:28px; display:grid; place-items:center; border-radius:10px; background:#f1f5ff; }
.nav-txt{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* Quando colapsada e não expandida: esconder textos mas manter ícones alinhados */
.fp-shell[data-collapsed="true"] .fp-sidebar:not([data-expanded="true"]) .nav-txt{ display:none; }
.fp-shell[data-collapsed="true"] .fp-sidebar:not([data-expanded="true"]) .nav-item{
  grid-template-columns:28px;
  justify-content:center;
}

/* Grupos */
.nav-group{ display:flex; flex-direction:column; gap:6px; }
.nav-group-trigger{
  display:grid; grid-template-columns:28px 1fr; align-items:center; gap:12px;
  padding:10px 12px; border-radius:12px; color:var(--muted);
}
.nav-group-trigger.open{ color:inherit; background:#f6f7ff; }
.nav-sub{ display:none; padding-left:8px; }
.nav-sub.show{ display:flex; flex-direction:column; gap:6px; }

/* ====== Mobile (overlay) ====== */
@media (max-width:1023.98px){
  .fp-shell{ grid-template-columns: 1fr; }
  .fp-sidebar{
    position:fixed; left:0; top:0; height:100dvh; width:min(86vw, var(--sidebar-w));
    transform:translateX(-100%); transition: transform .28s ease;
    box-shadow:0 20px 40px rgba(0,0,0,.18); z-index:50;
  }
  .fp-shell[data-overlay="true"] .fp-sidebar{ transform:translateX(0); }
}
