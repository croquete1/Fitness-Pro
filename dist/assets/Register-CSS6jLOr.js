import{r as t,O as v,B as e}from"./vendor-KvGhzpsN.js";import{u as w,F as f,B as C,H as R,a as r,b as o,I as c,R as S,S as y,d,c as E,T as m}from"./vendor_chakra-DWgCqBcA.js";import{c as F,e as P,d as A}from"./vendor_firebase-Bf_rMZqC.js";import{a as T,d as B}from"./index-DyRnX7Nk.js";function D(){const[n,h]=t.useState(""),[a,x]=t.useState(""),[i,g]=t.useState(""),[u,j]=t.useState("cliente"),l=w(),p=v(),b=async()=>{if(!n||!a||!i){l({title:"Preenche todos os campos",status:"warning",isClosable:!0});return}try{const{user:s}=await F(T,a,i);await P(A(B,"users",s.uid),{name:n,email:a,role:u,createdAt:new Date}),l({title:"Registo efetuado!",status:"success",isClosable:!0}),p("/dashboard")}catch(s){l({title:"Erro no registo",description:s.message,status:"error",isClosable:!0})}};return e.jsx(f,{minH:"100vh",align:"center",justify:"center",bg:"gray.50",children:e.jsxs(C,{bg:"white",p:8,rounded:"md",shadow:"lg",w:"full",maxW:"md",children:[e.jsx(R,{mb:6,textAlign:"center",color:"brand.500",children:"Registo FitnessPro"}),e.jsxs(r,{mb:4,children:[e.jsx(o,{children:"Nome"}),e.jsx(c,{placeholder:"João Silva",value:n,onChange:s=>h(s.target.value)})]}),e.jsxs(r,{mb:4,children:[e.jsx(o,{children:"Email"}),e.jsx(c,{type:"email",placeholder:"exemplo@email.com",value:a,onChange:s=>x(s.target.value)})]}),e.jsxs(r,{mb:4,children:[e.jsx(o,{children:"Password"}),e.jsx(c,{type:"password",placeholder:"••••••••",value:i,onChange:s=>g(s.target.value)})]}),e.jsxs(r,{mb:6,children:[e.jsx(o,{children:"Tipo de Utilizador"}),e.jsx(S,{onChange:j,value:u,children:e.jsxs(y,{direction:"row",children:[e.jsx(d,{value:"cliente",children:"Cliente"}),e.jsx(d,{value:"trainer",children:"Personal Trainer"}),e.jsx(d,{value:"admin",children:"Admin"})]})})]}),e.jsx(E,{colorScheme:"blue",w:"full",onClick:b,children:"Registar"}),e.jsxs(m,{mt:4,textAlign:"center",fontSize:"sm",children:["Já tens conta?"," ",e.jsx(m,{as:"a",href:"/",color:"blue.500",children:"Faz login"})]})]})})}export{D as default};
