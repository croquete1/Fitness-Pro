var RR=Object.defineProperty;var OR=(t,e,n)=>e in t?RR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var J=(t,e,n)=>(OR(t,typeof e!="symbol"?e+"":e,n),n);function PR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ZE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ex={exports:{}},cd={},tx={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),AR=Symbol.for("react.portal"),DR=Symbol.for("react.fragment"),MR=Symbol.for("react.strict_mode"),LR=Symbol.for("react.profiler"),FR=Symbol.for("react.provider"),$R=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),jR=Symbol.for("react.suspense"),VR=Symbol.for("react.memo"),BR=Symbol.for("react.lazy"),A0=Symbol.iterator;function UR(t){return t===null||typeof t!="object"?null:(t=A0&&t[A0]||t["@@iterator"],typeof t=="function"?t:null)}var nx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rx=Object.assign,ix={};function Ao(t,e,n){this.props=t,this.context=e,this.refs=ix,this.updater=n||nx}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sx(){}sx.prototype=Ao.prototype;function xg(t,e,n){this.props=t,this.context=e,this.refs=ix,this.updater=n||nx}var Cg=xg.prototype=new sx;Cg.constructor=xg;rx(Cg,Ao.prototype);Cg.isPureReactComponent=!0;var D0=Array.isArray,ox=Object.prototype.hasOwnProperty,_g={current:null},ax={key:!0,ref:!0,__self:!0,__source:!0};function lx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ox.call(e,r)&&!ax.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gl,type:t,key:s,ref:o,props:i,_owner:_g.current}}function HR(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function WR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var M0=/\/+/g;function wf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WR(""+t.key):e.toString(36)}function Su(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gl:case AR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+wf(o,0):r,D0(i)?(n="",t!=null&&(n=t.replace(M0,"$&/")+"/"),Su(i,e,n,"",function(c){return c})):i!=null&&(Sg(i)&&(i=HR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(M0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",D0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+wf(s,a);o+=Su(s,e,n,l,i)}else if(l=UR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+wf(s,a++),o+=Su(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dc(t,e,n){if(t==null)return t;var r=[],i=0;return Su(t,r,"","",function(s){return e.call(n,s,i++)}),r}function qR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},Tu={transition:null},KR={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Tu,ReactCurrentOwner:_g};function cx(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Dc,forEach:function(t,e,n){Dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dc(t,function(){e++}),e},toArray:function(t){return Dc(t,function(e){return e})||[]},only:function(t){if(!Sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Ao;ae.Fragment=DR;ae.Profiler=LR;ae.PureComponent=xg;ae.StrictMode=MR;ae.Suspense=jR;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KR;ae.act=cx;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_g.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ox.call(e,l)&&!ax.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gl,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:$R,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FR,_context:t},t.Consumer=t};ae.createElement=lx;ae.createFactory=function(t){var e=lx.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:zR,render:t}};ae.isValidElement=Sg;ae.lazy=function(t){return{$$typeof:BR,_payload:{_status:-1,_result:t},_init:qR}};ae.memo=function(t,e){return{$$typeof:VR,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Tu.transition;Tu.transition={};try{t()}finally{Tu.transition=e}};ae.unstable_act=cx;ae.useCallback=function(t,e){return Ot.current.useCallback(t,e)};ae.useContext=function(t){return Ot.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Ot.current.useEffect(t,e)};ae.useId=function(){return Ot.current.useId()};ae.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Ot.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};ae.useRef=function(t){return Ot.current.useRef(t)};ae.useState=function(t){return Ot.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Ot.current.useTransition()};ae.version="18.3.1";tx.exports=ae;var b=tx.exports;const E=ZE(b),GR=PR({__proto__:null,default:E},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR=b,QR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),JR=Object.prototype.hasOwnProperty,ZR=YR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eO={key:!0,ref:!0,__self:!0,__source:!0};function ux(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JR.call(e,r)&&!eO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QR,type:t,key:s,ref:o,props:i,_owner:ZR.current}}cd.Fragment=XR;cd.jsx=ux;cd.jsxs=ux;ex.exports=cd;var D=ex.exports,Rp={},hx={exports:{}},Xt={},dx={exports:{}},fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var K=L.length;L.push(B);e:for(;0<K;){var ie=K-1>>>1,oe=L[ie];if(0<i(oe,B))L[ie]=B,L[K]=oe,K=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],K=L.pop();if(K!==B){L[0]=K;e:for(var ie=0,oe=L.length,Re=oe>>>1;ie<Re;){var me=2*(ie+1)-1,se=L[me],be=me+1,Je=L[be];if(0>i(se,K))be<oe&&0>i(Je,se)?(L[ie]=Je,L[be]=K,ie=be):(L[ie]=se,L[me]=K,ie=me);else if(be<oe&&0>i(Je,K))L[ie]=Je,L[be]=K,ie=be;else break e}}return B}function i(L,B){var K=L.sortIndex-B.sortIndex;return K!==0?K:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=L)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function C(L){if(m=!1,x(L),!g)if(n(l)!==null)g=!0,W(_);else{var B=n(c);B!==null&&Q(C,B.startTime-L)}}function _(L,B){g=!1,m&&(m=!1,v(k),k=-1),p=!0;var K=f;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||L&&!A());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var oe=ie(h.expirationTime<=B);B=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&r(l),x(B)}else r(l);h=n(l)}if(h!==null)var Re=!0;else{var me=n(c);me!==null&&Q(C,me.startTime-B),Re=!1}return Re}finally{h=null,f=K,p=!1}}var S=!1,T=null,k=-1,I=5,R=-1;function A(){return!(t.unstable_now()-R<I)}function z(){if(T!==null){var L=t.unstable_now();R=L;var B=!0;try{B=T(!0,L)}finally{B?V():(S=!1,T=null)}}else S=!1}var V;if(typeof y=="function")V=function(){y(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=z,V=function(){G.postMessage(null)}}else V=function(){w(z,0)};function W(L){T=L,S||(S=!0,V())}function Q(L,B){k=w(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var K=f;f=B;try{return L()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=f;f=L;try{return B()}finally{f=K}},t.unstable_scheduleCallback=function(L,B,K){var ie=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=K+oe,L={id:u++,callback:B,priorityLevel:L,startTime:K,expirationTime:oe,sortIndex:-1},K>ie?(L.sortIndex=K,e(c,L),n(l)===null&&L===n(c)&&(m?(v(k),k=-1):m=!0,Q(C,K-ie))):(L.sortIndex=oe,e(l,L),g||p||(g=!0,W(_))),L},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(L){var B=f;return function(){var K=f;f=B;try{return L.apply(this,arguments)}finally{f=K}}}})(fx);dx.exports=fx;var tO=dx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO=b,Gt=tO;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var px=new Set,rl={};function ps(t,e){lo(t,e),lo(t+"Capture",e)}function lo(t,e){for(rl[t]=e,t=0;t<e.length;t++)px.add(e[t])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=Object.prototype.hasOwnProperty,rO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L0={},F0={};function iO(t){return Op.call(F0,t)?!0:Op.call(L0,t)?!1:rO.test(t)?F0[t]=!0:(L0[t]=!0,!1)}function sO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oO(t,e,n,r){if(e===null||typeof e>"u"||sO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tg=/[\-:]([a-z])/g;function kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tg,kg);ut[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tg,kg);ut[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tg,kg);ut[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ng(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oO(e,n,i,r)&&(n=null),r||i===null?iO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=nO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),mx=Symbol.for("react.provider"),gx=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Ap=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),vx=Symbol.for("react.offscreen"),$0=Symbol.iterator;function Zo(t){return t===null||typeof t!="object"?null:(t=$0&&t[$0]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,bf;function ga(t){if(bf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bf=e&&e[1]||""}return`
`+bf+t}var Ef=!1;function xf(t,e){if(!t||Ef)return"";Ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ga(t):""}function aO(t){switch(t.tag){case 5:return ga(t.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 2:case 15:return t=xf(t.type,!1),t;case 11:return t=xf(t.type.render,!1),t;case 1:return t=xf(t.type,!0),t;default:return""}}function Mp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case Os:return"Portal";case Pp:return"Profiler";case Ig:return"StrictMode";case Ap:return"Suspense";case Dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gx:return(t.displayName||"Context")+".Consumer";case mx:return(t._context.displayName||"Context")+".Provider";case Rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Og:return e=t.displayName||null,e!==null?e:Mp(t.type)||"Memo";case Or:e=t._payload,t=t._init;try{return Mp(t(e))}catch{}}return null}function lO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mp(e);case 8:return e===Ig?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cO(t){var e=yx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lc(t){t._valueTracker||(t._valueTracker=cO(t))}function wx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lp(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function z0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bx(t,e){e=e.checked,e!=null&&Ng(t,"checked",e,!1)}function Fp(t,e){bx(t,e);var n=ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$p(t,e.type,n):e.hasOwnProperty("defaultValue")&&$p(t,e.type,ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $p(t,e,n){(e!=="number"||Zu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var va=Array.isArray;function qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(va(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ai(n)}}function Ex(t,e){var n=ai(e.value),r=ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fc,Cx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uO=["Webkit","ms","Moz","O"];Object.keys(Aa).forEach(function(t){uO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Aa[e]=Aa[t]})});function _x(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Aa.hasOwnProperty(t)&&Aa[t]?(""+e).trim():e+"px"}function Sx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_x(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hO=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vp(t,e){if(e){if(hO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Bp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Up=null;function Pg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hp=null,Ks=null,Gs=null;function U0(t){if(t=Xl(t)){if(typeof Hp!="function")throw Error(F(280));var e=t.stateNode;e&&(e=pd(e),Hp(t.stateNode,t.type,e))}}function Tx(t){Ks?Gs?Gs.push(t):Gs=[t]:Ks=t}function kx(){if(Ks){var t=Ks,e=Gs;if(Gs=Ks=null,U0(t),e)for(t=0;t<e.length;t++)U0(e[t])}}function Nx(t,e){return t(e)}function Ix(){}var Cf=!1;function Rx(t,e,n){if(Cf)return t(e,n);Cf=!0;try{return Nx(t,e,n)}finally{Cf=!1,(Ks!==null||Gs!==null)&&(Ix(),kx())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var r=pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Wp=!1;if(pr)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Wp=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Wp=!1}function dO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Da=!1,eh=null,th=!1,qp=null,fO={onError:function(t){Da=!0,eh=t}};function pO(t,e,n,r,i,s,o,a,l){Da=!1,eh=null,dO.apply(fO,arguments)}function mO(t,e,n,r,i,s,o,a,l){if(pO.apply(this,arguments),Da){if(Da){var c=eh;Da=!1,eh=null}else throw Error(F(198));th||(th=!0,qp=c)}}function ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ox(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function H0(t){if(ms(t)!==t)throw Error(F(188))}function gO(t){var e=t.alternate;if(!e){if(e=ms(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return H0(i),t;if(s===r)return H0(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Px(t){return t=gO(t),t!==null?Ax(t):null}function Ax(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ax(t);if(e!==null)return e;t=t.sibling}return null}var Dx=Gt.unstable_scheduleCallback,W0=Gt.unstable_cancelCallback,vO=Gt.unstable_shouldYield,yO=Gt.unstable_requestPaint,Ve=Gt.unstable_now,wO=Gt.unstable_getCurrentPriorityLevel,Ag=Gt.unstable_ImmediatePriority,Mx=Gt.unstable_UserBlockingPriority,nh=Gt.unstable_NormalPriority,bO=Gt.unstable_LowPriority,Lx=Gt.unstable_IdlePriority,ud=null,Vn=null;function EO(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(ud,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:_O,xO=Math.log,CO=Math.LN2;function _O(t){return t>>>=0,t===0?32:31-(xO(t)/CO|0)|0}var $c=64,zc=4194304;function ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ya(a):(s&=o,s!==0&&(r=ya(s)))}else o=n&~i,o!==0?r=ya(o):s!==0&&(r=ya(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function SO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=SO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fx(){var t=$c;return $c<<=1,!($c&4194240)&&($c=64),t}function _f(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function kO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Dg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function $x(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zx,Mg,jx,Vx,Bx,Gp=!1,jc=[],Kr=null,Gr=null,Yr=null,ol=new Map,al=new Map,Ar=[],NO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(t,e){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function ta(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&Mg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IO(t,e,n,r,i){switch(e){case"focusin":return Kr=ta(Kr,t,e,n,r,i),!0;case"dragenter":return Gr=ta(Gr,t,e,n,r,i),!0;case"mouseover":return Yr=ta(Yr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ol.set(s,ta(ol.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,al.set(s,ta(al.get(s)||null,t,e,n,r,i)),!0}return!1}function Ux(t){var e=zi(t.target);if(e!==null){var n=ms(e);if(n!==null){if(e=n.tag,e===13){if(e=Ox(n),e!==null){t.blockedOn=e,Bx(t.priority,function(){jx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Up=r,n.target.dispatchEvent(r),Up=null}else return e=Xl(n),e!==null&&Mg(e),t.blockedOn=n,!1;e.shift()}return!0}function K0(t,e,n){ku(t)&&n.delete(e)}function RO(){Gp=!1,Kr!==null&&ku(Kr)&&(Kr=null),Gr!==null&&ku(Gr)&&(Gr=null),Yr!==null&&ku(Yr)&&(Yr=null),ol.forEach(K0),al.forEach(K0)}function na(t,e){t.blockedOn===e&&(t.blockedOn=null,Gp||(Gp=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,RO)))}function ll(t){function e(i){return na(i,t)}if(0<jc.length){na(jc[0],t);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kr!==null&&na(Kr,t),Gr!==null&&na(Gr,t),Yr!==null&&na(Yr,t),ol.forEach(e),al.forEach(e),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Ux(n),n.blockedOn===null&&Ar.shift()}var Ys=_r.ReactCurrentBatchConfig,ih=!0;function OO(t,e,n,r){var i=ye,s=Ys.transition;Ys.transition=null;try{ye=1,Lg(t,e,n,r)}finally{ye=i,Ys.transition=s}}function PO(t,e,n,r){var i=ye,s=Ys.transition;Ys.transition=null;try{ye=4,Lg(t,e,n,r)}finally{ye=i,Ys.transition=s}}function Lg(t,e,n,r){if(ih){var i=Yp(t,e,n,r);if(i===null)Df(t,e,r,sh,n),q0(t,r);else if(IO(i,t,e,n,r))r.stopPropagation();else if(q0(t,r),e&4&&-1<NO.indexOf(t)){for(;i!==null;){var s=Xl(i);if(s!==null&&zx(s),s=Yp(t,e,n,r),s===null&&Df(t,e,r,sh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Df(t,e,r,null,n)}}var sh=null;function Yp(t,e,n,r){if(sh=null,t=Pg(r),t=zi(t),t!==null)if(e=ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ox(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sh=t,null}function Hx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wO()){case Ag:return 1;case Mx:return 4;case nh:case bO:return 16;case Lx:return 536870912;default:return 16}default:return 16}}var zr=null,Fg=null,Nu=null;function Wx(){if(Nu)return Nu;var t,e=Fg,n=e.length,r,i="value"in zr?zr.value:zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nu=i.slice(t,1<r?1-r:void 0)}function Iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vc(){return!0}function G0(){return!1}function Jt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vc:G0,this.isPropagationStopped=G0,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=Jt(Do),Ql=Me({},Do,{view:0,detail:0}),AO=Jt(Ql),Sf,Tf,ra,hd=Me({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ra&&(ra&&t.type==="mousemove"?(Sf=t.screenX-ra.screenX,Tf=t.screenY-ra.screenY):Tf=Sf=0,ra=t),Sf)},movementY:function(t){return"movementY"in t?t.movementY:Tf}}),Y0=Jt(hd),DO=Me({},hd,{dataTransfer:0}),MO=Jt(DO),LO=Me({},Ql,{relatedTarget:0}),kf=Jt(LO),FO=Me({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),$O=Jt(FO),zO=Me({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jO=Jt(zO),VO=Me({},Do,{data:0}),Q0=Jt(VO),BO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HO[t])?!!e[t]:!1}function zg(){return WO}var qO=Me({},Ql,{key:function(t){if(t.key){var e=BO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zg,charCode:function(t){return t.type==="keypress"?Iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KO=Jt(qO),GO=Me({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=Jt(GO),YO=Me({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zg}),QO=Jt(YO),XO=Me({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),JO=Jt(XO),ZO=Me({},hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e2=Jt(ZO),t2=[9,13,27,32],jg=pr&&"CompositionEvent"in window,Ma=null;pr&&"documentMode"in document&&(Ma=document.documentMode);var n2=pr&&"TextEvent"in window&&!Ma,qx=pr&&(!jg||Ma&&8<Ma&&11>=Ma),J0=String.fromCharCode(32),Z0=!1;function Kx(t,e){switch(t){case"keyup":return t2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function r2(t,e){switch(t){case"compositionend":return Gx(e);case"keypress":return e.which!==32?null:(Z0=!0,J0);case"textInput":return t=e.data,t===J0&&Z0?null:t;default:return null}}function i2(t,e){if(As)return t==="compositionend"||!jg&&Kx(t,e)?(t=Wx(),Nu=Fg=zr=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qx&&e.locale!=="ko"?null:e.data;default:return null}}var s2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s2[t.type]:e==="textarea"}function Yx(t,e,n,r){Tx(r),e=oh(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var La=null,cl=null;function o2(t){oC(t,0)}function dd(t){var e=Ls(t);if(wx(e))return t}function a2(t,e){if(t==="change")return e}var Qx=!1;if(pr){var Nf;if(pr){var If="oninput"in document;if(!If){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),If=typeof tw.oninput=="function"}Nf=If}else Nf=!1;Qx=Nf&&(!document.documentMode||9<document.documentMode)}function nw(){La&&(La.detachEvent("onpropertychange",Xx),cl=La=null)}function Xx(t){if(t.propertyName==="value"&&dd(cl)){var e=[];Yx(e,cl,t,Pg(t)),Rx(o2,e)}}function l2(t,e,n){t==="focusin"?(nw(),La=e,cl=n,La.attachEvent("onpropertychange",Xx)):t==="focusout"&&nw()}function c2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dd(cl)}function u2(t,e){if(t==="click")return dd(e)}function h2(t,e){if(t==="input"||t==="change")return dd(e)}function d2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:d2;function ul(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Op.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iw(t,e){var n=rw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function Jx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zx(){for(var t=window,e=Zu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zu(t.document)}return e}function Vg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f2(t){var e=Zx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jx(n.ownerDocument.documentElement,n)){if(r!==null&&Vg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iw(n,s);var o=iw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p2=pr&&"documentMode"in document&&11>=document.documentMode,Ds=null,Qp=null,Fa=null,Xp=!1;function sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xp||Ds==null||Ds!==Zu(r)||(r=Ds,"selectionStart"in r&&Vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fa&&ul(Fa,r)||(Fa=r,r=oh(Qp,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ds)))}function Bc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},Rf={},eC={};pr&&(eC=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function fd(t){if(Rf[t])return Rf[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eC)return Rf[t]=e[n];return t}var tC=fd("animationend"),nC=fd("animationiteration"),rC=fd("animationstart"),iC=fd("transitionend"),sC=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){sC.set(t,e),ps(e,[t])}for(var Of=0;Of<ow.length;Of++){var Pf=ow[Of],m2=Pf.toLowerCase(),g2=Pf[0].toUpperCase()+Pf.slice(1);pi(m2,"on"+g2)}pi(tC,"onAnimationEnd");pi(nC,"onAnimationIteration");pi(rC,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(iC,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function aw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mO(r,e,void 0,t),t.currentTarget=null}function oC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;aw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;aw(i,a,c),s=l}}}if(th)throw t=qp,th=!1,qp=null,t}function Ce(t,e){var n=e[nm];n===void 0&&(n=e[nm]=new Set);var r=t+"__bubble";n.has(r)||(aC(e,t,2,!1),n.add(r))}function Af(t,e,n){var r=0;e&&(r|=4),aC(n,t,r,e)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[Uc]){t[Uc]=!0,px.forEach(function(n){n!=="selectionchange"&&(v2.has(n)||Af(n,!1,t),Af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uc]||(e[Uc]=!0,Af("selectionchange",!1,e))}}function aC(t,e,n,r){switch(Hx(e)){case 1:var i=OO;break;case 4:i=PO;break;default:i=Lg}n=i.bind(null,e,n,t),i=void 0,!Wp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Df(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Rx(function(){var c=s,u=Pg(n),h=[];e:{var f=sC.get(t);if(f!==void 0){var p=$g,g=t;switch(t){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":p=KO;break;case"focusin":g="focus",p=kf;break;case"focusout":g="blur",p=kf;break;case"beforeblur":case"afterblur":p=kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QO;break;case tC:case nC:case rC:p=$O;break;case iC:p=JO;break;case"scroll":p=AO;break;case"wheel":p=e2;break;case"copy":case"cut":case"paste":p=jO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=X0}var m=(e&4)!==0,w=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var y=c,x;y!==null;){x=y;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,v!==null&&(C=sl(y,v),C!=null&&m.push(dl(y,C,x)))),w)break;y=y.return}0<m.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Up&&(g=n.relatedTarget||n.fromElement)&&(zi(g)||g[mr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?zi(g):null,g!==null&&(w=ms(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=Y0,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=X0,C="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?f:Ls(p),x=g==null?f:Ls(g),f=new m(C,y+"leave",p,n,u),f.target=w,f.relatedTarget=x,C=null,zi(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=x,m.relatedTarget=w,C=m),w=C,p&&g)t:{for(m=p,v=g,y=0,x=m;x;x=xs(x))y++;for(x=0,C=v;C;C=xs(C))x++;for(;0<y-x;)m=xs(m),y--;for(;0<x-y;)v=xs(v),x--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=xs(m),v=xs(v)}m=null}else m=null;p!==null&&lw(h,f,p,m,!1),g!==null&&w!==null&&lw(h,w,g,m,!0)}}e:{if(f=c?Ls(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=a2;else if(ew(f))if(Qx)_=h2;else{_=c2;var S=l2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=u2);if(_&&(_=_(t,c))){Yx(h,_,n,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&$p(f,"number",f.value)}switch(S=c?Ls(c):window,t){case"focusin":(ew(S)||S.contentEditable==="true")&&(Ds=S,Qp=c,Fa=null);break;case"focusout":Fa=Qp=Ds=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,sw(h,n,u);break;case"selectionchange":if(p2)break;case"keydown":case"keyup":sw(h,n,u)}var T;if(jg)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else As?Kx(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(qx&&n.locale!=="ko"&&(As||k!=="onCompositionStart"?k==="onCompositionEnd"&&As&&(T=Wx()):(zr=u,Fg="value"in zr?zr.value:zr.textContent,As=!0)),S=oh(c,k),0<S.length&&(k=new Q0(k,t,null,n,u),h.push({event:k,listeners:S}),T?k.data=T:(T=Gx(n),T!==null&&(k.data=T)))),(T=n2?r2(t,n):i2(t,n))&&(c=oh(c,"onBeforeInput"),0<c.length&&(u=new Q0("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}oC(h,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sl(t,n),s!=null&&r.unshift(dl(t,s,i)),s=sl(t,e),s!=null&&r.push(dl(t,s,i))),t=t.return}return r}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=sl(n,s),l!=null&&o.unshift(dl(n,l,a))):i||(l=sl(n,s),l!=null&&o.push(dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y2=/\r\n?/g,w2=/\u0000|\uFFFD/g;function cw(t){return(typeof t=="string"?t:""+t).replace(y2,`
`).replace(w2,"")}function Hc(t,e,n){if(e=cw(e),cw(t)!==e&&n)throw Error(F(425))}function ah(){}var Jp=null,Zp=null;function em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tm=typeof setTimeout=="function"?setTimeout:void 0,b2=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(t){return uw.resolve(null).then(t).catch(x2)}:tm;function x2(t){setTimeout(function(){throw t})}function Mf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ll(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ll(e)}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Mo,fl="__reactProps$"+Mo,mr="__reactContainer$"+Mo,nm="__reactEvents$"+Mo,C2="__reactListeners$"+Mo,_2="__reactHandles$"+Mo;function zi(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mr]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hw(t);t!==null;){if(n=t[Fn])return n;t=hw(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[Fn]||t[mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function pd(t){return t[fl]||null}var rm=[],Fs=-1;function mi(t){return{current:t}}function Te(t){0>Fs||(t.current=rm[Fs],rm[Fs]=null,Fs--)}function xe(t,e){Fs++,rm[Fs]=t.current,t.current=e}var li={},xt=mi(li),Ft=mi(!1),Ji=li;function co(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function lh(){Te(Ft),Te(xt)}function dw(t,e,n){if(xt.current!==li)throw Error(F(168));xe(xt,e),xe(Ft,n)}function lC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,lO(t)||"Unknown",i));return Me({},n,r)}function ch(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,Ji=xt.current,xe(xt,t),xe(Ft,Ft.current),!0}function fw(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=lC(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,Te(Ft),Te(xt),xe(xt,t)):Te(Ft),xe(Ft,n)}var nr=null,md=!1,Lf=!1;function cC(t){nr===null?nr=[t]:nr.push(t)}function S2(t){md=!0,cC(t)}function gi(){if(!Lf&&nr!==null){Lf=!0;var t=0,e=ye;try{var n=nr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,md=!1}catch(i){throw nr!==null&&(nr=nr.slice(t+1)),Dx(Ag,gi),i}finally{ye=e,Lf=!1}}return null}var $s=[],zs=0,uh=null,hh=0,en=[],tn=0,Zi=null,ir=1,sr="";function Ri(t,e){$s[zs++]=hh,$s[zs++]=uh,uh=t,hh=e}function uC(t,e,n){en[tn++]=ir,en[tn++]=sr,en[tn++]=Zi,Zi=t;var r=ir;t=sr;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ir=1<<32-_n(e)+i|n<<i|r,sr=s+t}else ir=1<<s|n<<i|r,sr=t}function Bg(t){t.return!==null&&(Ri(t,1),uC(t,1,0))}function Ug(t){for(;t===uh;)uh=$s[--zs],$s[zs]=null,hh=$s[--zs],$s[zs]=null;for(;t===Zi;)Zi=en[--tn],en[tn]=null,sr=en[--tn],en[tn]=null,ir=en[--tn],en[tn]=null}var Kt=null,Wt=null,Ie=!1,xn=null;function hC(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Wt=Qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zi!==null?{id:ir,overflow:sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,Wt=null,!0):!1;default:return!1}}function im(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sm(t){if(Ie){var e=Wt;if(e){var n=e;if(!pw(t,e)){if(im(t))throw Error(F(418));e=Qr(n.nextSibling);var r=Kt;e&&pw(t,e)?hC(r,n):(t.flags=t.flags&-4097|2,Ie=!1,Kt=t)}}else{if(im(t))throw Error(F(418));t.flags=t.flags&-4097|2,Ie=!1,Kt=t}}}function mw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function Wc(t){if(t!==Kt)return!1;if(!Ie)return mw(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!em(t.type,t.memoizedProps)),e&&(e=Wt)){if(im(t))throw dC(),Error(F(418));for(;e;)hC(t,e),e=Qr(e.nextSibling)}if(mw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Kt?Qr(t.stateNode.nextSibling):null;return!0}function dC(){for(var t=Wt;t;)t=Qr(t.nextSibling)}function uo(){Wt=Kt=null,Ie=!1}function Hg(t){xn===null?xn=[t]:xn.push(t)}var T2=_r.ReactCurrentBatchConfig;function ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function qc(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gw(t){var e=t._init;return e(t._payload)}function fC(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=ei(v,y),v.index=0,v.sibling=null,v}function s(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,C){return y===null||y.tag!==6?(y=Uf(x,v.mode,C),y.return=v,y):(y=i(y,x),y.return=v,y)}function l(v,y,x,C){var _=x.type;return _===Ps?u(v,y,x.props.children,C,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Or&&gw(_)===y.type)?(C=i(y,x.props),C.ref=ia(v,y,x),C.return=v,C):(C=Lu(x.type,x.key,x.props,null,v.mode,C),C.ref=ia(v,y,x),C.return=v,C)}function c(v,y,x,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Hf(x,v.mode,C),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function u(v,y,x,C,_){return y===null||y.tag!==7?(y=Ki(x,v.mode,C,_),y.return=v,y):(y=i(y,x),y.return=v,y)}function h(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Uf(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mc:return x=Lu(y.type,y.key,y.props,null,v.mode,x),x.ref=ia(v,null,y),x.return=v,x;case Os:return y=Hf(y,v.mode,x),y.return=v,y;case Or:var C=y._init;return h(v,C(y._payload),x)}if(va(y)||Zo(y))return y=Ki(y,v.mode,x,null),y.return=v,y;qc(v,y)}return null}function f(v,y,x,C){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(v,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Mc:return x.key===_?l(v,y,x,C):null;case Os:return x.key===_?c(v,y,x,C):null;case Or:return _=x._init,f(v,y,_(x._payload),C)}if(va(x)||Zo(x))return _!==null?null:u(v,y,x,C,null);qc(v,x)}return null}function p(v,y,x,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(x)||null,a(y,v,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Mc:return v=v.get(C.key===null?x:C.key)||null,l(y,v,C,_);case Os:return v=v.get(C.key===null?x:C.key)||null,c(y,v,C,_);case Or:var S=C._init;return p(v,y,x,S(C._payload),_)}if(va(C)||Zo(C))return v=v.get(x)||null,u(y,v,C,_,null);qc(y,C)}return null}function g(v,y,x,C){for(var _=null,S=null,T=y,k=y=0,I=null;T!==null&&k<x.length;k++){T.index>k?(I=T,T=null):I=T.sibling;var R=f(v,T,x[k],C);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(v,T),y=s(R,y,k),S===null?_=R:S.sibling=R,S=R,T=I}if(k===x.length)return n(v,T),Ie&&Ri(v,k),_;if(T===null){for(;k<x.length;k++)T=h(v,x[k],C),T!==null&&(y=s(T,y,k),S===null?_=T:S.sibling=T,S=T);return Ie&&Ri(v,k),_}for(T=r(v,T);k<x.length;k++)I=p(T,v,k,x[k],C),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?k:I.key),y=s(I,y,k),S===null?_=I:S.sibling=I,S=I);return t&&T.forEach(function(A){return e(v,A)}),Ie&&Ri(v,k),_}function m(v,y,x,C){var _=Zo(x);if(typeof _!="function")throw Error(F(150));if(x=_.call(x),x==null)throw Error(F(151));for(var S=_=null,T=y,k=y=0,I=null,R=x.next();T!==null&&!R.done;k++,R=x.next()){T.index>k?(I=T,T=null):I=T.sibling;var A=f(v,T,R.value,C);if(A===null){T===null&&(T=I);break}t&&T&&A.alternate===null&&e(v,T),y=s(A,y,k),S===null?_=A:S.sibling=A,S=A,T=I}if(R.done)return n(v,T),Ie&&Ri(v,k),_;if(T===null){for(;!R.done;k++,R=x.next())R=h(v,R.value,C),R!==null&&(y=s(R,y,k),S===null?_=R:S.sibling=R,S=R);return Ie&&Ri(v,k),_}for(T=r(v,T);!R.done;k++,R=x.next())R=p(T,v,k,R.value,C),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?k:R.key),y=s(R,y,k),S===null?_=R:S.sibling=R,S=R);return t&&T.forEach(function(z){return e(v,z)}),Ie&&Ri(v,k),_}function w(v,y,x,C){if(typeof x=="object"&&x!==null&&x.type===Ps&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Mc:e:{for(var _=x.key,S=y;S!==null;){if(S.key===_){if(_=x.type,_===Ps){if(S.tag===7){n(v,S.sibling),y=i(S,x.props.children),y.return=v,v=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Or&&gw(_)===S.type){n(v,S.sibling),y=i(S,x.props),y.ref=ia(v,S,x),y.return=v,v=y;break e}n(v,S);break}else e(v,S);S=S.sibling}x.type===Ps?(y=Ki(x.props.children,v.mode,C,x.key),y.return=v,v=y):(C=Lu(x.type,x.key,x.props,null,v.mode,C),C.ref=ia(v,y,x),C.return=v,v=C)}return o(v);case Os:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Hf(x,v.mode,C),y.return=v,v=y}return o(v);case Or:return S=x._init,w(v,y,S(x._payload),C)}if(va(x))return g(v,y,x,C);if(Zo(x))return m(v,y,x,C);qc(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,x),y.return=v,v=y):(n(v,y),y=Uf(x,v.mode,C),y.return=v,v=y),o(v)):n(v,y)}return w}var ho=fC(!0),pC=fC(!1),dh=mi(null),fh=null,js=null,Wg=null;function qg(){Wg=js=fh=null}function Kg(t){var e=dh.current;Te(dh),t._currentValue=e}function om(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){fh=t,Wg=js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Wg!==t)if(t={context:t,memoizedValue:e,next:null},js===null){if(fh===null)throw Error(F(308));js=t,fh.dependencies={lanes:0,firstContext:t}}else js=js.next=t;return e}var ji=null;function Gg(t){ji===null?ji=[t]:ji.push(t)}function mC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gg(e)):(n.next=i.next,i.next=n),e.interleaved=n,gr(t,r)}function gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Yg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gr(t,n)}return i=r.interleaved,i===null?(e.next=e,Gg(r)):(e.next=i.next,i.next=e),r.interleaved=e,gr(t,n)}function Ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dg(t,n)}}function vw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ph(t,e,n,r){var i=t.updateQueue;Pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Me({},h,f);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ts|=o,t.lanes=o,t.memoizedState=h}}function yw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Jl={},Bn=mi(Jl),pl=mi(Jl),ml=mi(Jl);function Vi(t){if(t===Jl)throw Error(F(174));return t}function Qg(t,e){switch(xe(ml,e),xe(pl,t),xe(Bn,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jp(e,t)}Te(Bn),xe(Bn,e)}function fo(){Te(Bn),Te(pl),Te(ml)}function vC(t){Vi(ml.current);var e=Vi(Bn.current),n=jp(e,t.type);e!==n&&(xe(pl,t),xe(Bn,n))}function Xg(t){pl.current===t&&(Te(Bn),Te(pl))}var Pe=mi(0);function mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ff=[];function Jg(){for(var t=0;t<Ff.length;t++)Ff[t]._workInProgressVersionPrimary=null;Ff.length=0}var Ou=_r.ReactCurrentDispatcher,$f=_r.ReactCurrentBatchConfig,es=0,De=null,Ge=null,et=null,gh=!1,$a=!1,gl=0,k2=0;function ht(){throw Error(F(321))}function Zg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function ev(t,e,n,r,i,s){if(es=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ou.current=t===null||t.memoizedState===null?O2:P2,t=n(r,i),$a){s=0;do{if($a=!1,gl=0,25<=s)throw Error(F(301));s+=1,et=Ge=null,e.updateQueue=null,Ou.current=A2,t=n(r,i)}while($a)}if(Ou.current=vh,e=Ge!==null&&Ge.next!==null,es=0,et=Ge=De=null,gh=!1,e)throw Error(F(300));return t}function tv(){var t=gl!==0;return gl=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?De.memoizedState=et=t:et=et.next=t,et}function dn(){if(Ge===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=et===null?De.memoizedState:et.next;if(e!==null)et=e,Ge=t;else{if(t===null)throw Error(F(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},et===null?De.memoizedState=et=t:et=et.next=t}return et}function vl(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=dn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ge,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((es&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,De.lanes|=u,ts|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Tn(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,De.lanes|=s,ts|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jf(t){var e=dn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tn(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yC(){}function wC(t,e){var n=De,r=dn(),i=e(),s=!Tn(r.memoizedState,i);if(s&&(r.memoizedState=i,Lt=!0),r=r.queue,nv(xC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,yl(9,EC.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(F(349));es&30||bC(n,e,i)}return i}function bC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EC(t,e,n,r){e.value=n,e.getSnapshot=r,CC(e)&&_C(t)}function xC(t,e,n){return n(function(){CC(e)&&_C(t)})}function CC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function _C(t){var e=gr(t,1);e!==null&&Sn(e,t,1,-1)}function ww(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:t},e.queue=t,t=t.dispatch=R2.bind(null,De,t),[e.memoizedState,t]}function yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SC(){return dn().memoizedState}function Pu(t,e,n,r){var i=Mn();De.flags|=t,i.memoizedState=yl(1|e,n,void 0,r===void 0?null:r)}function gd(t,e,n,r){var i=dn();r=r===void 0?null:r;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,r!==null&&Zg(r,o.deps)){i.memoizedState=yl(e,n,s,r);return}}De.flags|=t,i.memoizedState=yl(1|e,n,s,r)}function bw(t,e){return Pu(8390656,8,t,e)}function nv(t,e){return gd(2048,8,t,e)}function TC(t,e){return gd(4,2,t,e)}function kC(t,e){return gd(4,4,t,e)}function NC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IC(t,e,n){return n=n!=null?n.concat([t]):null,gd(4,4,NC.bind(null,e,t),n)}function rv(){}function RC(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OC(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PC(t,e,n){return es&21?(Tn(n,e)||(n=Fx(),De.lanes|=n,ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function N2(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=$f.transition;$f.transition={};try{t(!1),e()}finally{ye=n,$f.transition=r}}function AC(){return dn().memoizedState}function I2(t,e,n){var r=Zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DC(t))MC(e,n);else if(n=mC(t,e,n,r),n!==null){var i=It();Sn(n,t,r,i),LC(n,e,r)}}function R2(t,e,n){var r=Zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DC(t))MC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,o)){var l=e.interleaved;l===null?(i.next=i,Gg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=mC(t,e,i,r),n!==null&&(i=It(),Sn(n,t,r,i),LC(n,e,r))}}function DC(t){var e=t.alternate;return t===De||e!==null&&e===De}function MC(t,e){$a=gh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dg(t,n)}}var vh={readContext:hn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},O2={readContext:hn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:bw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pu(4194308,4,NC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pu(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=I2.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:ww,useDebugValue:rv,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=ww(!1),e=t[0];return t=N2.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,i=Mn();if(Ie){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),nt===null)throw Error(F(349));es&30||bC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bw(xC.bind(null,r,s,t),[t]),r.flags|=2048,yl(9,EC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mn(),e=nt.identifierPrefix;if(Ie){var n=sr,r=ir;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=k2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},P2={readContext:hn,useCallback:RC,useContext:hn,useEffect:nv,useImperativeHandle:IC,useInsertionEffect:TC,useLayoutEffect:kC,useMemo:OC,useReducer:zf,useRef:SC,useState:function(){return zf(vl)},useDebugValue:rv,useDeferredValue:function(t){var e=dn();return PC(e,Ge.memoizedState,t)},useTransition:function(){var t=zf(vl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:yC,useSyncExternalStore:wC,useId:AC,unstable_isNewReconciler:!1},A2={readContext:hn,useCallback:RC,useContext:hn,useEffect:nv,useImperativeHandle:IC,useInsertionEffect:TC,useLayoutEffect:kC,useMemo:OC,useReducer:jf,useRef:SC,useState:function(){return jf(vl)},useDebugValue:rv,useDeferredValue:function(t){var e=dn();return Ge===null?e.memoizedState=t:PC(e,Ge.memoizedState,t)},useTransition:function(){var t=jf(vl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:yC,useSyncExternalStore:wC,useId:AC,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vd={isMounted:function(t){return(t=t._reactInternals)?ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),i=Zr(t),s=hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&(Sn(e,t,i,r),Ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),i=Zr(t),s=hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&(Sn(e,t,i,r),Ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=Zr(t),i=hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xr(t,i,r),e!==null&&(Sn(e,t,r,n),Ru(e,t,r))}};function Ew(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ul(n,r)||!ul(i,s):!0}function FC(t,e,n){var r=!1,i=li,s=e.contextType;return typeof s=="object"&&s!==null?s=hn(s):(i=$t(e)?Ji:xt.current,r=e.contextTypes,s=(r=r!=null)?co(t,i):li),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vd.enqueueReplaceState(e,e.state,null)}function lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hn(s):(s=$t(e)?Ji:xt.current,i.context=co(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(am(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vd.enqueueReplaceState(i,i.state,null),ph(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,e){try{var n="",r=e;do n+=aO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var D2=typeof WeakMap=="function"?WeakMap:Map;function $C(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wh||(wh=!0,wm=r),cm(t,e)},n}function zC(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cm(t,e),typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new D2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=G2.bind(null,t,e,n),e.then(t,t))}function _w(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var M2=_r.ReactCurrentOwner,Lt=!1;function kt(t,e,n,r){e.child=t===null?pC(e,null,n,r):ho(e,t.child,n,r)}function Tw(t,e,n,r,i){n=n.render;var s=e.ref;return Qs(e,i),r=ev(t,e,n,r,s,i),n=tv(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Ie&&n&&Bg(e),e.flags|=1,kt(t,e,r,i),e.child)}function kw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jC(t,e,s,r,i)):(t=Lu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(o,r)&&t.ref===e.ref)return vr(t,e,i)}return e.flags|=1,t=ei(s,r),t.ref=e.ref,t.return=e,e.child=t}function jC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ul(s,r)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,vr(t,e,i)}return um(t,e,n,r,i)}function VC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Bs,Ht),Ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(Bs,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(Bs,Ht),Ht|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xe(Bs,Ht),Ht|=r;return kt(t,e,i,n),e.child}function BC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function um(t,e,n,r,i){var s=$t(n)?Ji:xt.current;return s=co(e,s),Qs(e,i),n=ev(t,e,n,r,s,i),r=tv(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Ie&&r&&Bg(e),e.flags|=1,kt(t,e,n,i),e.child)}function Nw(t,e,n,r,i){if($t(n)){var s=!0;ch(e)}else s=!1;if(Qs(e,i),e.stateNode===null)Au(t,e),FC(e,n,r),lm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=$t(n)?Ji:xt.current,c=co(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xw(e,o,r,c),Pr=!1;var f=e.memoizedState;o.state=f,ph(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ft.current||Pr?(typeof u=="function"&&(am(e,n,u,r),l=e.memoizedState),(a=Pr||Ew(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=$t(n)?Ji:xt.current,l=co(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&xw(e,o,r,l),Pr=!1,f=e.memoizedState,o.state=f,ph(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||Ft.current||Pr?(typeof p=="function"&&(am(e,n,p,r),g=e.memoizedState),(c=Pr||Ew(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return hm(t,e,n,r,s,i)}function hm(t,e,n,r,i,s){BC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fw(e,n,!1),vr(t,e,s);r=e.stateNode,M2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ho(e,t.child,null,s),e.child=ho(e,null,a,s)):kt(t,e,a,s),e.memoizedState=r.state,i&&fw(e,n,!0),e.child}function UC(t){var e=t.stateNode;e.pendingContext?dw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dw(t,e.context,!1),Qg(t,e.containerInfo)}function Iw(t,e,n,r,i){return uo(),Hg(i),e.flags|=256,kt(t,e,n,r),e.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function HC(t,e,n){var r=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Pe,i&1),t===null)return sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=bd(o,r,0,null),t=Ki(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fm(n),e.memoizedState=dm,t):iv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return L2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ei(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ei(a,s):(s=Ki(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dm,r}return s=t.child,t=s.sibling,r=ei(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iv(t,e){return e=bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kc(t,e,n,r){return r!==null&&Hg(r),ho(e,t.child,null,n),t=iv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vf(Error(F(422))),Kc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=bd({mode:"visible",children:r.children},i,0,null),s=Ki(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ho(e,t.child,null,o),e.child.memoizedState=fm(o),e.memoizedState=dm,s);if(!(e.mode&1))return Kc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Vf(s,r,void 0),Kc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Lt||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gr(t,i),Sn(r,t,i,-1))}return uv(),r=Vf(Error(F(421))),Kc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wt=Qr(i.nextSibling),Kt=e,Ie=!0,xn=null,t!==null&&(en[tn++]=ir,en[tn++]=sr,en[tn++]=Zi,ir=t.id,sr=t.overflow,Zi=e),e=iv(e,r.children),e.flags|=4096,e)}function Rw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),om(t.return,e,n)}function Bf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rw(t,n,e);else if(t.tag===19)Rw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bf(e,!0,n,null,s);break;case"together":Bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F2(t,e,n){switch(e.tag){case 3:UC(e),uo();break;case 5:vC(e);break;case 1:$t(e.type)&&ch(e);break;case 4:Qg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(dh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?HC(t,e,n):(xe(Pe,Pe.current&1),t=vr(t,e,n),t!==null?t.sibling:null);xe(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,VC(t,e,n)}return vr(t,e,n)}var qC,pm,KC,GC;qC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pm=function(){};KC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vi(Bn.current);var s=null;switch(n){case"input":i=Lp(t,i),r=Lp(t,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=zp(t,i),r=zp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ah)}Vp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};GC=function(t,e,n,r){n!==r&&(e.flags|=4)};function sa(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $2(t,e,n){var r=e.pendingProps;switch(Ug(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return $t(e.type)&&lh(),dt(e),null;case 3:return r=e.stateNode,fo(),Te(Ft),Te(xt),Jg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(xm(xn),xn=null))),pm(t,e),dt(e),null;case 5:Xg(e);var i=Vi(ml.current);if(n=e.type,t!==null&&e.stateNode!=null)KC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return dt(e),null}if(t=Vi(Bn.current),Wc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[fl]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<wa.length;i++)Ce(wa[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":z0(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":V0(r,s),Ce("invalid",r)}Vp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hc(r.textContent,a,t),i=["children",""+a]):rl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Lc(r),j0(r,s,!0);break;case"textarea":Lc(r),B0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ah)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[fl]=r,qC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bp(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<wa.length;i++)Ce(wa[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":z0(t,r),i=Lp(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":V0(t,r),i=zp(t,r),Ce("invalid",t);break;default:i=r}Vp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Sx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&il(t,l):typeof l=="number"&&il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",t):l!=null&&Ng(t,s,l,o))}switch(n){case"input":Lc(t),j0(t,r,!1);break;case"textarea":Lc(t),B0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ai(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qs(t,!!r.multiple,s,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ah)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)GC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Vi(ml.current),Vi(Bn.current),Wc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:Hc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return dt(e),null;case 13:if(Te(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Wt!==null&&e.mode&1&&!(e.flags&128))dC(),uo(),e.flags|=98560,s=!1;else if(s=Wc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Fn]=e}else uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),s=!1}else xn!==null&&(xm(xn),xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Ye===0&&(Ye=3):uv())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return fo(),pm(t,e),t===null&&hl(e.stateNode.containerInfo),dt(e),null;case 10:return Kg(e.type._context),dt(e),null;case 17:return $t(e.type)&&lh(),dt(e),null;case 19:if(Te(Pe),s=e.memoizedState,s===null)return dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sa(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mh(t),o!==null){for(e.flags|=128,sa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>mo&&(e.flags|=128,r=!0,sa(s,!1),e.lanes=4194304)}else{if(!r)if(t=mh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ie)return dt(e),null}else 2*Ve()-s.renderingStartTime>mo&&n!==1073741824&&(e.flags|=128,r=!0,sa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=Pe.current,xe(Pe,r?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function z2(t,e){switch(Ug(e),e.tag){case 1:return $t(e.type)&&lh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fo(),Te(Ft),Te(xt),Jg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xg(e),null;case 13:if(Te(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Pe),null;case 4:return fo(),null;case 10:return Kg(e.type._context),null;case 22:case 23:return cv(),null;case 24:return null;default:return null}}var Gc=!1,gt=!1,j2=typeof WeakSet=="function"?WeakSet:Set,U=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function mm(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var Ow=!1;function V2(t,e){if(Jp=ih,t=Zx(),Vg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zp={focusedElem:t,selectionRange:n},ih=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:wn(e.type,m),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(C){Fe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return g=Ow,Ow=!1,g}function za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mm(e,n,s)}i=i.next}while(i!==r)}}function yd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YC(t){var e=t.alternate;e!==null&&(t.alternate=null,YC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[fl],delete e[nm],delete e[C2],delete e[_2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QC(t){return t.tag===5||t.tag===3||t.tag===4}function Pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ah));else if(r!==4&&(t=t.child,t!==null))for(vm(t,e,n),t=t.sibling;t!==null;)vm(t,e,n),t=t.sibling}function ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}var st=null,bn=!1;function Nr(t,e,n){for(n=n.child;n!==null;)XC(t,e,n),n=n.sibling}function XC(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(ud,n)}catch{}switch(n.tag){case 5:gt||Vs(n,e);case 6:var r=st,i=bn;st=null,Nr(t,e,n),st=r,bn=i,st!==null&&(bn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(bn?(t=st,n=n.stateNode,t.nodeType===8?Mf(t.parentNode,n):t.nodeType===1&&Mf(t,n),ll(t)):Mf(st,n.stateNode));break;case 4:r=st,i=bn,st=n.stateNode.containerInfo,bn=!0,Nr(t,e,n),st=r,bn=i;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mm(n,e,o),i=i.next}while(i!==r)}Nr(t,e,n);break;case 1:if(!gt&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,Nr(t,e,n),gt=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function Aw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new j2),e.forEach(function(r){var i=Q2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,bn=!1;break e;case 3:st=a.stateNode.containerInfo,bn=!0;break e;case 4:st=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(st===null)throw Error(F(160));XC(s,o,i),st=null,bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Fe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JC(e,t),e=e.sibling}function JC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Pn(t),r&4){try{za(3,t,t.return),yd(3,t)}catch(m){Fe(t,t.return,m)}try{za(5,t,t.return)}catch(m){Fe(t,t.return,m)}}break;case 1:yn(e,t),Pn(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(yn(e,t),Pn(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var i=t.stateNode;try{il(i,"")}catch(m){Fe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bx(i,s),Bp(a,o);var c=Bp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Sx(i,h):u==="dangerouslySetInnerHTML"?Cx(i,h):u==="children"?il(i,h):Ng(i,u,h,c)}switch(a){case"input":Fp(i,s);break;case"textarea":Ex(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?qs(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?qs(i,!!s.multiple,s.defaultValue,!0):qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[fl]=s}catch(m){Fe(t,t.return,m)}}break;case 6:if(yn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Fe(t,t.return,m)}}break;case 3:if(yn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(e.containerInfo)}catch(m){Fe(t,t.return,m)}break;case 4:yn(e,t),Pn(t);break;case 13:yn(e,t),Pn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(av=Ve())),r&4&&Aw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(c=gt)||u,yn(e,t),gt=c):yn(e,t),Pn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(U=t,u=t.child;u!==null;){for(h=U=u;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:za(4,f,f.return);break;case 1:Vs(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Fe(r,n,m)}}break;case 5:Vs(f,f.return);break;case 22:if(f.memoizedState!==null){Mw(h);continue}}p!==null?(p.return=f,U=p):Mw(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_x("display",o))}catch(m){Fe(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Fe(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(e,t),Pn(t),r&4&&Aw(t);break;case 21:break;default:yn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QC(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(il(i,""),r.flags&=-33);var s=Pw(t);ym(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Pw(t);vm(t,a,o);break;default:throw Error(F(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B2(t,e,n){U=t,ZC(t)}function ZC(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gt;a=Gc;var c=gt;if(Gc=o,(gt=l)&&!c)for(U=i;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?Lw(i):l!==null?(l.return=o,U=l):Lw(i);for(;s!==null;)U=s,ZC(s),s=s.sibling;U=i,Gc=a,gt=c}Dw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,U=s):Dw(t)}}function Dw(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||yd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ll(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}gt||e.flags&512&&gm(e)}catch(f){Fe(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Mw(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function Lw(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yd(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var s=e.return;try{gm(e)}catch(l){Fe(e,s,l)}break;case 5:var o=e.return;try{gm(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var U2=Math.ceil,yh=_r.ReactCurrentDispatcher,sv=_r.ReactCurrentOwner,ln=_r.ReactCurrentBatchConfig,he=0,nt=null,We=null,lt=0,Ht=0,Bs=mi(0),Ye=0,wl=null,ts=0,wd=0,ov=0,ja=null,Dt=null,av=0,mo=1/0,tr=null,wh=!1,wm=null,Jr=null,Yc=!1,jr=null,bh=0,Va=0,bm=null,Du=-1,Mu=0;function It(){return he&6?Ve():Du!==-1?Du:Du=Ve()}function Zr(t){return t.mode&1?he&2&&lt!==0?lt&-lt:T2.transition!==null?(Mu===0&&(Mu=Fx()),Mu):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Hx(t.type)),t):1}function Sn(t,e,n,r){if(50<Va)throw Va=0,bm=null,Error(F(185));Yl(t,n,r),(!(he&2)||t!==nt)&&(t===nt&&(!(he&2)&&(wd|=n),Ye===4&&Dr(t,lt)),zt(t,r),n===1&&he===0&&!(e.mode&1)&&(mo=Ve()+500,md&&gi()))}function zt(t,e){var n=t.callbackNode;TO(t,e);var r=rh(t,t===nt?lt:0);if(r===0)n!==null&&W0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&W0(n),e===1)t.tag===0?S2(Fw.bind(null,t)):cC(Fw.bind(null,t)),E2(function(){!(he&6)&&gi()}),n=null;else{switch($x(r)){case 1:n=Ag;break;case 4:n=Mx;break;case 16:n=nh;break;case 536870912:n=Lx;break;default:n=nh}n=a_(n,e_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function e_(t,e){if(Du=-1,Mu=0,he&6)throw Error(F(327));var n=t.callbackNode;if(Xs()&&t.callbackNode!==n)return null;var r=rh(t,t===nt?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eh(t,r);else{e=r;var i=he;he|=2;var s=n_();(nt!==t||lt!==e)&&(tr=null,mo=Ve()+500,qi(t,e));do try{q2();break}catch(a){t_(t,a)}while(1);qg(),yh.current=s,he=i,We!==null?e=0:(nt=null,lt=0,e=Ye)}if(e!==0){if(e===2&&(i=Kp(t),i!==0&&(r=i,e=Em(t,i))),e===1)throw n=wl,qi(t,0),Dr(t,r),zt(t,Ve()),n;if(e===6)Dr(t,r);else{if(i=t.current.alternate,!(r&30)&&!H2(i)&&(e=Eh(t,r),e===2&&(s=Kp(t),s!==0&&(r=s,e=Em(t,s))),e===1))throw n=wl,qi(t,0),Dr(t,r),zt(t,Ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Oi(t,Dt,tr);break;case 3:if(Dr(t,r),(r&130023424)===r&&(e=av+500-Ve(),10<e)){if(rh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tm(Oi.bind(null,t,Dt,tr),e);break}Oi(t,Dt,tr);break;case 4:if(Dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U2(r/1960))-r,10<r){t.timeoutHandle=tm(Oi.bind(null,t,Dt,tr),r);break}Oi(t,Dt,tr);break;case 5:Oi(t,Dt,tr);break;default:throw Error(F(329))}}}return zt(t,Ve()),t.callbackNode===n?e_.bind(null,t):null}function Em(t,e){var n=ja;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=Eh(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&xm(e)),t}function xm(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function H2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dr(t,e){for(e&=~ov,e&=~wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function Fw(t){if(he&6)throw Error(F(327));Xs();var e=rh(t,0);if(!(e&1))return zt(t,Ve()),null;var n=Eh(t,e);if(t.tag!==0&&n===2){var r=Kp(t);r!==0&&(e=r,n=Em(t,r))}if(n===1)throw n=wl,qi(t,0),Dr(t,e),zt(t,Ve()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,Dt,tr),zt(t,Ve()),null}function lv(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(mo=Ve()+500,md&&gi())}}function ns(t){jr!==null&&jr.tag===0&&!(he&6)&&Xs();var e=he;he|=1;var n=ln.transition,r=ye;try{if(ln.transition=null,ye=1,t)return t()}finally{ye=r,ln.transition=n,he=e,!(he&6)&&gi()}}function cv(){Ht=Bs.current,Te(Bs)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,b2(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Ug(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lh();break;case 3:fo(),Te(Ft),Te(xt),Jg();break;case 5:Xg(r);break;case 4:fo();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:Kg(r.type._context);break;case 22:case 23:cv()}n=n.return}if(nt=t,We=t=ei(t.current,null),lt=Ht=e,Ye=0,wl=null,ov=wd=ts=0,Dt=ja=null,ji!==null){for(e=0;e<ji.length;e++)if(n=ji[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ji=null}return t}function t_(t,e){do{var n=We;try{if(qg(),Ou.current=vh,gh){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gh=!1}if(es=0,et=Ge=De=null,$a=!1,gl=0,sv.current=null,n===null||n.return===null){Ye=1,wl=e,We=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=_w(o);if(p!==null){p.flags&=-257,Sw(p,o,a,s,e),p.mode&1&&Cw(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Cw(s,c,e),uv();break e}l=Error(F(426))}}else if(Ie&&a.mode&1){var w=_w(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Sw(w,o,a,s,e),Hg(po(l,a));break e}}s=l=po(l,a),Ye!==4&&(Ye=2),ja===null?ja=[s]:ja.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=$C(s,l,e);vw(s,v);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jr===null||!Jr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=zC(s,a,e);vw(s,C);break e}}s=s.return}while(s!==null)}i_(n)}catch(_){e=_,We===n&&n!==null&&(We=n=n.return);continue}break}while(1)}function n_(){var t=yh.current;return yh.current=vh,t===null?vh:t}function uv(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),nt===null||!(ts&268435455)&&!(wd&268435455)||Dr(nt,lt)}function Eh(t,e){var n=he;he|=2;var r=n_();(nt!==t||lt!==e)&&(tr=null,qi(t,e));do try{W2();break}catch(i){t_(t,i)}while(1);if(qg(),he=n,yh.current=r,We!==null)throw Error(F(261));return nt=null,lt=0,Ye}function W2(){for(;We!==null;)r_(We)}function q2(){for(;We!==null&&!vO();)r_(We)}function r_(t){var e=o_(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?i_(t):We=e,sv.current=null}function i_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z2(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,We=null;return}}else if(n=$2(n,e,Ht),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Ye===0&&(Ye=5)}function Oi(t,e,n){var r=ye,i=ln.transition;try{ln.transition=null,ye=1,K2(t,e,n,r)}finally{ln.transition=i,ye=r}return null}function K2(t,e,n,r){do Xs();while(jr!==null);if(he&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kO(t,s),t===nt&&(We=nt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yc||(Yc=!0,a_(nh,function(){return Xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=ye;ye=1;var a=he;he|=4,sv.current=null,V2(t,n),JC(n,t),f2(Zp),ih=!!Jp,Zp=Jp=null,t.current=n,B2(n),yO(),he=a,ye=o,ln.transition=s}else t.current=n;if(Yc&&(Yc=!1,jr=t,bh=i),s=t.pendingLanes,s===0&&(Jr=null),EO(n.stateNode),zt(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wh)throw wh=!1,t=wm,wm=null,t;return bh&1&&t.tag!==0&&Xs(),s=t.pendingLanes,s&1?t===bm?Va++:(Va=0,bm=t):Va=0,gi(),null}function Xs(){if(jr!==null){var t=$x(bh),e=ln.transition,n=ye;try{if(ln.transition=null,ye=16>t?16:t,jr===null)var r=!1;else{if(t=jr,jr=null,bh=0,he&6)throw Error(F(331));var i=he;for(he|=4,U=t.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:za(8,u,s)}var h=u.child;if(h!==null)h.return=u,U=h;else for(;U!==null;){u=U;var f=u.sibling,p=u.return;if(YC(u),u===c){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:za(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,U=v;break e}U=s.return}}var y=t.current;for(U=y;U!==null;){o=U;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,U=x;else e:for(o=y;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yd(9,a)}}catch(_){Fe(a,a.return,_)}if(a===o){U=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,U=C;break e}U=a.return}}if(he=i,gi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(ud,t)}catch{}r=!0}return r}finally{ye=n,ln.transition=e}}return!1}function $w(t,e,n){e=po(n,e),e=$C(t,e,1),t=Xr(t,e,1),e=It(),t!==null&&(Yl(t,1,e),zt(t,e))}function Fe(t,e,n){if(t.tag===3)$w(t,t,n);else for(;e!==null;){if(e.tag===3){$w(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){t=po(n,t),t=zC(e,t,1),e=Xr(e,t,1),t=It(),e!==null&&(Yl(e,1,t),zt(e,t));break}}e=e.return}}function G2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(lt&n)===n&&(Ye===4||Ye===3&&(lt&130023424)===lt&&500>Ve()-av?qi(t,0):ov|=n),zt(t,e)}function s_(t,e){e===0&&(t.mode&1?(e=zc,zc<<=1,!(zc&130023424)&&(zc=4194304)):e=1);var n=It();t=gr(t,e),t!==null&&(Yl(t,e,n),zt(t,n))}function Y2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),s_(t,n)}function Q2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),s_(t,n)}var o_;o_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,F2(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,Ie&&e.flags&1048576&&uC(e,hh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var i=co(e,xt.current);Qs(e,n),i=ev(null,e,r,t,i,n);var s=tv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(s=!0,ch(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yg(e),i.updater=vd,e.stateNode=i,i._reactInternals=e,lm(e,r,t,n),e=hm(null,e,r,!0,s,n)):(e.tag=0,Ie&&s&&Bg(e),kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=J2(r),t=wn(r,t),i){case 0:e=um(null,e,r,t,n);break e;case 1:e=Nw(null,e,r,t,n);break e;case 11:e=Tw(null,e,r,t,n);break e;case 14:e=kw(null,e,r,wn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),um(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Nw(t,e,r,i,n);case 3:e:{if(UC(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gC(t,e),ph(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=po(Error(F(423)),e),e=Iw(t,e,r,n,i);break e}else if(r!==i){i=po(Error(F(424)),e),e=Iw(t,e,r,n,i);break e}else for(Wt=Qr(e.stateNode.containerInfo.firstChild),Kt=e,Ie=!0,xn=null,n=pC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),r===i){e=vr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return vC(e),t===null&&sm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,em(r,i)?o=null:s!==null&&em(r,s)&&(e.flags|=32),BC(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&sm(e),null;case 13:return HC(t,e,n);case 4:return Qg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ho(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Tw(t,e,r,i,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(dh,r._currentValue),r._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!Ft.current){e=vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),om(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),om(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qs(e,n),i=hn(i),r=r(i),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),kw(t,e,r,i,n);case 15:return jC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Au(t,e),e.tag=1,$t(r)?(t=!0,ch(e)):t=!1,Qs(e,n),FC(e,r,i),lm(e,r,i,n),hm(null,e,r,!0,t,n);case 19:return WC(t,e,n);case 22:return VC(t,e,n)}throw Error(F(156,e.tag))};function a_(t,e){return Dx(t,e)}function X2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new X2(t,e,n,r)}function hv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J2(t){if(typeof t=="function")return hv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rg)return 11;if(t===Og)return 14}return 2}function ei(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")hv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ps:return Ki(n.children,i,s,e);case Ig:o=8,i|=8;break;case Pp:return t=sn(12,n,e,i|2),t.elementType=Pp,t.lanes=s,t;case Ap:return t=sn(13,n,e,i),t.elementType=Ap,t.lanes=s,t;case Dp:return t=sn(19,n,e,i),t.elementType=Dp,t.lanes=s,t;case vx:return bd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mx:o=10;break e;case gx:o=9;break e;case Rg:o=11;break e;case Og:o=14;break e;case Or:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ki(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function bd(t,e,n,r){return t=sn(22,t,r,e),t.elementType=vx,t.lanes=n,t.stateNode={isHidden:!1},t}function Uf(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function Hf(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dv(t,e,n,r,i,s,o,a,l){return t=new Z2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(s),t}function eP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function l_(t){if(!t)return li;t=t._reactInternals;e:{if(ms(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if($t(n))return lC(t,n,e)}return e}function c_(t,e,n,r,i,s,o,a,l){return t=dv(n,r,!0,t,i,s,o,a,l),t.context=l_(null),n=t.current,r=It(),i=Zr(n),s=hr(r,i),s.callback=e??null,Xr(n,s,i),t.current.lanes=i,Yl(t,i,r),zt(t,r),t}function Ed(t,e,n,r){var i=e.current,s=It(),o=Zr(i);return n=l_(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xr(i,e,o),t!==null&&(Sn(t,i,o,s),Ru(t,i,o)),o}function xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fv(t,e){zw(t,e),(t=t.alternate)&&zw(t,e)}function tP(){return null}var u_=typeof reportError=="function"?reportError:function(t){console.error(t)};function pv(t){this._internalRoot=t}xd.prototype.render=pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Ed(t,e,null,null)};xd.prototype.unmount=pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ns(function(){Ed(null,t,null,null)}),e[mr]=null}};function xd(t){this._internalRoot=t}xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ar.length&&e!==0&&e<Ar[n].priority;n++);Ar.splice(n,0,t),n===0&&Ux(t)}};function mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jw(){}function nP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=xh(o);s.call(c)}}var o=c_(e,r,t,0,null,!1,!1,"",jw);return t._reactRootContainer=o,t[mr]=o.current,hl(t.nodeType===8?t.parentNode:t),ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=xh(l);a.call(c)}}var l=dv(t,0,!1,null,null,!1,!1,"",jw);return t._reactRootContainer=l,t[mr]=l.current,hl(t.nodeType===8?t.parentNode:t),ns(function(){Ed(e,l,n,r)}),l}function _d(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xh(o);a.call(l)}}Ed(e,o,t,i)}else o=nP(n,e,t,i,r);return xh(o)}zx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ya(e.pendingLanes);n!==0&&(Dg(e,n|1),zt(e,Ve()),!(he&6)&&(mo=Ve()+500,gi()))}break;case 13:ns(function(){var r=gr(t,1);if(r!==null){var i=It();Sn(r,t,1,i)}}),fv(t,1)}};Mg=function(t){if(t.tag===13){var e=gr(t,134217728);if(e!==null){var n=It();Sn(e,t,134217728,n)}fv(t,134217728)}};jx=function(t){if(t.tag===13){var e=Zr(t),n=gr(t,e);if(n!==null){var r=It();Sn(n,t,e,r)}fv(t,e)}};Vx=function(){return ye};Bx=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Hp=function(t,e,n){switch(e){case"input":if(Fp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pd(r);if(!i)throw Error(F(90));wx(r),Fp(r,i)}}}break;case"textarea":Ex(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};Nx=lv;Ix=ns;var rP={usingClientEntryPoint:!1,Events:[Xl,Ls,pd,Tx,kx,lv]},oa={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iP={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Px(t),t===null?null:t.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||tP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{ud=Qc.inject(iP),Vn=Qc}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rP;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(e))throw Error(F(200));return eP(t,e,null,n)};Xt.createRoot=function(t,e){if(!mv(t))throw Error(F(299));var n=!1,r="",i=u_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dv(t,1,!1,null,null,n,!1,r,i),t[mr]=e.current,hl(t.nodeType===8?t.parentNode:t),new pv(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Px(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return ns(t)};Xt.hydrate=function(t,e,n){if(!Cd(e))throw Error(F(200));return _d(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!mv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=u_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=c_(e,null,t,1,n??null,i,!1,s,o),t[mr]=e.current,hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xd(e)};Xt.render=function(t,e,n){if(!Cd(e))throw Error(F(200));return _d(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!Cd(t))throw Error(F(40));return t._reactRootContainer?(ns(function(){_d(null,null,t,!1,function(){t._reactRootContainer=null,t[mr]=null})}),!0):!1};Xt.unstable_batchedUpdates=lv;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cd(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return _d(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function h_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h_)}catch(t){console.error(t)}}h_(),hx.exports=Xt;var Sd=hx.exports;const Xc=ZE(Sd);var Vw=Sd;Rp.createRoot=Vw.createRoot,Rp.hydrateRoot=Vw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}var Vr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vr||(Vr={}));const Bw="popstate";function sP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Cm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ch(i)}return aP(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function d_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oP(){return Math.random().toString(36).substr(2,8)}function Uw(t,e){return{usr:t.state,key:t.key,idx:e}}function Cm(t,e,n,r){return n===void 0&&(n=null),bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lo(e):e,{state:n,key:e&&e.key||r||oP()})}function Ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Vr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(bl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Vr.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:v})}function f(w,v){a=Vr.Push;let y=Cm(m.location,w,v);n&&n(y,w),c=u()+1;let x=Uw(y,c),C=m.createHref(y);try{o.pushState(x,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(C)}s&&l&&l({action:a,location:m.location,delta:1})}function p(w,v){a=Vr.Replace;let y=Cm(m.location,w,v);n&&n(y,w),c=u();let x=Uw(y,c),C=m.createHref(y);o.replaceState(x,"",C),s&&l&&l({action:a,location:m.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:Ch(w);return y=y.replace(/ $/,"%20"),Be(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Bw,h),l=w,()=>{i.removeEventListener(Bw,h),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(w){return o.go(w)}};return m}var Hw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hw||(Hw={}));function lP(t,e,n){return n===void 0&&(n="/"),cP(t,e,n,!1)}function cP(t,e,n,r){let i=typeof e=="string"?Lo(e):e,s=gv(i.pathname||"/",n);if(s==null)return null;let o=f_(t);uP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=EP(s);a=wP(o[l],c,r)}return a}function f_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ti([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),f_(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:vP(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of p_(s.path))i(s,o,l)}),e}function p_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=p_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hP=/^:[\w-]+$/,dP=3,fP=2,pP=1,mP=10,gP=-2,Ww=t=>t==="*";function vP(t,e){let n=t.split("/"),r=n.length;return n.some(Ww)&&(r+=gP),e&&(r+=fP),n.filter(i=>!Ww(i)).reduce((i,s)=>i+(hP.test(s)?dP:s===""?pP:mP),r)}function yP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=qw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=qw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ti([s,h.pathname]),pathnameBase:SP(ti([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ti([s,h.pathnameBase]))}return o}function qw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function bP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),d_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return d_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:CP(n,e):e,search:TP(r),hash:kP(i)}}function CP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _P(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vv(t,e){let n=_P(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Lo(t):(i=bl({},t),Be(!i.pathname||!i.pathname.includes("?"),Wf("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),Wf("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),Wf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=xP(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ti=t=>t.join("/").replace(/\/\/+/g,"/"),SP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const m_=["post","put","patch","delete"];new Set(m_);const IP=["get",...m_];new Set(IP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}const wv=b.createContext(null),RP=b.createContext(null),vi=b.createContext(null),Td=b.createContext(null),Sr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),g_=b.createContext(null);function OP(t,e){let{relative:n}=e===void 0?{}:e;Fo()||Be(!1);let{basename:r,navigator:i}=b.useContext(vi),{hash:s,pathname:o,search:a}=y_(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ti([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Fo(){return b.useContext(Td)!=null}function Zl(){return Fo()||Be(!1),b.useContext(Td).location}function v_(t){b.useContext(vi).static||b.useLayoutEffect(t)}function ec(){let{isDataRoute:t}=b.useContext(Sr);return t?qP():PP()}function PP(){Fo()||Be(!1);let t=b.useContext(wv),{basename:e,future:n,navigator:r}=b.useContext(vi),{matches:i}=b.useContext(Sr),{pathname:s}=Zl(),o=JSON.stringify(vv(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return v_(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=yv(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ti([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}const AP=b.createContext(null);function DP(t){let e=b.useContext(Sr).outlet;return e&&b.createElement(AP.Provider,{value:t},e)}function y_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(vi),{matches:i}=b.useContext(Sr),{pathname:s}=Zl(),o=JSON.stringify(vv(i,r.v7_relativeSplatPath));return b.useMemo(()=>yv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function MP(t,e){return LP(t,e)}function LP(t,e,n,r){Fo()||Be(!1);let{navigator:i}=b.useContext(vi),{matches:s}=b.useContext(Sr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Zl(),u;if(e){var h;let w=typeof e=="string"?Lo(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Be(!1),u=w}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=lP(t,{pathname:p}),m=VP(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ti([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ti([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&m?b.createElement(Td.Provider,{value:{location:El({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vr.Pop}},m):m}function FP(){let t=WP(),e=NP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}const $P=b.createElement(FP,null);class zP extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Sr.Provider,{value:this.props.routeContext},b.createElement(g_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jP(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(wv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Sr.Provider,{value:e},r)}function VP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Be(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,m=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||$P,l&&(c<0&&f===0?(KP("route-fallback",!1),g=!0,w=null):c===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),y=()=>{let x;return p?x=m:g?x=w:h.route.Component?x=b.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,b.createElement(jP,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(zP,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var w_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(w_||{}),_h=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_h||{});function BP(t){let e=b.useContext(wv);return e||Be(!1),e}function UP(t){let e=b.useContext(RP);return e||Be(!1),e}function HP(t){let e=b.useContext(Sr);return e||Be(!1),e}function b_(t){let e=HP(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function WP(){var t;let e=b.useContext(g_),n=UP(_h.UseRouteError),r=b_(_h.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qP(){let{router:t}=BP(w_.UseNavigateStable),e=b_(_h.UseNavigateStable),n=b.useRef(!1);return v_(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,El({fromRouteId:e},s)))},[t,e])}const Kw={};function KP(t,e,n){!e&&!Kw[t]&&(Kw[t]=!0)}function GP(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function _m(t){let{to:e,replace:n,state:r,relative:i}=t;Fo()||Be(!1);let{future:s,static:o}=b.useContext(vi),{matches:a}=b.useContext(Sr),{pathname:l}=Zl(),c=ec(),u=yv(e,vv(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return b.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function YP(t){return DP(t.context)}function An(t){Be(!1)}function QP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vr.Pop,navigator:s,static:o=!1,future:a}=t;Fo()&&Be(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:El({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Lo(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,m=b.useMemo(()=>{let w=gv(u,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:g},navigationType:i}},[l,u,h,f,p,g,i]);return m==null?null:b.createElement(vi.Provider,{value:c},b.createElement(Td.Provider,{children:n,value:m}))}function XP(t){let{children:e,location:n}=t;return MP(Sm(e),n)}new Promise(()=>{});function Sm(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Sm(r.props.children,s));return}r.type!==An&&Be(!1),!r.props.index||!r.props.children||Be(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}function JP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eA(t,e){return t.button===0&&(!e||e==="_self")&&!ZP(t)}const tA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nA="6";try{window.__reactRouterVersion=nA}catch{}const rA="startTransition",Gw=GR[rA];function iA(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=sP({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=b.useCallback(h=>{c&&Gw?Gw(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>GP(r),[r]),b.createElement(QP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const sA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aa=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=JP(e,tA),{basename:p}=b.useContext(vi),g,m=!1;if(typeof c=="string"&&oA.test(c)&&(g=c,sA))try{let x=new URL(window.location.href),C=c.startsWith("//")?new URL(x.protocol+c):new URL(c),_=gv(C.pathname,p);C.origin===x.origin&&_!=null?c=_+C.search+C.hash:m=!0}catch{}let w=OP(c,{relative:i}),v=aA(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function y(x){r&&r(x),x.defaultPrevented||v(x)}return b.createElement("a",Tm({},f,{href:g||w,onClick:m||s?r:y,ref:n,target:l}))});var Yw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yw||(Yw={}));var Qw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qw||(Qw={}));function aA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ec(),c=Zl(),u=y_(t,{relative:o});return b.useCallback(h=>{if(eA(h,n)){h.preventDefault();let f=r!==void 0?r:Ch(c)===Ch(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new cA;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(t){const e=E_(t);return x_.encodeByteArray(e,!0)},Sh=function(t){return uA(t).replace(/\./g,"")},C_=function(t){try{return x_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=()=>hA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C_(t[1]);return e&&JSON.parse(e)},bv=()=>{try{return dA()||fA()||pA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},__=t=>{var e,n;return(n=(e=bv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mA=t=>{const e=__(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S_=()=>{var t;return(t=bv())===null||t===void 0?void 0:t.config},T_=t=>{var e;return(e=bv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Sh(JSON.stringify(n)),Sh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function wA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EA(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_A,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?SA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Tr(i,a,r)}}function SA(t,e){return t.replace(TA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TA=/\{\$([^}]+)}/g;function kA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Th(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Xw(s)&&Xw(o)){if(!Th(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ba(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ea(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NA(t,e){const n=new IA(t,e);return n.subscribe.bind(n)}class IA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qf),i.error===void 0&&(i.error=qf),i.complete===void 0&&(i.complete=qf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AA(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PA(t){return t===Pi?void 0:t}function AA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const MA={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},LA=de.INFO,FA={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},$A=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ev{constructor(e){this.name=e,this._logLevel=LA,this._logHandler=$A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const zA=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function jA(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VA(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,km=new WeakMap,N_=new WeakMap,Kf=new WeakMap,xv=new WeakMap;function BA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&k_.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function UA(t){if(km.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});km.set(t,e)}let Nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HA(t){Nm=t(Nm)}function WA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gf(this),e,...n);return N_.set(r,e.sort?e.sort():[e]),ni(r)}:VA().includes(t)?function(...e){return t.apply(Gf(this),e),ni(k_.get(this))}:function(...e){return ni(t.apply(Gf(this),e))}}function qA(t){return typeof t=="function"?WA(t):(t instanceof IDBTransaction&&UA(t),zA(t,jA())?new Proxy(t,Nm):t)}function ni(t){if(t instanceof IDBRequest)return BA(t);if(Kf.has(t))return Kf.get(t);const e=qA(t);return e!==t&&(Kf.set(t,e),xv.set(e,t)),e}const Gf=t=>xv.get(t);function KA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ni(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ni(o.result),l.oldVersion,l.newVersion,ni(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const GA=["get","getKey","getAll","getAllKeys","count"],YA=["put","add","delete","clear"],Yf=new Map;function eb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yf.get(e))return Yf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Yf.set(e,s),s}HA(t=>({...t,get:(e,n,r)=>eb(e,n)||t.get(e,n,r),has:(e,n)=>!!eb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Im="@firebase/app",tb="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Ev("@firebase/app"),JA="@firebase/app-compat",ZA="@firebase/analytics-compat",eD="@firebase/analytics",tD="@firebase/app-check-compat",nD="@firebase/app-check",rD="@firebase/auth",iD="@firebase/auth-compat",sD="@firebase/database",oD="@firebase/database-compat",aD="@firebase/functions",lD="@firebase/functions-compat",cD="@firebase/installations",uD="@firebase/installations-compat",hD="@firebase/messaging",dD="@firebase/messaging-compat",fD="@firebase/performance",pD="@firebase/performance-compat",mD="@firebase/remote-config",gD="@firebase/remote-config-compat",vD="@firebase/storage",yD="@firebase/storage-compat",wD="@firebase/firestore",bD="@firebase/firestore-compat",ED="firebase",xD="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",CD={[Im]:"fire-core",[JA]:"fire-core-compat",[eD]:"fire-analytics",[ZA]:"fire-analytics-compat",[nD]:"fire-app-check",[tD]:"fire-app-check-compat",[rD]:"fire-auth",[iD]:"fire-auth-compat",[sD]:"fire-rtdb",[oD]:"fire-rtdb-compat",[aD]:"fire-fn",[lD]:"fire-fn-compat",[cD]:"fire-iid",[uD]:"fire-iid-compat",[hD]:"fire-fcm",[dD]:"fire-fcm-compat",[fD]:"fire-perf",[pD]:"fire-perf-compat",[mD]:"fire-rc",[gD]:"fire-rc-compat",[vD]:"fire-gcs",[yD]:"fire-gcs-compat",[wD]:"fire-fst",[bD]:"fire-fst-compat","fire-js":"fire-js",[ED]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,Om=new Map;function _D(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(Om.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,t);for(const n of kh.values())_D(n,t);return!0}function Cv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ri=new tc("app","Firebase",SD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=xD;function I_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=S_()),!n)throw ri.create("no-options");const s=kh.get(i);if(s){if(Th(n,s.options)&&Th(r,s.config))return s;throw ri.create("duplicate-app",{appName:i})}const o=new DA(i);for(const l of Om.values())o.addComponent(l);const a=new TD(n,r,o);return kh.set(i,a),a}function R_(t=Rm){const e=kh.get(t);if(!e&&t===Rm&&S_())return I_();if(!e)throw ri.create("no-app",{appName:t});return e}function ii(t,e,n){var r;let i=(r=CD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(a.join(" "));return}go(new rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebase-heartbeat-database",ND=1,xl="firebase-heartbeat-store";let Qf=null;function O_(){return Qf||(Qf=KA(kD,ND,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xl)}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),Qf}async function ID(t){try{return await(await O_()).transaction(xl).objectStore(xl).get(P_(t))}catch(e){if(e instanceof Tr)is.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function nb(t,e){try{const r=(await O_()).transaction(xl,"readwrite");await r.objectStore(xl).put(e,P_(t)),await r.done}catch(n){if(n instanceof Tr)is.warn(n.message);else{const r=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function P_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=1024,OD=30*24*60*60*1e3;class PD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=OD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rb(),{heartbeatsToSend:n,unsentEntries:r}=AD(this._heartbeatsCache.heartbeats),i=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function rb(){return new Date().toISOString().substring(0,10)}function AD(t,e=RD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ib(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ib(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ID(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ib(t){return Sh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){go(new rs("platform-logger",e=>new QA(e),"PRIVATE")),go(new rs("heartbeat",e=>new PD(e),"PRIVATE")),ii(Im,tb,t),ii(Im,tb,"esm2017"),ii("fire-js","")}MD("");var LD="firebase",FD="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(LD,FD,"app");function _v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function A_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $D=A_,D_=new tc("auth","Firebase",A_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Ev("@firebase/auth");function zD(t,...e){Nh.logLevel<=de.WARN&&Nh.warn(`Auth (${$o}): ${t}`,...e)}function Fu(t,...e){Nh.logLevel<=de.ERROR&&Nh.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw Sv(t,...e)}function Un(t,...e){return Sv(t,...e)}function jD(t,e,n){const r=Object.assign(Object.assign({},$D()),{[e]:n});return new tc("auth","Firebase",r).create(e,{appName:t.name})}function Sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return D_.create(t,...e)}function Z(t,e,...n){if(!t)throw Sv(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fu(e),new Error(e)}function yr(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VD(){return sb()==="http:"||sb()==="https:"}function sb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VD()||wA()||"connection"in navigator)?navigator.onLine:!0}function UD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=yA()||bA()}get(){return BD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new rc(3e4,6e4);function zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jo(t,e,n,r,i={}){return L_(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),M_.fetch()(F_(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function L_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HD),e);try{const i=new qD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jc(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jD(t,u,c);kn(t,u)}}catch(i){if(i instanceof Tr)throw i;kn(t,"network-request-failed",{message:String(i)})}}async function ic(t,e,n,r,i={}){const s=await jo(t,e,n,r,i);return"mfaPendingCredential"in s&&kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function F_(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Tv(t.config,i):`${t.config.apiScheme}://${i}`}class qD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),WD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Un(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e){return jo(t,"POST","/v1/accounts:delete",e)}async function GD(t,e){return jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YD(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=kv(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ba(Xf(i.auth_time)),issuedAtTime:Ba(Xf(i.iat)),expirationTime:Ba(Xf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xf(t){return Number(t)*1e3}function kv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const i=C_(n);return i?JSON.parse(i):(Fu("Failed to decode base64 JWT payload"),null)}catch(i){return Fu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QD(t){const e=kv(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&XD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ba(this.lastLoginAt),this.creationTime=Ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Cl(t,GD(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tM(s.providerUserInfo):[],a=eM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $_(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function ZD(t){const e=Rt(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tM(t){return t.map(e=>{var{providerId:n}=e,r=_v(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e){const n=await L_(t,{},async()=>{const r=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=F_(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",M_.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await nM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _l;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YD(this,e)}reload(){return ZD(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Cl(this,KD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:C,isAnonymous:_,providerData:S,stsTokenManager:T}=n;Z(x&&T,e,"internal-error");const k=_l.fromJSON(this.name,T);Z(typeof x=="string",e,"internal-error"),Ir(h,e.name),Ir(f,e.name),Z(typeof C=="boolean",e,"internal-error"),Z(typeof _=="boolean",e,"internal-error"),Ir(p,e.name),Ir(g,e.name),Ir(m,e.name),Ir(w,e.name),Ir(v,e.name),Ir(y,e.name);const I=new Gi({uid:x,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:_,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:k,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(I.providerData=S.map(R=>Object.assign({},R))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new Gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ih(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Map;function ar(t){yr(t instanceof Function,"Expected a class definition");let e=ob.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ob.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}z_.type="NONE";const ab=z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$u(this.userKey,i.apiKey,s),this.fullPersistenceKey=$u("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(ar(ab),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ar(ab);const o=$u(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Gi._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Js(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Js(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H_(e))return"Blackberry";if(W_(e))return"Webos";if(Nv(e))return"Safari";if((e.includes("chrome/")||V_(e))&&!e.includes("edge/"))return"Chrome";if(U_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function j_(t=Ct()){return/firefox\//i.test(t)}function Nv(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V_(t=Ct()){return/crios\//i.test(t)}function B_(t=Ct()){return/iemobile/i.test(t)}function U_(t=Ct()){return/android/i.test(t)}function H_(t=Ct()){return/blackberry/i.test(t)}function W_(t=Ct()){return/webos/i.test(t)}function kd(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rM(t=Ct()){var e;return kd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iM(){return EA()&&document.documentMode===10}function q_(t=Ct()){return kd(t)||U_(t)||W_(t)||H_(t)||/windows phone/i.test(t)||B_(t)}function sM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e=[]){let n;switch(t){case"Browser":n=lb(Ct());break;case"Worker":n=`${lb(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}async function G_(t,e){return jo(t,"GET","/v2/recaptchaConfig",zo(t,e))}function cb(t){return t!==void 0&&t.enterprise!==void 0}class Y_{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Q_(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Un("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oM().appendChild(r)})}function aM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const lM="https://www.google.com/recaptcha/enterprise.js?render=",cM="recaptcha-enterprise",uM="NO_RECAPTCHA";class X_{constructor(e){this.type=cM,this.auth=Vo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{G_(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Y_(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;cb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(uM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&cb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Q_(lM+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Rh(t,e,n,r=!1){const i=new X_(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ub(this),this.idTokenSubscription=new ub(this),this.beforeStateQueue=new hM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Rt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}async initializeRecaptchaConfig(){const e=await G_(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Y_(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new X_(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vo(t){return Rt(t)}class ub{constructor(e){this.auth=e,this.observer=null,this.addObserver=NA(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){const n=Cv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Th(s,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function pM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mM(t,e,n){const r=Vo(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=J_(e),{host:o,port:a}=gM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||vM()}function J_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gM(t){const e=J_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:hb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:hb(o)}}}function hb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function yM(t,e){return jo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(t,e){return ic(t,"POST","/v1/accounts:signInWithPassword",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){return ic(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}async function bM(t,e){return ic(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Iv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Rh(e,r,"signInWithPassword");return Jf(e,i)}else return Jf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Rh(e,r,"signInWithPassword");return Jf(e,s)}else return Promise.reject(i)});case"emailLink":return wM(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return yM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return bM(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e){return ic(t,"POST","/v1/accounts:signInWithIdp",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="http://localhost";class ss extends Iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=_v(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ss(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:EM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CM(t){const e=ba(Ea(t)).link,n=e?ba(Ea(e)).deep_link_id:null,r=ba(Ea(t)).deep_link_id;return(r?ba(Ea(r)).link:null)||r||n||e||t}class Rv{constructor(e){var n,r,i,s,o,a;const l=ba(Ea(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=xM((i=l.mode)!==null&&i!==void 0?i:null);Z(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=CM(e);try{return new Rv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return Sl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rv.parseLink(n);return Z(r,"argument-error"),Sl._fromEmailAndCode(e,r.code,r.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Z_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends sc{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ss._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends sc{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends sc{constructor(){super("twitter.com")}static credential(e,n){return ss._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(t,e){return ic(t,"POST","/v1/accounts:signUp",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Gi._fromIdTokenResponse(e,r,i),o=db(r);return new os({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=db(r);return new os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function db(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Oh(e,n,r,i)}}function eS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(t,s,e,r):s})}async function _M(t,e,n=!1){const r=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Cl(t,eS(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=kv(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),os._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,e,n=!1){const r="signIn",i=await eS(t,r,e),s=await os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function TM(t,e){return tS(Vo(t),e)}async function kM(t,e,n){var r;const i=Vo(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Rh(i,s,"signUpPassword");o=Zf(i,c)}else o=Zf(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await Rh(i,s,"signUpPassword");return Zf(i,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await os._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function NM(t,e,n){return TM(Rt(t),Bo.credential(e,n))}function IM(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function RM(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function OM(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function PM(t){return Rt(t).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){const t=Ct();return Nv(t)||kd(t)}const DM=1e3,MM=10;class rS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AM()&&sM(),this.fallbackToPolling=q_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const LM=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iS.type="SESSION";const sS=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await FM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Ov("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function zM(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function jM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BM(){return oS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebaseLocalStorageDb",UM=1,Ah="firebaseLocalStorage",lS="fbase_key";class oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Id(t,e){return t.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function HM(){const t=indexedDB.deleteDatabase(aS);return new oc(t).toPromise()}function Am(){const t=indexedDB.open(aS,UM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ah,{keyPath:lS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await HM(),e(await Am()))})})}async function fb(t,e,n){const r=Id(t,!0).put({[lS]:e,value:n});return new oc(r).toPromise()}async function WM(t,e){const n=Id(t,!1).get(e),r=await new oc(n).toPromise();return r===void 0?null:r.value}function pb(t,e){const n=Id(t,!0).delete(e);return new oc(n).toPromise()}const qM=800,KM=3;class cS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(BM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jM(),!this.activeServiceWorker)return;this.sender=new $M(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await fb(e,Ph,"1"),await pb(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Id(i,!1).getAll();return new oc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cS.type="LOCAL";const GM=cS;new rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){return e?ar(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends Iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QM(t){return tS(t.auth,new Pv(t),t.bypassAuthState)}function XM(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),SM(n,new Pv(t),t.bypassAuthState)}async function JM(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),_M(n,new Pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QM;case"linkViaPopup":case"linkViaRedirect":return JM;case"reauthViaPopup":case"reauthViaRedirect":return XM;default:kn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new rc(2e3,1e4);class Us extends uS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZM.get())};e()}}Us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="pendingRedirect",zu=new Map;class tL extends uS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await nL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nL(t,e){const n=sL(e),r=iL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rL(t,e){zu.set(t._key(),e)}function iL(t){return ar(t._redirectPersistence)}function sL(t){return $u(eL,t.config.apiKey,t.name)}async function oL(t,e,n=!1){const r=Vo(t),i=YM(r,e),o=await new tL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=10*60*1e3;class lL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aL&&this.cachedEventUids.clear(),this.cachedEventUids.has(mb(e))}saveEventToCache(e){this.cachedEventUids.add(mb(e)),this.lastProcessedEventTime=Date.now()}}function mb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e={}){return jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dL=/^https?/;async function fL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uL(t);for(const n of e)try{if(pL(n))return}catch{}kn(t,"unauthorized-domain")}function pL(t){const e=Pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dL.test(n))return!1;if(hL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new rc(3e4,6e4);function gb(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gL(t){return new Promise((e,n)=>{var r,i,s;function o(){gb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gb(),n(Un(t,"network-request-failed"))},timeout:mL.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hn().gapi)===null||s===void 0)&&s.load)o();else{const a=aM("iframefcb");return Hn()[a]=()=>{gapi.load?o():n(Un(t,"network-request-failed"))},Q_(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ju=null,e})}let ju=null;function vL(t){return ju=ju||gL(t),ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new rc(5e3,15e3),wL="__/auth/iframe",bL="emulator/auth/iframe",EL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CL(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tv(e,bL):`https://${t.config.authDomain}/${wL}`,r={apiKey:e.apiKey,appName:t.name,v:$o},i=xL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nc(r).slice(1)}`}async function _L(t){const e=await vL(t),n=Hn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:CL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Un(t,"network-request-failed"),a=Hn().setTimeout(()=>{s(o)},yL.get());function l(){Hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TL=500,kL=600,NL="_blank",IL="http://localhost";class vb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RL(t,e,n,r=TL,i=kL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},SL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=V_(c)?NL:n),j_(c)&&(e=e||IL,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(rM(c)&&a!=="_self")return OL(e||"",a),new vb(null);const h=window.open(e||"",a,u);Z(h,t,"popup-blocked");try{h.focus()}catch{}return new vb(h)}function OL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="__/auth/handler",AL="emulator/auth/handler",DL=encodeURIComponent("fac");async function yb(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$o,eventId:i};if(e instanceof Z_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof sc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${DL}=${encodeURIComponent(l)}`:"";return`${ML(t)}?${nc(a).slice(1)}${c}`}function ML({config:t}){return t.emulator?Tv(t,AL):`https://${t.authDomain}/${PL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class LL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sS,this._completeRedirectFn=oL,this._overrideRedirectResult=rL}async _openPopup(e,n,r,i){var s;yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yb(e,n,r,Pm(),i);return RL(e,o,Ov())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yb(e,n,r,Pm(),i);return zM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _L(e),r=new lL(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ep,{type:ep},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ep];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return q_()||Nv()||kd()}}const FL=LL;var wb="@firebase/auth",bb="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function jL(t){go(new rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K_(t)},c=new dM(r,i,s,l);return pM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new rs("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(r=>new $L(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(wb,bb,zL(t)),ii(wb,bb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=5*60,BL=T_("authIdTokenMaxAge")||VL;let Eb=null;const UL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BL)return;const i=n==null?void 0:n.token;Eb!==i&&(Eb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HL(t=R_()){const e=Cv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fM(t,{popupRedirectResolver:FL,persistence:[GM,LM,sS]}),r=T_("authTokenSyncURL");if(r){const s=UL(r);RM(n,s,()=>s(n.currentUser)),IM(n,o=>s(o))}const i=__("auth");return i&&mM(n,`http://${i}`),n}jL("Browser");var WL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,Av=Av||{},te=WL||self;function Rd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ac(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qL(t){return Object.prototype.hasOwnProperty.call(t,tp)&&t[tp]||(t[tp]=++KL)}var tp="closure_uid_"+(1e9*Math.random()>>>0),KL=0;function GL(t,e,n){return t.call.apply(t.bind,arguments)}function YL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=GL:wt=YL,wt.apply(null,arguments)}function Zc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function it(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function yi(){this.s=this.s,this.o=this.o}var QL=0;yi.prototype.s=!1;yi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),QL!=0)&&qL(this)};yi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Dv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Rd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var XL=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function Tl(t){return/^[\s\xa0]*$/.test(t)}function Od(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function $n(t){return Od().indexOf(t)!=-1}function Mv(t){return Mv[" "](t),t}Mv[" "]=function(){};function JL(t,e){var n=HF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ZL=$n("Opera"),vo=$n("Trident")||$n("MSIE"),fS=$n("Edge"),Dm=fS||vo,pS=$n("Gecko")&&!(Od().toLowerCase().indexOf("webkit")!=-1&&!$n("Edge"))&&!($n("Trident")||$n("MSIE"))&&!$n("Edge"),eF=Od().toLowerCase().indexOf("webkit")!=-1&&!$n("Edge");function mS(){var t=te.document;return t?t.documentMode:void 0}var Mm;e:{var np="",rp=function(){var t=Od();if(pS)return/rv:([^\);]+)(\)|;)/.exec(t);if(fS)return/Edge\/([\d\.]+)/.exec(t);if(vo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eF)return/WebKit\/(\S+)/.exec(t);if(ZL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rp&&(np=rp?rp[1]:""),vo){var ip=mS();if(ip!=null&&ip>parseFloat(np)){Mm=String(ip);break e}}Mm=np}var Lm;if(te.document&&vo){var Cb=mS();Lm=Cb||parseInt(Mm,10)||void 0}else Lm=void 0;var tF=Lm;function kl(t,e){if(bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pS){e:{try{Mv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:nF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&kl.$.h.call(this)}}it(kl,bt);var nF={2:"touch",3:"pen",4:"mouse"};kl.prototype.h=function(){kl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lc="closure_listenable_"+(1e6*Math.random()|0),rF=0;function iF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++rF,this.fa=this.ia=!1}function Pd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Lv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sF(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function gS(t){const e={};for(const n in t)e[n]=t[n];return e}const _b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<_b.length;s++)n=_b[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ad(t){this.src=t,this.g={},this.h=0}Ad.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=$m(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new iF(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Fm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=dS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Pd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $m(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Fv="closure_lm_"+(1e6*Math.random()|0),sp={};function yS(t,e,n,r,i){if(r&&r.once)return bS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yS(t,e[s],n,r,i);return null}return n=jv(n),t&&t[lc]?t.O(e,n,ac(r)?!!r.capture:!!r,i):wS(t,e,n,!1,r,i)}function wS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ac(i)?!!i.capture:!!i,a=zv(t);if(a||(t[Fv]=a=new Ad(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=oF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)XL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oF(){function t(n){return e.call(t.src,t.listener,n)}const e=aF;return t}function bS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bS(t,e[s],n,r,i);return null}return n=jv(n),t&&t[lc]?t.P(e,n,ac(r)?!!r.capture:!!r,i):wS(t,e,n,!0,r,i)}function ES(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ES(t,e[s],n,r,i);else r=ac(r)?!!r.capture:!!r,n=jv(n),t&&t[lc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=$m(s,n,r,i),-1<n&&(Pd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=zv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$m(e,n,r,i)),(n=-1<t?e[t]:null)&&$v(n))}function $v(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[lc])Fm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zv(e))?(Fm(n,t),n.h==0&&(n.src=null,e[Fv]=null)):Pd(t)}}}function xS(t){return t in sp?sp[t]:sp[t]="on"+t}function aF(t,e){if(t.fa)t=!0;else{e=new kl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$v(t),t=n.call(r,e)}return t}function zv(t){return t=t[Fv],t instanceof Ad?t:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function jv(t){return typeof t=="function"?t:(t[op]||(t[op]=function(e){return t.handleEvent(e)}),t[op])}function rt(){yi.call(this),this.i=new Ad(this),this.S=this,this.J=null}it(rt,yi);rt.prototype[lc]=!0;rt.prototype.removeEventListener=function(t,e,n,r){ES(this,t,e,n,r)};function ct(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new bt(e,t);else if(e instanceof bt)e.target=e.target||t;else{var i=e;e=new bt(r,t),vS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=eu(o,r,!0,e)&&i}if(o=e.g=t,i=eu(o,r,!0,e)&&i,i=eu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=eu(o,r,!1,e)&&i}rt.prototype.N=function(){if(rt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pd(n[r]);delete t.g[e],t.h--}}this.J=null};rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function eu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Fm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vv=te.JSON.stringify;class lF{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function cF(){var t=Bv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class uF{constructor(){this.h=this.g=null}add(e,n){const r=CS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var CS=new lF(()=>new hF,t=>t.reset());class hF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dF(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fF(t){te.setTimeout(()=>{throw t},0)}let Nl,Il=!1,Bv=new uF,_S=()=>{const t=te.Promise.resolve(void 0);Nl=()=>{t.then(pF)}};var pF=()=>{for(var t;t=cF();){try{t.h.call(t.g)}catch(n){fF(n)}var e=CS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Il=!1};function Dd(t,e){rt.call(this),this.h=t||1,this.g=e||te,this.j=wt(this.qb,this),this.l=Date.now()}it(Dd,rt);j=Dd.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ct(this,"tick"),this.ga&&(Uv(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){Dd.$.N.call(this),Uv(this),delete this.g};function Hv(t,e,n){if(typeof t=="function")n&&(t=wt(t,n));else if(t&&typeof t.handleEvent=="function")t=wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function SS(t){t.g=Hv(()=>{t.g=null,t.i&&(t.i=!1,SS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mF extends yi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SS(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(t){yi.call(this),this.h=t,this.g={}}it(Rl,yi);var Sb=[];function TS(t,e,n,r){Array.isArray(n)||(n&&(Sb[0]=n.toString()),n=Sb);for(var i=0;i<n.length;i++){var s=yS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function kS(t){Lv(t.g,function(e,n){this.g.hasOwnProperty(n)&&$v(e)},t),t.g={}}Rl.prototype.N=function(){Rl.$.N.call(this),kS(this)};Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Md(){this.g=!0}Md.prototype.Ea=function(){this.g=!1};function gF(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function vF(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Hs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wF(t,n)+(r?" "+r:"")})}function yF(t,e){t.info(function(){return"TIMEOUT: "+e})}Md.prototype.info=function(){};function wF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Vv(n)}catch{return e}}var gs={},Tb=null;function Ld(){return Tb=Tb||new rt}gs.Ta="serverreachability";function NS(t){bt.call(this,gs.Ta,t)}it(NS,bt);function Ol(t){const e=Ld();ct(e,new NS(e))}gs.STAT_EVENT="statevent";function IS(t,e){bt.call(this,gs.STAT_EVENT,t),this.stat=e}it(IS,bt);function Nt(t){const e=Ld();ct(e,new IS(e,t))}gs.Ua="timingevent";function RS(t,e){bt.call(this,gs.Ua,t),this.size=e}it(RS,bt);function cc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var Fd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wv(){}Wv.prototype.h=null;function kb(t){return t.h||(t.h=t.i())}function PS(){}var uc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qv(){bt.call(this,"d")}it(qv,bt);function Kv(){bt.call(this,"c")}it(Kv,bt);var zm;function $d(){}it($d,Wv);$d.prototype.g=function(){return new XMLHttpRequest};$d.prototype.i=function(){return{}};zm=new $d;function hc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rl(this),this.P=bF,t=Dm?125:void 0,this.V=new Dd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AS}function AS(){this.i=null,this.g="",this.h=!1}var bF=45e3,jm={},Dh={};j=hc.prototype;j.setTimeout=function(t){this.P=t};function Vm(t,e,n){t.L=1,t.v=jd(wr(e)),t.s=n,t.S=!0,DS(t,null)}function DS(t,e){t.G=Date.now(),dc(t),t.A=wr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),BS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new AS,t.g=cT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new mF(wt(t.Pa,t,t.g),t.O)),TS(t.U,t.g,"readystatechange",t.nb),e=t.I?gS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ol(),gF(t.j,t.u,t.A,t.m,t.W,t.s)}j.nb=function(t){t=t.target;const e=this.M;e&&zn(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{const u=zn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Dm||this.g&&(this.h.h||this.g.ja()||Ob(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ol(3):Ol(2)),zd(this);var n=this.g.da();this.ca=n;t:if(MS(this)){var r=Ob(this.g);t="";var i=r.length,s=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),Ua(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,vF(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tl(a)){var c=a;break t}}c=null}if(n=c)Hs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bm(this,n);else{this.i=!1,this.o=3,Nt(12),Bi(this),Ua(this);break e}}this.S?(LS(this,u,o),Dm&&this.i&&u==3&&(TS(this.U,this.V,"tick",this.mb),this.V.start())):(Hs(this.j,this.m,o,null),Bm(this,o)),u==4&&Bi(this),this.i&&!this.J&&(u==4?sT(this.l,this):(this.i=!1,dc(this)))}else VF(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Nt(12)):(this.o=0,Nt(13)),Bi(this),Ua(this)}}}catch{}finally{}};function MS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function LS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=EF(t,n),i==Dh){e==4&&(t.o=4,Nt(14),r=!1),Hs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==jm){t.o=4,Nt(15),Hs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Hs(t.j,t.m,i,null),Bm(t,i);MS(t)&&i!=Dh&&i!=jm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Nt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zv(e),e.M=!0,Nt(11))):(Hs(t.j,t.m,n,"[Invalid Chunked Response]"),Bi(t),Ua(t))}j.mb=function(){if(this.g){var t=zn(this.g),e=this.g.ja();this.C<e.length&&(zd(this),LS(this,t,e),this.i&&t!=4&&dc(this))}};function EF(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Dh:(n=Number(e.substring(n,r)),isNaN(n)?jm:(r+=1,r+n>e.length?Dh:(e=e.slice(r,r+n),t.C=r+n,e)))}j.cancel=function(){this.J=!0,Bi(this)};function dc(t){t.Y=Date.now()+t.P,FS(t,t.P)}function FS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=cc(wt(t.lb,t),e)}function zd(t){t.B&&(te.clearTimeout(t.B),t.B=null)}j.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(yF(this.j,this.A),this.L!=2&&(Ol(),Nt(17)),Bi(this),this.o=2,Ua(this)):FS(this,this.Y-t)};function Ua(t){t.l.H==0||t.J||sT(t.l,t)}function Bi(t){zd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Uv(t.V),kS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Bm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Um(n.i,t))){if(!t.K&&Um(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Fh(n),Ud(n);else break e;Jv(n),Nt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=cc(wt(n.ib,n),6e3));if(1>=WS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ui(n,11)}else if((t.K||n.g==t)&&Fh(n),!Tl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Gv(s,s.h),s.h=null))}if(r.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,_e(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=lT(r,r.J?r.pa:null,r.Y),o.K){qS(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(zd(a),dc(a)),r.g=o}else rT(r);0<n.j.length&&Hd(n)}else c[0]!="stop"&&c[0]!="close"||Ui(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ui(n,7):Xv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ol(4)}catch{}}function xF(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Rd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function CF(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Rd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function $S(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Rd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=CF(t),r=xF(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var zS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _F(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yi){this.h=t.h,Mh(this,t.j),this.s=t.s,this.g=t.g,Lh(this,t.m),this.l=t.l;var e=t.i,n=new Pl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Nb(this,n),this.o=t.o}else t&&(e=String(t).match(zS))?(this.h=!1,Mh(this,e[1]||"",!0),this.s=xa(e[2]||""),this.g=xa(e[3]||"",!0),Lh(this,e[4]),this.l=xa(e[5]||"",!0),Nb(this,e[6]||"",!0),this.o=xa(e[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}Yi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ca(e,Ib,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ca(e,Ib,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ca(n,n.charAt(0)=="/"?kF:TF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ca(n,IF)),t.join("")};function wr(t){return new Yi(t)}function Mh(t,e,n){t.j=n?xa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Nb(t,e,n){e instanceof Pl?(t.i=e,RF(t.i,t.h)):(n||(e=Ca(e,NF)),t.i=new Pl(e,t.h))}function _e(t,e,n){t.i.set(e,n)}function jd(t){return _e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ca(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ib=/[#\/\?@]/g,TF=/[#\?:]/g,kF=/[#\?]/g,NF=/[#\?@]/g,IF=/#/g;function Pl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wi(t){t.g||(t.g=new Map,t.h=0,t.i&&_F(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=Pl.prototype;j.add=function(t,e){wi(this),this.i=null,t=Uo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jS(t,e){wi(t),e=Uo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function VS(t,e){return wi(t),e=Uo(t,e),t.g.has(e)}j.forEach=function(t,e){wi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){wi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.Z=function(t){wi(this);let e=[];if(typeof t=="string")VS(this,t)&&(e=e.concat(this.g.get(Uo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return wi(this),this.i=null,t=Uo(this,t),VS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function BS(t,e,n){jS(t,e),0<n.length&&(t.i=null,t.g.set(Uo(t,e),Dv(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Uo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RF(t,e){e&&!t.j&&(wi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jS(this,r),BS(this,i,n))},t)),t.j=e}var OF=class{constructor(t,e){this.g=t,this.map=e}};function US(t){this.l=t||PF,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PF=10;function HS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function WS(t){return t.h?1:t.g?t.g.size:0}function Um(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gv(t,e){t.g?t.g.add(e):t.h=e}function qS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}US.prototype.cancel=function(){if(this.i=KS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function KS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Dv(t.i)}var AF=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function DF(){this.g=new AF}function MF(t,e,n){const r=n||"";try{$S(t,function(i,s){let o=i;ac(i)&&(o=Vv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function LF(t,e){const n=new Md;if(te.Image){const r=new Image;r.onload=Zc(tu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zc(tu,n,r,"TestLoadImage: error",!1,e),r.onabort=Zc(tu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zc(tu,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function tu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fc(t){this.l=t.fc||null,this.j=t.ob||!1}it(fc,Wv);fc.prototype.g=function(){return new Vd(this.l,this.j)};fc.prototype.i=function(t){return function(){return t}}({});function Vd(t,e){rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Yv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(Vd,rt);var Yv=0;j=Vd.prototype;j.open=function(t,e){if(this.readyState!=Yv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Al(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pc(this)),this.readyState=Yv};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Al(this)),this.g&&(this.readyState=3,Al(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function GS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pc(this):Al(this),this.readyState==3&&GS(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,pc(this))};j.Ya=function(t){this.g&&(this.response=t,pc(this))};j.ka=function(){this.g&&pc(this)};function pc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Al(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Al(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FF=te.JSON.parse;function ze(t){rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=YS,this.L=this.M=!1}it(ze,rt);var YS="",$F=/^https?$/i,zF=["POST","PUT"];j=ze.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zm.g(),this.C=this.u?kb(this.u):kb(zm),this.g.onreadystatechange=wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Rb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=te.FormData&&t instanceof te.FormData,!(0<=dS(zF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JS(this),0<this.B&&((this.L=jF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.ua,this)):this.A=Hv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Rb(this,s)}};function jF(t){return vo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof Av<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ct(this,"timeout"),this.abort(8))};function Rb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QS(t),Bd(t)}function QS(t){t.F||(t.F=!0,ct(t,"complete"),ct(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ct(this,"complete"),ct(this,"abort"),Bd(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bd(this,!0)),ze.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?XS(this):this.kb())};j.kb=function(){XS(this)};function XS(t){if(t.h&&typeof Av<"u"&&(!t.C[1]||zn(t)!=4||t.da()!=2)){if(t.v&&zn(t)==4)Hv(t.La,0,t);else if(ct(t,"readystatechange"),zn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(zS)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!$F.test(i?i.toLowerCase():"")}n=r}if(n)ct(t,"complete"),ct(t,"success");else{t.m=6;try{var s=2<zn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",QS(t)}}finally{Bd(t)}}}}function Bd(t,e){if(t.g){JS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ct(t,"ready");try{n.onreadystatechange=r}catch{}}}function JS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function zn(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FF(e)}};function Ob(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case YS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function VF(t){const e={};t=(t.g&&2<=zn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Tl(t[r]))continue;var n=dF(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}sF(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ZS(t){let e="";return Lv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Qv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_e(t,e,n))}function la(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eT(t){this.Ga=0,this.j=[],this.l=new Md,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=la("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=la("baseRetryDelayMs",5e3,t),this.hb=la("retryDelaySeedMs",1e4,t),this.eb=la("forwardChannelMaxRetries",2,t),this.xa=la("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new US(t&&t.concurrentRequestLimit),this.Ja=new DF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=eT.prototype;j.ra=8;j.H=1;function Xv(t){if(tT(t),t.H==3){var e=t.W++,n=wr(t.I);if(_e(n,"SID",t.K),_e(n,"RID",e),_e(n,"TYPE","terminate"),mc(t,n),e=new hc(t,t.l,e),e.L=2,e.v=jd(wr(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&(new Image().src=e.v,n=!0),n||(e.g=cT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),dc(e)}aT(t)}function Ud(t){t.g&&(Zv(t),t.g.cancel(),t.g=null)}function tT(t){Ud(t),t.u&&(te.clearTimeout(t.u),t.u=null),Fh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function Hd(t){if(!HS(t.i)&&!t.m){t.m=!0;var e=t.Na;Nl||_S(),Il||(Nl(),Il=!0),Bv.add(e,t),t.C=0}}function BF(t,e){return WS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=cc(wt(t.Na,t,e),oT(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new hc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=gS(s),vS(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nT(this,i,e),n=wr(this.I),_e(n,"RID",t),_e(n,"CVER",22),this.F&&_e(n,"X-HTTP-Session-Id",this.F),mc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ZS(s)))+"&"+e:this.o&&Qv(n,this.o,s)),Gv(this.i,i),this.bb&&_e(n,"TYPE","init"),this.P?(_e(n,"$req",e),_e(n,"SID","null"),i.aa=!0,Vm(i,n,null)):Vm(i,n,e),this.H=2}}else this.H==3&&(t?Pb(this,t):this.j.length==0||HS(this.i)||Pb(this))};function Pb(t,e){var n;e?n=e.m:n=t.W++;const r=wr(t.I);_e(r,"SID",t.K),_e(r,"RID",n),_e(r,"AID",t.V),mc(t,r),t.o&&t.s&&Qv(r,t.o,t.s),n=new hc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Gv(t.i,n),Vm(n,r,e)}function mc(t,e){t.na&&Lv(t.na,function(n,r){_e(e,r,n)}),t.h&&$S({},function(n,r){_e(e,r,n)})}function nT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{MF(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Nl||_S(),Il||(Nl(),Il=!0),Bv.add(e,t),t.A=0}}function Jv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=cc(wt(t.Ma,t),oT(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,iT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=cc(wt(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nt(10),Ud(this),iT(this))};function Zv(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function iT(t){t.g=new hc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=wr(t.wa);_e(e,"RID","rpc"),_e(e,"SID",t.K),_e(e,"AID",t.V),_e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&_e(e,"TO",t.qa),_e(e,"TYPE","xmlhttp"),mc(t,e),t.o&&t.s&&Qv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=jd(wr(e)),n.s=null,n.S=!0,DS(n,t)}j.ib=function(){this.v!=null&&(this.v=null,Ud(this),Jv(this),Nt(19))};function Fh(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function sT(t,e){var n=null;if(t.g==e){Fh(t),Zv(t),t.g=null;var r=2}else if(Um(t.i,e))n=e.F,qS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Ld(),ct(r,new RS(r,n)),Hd(t)}else rT(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&BF(t,e)||r==2&&Jv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ui(t,5);break;case 4:Ui(t,10);break;case 3:Ui(t,6);break;default:Ui(t,2)}}}function oT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ui(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=wt(t.pb,t);n||(n=new Yi("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||Mh(n,"https"),jd(n)),LF(n.toString(),r)}else Nt(2);t.H=0,t.h&&t.h.za(e),aT(t),tT(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Nt(2)):(this.l.info("Failed to ping google.com"),Nt(1))};function aT(t){if(t.H=0,t.ma=[],t.h){const e=KS(t.i);(e.length!=0||t.j.length!=0)&&(xb(t.ma,e),xb(t.ma,t.j),t.i.i.length=0,Dv(t.j),t.j.length=0),t.h.ya()}}function lT(t,e,n){var r=n instanceof Yi?wr(n):new Yi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Lh(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Yi(null);r&&Mh(s,r),e&&(s.g=e),i&&Lh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&_e(r,n,e),_e(r,"VER",t.ra),mc(t,r),r}function cT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ze(new fc({ob:!0})):new ze(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function uT(){}j=uT.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function $h(){if(vo&&!(10<=Number(tF)))throw Error("Environmental error: no available transport.")}$h.prototype.g=function(t,e){return new Yt(t,e)};function Yt(t,e){rt.call(this),this.g=new eT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ho(this)}it(Yt,rt);Yt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lT(t,null,t.Y),Hd(t)};Yt.prototype.close=function(){Xv(this.g)};Yt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vv(t),t=n);e.j.push(new OF(e.fb++,t)),e.H==3&&Hd(e)};Yt.prototype.N=function(){this.g.h=null,delete this.j,Xv(this.g),delete this.g,Yt.$.N.call(this)};function hT(t){qv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}it(hT,qv);function dT(){Kv.call(this),this.status=1}it(dT,Kv);function Ho(t){this.g=t}it(Ho,uT);Ho.prototype.Ba=function(){ct(this.g,"a")};Ho.prototype.Aa=function(t){ct(this.g,new hT(t))};Ho.prototype.za=function(t){ct(this.g,new dT)};Ho.prototype.ya=function(){ct(this.g,"b")};function UF(){this.blockSize=-1}function Nn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(Nn,UF);Nn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ap(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Nn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ap(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ap(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ap(this,r),i=0;break}}this.h=i,this.i+=e};Nn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var HF={};function ey(t){return-128<=t&&128>t?JL(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function jn(t){if(isNaN(t)||!isFinite(t))return eo;if(0>t)return at(jn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Hm;return new we(e,0)}function fT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return at(fT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=jn(Math.pow(e,8)),r=eo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=jn(Math.pow(e,s)),r=r.R(s).add(jn(o))):(r=r.R(n),r=r.add(jn(o)))}return r}var Hm=4294967296,eo=ey(0),Wm=ey(1),Ab=ey(16777216);j=we.prototype;j.ea=function(){if(nn(this))return-at(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Hm+r)*e,e*=Hm}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(lr(this))return"0";if(nn(this))return"-"+at(this).toString(t);for(var e=jn(Math.pow(t,6)),n=this,r="";;){var i=jh(n,e).g;n=zh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,lr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function lr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nn(t){return t.h==-1}j.X=function(t){return t=zh(this,t),nn(t)?-1:lr(t)?0:1};function at(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(Wm)}j.abs=function(){return nn(this)?at(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new we(n,n[n.length-1]&-2147483648?-1:0)};function zh(t,e){return t.add(at(e))}j.R=function(t){if(lr(this)||lr(t))return eo;if(nn(this))return nn(t)?at(this).R(at(t)):at(at(this).R(t));if(nn(t))return at(this.R(at(t)));if(0>this.X(Ab)&&0>t.X(Ab))return jn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,nu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,nu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,nu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,nu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function nu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ca(t,e){this.g=t,this.h=e}function jh(t,e){if(lr(e))throw Error("division by zero");if(lr(t))return new ca(eo,eo);if(nn(t))return e=jh(at(t),e),new ca(at(e.g),at(e.h));if(nn(e))return e=jh(t,at(e)),new ca(at(e.g),e.h);if(30<t.g.length){if(nn(t)||nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wm,r=e;0>=r.X(t);)n=Db(n),r=Db(r);var i=Cs(n,1),s=Cs(r,1);for(r=Cs(r,2),n=Cs(n,2);!lr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Cs(r,1),n=Cs(n,1)}return e=zh(t,i.R(e)),new ca(i,e)}for(i=eo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=jn(n),o=s.R(e);nn(o)||0<o.X(t);)n-=r,s=jn(n),o=s.R(e);lr(s)&&(s=Wm),i=i.add(s),t=zh(t,o)}return new ca(i,t)}j.gb=function(t){return jh(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function Db(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function Cs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new we(i,t.h)}$h.prototype.createWebChannel=$h.prototype.g;Yt.prototype.send=Yt.prototype.u;Yt.prototype.open=Yt.prototype.m;Yt.prototype.close=Yt.prototype.close;Fd.NO_ERROR=0;Fd.TIMEOUT=8;Fd.HTTP_ERROR=6;OS.COMPLETE="complete";PS.EventType=uc;uc.OPEN="a";uc.CLOSE="b";uc.ERROR="c";uc.MESSAGE="d";rt.prototype.listen=rt.prototype.O;ze.prototype.listenOnce=ze.prototype.P;ze.prototype.getLastError=ze.prototype.Sa;ze.prototype.getLastErrorCode=ze.prototype.Ia;ze.prototype.getStatus=ze.prototype.da;ze.prototype.getResponseJson=ze.prototype.Wa;ze.prototype.getResponseText=ze.prototype.ja;ze.prototype.send=ze.prototype.ha;ze.prototype.setWithCredentials=ze.prototype.Oa;Nn.prototype.digest=Nn.prototype.l;Nn.prototype.reset=Nn.prototype.reset;Nn.prototype.update=Nn.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=jn;we.fromString=fT;var WF=function(){return new $h},qF=function(){return Ld()},lp=Fd,KF=OS,GF=gs,Mb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},YF=fc,ru=PS,QF=ze,XF=Nn,to=we;const Lb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Ev("@firebase/firestore");function Fb(){return as.logLevel}function q(t,...e){if(as.logLevel<=de.DEBUG){const n=e.map(ty);as.debug(`Firestore (${Wo}): ${t}`,...n)}}function br(t,...e){if(as.logLevel<=de.ERROR){const n=e.map(ty);as.error(`Firestore (${Wo}): ${t}`,...n)}}function yo(t,...e){if(as.logLevel<=de.WARN){const n=e.map(ty);as.warn(`Firestore (${Wo}): ${t}`,...n)}}function ty(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+t;throw br(e),new Error(e)}function ke(t,e){t||ee()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class ZF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e${constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new pT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new mt(e)}}class t${constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class n${constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new t$(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i${constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.T=n.token,new r$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=s$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Xe(0,0))}static max(){return new ne(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Dl{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const o$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Dl{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return o$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Se.fromString(e))}static fromName(e){return new Y(Se.fromString(e).popFirst(5))}static empty(){return new Y(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Se(e.slice()))}}function a$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new ci(i,Y.empty(),e)}function l$(t){return new ci(t.readTime,t.key,-1)}class ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ci(ne.min(),Y.empty(),-1)}static max(){return new ci(ne.max(),Y.empty(),-1)}}function c$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==u$)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}ny.ct=-1;function Wd(t){return t==null}function Vh(t){return t===0&&1/t==-1/0}function d$(t){return typeof t=="number"&&Number.isInteger(t)&&!Vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}}class iu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ot.RED,this.left=i??ot.EMPTY,this.right=s??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zb(this.data.getIterator())}getIteratorFrom(e){return new zb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class zb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Et(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vT("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const f$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if(ke(!!t),typeof t=="string"){let e=0;const n=f$.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iy(t){const e=t.mapValue.fields.__previous_value__;return ry(e)?iy(e):e}function Ml(t){const e=ui(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ry(t)?4:m$(t)?9007199254740991:10:ee()}function Kn(t,e){if(t===e)return!0;const n=cs(t);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ml(t).isEqual(Ml(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ui(r.timestampValue),o=ui(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ls(r.bytesValue).isEqual(ls(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return He(r.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return He(r.integerValue)===He(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=He(r.doubleValue),o=He(i.doubleValue);return s===o?Vh(s)===Vh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if($b(s)!==$b(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Kn(s[a],o[a])))return!1;return!0}(t,e);default:return ee()}}function Fl(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=cs(t),r=cs(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=He(i.integerValue||i.doubleValue),a=He(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return jb(t.timestampValue,e.timestampValue);case 4:return jb(Ml(t),Ml(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ls(i),a=ls(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=fe(o[l],a[l]);if(c!==0)return c}return fe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=fe(He(i.latitude),He(s.latitude));return o!==0?o:fe(He(i.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=bo(o[l],a[l]);if(c)return c}return fe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===su.mapValue&&s===su.mapValue)return 0;if(i===su.mapValue)return 1;if(s===su.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=fe(a[u],c[u]);if(h!==0)return h;const f=bo(o[a[u]],l[c[u]]);if(f!==0)return f}return fe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw ee()}}function jb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=ui(t),r=ui(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function Eo(t){return qm(t)}function qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ui(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ls(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Y.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=qm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${qm(r.fields[a])}`;return s+"}"}(t.mapValue):ee();var e,n}function Vb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Km(t){return!!t&&"integerValue"in t}function sy(t){return!!t&&"arrayValue"in t}function Bb(t){return!!t&&"nullValue"in t}function Ub(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ha(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rn(Ha(this.value))}}function yT(t){const e=[];return qo(t.fields,(n,r)=>{const i=new yt([n]);if(Vu(r)){const s=yT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,ne.min(),ne.min(),ne.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new vt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new vt(e,2,n,ne.min(),ne.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,ne.min(),ne.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function Hb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=bo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n="asc"){this.field=e,this.dir=n}}function g$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class qe extends wT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y$(e,n,r):n==="array-contains"?new E$(e,r):n==="in"?new x$(e,r):n==="not-in"?new C$(e,r):n==="array-contains-any"?new _$(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w$(e,r):new b$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends wT{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new In(e,n)}matches(e){return bT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function bT(t){return t.op==="and"}function ET(t){return v$(t)&&bT(t)}function v$(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function Gm(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Eo(t.value);if(ET(t))return t.filters.map(e=>Gm(e)).join(",");{const e=t.filters.map(n=>Gm(n)).join(",");return`${t.op}(${e})`}}function xT(t,e){return t instanceof qe?function(n,r){return r instanceof qe&&n.op===r.op&&n.field.isEqual(r.field)&&Kn(n.value,r.value)}(t,e):t instanceof In?function(n,r){return r instanceof In&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&xT(s,r.filters[o]),!0):!1}(t,e):void ee()}function CT(t){return t instanceof qe?function(e){return`${e.field.canonicalString()} ${e.op} ${Eo(e.value)}`}(t):t instanceof In?function(e){return e.op.toString()+" {"+e.getFilters().map(CT).join(" ,")+"}"}(t):"Filter"}class y$ extends qe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class w$ extends qe{constructor(e,n){super(e,"in",n),this.keys=_T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b$ extends qe{constructor(e,n){super(e,"not-in",n),this.keys=_T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _T(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class E$ extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sy(n)&&Fl(n.arrayValue,this.value)}}class x$ extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class C$ extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fl(this.value.arrayValue,n)}}class _$ extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function qb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new S$(t,e,n,r,i,s,o)}function oy(t){const e=re(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Eo(r)).join(",")),e.dt=n}return e.dt}function ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wb(t.startAt,e.startAt)&&Wb(t.endAt,e.endAt)}function Ym(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function T$(t,e,n,r,i,s,o,a){return new yc(t,e,n,r,i,s,o,a)}function ly(t){return new yc(t)}function Kb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ST(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function cy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function TT(t){return t.collectionGroup!==null}function no(t){const e=re(t);if(e.wt===null){e.wt=[];const n=cy(e),r=ST(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Wa(n)),e.wt.push(new Wa(yt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Wa(yt.keyField(),s))}}}return e.wt}function Er(t){const e=re(t);if(!e._t)if(e.limitType==="F")e._t=qb(e.path,e.collectionGroup,no(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of no(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Wa(s.field,o))}const r=e.endAt?new Bh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bh(e.startAt.position,e.startAt.inclusive):null;e._t=qb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Qm(t,e){e.getFirstInequalityField(),cy(t);const n=t.filters.concat([e]);return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xm(t,e,n){return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qd(t,e){return ay(Er(t),Er(e))&&t.limitType===e.limitType}function kT(t){return`${oy(Er(t))}|lt:${t.limitType}`}function Jm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>CT(r)).join(", ")}]`),Wd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Eo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Eo(r)).join(",")),`Target(${n})`}(Er(t))}; limitType=${t.limitType})`}function Kd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Y.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of no(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Hb(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,no(n),r)||n.endAt&&!function(i,s,o){const a=Hb(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,no(n),r))}(t,e)}function k$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NT(t){return(e,n)=>{let r=!1;for(const i of no(t)){const s=N$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function N$(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?bo(a,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new Le(Y.comparator);function xr(){return I$}const IT=new Le(Y.comparator);function _a(...t){let e=IT;for(const n of t)e=e.insert(n.key,n);return e}function RT(t){let e=IT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hi(){return qa()}function OT(){return qa()}function qa(){return new Ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const R$=new Le(Y.comparator),O$=new Et(Y.comparator);function le(...t){let e=O$;for(const n of t)e=e.add(n);return e}const P$=new Et(fe);function A$(){return P$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function AT(t){return{integerValue:""+t}}function D$(t,e){return d$(e)?AT(e):PT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function M$(t,e,n){return t instanceof Uh?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ry(i)&&(i=iy(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof $l?MT(t,e):t instanceof zl?LT(t,e):function(r,i){const s=DT(r,i),o=Gb(s)+Gb(r.gt);return Km(s)&&Km(r.gt)?AT(o):PT(r.serializer,o)}(t,e)}function L$(t,e,n){return t instanceof $l?MT(t,e):t instanceof zl?LT(t,e):n}function DT(t,e){return t instanceof Hh?Km(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Uh extends Gd{}class $l extends Gd{constructor(e){super(),this.elements=e}}function MT(t,e){const n=FT(e);for(const r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}class zl extends Gd{constructor(e){super(),this.elements=e}}function LT(t,e){let n=FT(e);for(const r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}class Hh extends Gd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Gb(t){return He(t.integerValue||t.doubleValue)}function FT(t){return sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function F$(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof $l&&r instanceof $l||n instanceof zl&&r instanceof zl?wo(n.elements,r.elements,Kn):n instanceof Hh&&r instanceof Hh?Kn(n.gt,r.gt):n instanceof Uh&&r instanceof Uh}(t.transform,e.transform)}class $${constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function $T(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jT(t.key,fr.none()):new wc(t.key,t.data,fr.none());{const n=t.data,r=rn.empty();let i=new Et(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vs(t.key,r,new Cn(i.toArray()),fr.none())}}function z$(t,e,n){t instanceof wc?function(r,i,s){const o=r.value.clone(),a=Qb(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof vs?function(r,i,s){if(!Bu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Qb(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(zT(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof wc?function(i,s,o,a){if(!Bu(i.precondition,s))return o;const l=i.value.clone(),c=Xb(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof vs?function(i,s,o,a){if(!Bu(i.precondition,s))return o;const l=Xb(i.fieldTransforms,a,s),c=s.data;return c.setAll(zT(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return Bu(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function j$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=DT(r.transform,i||null);s!=null&&(n===null&&(n=rn.empty()),n.set(r.field,s))}return n||null}function Yb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&wo(n,r,(i,s)=>F$(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wc extends Yd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends Yd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qb(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,L$(o,a,n[i]))}return r}function Xb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,M$(s,o,e))}return r}class jT extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V$ extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&z$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$T(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,r)=>Yb(n,r))&&wo(this.baseMutations,e.baseMutations,(n,r)=>Yb(n,r))}}class uy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=R$;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,ue;function W$(t){switch(t){default:return ee();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function VT(t){if(t===void 0)return br("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ue.OK:return M.OK;case Ue.CANCELLED:return M.CANCELLED;case Ue.UNKNOWN:return M.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return M.INTERNAL;case Ue.UNAVAILABLE:return M.UNAVAILABLE;case Ue.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ue.NOT_FOUND:return M.NOT_FOUND;case Ue.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ue.ABORTED:return M.ABORTED;case Ue.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ue.DATA_LOSS:return M.DATA_LOSS;default:return ee()}}(ue=Ue||(Ue={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ou}static getOrCreateInstance(){return ou===null&&(ou=new hy),ou}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ou=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=new to([4294967295,4294967295],0);function Jb(t){const e=q$().encode(t),n=new XF;return n.update(e),new Uint8Array(n.digest())}function Zb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new to([n,r],0),new to([i,s],0)]}class dy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sa(`Invalid padding: ${n}`);if(r<0)throw new Sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sa(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=to.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(to.fromNumber(r)));return i.compare(K$)===1&&(i=new to([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Jb(e),[r,i]=Zb(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Jb(e),[r,i]=Zb(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qd(ne.min(),i,new Le(fe),xr(),le())}}class bc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class BT{constructor(e,n){this.targetId=e,this.Vt=n}}class UT{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class e1{constructor(){this.St=0,this.Dt=n1(),this.Ct=_t.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=le(),n=le(),r=le();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new bc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=n1()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class G${constructor(e){this.Gt=e,this.Qt=new Map,this.jt=xr(),this.zt=t1(),this.Wt=new Le(fe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ym(o))if(i===0){const a=new Y(o.path);this.Yt(r,a,vt.newNoDocument(a,ne.min()))}else ke(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=hy.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,h){var f,p,g,m,w,v;const y={localCacheCount:u,existenceFilterCount:h.count},x=h.unchangedNames;return x&&(y.bloomFilter={applied:c===0,hashCount:(f=x==null?void 0:x.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(m=(g=(p=x==null?void 0:x.bits)===null||p===void 0?void 0:p.bitmap)===null||g===void 0?void 0:g.length)!==null&&m!==void 0?m:0,padding:(v=(w=x==null?void 0:x.bits)===null||w===void 0?void 0:w.padding)!==null&&v!==void 0?v:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=ls(s).toUint8Array()}catch(u){if(u instanceof vT)return yo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new dy(l,o,a)}catch(u){return yo(u instanceof Sa?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ym(a.target)){const l=new Y(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,vt.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=le();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Qd(e,n,this.Wt,this.jt,r);return this.jt=xr(),this.zt=t1(),this.Wt=new Le(fe),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new e1,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Et(fe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new e1),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function t1(){return new Le(Y.comparator)}function n1(){return new Le(Y.comparator)}const Y$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Q$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),X$=(()=>({and:"AND",or:"OR"}))();class J${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(t,e){return t.useProto3Json||Wd(e)?e:{value:e}}function Wh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z$(t,e){return Wh(t,e.toTimestamp())}function Wn(t){return ke(!!t),ne.fromTimestamp(function(e){const n=ui(e);return new Xe(n.seconds,n.nanos)}(t))}function fy(t,e){return function(n){return new Se(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function WT(t){const e=Se.fromString(t);return ke(YT(e)),e}function eg(t,e){return fy(t.databaseId,e.path)}function cp(t,e){const n=WT(e);if(n.get(1)!==t.databaseId.projectId)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(qT(n))}function tg(t,e){return fy(t.databaseId,e)}function e4(t){const e=WT(t);return e.length===4?Se.emptyPath():qT(e)}function ng(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qT(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function r1(t,e,n){return{name:eg(t,e),fields:n.value.mapValue.fields}}function t4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(ke(c===void 0||typeof c=="string"),_t.fromBase64String(c||"")):(ke(c===void 0||c instanceof Uint8Array),_t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?M.UNKNOWN:VT(l.code);return new H(c,l.message||"")}(o);n=new UT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cp(t,r.document.name),s=Wn(r.document.updateTime),o=r.document.createTime?Wn(r.document.createTime):ne.min(),a=new rn({mapValue:{fields:r.document.fields}}),l=vt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Uu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cp(t,r.document),s=r.readTime?Wn(r.readTime):ne.min(),o=vt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Uu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cp(t,r.document),s=r.removedTargetIds||[];n=new Uu([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new H$(i,s),a=r.targetId;n=new BT(a,o)}}return n}function n4(t,e){let n;if(e instanceof wc)n={update:r1(t,e.key,e.value)};else if(e instanceof jT)n={delete:eg(t,e.key)};else if(e instanceof vs)n={update:r1(t,e.key,e.data),updateMask:h4(e.fieldMask)};else{if(!(e instanceof V$))return ee();n={verify:eg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Uh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof $l)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hh)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Z$(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(t,e.precondition)),n}function r4(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Wn(r.updateTime):Wn(i);return s.isEqual(ne.min())&&(s=Wn(i)),new $$(s,r.transformResults||[])}(n,e))):[]}function i4(t,e){return{documents:[tg(t,e.path)]}}function s4(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=tg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return GT(In.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Ns(u.field),direction:l4(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Zm(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function o4(t){let e=e4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const h=KT(u);return h instanceof In&&ET(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Wa(Is(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Wd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new Bh(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new Bh(f,h)}(n.endAt)),T$(e,i,o,s,a,"F",l,c)}function a4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Is(e.unaryFilter.field);return qe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Is(e.unaryFilter.field);return qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Is(e.unaryFilter.field);return qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Is(e.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(e){return qe.create(Is(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return In.create(e.compositeFilter.filters.map(n=>KT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ee()}}(e.compositeFilter.op))}(t):ee()}function l4(t){return Y$[t]}function c4(t){return Q$[t]}function u4(t){return X$[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function Is(t){return yt.fromServerFormat(t.fieldPath)}function GT(t){return t instanceof qe?function(e){if(e.op==="=="){if(Ub(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NAN"}};if(Bb(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Ub(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NOT_NAN"}};if(Bb(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(e.field),op:c4(e.op),value:e.value}}}(t):t instanceof In?function(e){const n=e.getFilters().map(r=>GT(r));return n.length===1?n[0]:{compositeFilter:{op:u4(e.op),filters:n}}}(t):ee()}function h4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=_t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.fe=e}}function f4(t){const e=o4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.rn=new m4}addToCollectionParentIndex(e,n){return this.rn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ci.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class m4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xo(0)}static Mn(){return new xo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.changes=new Ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,Cn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=Hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_a();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xr();const o=qa(),a=qa();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof vs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ka(u.mutation,c,u.mutation.getFieldMask(),Xe.now())):o.set(c.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new v4(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qa();let i=new Le((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Cn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=OT();u.forEach(f=>{if(!s.has(f)){const p=$T(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Y.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Hi());let a=-1,l=s;return o.next(c=>$.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,le())).next(u=>({batchId:a,changes:RT(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=_a();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=_a();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,a=>{const l=function(c,u){return new yc(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,vt.newInvalidDocument(c)))});let o=_a();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&Ka(c.mutation,l,Cn.empty(),Xe.now()),Kd(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return $.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Wn(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:f4(r.bundledQuery),readTime:Wn(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.overlays=new Le(Y.comparator),this.ls=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hi();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Hi(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Hi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Hi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return $.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U$(n,r));let s=this.ls.get(n);s===void 0&&(s=le(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.fs=new Et(Ze.ds),this.ws=new Et(Ze._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ze(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Y(new Se([])),r=new Ze(n,e),i=new Ze(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Y(new Se([])),r=new Ze(n,e),i=new Ze(n,e+1);let s=le();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ze(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Y.comparator(e.key,n.key)||fe(e.As,n.As)}static _s(e,n){return fe(e.As,n.As)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Et(Ze.ds)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(fe);return n.forEach(i=>{const s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),$.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new Ze(new Y(s),0);let a=new Et(fe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),$.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return $.forEach(n.mutations,i=>{const s=new Ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ze(n,0),i=this.Rs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.Ds=e,this.docs=new Le(Y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xr();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||c$(l$(u),r)<=0||(i.has(u.key)||Kd(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Cs(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C4(this)}getSize(e){return $.resolve(this.size)}}class C4 extends g4{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.persistence=e,this.xs=new Ko(n=>oy(n),ay),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Ns=0,this.ks=new py,this.targetCount=0,this.Ms=xo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),$.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Fn(n),$.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n){this.$s={},this.overlays={},this.Os=new ny(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new _4(this),this.indexManager=new p4,this.remoteDocumentCache=function(r){return new x4(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new d4(n),this.qs=new w4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new E4(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new T4(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return $.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class T4 extends h${constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Qs=new py,this.js=null}static zs(e){return new my(e)}get Ws(){if(this.js)return this.js;throw ee()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),$.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ws,r=>{const i=Y.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return $.or([()=>$.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Kb(n))return $.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xm(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Xm(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return Kb(n)||i.isEqual(ne.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Fb()<=de.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jm(n)),this.Wi(e,o,n,a$(i,-1)))})}ji(e,n){let r=new Et(NT(e));return n.forEach((i,s)=>{Kd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Fb()<=de.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Jm(n)),this.Ui.getDocumentsMatchingQuery(e,n,ci.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Le(fe),this.Yi=new Ko(s=>oy(s),ay),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function I4(t,e,n,r){return new N4(t,e,n,r)}async function QT(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function R4(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=$.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(g=>{const m=l.docVersions.get(p);ke(m!==null),g.version.compareTo(m)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XT(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function O4(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(_t.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(g,m,w){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,u)&&a.push(n.Bs.updateTargetData(s,p))});let l=xr(),c=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(P4(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(ne.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(h=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function P4(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function A4(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D4(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Br(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function rg(t,e,n){const r=re(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vc(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function i1(t,e,n){const r=re(t);let i=ne.min(),s=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=re(a),h=u.Yi.get(c);return h!==void 0?$.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(r,o,Er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:le())).next(a=>(M4(r,k$(e),a),{documents:a,ir:s})))}function M4(t,e,n){let r=t.Xi.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class s1{constructor(){this.activeTargetIds=A$()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L4{constructor(){this.Hr=new s1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new s1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function up(){return au===null?au=268435456+Math.round(2147483648*Math.random()):au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class j4 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=up(),a=this.To(e,n);q("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(q("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw yo("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=$4[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=up();return new Promise((o,a)=>{const l=new QF;l.setWithCredentials(!0),l.listenOnce(KF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lp.NO_ERROR:const u=l.getResponseJson();q(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case lp.TIMEOUT:q(ft,`RPC '${e}' ${s} timed out`),a(new H(M.DEADLINE_EXCEEDED,"Request time out"));break;case lp.HTTP_ERROR:const h=l.getStatus();if(q(ft,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(m){const w=m.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(w)>=0?w:M.UNKNOWN}(p.status);a(new H(g,p.message))}else a(new H(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(M.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{q(ft,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=up(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WF(),a=qF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new YF({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");q(ft,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const g=new z4({ro:w=>{p?q(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(q(ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),q(ft,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},oo:()=>h.close()}),m=(w,v,y)=>{w.listen(v,x=>{try{y(x)}catch(C){setTimeout(()=>{throw C},0)}})};return m(h,ru.EventType.OPEN,()=>{p||q(ft,`RPC '${e}' stream ${i} transport opened.`)}),m(h,ru.EventType.CLOSE,()=>{p||(p=!0,q(ft,`RPC '${e}' stream ${i} transport closed`),g.wo())}),m(h,ru.EventType.ERROR,w=>{p||(p=!0,yo(ft,`RPC '${e}' stream ${i} transport errored:`,w),g.wo(new H(M.UNAVAILABLE,"The operation could not be completed")))}),m(h,ru.EventType.MESSAGE,w=>{var v;if(!p){const y=w.data[0];ke(!!y);const x=y,C=x.error||((v=x[0])===null||v===void 0?void 0:v.error);if(C){q(ft,`RPC '${e}' stream ${i} received error:`,C);const _=C.status;let S=function(k){const I=Ue[k];if(I!==void 0)return VT(I)}(_),T=C.message;S===void 0&&(S=M.INTERNAL,T="Unknown error status: "+_+" with message "+C.message),p=!0,g.wo(new H(S,T)),h.close()}else q(ft,`RPC '${e}' stream ${i} received:`,y),g._o(y)}}),m(a,GF.STAT_EVENT,w=>{w.stat===Mb.PROXY?q(ft,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Mb.NOPROXY&&q(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){return new J$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new JT(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new H(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V4 extends ZT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=t4(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Wn(s.readTime):ne.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ng(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Ym(a)?{documents:i4(i,a)}:{query:s4(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=HT(i,s.resumeToken);const l=Zm(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){o.readTime=Wh(i,s.snapshotVersion.toTimestamp());const l=Zm(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=a4(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ng(this.serializer),n.removeTarget=e,this.Wo(n)}}class B4 extends ZT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=r4(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.cu(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ng(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n4(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class H4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(br(n),this.mu=!1):q("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{ys(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=re(a);l.vu.add(4),await Ec(l),l.bu.set("Unknown"),l.vu.delete(4),await Jd(l)}(this))})}),this.bu=new H4(r,i)}}async function Jd(t){if(ys(t))for(const e of t.Ru)await e(!0)}async function Ec(t){for(const e of t.Ru)await e(!1)}function ek(t,e){const n=re(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),wy(n)?yy(n):Go(n).Ko()&&vy(n,e))}function tk(t,e){const n=re(t),r=Go(n);n.Au.delete(e),r.Ko()&&nk(n,e),n.Au.size===0&&(r.Ko()?r.jo():ys(n)&&n.bu.set("Unknown"))}function vy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(t).su(e)}function nk(t,e){t.Vu.qt(e),Go(t).iu(e)}function yy(t){t.Vu=new G$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Go(t).start(),t.bu.gu()}function wy(t){return ys(t)&&!Go(t).Uo()&&t.Au.size>0}function ys(t){return re(t).vu.size===0}function rk(t){t.Vu=void 0}async function q4(t){t.Au.forEach((e,n)=>{vy(t,e)})}async function K4(t,e){rk(t),wy(t)?(t.bu.Iu(e),yy(t)):t.bu.set("Unknown")}async function G4(t,e,n){if(t.bu.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(t,r)}else if(e instanceof Uu?t.Vu.Ht(e):e instanceof BT?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ne.min()))try{const r=await XT(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(_t.EMPTY_BYTE_STRING,c.snapshotVersion)),nk(i,a);const u=new Br(c.target,a,l,c.sequenceNumber);vy(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await qh(t,r)}}async function qh(t,e,n){if(!vc(e))throw e;t.vu.add(1),await Ec(t),t.bu.set("Offline"),n||(n=()=>XT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Jd(t)})}function ik(t,e){return e().catch(n=>qh(t,n,e))}async function Zd(t){const e=re(t),n=hi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Y4(e);)try{const i=await A4(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,Q4(e,i)}catch(i){await qh(e,i)}sk(e)&&ok(e)}function Y4(t){return ys(t)&&t.Eu.length<10}function Q4(t,e){t.Eu.push(e);const n=hi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function sk(t){return ys(t)&&!hi(t).Uo()&&t.Eu.length>0}function ok(t){hi(t).start()}async function X4(t){hi(t).hu()}async function J4(t){const e=hi(t);for(const n of t.Eu)e.uu(n.mutations)}async function Z4(t,e,n){const r=t.Eu.shift(),i=uy.from(r,e,n);await ik(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zd(t)}async function ez(t,e){e&&hi(t).ou&&await async function(n,r){if(i=r.code,W$(i)&&i!==M.ABORTED){const s=n.Eu.shift();hi(n).Qo(),await ik(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Zd(n)}var i}(t,e),sk(t)&&ok(t)}async function a1(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=ys(n);n.vu.add(3),await Ec(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Jd(n)}async function tz(t,e){const n=re(t);e?(n.vu.delete(2),await Jd(n)):e||(n.vu.add(2),await Ec(n),n.bu.set("Unknown"))}function Go(t){return t.Su||(t.Su=function(e,n,r){const i=re(e);return i.fu(),new V4(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:q4.bind(null,t),ao:K4.bind(null,t),nu:G4.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),wy(t)?yy(t):t.bu.set("Unknown")):(await t.Su.stop(),rk(t))})),t.Su}function hi(t){return t.Du||(t.Du=function(e,n,r){const i=re(e);return i.fu(),new B4(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:X4.bind(null,t),ao:ez.bind(null,t),au:J4.bind(null,t),cu:Z4.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Zd(t)):(await t.Du.stop(),t.Eu.length>0&&(q("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new by(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(t,e){if(br("AsyncQueue",`${e}: ${t}`),vc(t))return new H(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=_a(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.Cu=new Le(Y.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ee():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Co{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Co(e,n,ro.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.Nu=void 0,this.listeners=[]}}class rz{constructor(){this.queries=new Ko(e=>kT(e),qd),this.onlineState="Unknown",this.ku=new Set}}async function ak(t,e){const n=re(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new nz),i)try{s.Nu=await n.onListen(r)}catch(o){const a=Ey(o,`Initialization of query '${Jm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&xy(n)}async function lk(t,e){const n=re(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iz(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&xy(n)}function sz(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xy(t){t.ku.forEach(e=>{e.next()})}class ck{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.key=e}}class hk{constructor(e){this.key=e}}class oz{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=le(),this.mutatedKeys=le(),this.tc=NT(e),this.ec=new ro(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new l1,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),p=Kd(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?g!==m&&(r.track({type:3,doc:p}),w=!0):this.rc(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.tc(p,l)>0||c&&this.tc(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return p(h)-p(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Co(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new l1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=le(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new hk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new uk(r))}),n}hc(e){this.Yu=e.ir,this.Zu=le();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Co.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class az{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lz{constructor(e){this.key=e,this.fc=!1}}class cz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ko(a=>kT(a),qd),this._c=new Map,this.mc=new Set,this.gc=new Le(Y.comparator),this.yc=new Map,this.Ic=new py,this.Tc={},this.Ec=new Map,this.Ac=xo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function uz(t,e){const n=bz(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await D4(n.localStore,Er(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await hz(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&ek(n.remoteStore,o)}return i}async function hz(t,e,n,r,i){t.Rc=(h,f,p)=>async function(g,m,w,v){let y=m.view.sc(w);y.zi&&(y=await i1(g.localStore,m.query,!1).then(({documents:_})=>m.view.sc(_,y)));const x=v&&v.targetChanges.get(m.targetId),C=m.view.applyChanges(y,g.isPrimaryClient,x);return u1(g,m.targetId,C.cc),C.snapshot}(t,h,f,p);const s=await i1(t.localStore,e,!0),o=new oz(e,s.ir),a=o.sc(s.documents),l=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);u1(t,n,c.cc);const u=new az(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function dz(t,e){const n=re(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!qd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await rg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),tk(n.remoteStore,r.targetId),ig(n,r.targetId)}).catch(gc)):(ig(n,r.targetId),await rg(n.localStore,r.targetId,!0))}async function fz(t,e,n){const r=Ez(t);try{const i=await function(s,o){const a=re(s),l=Xe.now(),c=o.reduce((f,p)=>f.add(p.key),le());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=xr(),g=le();return a.Zi.getEntries(f,c).next(m=>{p=m,p.forEach((w,v)=>{v.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(m=>{u=m;const w=[];for(const v of o){const y=j$(v,u.get(v.key).overlayedDocument);y!=null&&w.push(new vs(v.key,y,yT(y.value.mapValue),fr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,w,o)}).next(m=>{h=m;const w=m.applyToLocalDocumentSet(u,g);return a.documentOverlayCache.saveOverlays(f,m.batchId,w)})}).then(()=>({batchId:h.batchId,changes:RT(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Le(fe)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await xc(r,i.changes),await Zd(r.remoteStore)}catch(i){const s=Ey(i,"Failed to persist write");n.reject(s)}}async function dk(t,e){const n=re(t);try{const r=await O4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?ke(o.fc):i.removedDocuments.size>0&&(ke(o.fc),o.fc=!1))}),await xc(n,r,e)}catch(r){await gc(r)}}function c1(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=re(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&xy(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pz(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Le(Y.comparator);o=o.insert(s,vt.newNoDocument(s,ne.min()));const a=le().add(s),l=new Qd(ne.min(),new Map,new Le(fe),o,a);await dk(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Cy(r)}else await rg(r.localStore,e,!1).then(()=>ig(r,e,n)).catch(gc)}async function mz(t,e){const n=re(t),r=e.batch.batchId;try{const i=await R4(n.localStore,e);pk(n,r,null),fk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xc(n,i)}catch(i){await gc(i)}}async function gz(t,e,n){const r=re(t);try{const i=await function(s,o){const a=re(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(ke(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);pk(r,e,n),fk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xc(r,i)}catch(i){await gc(i)}}function fk(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function pk(t,e,n){const r=re(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ig(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||mk(t,r)})}function mk(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(tk(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Cy(t))}function u1(t,e,n){for(const r of n)r instanceof uk?(t.Ic.addReference(r.key,e),vz(t,r)):r instanceof hk?(q("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||mk(t,r.key)):ee()}function vz(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(q("SyncEngine","New document in limbo: "+n),t.mc.add(r),Cy(t))}function Cy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Y(Se.fromString(e)),r=t.Ac.next();t.yc.set(r,new lz(n)),t.gc=t.gc.insert(n,r),ek(t.remoteStore,new Br(Er(ly(n.path)),r,"TargetPurposeLimboResolution",ny.ct))}}async function xc(t,e,n){const r=re(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=gy.Li(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const c=re(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>$.forEach(l,h=>$.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>$.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!vc(u))throw u;q("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ji.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.Ji=c.Ji.insert(h,g)}}}(r.localStore,s))}async function yz(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await QT(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new H(M.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xc(n,r.er)}}function wz(t,e){const n=re(t),r=n.yc.get(e);if(r&&r.fc)return le().add(r.key);{let i=le();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function bz(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pz.bind(null,e),e.dc.nu=iz.bind(null,e.eventManager),e.dc.Pc=sz.bind(null,e.eventManager),e}function Ez(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gz.bind(null,e),e}class h1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return I4(this.persistence,new k4,e.initialUser,this.serializer)}createPersistence(e){return new S4(my.zs,this.serializer)}createSharedClientState(e){return new L4}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class xz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yz.bind(null,this.syncEngine),await tz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rz}createDatastore(e){const n=Xd(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new j4(i));var i;return function(s,o,a,l){return new U4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>c1(this.syncEngine,a,0),o=o1.D()?new o1:new F4,new W4(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new cz(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=re(e);q("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Ec(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=mT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ey(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sz(t);q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>a1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>a1(e.remoteStore,s)),t._onlineComponents=e}function _z(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Sz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_z(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await dp(t,new h1)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await dp(t,new h1);return t._offlineComponents}async function vk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await d1(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await d1(t,new xz))),t._onlineComponents}function Tz(t){return vk(t).then(e=>e.syncEngine)}async function yk(t){const e=await vk(t),n=e.eventManager;return n.onListen=uz.bind(null,e.syncEngine),n.onUnlisten=dz.bind(null,e.syncEngine),n}function kz(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new gk({next:h=>{s.enqueueAndForget(()=>lk(i,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new H(M.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new H(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new ck(ly(o.path),c,{includeMetadataChanges:!0,Ku:!0});return ak(i,u)}(await yk(t),t.asyncQueue,e,n,r)),r.promise}function Nz(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new gk({next:h=>{s.enqueueAndForget(()=>lk(i,u)),h.fromCache&&a.source==="server"?l.reject(new H(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new ck(o,c,{includeMetadataChanges:!0,Ku:!0});return ak(i,u)}(await yk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e,n){if(!n)throw new H(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Iz(t,e,n,r){if(e===!0&&r===!0)throw new H(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p1(t){if(!Y.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m1(t){if(Y.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function us(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(t);throw new H(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Iz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class tf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g1(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new JF;switch(n.type){case"firstParty":return new n$(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=f1.get(e);n&&(q("ComponentProvider","Removing Datastore"),f1.delete(e),n.terminate())}(this),Promise.resolve()}}function Rz(t,e,n,r={}){var i;const s=(t=us(t,tf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=vA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(c)}t._authCredentials=new ZF(new pT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class Yo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class si extends Yo{constructor(e,n,r){super(e,n,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Y(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function Hu(t,e,...n){if(t=Rt(t),bk("collection","path",e),t instanceof tf){const r=Se.fromString(e,...n);return m1(r),new si(t,null,r)}{if(!(t instanceof jt||t instanceof si))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return m1(r),new si(t.firestore,null,r)}}function Ek(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=mT.A()),bk("doc","path",e),t instanceof tf){const r=Se.fromString(e,...n);return p1(r),new jt(t,null,new Y(r))}{if(!(t instanceof jt||t instanceof si))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return p1(r),new jt(t.firestore,t instanceof si?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new JT(this,"async_queue_retry"),this.Xc=()=>{const n=hp();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=hp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new dr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!vc(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=by.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ee()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class nf extends tf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Oz,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xk(this),this._firestoreClient.terminate()}}function Pz(t,e){const n=typeof t=="object"?t:R_(),r=typeof t=="string"?t:e||"(default)",i=Cv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mA("firestore");s&&Rz(i,...s)}return i}function _y(t){return t._firestoreClient||xk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xk(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,c){return new p$(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Cz(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(_t.fromBase64String(e))}catch(n){throw new H(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _o(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=/^__.*__$/;class Dz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}function _k(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class ky{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(_k(this.ca)&&Az.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Mz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xd(e)}ya(e,n,r,i=!1){return new ky({ca:e,methodName:n,ga:r,path:yt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sk(t){const e=t._freezeSettings(),n=Xd(t._databaseId);return new Mz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lz(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Nk("Data must be an object, but it was:",o,r);const a=Tk(r,o);let l,c;if(s.merge)l=new Cn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=$z(e,h,n);if(!o.contains(f))throw new H(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jz(u,f)||u.push(f)}l=new Cn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Dz(new rn(a),l,c)}function Fz(t,e,n,r=!1){return Ny(n,t.ya(r?4:3,e))}function Ny(t,e){if(kk(t=Rt(t)))return Nk("Unsupported field value:",e,t),Tk(t,e);if(t instanceof Ck)return function(n,r){if(!_k(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ny(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Rt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return D$(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Xe.fromDate(n);return{timestampValue:Wh(r.serializer,i)}}if(n instanceof Xe){const i=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Wh(r.serializer,i)}}if(n instanceof Ty)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _o)return{bytesValue:HT(r.serializer,n._byteString)};if(n instanceof jt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${ef(n)}`)}(t,e)}function Tk(t,e){const n={};return gT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,i)=>{const s=Ny(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function kk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Ty||t instanceof _o||t instanceof jt||t instanceof Ck)}function Nk(t,e,n){if(!kk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ef(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function $z(t,e,n){if((e=Rt(e))instanceof Sy)return e._internalPath;if(typeof e=="string")return Ik(t,e);throw Kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const zz=new RegExp("[~\\*/\\[\\]]");function Ik(t,e,n){if(e.search(zz)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sy(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(M.INVALID_ARGUMENT,a+t+l)}function jz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vz extends Rk{data(){return super.data()}}function Iy(t,e){return typeof e=="string"?Ik(t,e):e instanceof Sy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ry{}class Uz extends Ry{}function Hz(t,e,...n){let r=[];e instanceof Ry&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Oy).length,o=i.filter(a=>a instanceof rf).length;if(s>1||s>0&&o>0)throw new H(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rf extends Uz{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rf(e,n,r)}_apply(e){const n=this._parse(e);return Ok(e._query,n),new Yo(e.firestore,e.converter,Qm(e._query,n))}_parse(e){const n=Sk(e.firestore);return function(i,s,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new H(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){y1(u,c);const f=[];for(const p of u)f.push(v1(a,i,p));h={arrayValue:{values:f}}}else h=v1(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||y1(u,c),h=Fz(o,s,u,c==="in"||c==="not-in");return qe.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wz(t,e,n){const r=e,i=Iy("where",t);return rf._create(i,r,n)}class Oy extends Ry{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Oy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Ok(s,a),s=Qm(s,a)}(e._query,n),new Yo(e.firestore,e.converter,Qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function v1(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new H(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TT(e)&&n.indexOf("/")!==-1)throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!Y.isDocumentKey(r))throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vb(t,new Y(r))}if(n instanceof jt)return Vb(t,n._key);throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function y1(t,e){if(!Array.isArray(t)||t.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ok(t,e){if(e.isInequality()){const r=cy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new H(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=ST(t);s!==null&&qz(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qz(t,e,n){if(!n.isEqual(e))throw new H(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Kz{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ty(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const n=ui(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ke(YT(r));const i=new Ll(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pk extends Rk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wu extends Pk{data(e={}){return super.data(e)}}class Yz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wu(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Wu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Wu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Qz(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Qz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t){t=us(t,jt);const e=us(t.firestore,nf);return kz(_y(e),t._key).then(n=>ej(e,t,n))}class Ak extends Kz{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function qu(t){t=us(t,Yo);const e=us(t.firestore,nf),n=_y(e),r=new Ak(e);return Bz(t._query),Nz(n,t._query).then(i=>new Yz(e,r,t,i))}function Jz(t,e,n){t=us(t,jt);const r=us(t.firestore,nf),i=Gz(t.converter,e,n);return Zz(r,[Lz(Sk(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fr.none())])}function Zz(t,e){return function(n,r){const i=new dr;return n.asyncQueue.enqueueAndForget(async()=>fz(await Tz(n),r,i)),i.promise}(_y(t),e)}function ej(t,e,n){const r=n.docs.get(e._key),i=new Ak(t);return new Pk(t,i,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Wo=n})($o),go(new rs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new nf(new e$(n.getProvider("auth-internal")),new i$(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new H(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ii(Lb,"3.13.0",t),ii(Lb,"3.13.0","esm2017")})();const tj={apiKey:"AIzaSyAcGGE37ZiTFcz8mo1pSECvDCDOXdzbSHY",authDomain:"fitnesspro-36d8b.firebaseapp.com",projectId:"fitnesspro-36d8b",storageBucket:"fitnesspro-36d8b.firebasestorage.app",messagingSenderId:"881881913799",appId:"1:881881913799:web:08399068acd96e83f0e1e2",measurementId:"G-G3XJ0741CW"},Dk=I_(tj),Ku=HL(Dk),io=Pz(Dk),Mk=b.createContext();function nj({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState(null),[s,o]=b.useState(!0);function a(c,u){return NM(Ku,c,u)}function l(){return PM(Ku)}return b.useEffect(()=>{const c=OM(Ku,async u=>{var h;if(n(u),u)try{const f=await Xz(Ek(io,"users",u.uid));i(((h=f.data())==null?void 0:h.role)??null)}catch{i(null)}else i(null);o(!1)});return()=>c()},[]),D.jsx(Mk.Provider,{value:{user:e,role:r,loading:s,login:a,logout:l},children:t})}function sf(){return b.useContext(Mk)}var N=function(){return N=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N.apply(this,arguments)};function P(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function w1(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Lk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fk={exports:{}},fp,b1;function rj(){if(b1)return fp;b1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fp=t,fp}var pp,E1;function ij(){if(E1)return pp;E1=1;var t=rj();function e(){}function n(){}return n.resetWarningCache=e,pp=function(){function r(o,a,l,c,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},pp}Fk.exports=ij()();var sj=Fk.exports,d=Lk(sj),$k={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})($k);var oj=$k.exports,O=Lk(oj),zk=b.createContext({}),jk=b.forwardRef(function(t,e){var n=t.children,r=t.activeItemKey,i=t.alwaysOpen,s=i===void 0?!1:i,o=t.className,a=t.flush,l=P(t,["children","activeItemKey","alwaysOpen","className","flush"]),c=b.useState(r),u=c[0],h=c[1];return E.createElement("div",N({className:O("accordion",{"accordion-flush":a},o)},l,{ref:e}),E.createElement(zk.Provider,{value:{_activeItemKey:u,alwaysOpen:s,setActiveKey:h}},n))});jk.propTypes={alwaysOpen:d.bool,activeItemKey:d.oneOfType([d.number,d.string]),children:d.node,className:d.string,flush:d.bool};jk.displayName="CAccordion";var Py=b.createContext({}),Vk=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.itemKey,s=P(t,["children","className","itemKey"]),o=b.useRef(i??Math.random().toString(36).slice(2,11)),a=b.useContext(zk),l=a._activeItemKey,c=a.alwaysOpen,u=a.setActiveKey,h=b.useState(l===o.current),f=h[0],p=h[1];return b.useEffect(function(){!c&&f&&u(o.current)},[f]),b.useEffect(function(){p(l===o.current)},[l]),E.createElement("div",N({className:O("accordion-item",r)},s,{ref:e}),E.createElement(Py.Provider,{value:{setVisible:p,visible:f}},n))});Vk.propTypes={children:d.node,className:d.string,itemKey:d.oneOfType([d.number,d.string])};Vk.displayName="CAccordionItem";function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function Bk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function og(t,e){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},og(t,e)}function Uk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,og(t,e)}function aj(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function lj(t,e){t.classList?t.classList.add(e):aj(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function x1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function cj(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=x1(t.className,e):t.setAttribute("class",x1(t.className&&t.className.baseVal||"",e))}var C1={disabled:!1},Hk=E.createContext(null),Wk=function(e){return e.scrollTop},ka="unmounted",Ai="exited",Di="entering",Rs="entered",ag="exiting",kr=function(t){Uk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ai,s.appearStatus=Di):l=Rs:r.unmountOnExit||r.mountOnEnter?l=ka:l=Ai,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ka?{status:Ai}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Di&&o!==Rs&&(s=Di):(o===Di||o===Rs)&&(s=ag)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Di){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Xc.findDOMNode(this);o&&Wk(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ai&&this.setState({status:ka})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Xc.findDOMNode(this),a],c=l[0],u=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||C1.disabled){this.safeSetState({status:Rs},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Di},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:Rs},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Xc.findDOMNode(this);if(!s||C1.disabled){this.safeSetState({status:Ai},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ag},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ai},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Xc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ka)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Bk(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return E.createElement(Hk.Provider,{value:null},typeof o=="function"?o(i,a):E.cloneElement(E.Children.only(o),a))},e}(E.Component);kr.contextType=Hk;kr.propTypes={};function _s(){}kr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_s,onEntering:_s,onEntered:_s,onExit:_s,onExiting:_s,onExited:_s};kr.UNMOUNTED=ka;kr.EXITED=Ai;kr.ENTERING=Di;kr.ENTERED=Rs;kr.EXITING=ag;var Qn=kr,uj=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return lj(e,r)})},mp=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return cj(e,r)})},Ay=function(t){Uk(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],h=c[1];r.removeClasses(u,"exit"),r.addClass(u,h?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],h=c[1],f=h?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],h=c[1],f=h?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",h=c?""+u+a:l[a],f=c?h+"-active":l[a+"Active"],p=c?h+"-done":l[a+"Done"];return{baseClassName:h,activeClassName:f,doneClassName:p}},r}var n=e.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&Wk(i),a&&(this.appliedClasses[s][o]=a,uj(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,c=o.done;this.appliedClasses[s]={},a&&mp(i,a),l&&mp(i,l),c&&mp(i,c)},n.render=function(){var i=this.props;i.classNames;var s=Bk(i,["classNames"]);return E.createElement(Qn,sg({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(E.Component);Ay.defaultProps={classNames:""};Ay.propTypes={};var hj=Ay;function Tt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.useMemo(function(){return t.every(function(n){return n==null})?null:function(n){t.forEach(function(r){dj(r,n)})}},t)}function dj(t,e){if(t!=null)if(fj(t))t(e);else try{t.current=e}catch{throw new Error('Cannot assign value "'.concat(e,'" to ref "').concat(t,'"'))}}function fj(t){return!!(t&&{}.toString.call(t)=="[object Function]")}var Vt="top",fn="bottom",pn="right",Bt="left",Dy="auto",Cc=[Vt,fn,pn,Bt],So="start",jl="end",pj="clippingParents",qk="viewport",ua="popper",mj="reference",_1=Cc.reduce(function(t,e){return t.concat([e+"-"+So,e+"-"+jl])},[]),Kk=[].concat(Cc,[Dy]).reduce(function(t,e){return t.concat([e,e+"-"+So,e+"-"+jl])},[]),gj="beforeRead",vj="read",yj="afterRead",wj="beforeMain",bj="main",Ej="afterMain",xj="beforeWrite",Cj="write",_j="afterWrite",Sj=[gj,vj,yj,wj,bj,Ej,xj,Cj,_j];function Gn(t){return t?(t.nodeName||"").toLowerCase():null}function Qt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hs(t){var e=Qt(t).Element;return t instanceof e||t instanceof Element}function cn(t){var e=Qt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function My(t){if(typeof ShadowRoot>"u")return!1;var e=Qt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Tj(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!cn(s)||!Gn(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function kj(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!cn(i)||!Gn(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Nj={name:"applyStyles",enabled:!0,phase:"write",fn:Tj,effect:kj,requires:["computeStyles"]};function qn(t){return t.split("-")[0]}var Qi=Math.max,Gh=Math.min,To=Math.round;function lg(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Gk(){return!/^((?!chrome|android).)*safari/i.test(lg())}function ko(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&cn(t)&&(i=t.offsetWidth>0&&To(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&To(r.height)/t.offsetHeight||1);var o=hs(t)?Qt(t):window,a=o.visualViewport,l=!Gk()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,f=r.height/s;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function Ly(t){var e=ko(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Yk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&My(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Cr(t){return Qt(t).getComputedStyle(t)}function Ij(t){return["table","td","th"].indexOf(Gn(t))>=0}function bi(t){return((hs(t)?t.ownerDocument:t.document)||window.document).documentElement}function of(t){return Gn(t)==="html"?t:t.assignedSlot||t.parentNode||(My(t)?t.host:null)||bi(t)}function S1(t){return!cn(t)||Cr(t).position==="fixed"?null:t.offsetParent}function Rj(t){var e=/firefox/i.test(lg()),n=/Trident/i.test(lg());if(n&&cn(t)){var r=Cr(t);if(r.position==="fixed")return null}var i=of(t);for(My(i)&&(i=i.host);cn(i)&&["html","body"].indexOf(Gn(i))<0;){var s=Cr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function _c(t){for(var e=Qt(t),n=S1(t);n&&Ij(n)&&Cr(n).position==="static";)n=S1(n);return n&&(Gn(n)==="html"||Gn(n)==="body"&&Cr(n).position==="static")?e:n||Rj(t)||e}function Fy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ga(t,e,n){return Qi(t,Gh(e,n))}function Oj(t,e,n){var r=Ga(t,e,n);return r>n?n:r}function Qk(){return{top:0,right:0,bottom:0,left:0}}function Xk(t){return Object.assign({},Qk(),t)}function Jk(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Pj=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Xk(typeof e!="number"?e:Jk(e,Cc))};function Aj(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=qn(n.placement),l=Fy(a),c=[Bt,pn].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=Pj(i.padding,n),f=Ly(s),p=l==="y"?Vt:Bt,g=l==="y"?fn:pn,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],w=o[l]-n.rects.reference[l],v=_c(s),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,x=m/2-w/2,C=h[p],_=y-f[u]-h[g],S=y/2-f[u]/2+x,T=Ga(C,S,_),k=l;n.modifiersData[r]=(e={},e[k]=T,e.centerOffset=T-S,e)}}function Dj(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Yk(e.elements.popper,i)&&(e.elements.arrow=i))}var Mj={name:"arrow",enabled:!0,phase:"main",fn:Aj,effect:Dj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function No(t){return t.split("-")[1]}var Lj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fj(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:To(n*i)/i||0,y:To(r*i)/i||0}}function T1(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,g=o.y,m=g===void 0?0:g,w=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=w.x,m=w.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),x=Bt,C=Vt,_=window;if(c){var S=_c(n),T="clientHeight",k="clientWidth";if(S===Qt(n)&&(S=bi(n),Cr(S).position!=="static"&&a==="absolute"&&(T="scrollHeight",k="scrollWidth")),S=S,i===Vt||(i===Bt||i===pn)&&s===jl){C=fn;var I=h&&S===_&&_.visualViewport?_.visualViewport.height:S[T];m-=I-r.height,m*=l?1:-1}if(i===Bt||(i===Vt||i===fn)&&s===jl){x=pn;var R=h&&S===_&&_.visualViewport?_.visualViewport.width:S[k];p-=R-r.width,p*=l?1:-1}}var A=Object.assign({position:a},c&&Lj),z=u===!0?Fj({x:p,y:m},Qt(n)):{x:p,y:m};if(p=z.x,m=z.y,l){var V;return Object.assign({},A,(V={},V[C]=y?"0":"",V[x]=v?"0":"",V.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",V))}return Object.assign({},A,(e={},e[C]=y?m+"px":"",e[x]=v?p+"px":"",e.transform="",e))}function $j(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:qn(e.placement),variation:No(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,T1(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,T1(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var zj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$j,data:{}},lu={passive:!0};function jj(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Qt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,lu)}),a&&l.addEventListener("resize",n.update,lu),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,lu)}),a&&l.removeEventListener("resize",n.update,lu)}}var Vj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jj,data:{}},Bj={left:"right",right:"left",bottom:"top",top:"bottom"};function Gu(t){return t.replace(/left|right|bottom|top/g,function(e){return Bj[e]})}var Uj={start:"end",end:"start"};function k1(t){return t.replace(/start|end/g,function(e){return Uj[e]})}function $y(t){var e=Qt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function zy(t){return ko(bi(t)).left+$y(t).scrollLeft}function Hj(t,e){var n=Qt(t),r=bi(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Gk();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+zy(t),y:l}}function Wj(t){var e,n=bi(t),r=$y(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Qi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Qi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+zy(t),l=-r.scrollTop;return Cr(i||n).direction==="rtl"&&(a+=Qi(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function jy(t){var e=Cr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Zk(t){return["html","body","#document"].indexOf(Gn(t))>=0?t.ownerDocument.body:cn(t)&&jy(t)?t:Zk(of(t))}function Ya(t,e){var n;e===void 0&&(e=[]);var r=Zk(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Qt(r),o=i?[s].concat(s.visualViewport||[],jy(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ya(of(o)))}function cg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function qj(t,e){var n=ko(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function N1(t,e,n){return e===qk?cg(Hj(t,n)):hs(e)?qj(e,n):cg(Wj(bi(t)))}function Kj(t){var e=Ya(of(t)),n=["absolute","fixed"].indexOf(Cr(t).position)>=0,r=n&&cn(t)?_c(t):t;return hs(r)?e.filter(function(i){return hs(i)&&Yk(i,r)&&Gn(i)!=="body"}):[]}function Gj(t,e,n,r){var i=e==="clippingParents"?Kj(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=N1(t,c,r);return l.top=Qi(u.top,l.top),l.right=Gh(u.right,l.right),l.bottom=Gh(u.bottom,l.bottom),l.left=Qi(u.left,l.left),l},N1(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function eN(t){var e=t.reference,n=t.element,r=t.placement,i=r?qn(r):null,s=r?No(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Vt:l={x:o,y:e.y-n.height};break;case fn:l={x:o,y:e.y+e.height};break;case pn:l={x:e.x+e.width,y:a};break;case Bt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Fy(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case So:l[c]=l[c]-(e[u]/2-n[u]/2);break;case jl:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Vl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?pj:a,c=n.rootBoundary,u=c===void 0?qk:c,h=n.elementContext,f=h===void 0?ua:h,p=n.altBoundary,g=p===void 0?!1:p,m=n.padding,w=m===void 0?0:m,v=Xk(typeof w!="number"?w:Jk(w,Cc)),y=f===ua?mj:ua,x=t.rects.popper,C=t.elements[g?y:f],_=Gj(hs(C)?C:C.contextElement||bi(t.elements.popper),l,u,o),S=ko(t.elements.reference),T=eN({reference:S,element:x,strategy:"absolute",placement:i}),k=cg(Object.assign({},x,T)),I=f===ua?k:S,R={top:_.top-I.top+v.top,bottom:I.bottom-_.bottom+v.bottom,left:_.left-I.left+v.left,right:I.right-_.right+v.right},A=t.modifiersData.offset;if(f===ua&&A){var z=A[i];Object.keys(R).forEach(function(V){var X=[pn,fn].indexOf(V)>=0?1:-1,G=[Vt,fn].indexOf(V)>=0?"y":"x";R[V]+=z[G]*X})}return R}function Yj(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Kk:l,u=No(r),h=u?a?_1:_1.filter(function(g){return No(g)===u}):Cc,f=h.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=h);var p=f.reduce(function(g,m){return g[m]=Vl(t,{placement:m,boundary:i,rootBoundary:s,padding:o})[qn(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function Qj(t){if(qn(t)===Dy)return[];var e=Gu(t);return[k1(t),e,k1(e)]}function Xj(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,w=e.options.placement,v=qn(w),y=v===w,x=l||(y||!g?[Gu(w)]:Qj(w)),C=[w].concat(x).reduce(function(me,se){return me.concat(qn(se)===Dy?Yj(e,{placement:se,boundary:u,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:m}):se)},[]),_=e.rects.reference,S=e.rects.popper,T=new Map,k=!0,I=C[0],R=0;R<C.length;R++){var A=C[R],z=qn(A),V=No(A)===So,X=[Vt,fn].indexOf(z)>=0,G=X?"width":"height",W=Vl(e,{placement:A,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),Q=X?V?pn:Bt:V?fn:Vt;_[G]>S[G]&&(Q=Gu(Q));var L=Gu(Q),B=[];if(s&&B.push(W[z]<=0),a&&B.push(W[Q]<=0,W[L]<=0),B.every(function(me){return me})){I=A,k=!1;break}T.set(A,B)}if(k)for(var K=g?3:1,ie=function(se){var be=C.find(function(Je){var Rn=T.get(Je);if(Rn)return Rn.slice(0,se).every(function(Ci){return Ci})});if(be)return I=be,"break"},oe=K;oe>0;oe--){var Re=ie(oe);if(Re==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}var Jj={name:"flip",enabled:!0,phase:"main",fn:Xj,requiresIfExists:["offset"],data:{_skip:!1}};function I1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function R1(t){return[Vt,pn,fn,Bt].some(function(e){return t[e]>=0})}function Zj(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Vl(e,{elementContext:"reference"}),a=Vl(e,{altBoundary:!0}),l=I1(o,r),c=I1(a,i,s),u=R1(l),h=R1(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var e3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zj};function t3(t,e,n){var r=qn(t),i=[Bt,Vt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Bt,pn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function n3(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Kk.reduce(function(u,h){return u[h]=t3(h,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}var r3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:n3};function i3(t){var e=t.state,n=t.name;e.modifiersData[n]=eN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var s3={name:"popperOffsets",enabled:!0,phase:"read",fn:i3,data:{}};function o3(t){return t==="x"?"y":"x"}function a3(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,g=n.tetherOffset,m=g===void 0?0:g,w=Vl(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=qn(e.placement),y=No(e.placement),x=!y,C=Fy(v),_=o3(C),S=e.modifiersData.popperOffsets,T=e.rects.reference,k=e.rects.popper,I=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,R=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(S){if(s){var V,X=C==="y"?Vt:Bt,G=C==="y"?fn:pn,W=C==="y"?"height":"width",Q=S[C],L=Q+w[X],B=Q-w[G],K=p?-k[W]/2:0,ie=y===So?T[W]:k[W],oe=y===So?-k[W]:-T[W],Re=e.elements.arrow,me=p&&Re?Ly(Re):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Qk(),be=se[X],Je=se[G],Rn=Ga(0,T[W],me[W]),Ci=x?T[W]/2-K-Rn-be-R.mainAxis:ie-Rn-be-R.mainAxis,Ic=x?-T[W]/2+K+Rn+Je+R.mainAxis:oe+Rn+Je+R.mainAxis,Jo=e.elements.arrow&&_c(e.elements.arrow),_i=Jo?C==="y"?Jo.clientTop||0:Jo.clientLeft||0:0,Rc=(V=A==null?void 0:A[C])!=null?V:0,Oc=Q+Ci-Rc-_i,gf=Q+Ic-Rc,Pc=Ga(p?Gh(L,Oc):L,Q,p?Qi(B,gf):B);S[C]=Pc,z[C]=Pc-Q}if(a){var Oe,vn=C==="x"?Vt:Bt,vf=C==="x"?fn:pn,On=S[_],Ac=_==="y"?"height":"width",k0=On+w[vn],N0=On-w[vf],yf=[Vt,Bt].indexOf(v)!==-1,I0=(Oe=A==null?void 0:A[_])!=null?Oe:0,R0=yf?k0:On-T[Ac]-k[Ac]-I0+R.altAxis,O0=yf?On+T[Ac]+k[Ac]-I0-R.altAxis:N0,P0=p&&yf?Oj(R0,On,O0):Ga(p?R0:k0,On,p?O0:N0);S[_]=P0,z[_]=P0-On}e.modifiersData[r]=z}}var l3={name:"preventOverflow",enabled:!0,phase:"main",fn:a3,requiresIfExists:["offset"]};function c3(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function u3(t){return t===Qt(t)||!cn(t)?$y(t):c3(t)}function h3(t){var e=t.getBoundingClientRect(),n=To(e.width)/t.offsetWidth||1,r=To(e.height)/t.offsetHeight||1;return n!==1||r!==1}function d3(t,e,n){n===void 0&&(n=!1);var r=cn(e),i=cn(e)&&h3(e),s=bi(e),o=ko(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Gn(e)!=="body"||jy(s))&&(a=u3(e)),cn(e)?(l=ko(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=zy(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function f3(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function p3(t){var e=f3(t);return Sj.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function m3(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function g3(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var O1={placement:"bottom",modifiers:[],strategy:"absolute"};function P1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function v3(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?O1:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},O1,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},s,u.options,y),u.scrollParents={reference:hs(a)?Ya(a):a.contextElement?Ya(a.contextElement):[],popper:Ya(l)};var x=p3(g3([].concat(r,u.options.modifiers)));return u.orderedModifiers=x.filter(function(C){return C.enabled}),g(),p.update()},forceUpdate:function(){if(!f){var v=u.elements,y=v.reference,x=v.popper;if(P1(y,x)){u.rects={reference:d3(y,_c(x),u.options.strategy==="fixed"),popper:Ly(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var _=u.orderedModifiers[C],S=_.fn,T=_.options,k=T===void 0?{}:T,I=_.name;typeof S=="function"&&(u=S({state:u,options:k,name:I,instance:p})||u)}}}},update:m3(function(){return new Promise(function(w){p.forceUpdate(),w(u)})}),destroy:function(){m(),f=!0}};if(!P1(a,l))return p;p.setOptions(c).then(function(w){!f&&c.onFirstUpdate&&c.onFirstUpdate(w)});function g(){u.orderedModifiers.forEach(function(w){var v=w.name,y=w.options,x=y===void 0?{}:y,C=w.effect;if(typeof C=="function"){var _=C({state:u,name:v,instance:p,options:x}),S=function(){};h.push(_||S)}})}function m(){h.forEach(function(w){return w()}),h=[]}return p}}var y3=[Vj,s3,zj,Nj,r3,Jj,l3,Mj,e3],w3=v3({defaultModifiers:y3}),Vy=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,r=e.transitionDelay,i=Number.parseFloat(n),s=Number.parseFloat(r);return!i&&!s?0:(n=n.split(",")[0],r=r.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(r))*1e3)},A1=function(t){typeof t=="function"&&t()},b3=function(t){t.dispatchEvent(new Event("transitionend"))},E3=function(t,e,n){if(n===void 0&&(n=!0),!n){A1(t);return}var r=5,i=Vy(e)+r,s=!1,o=function(a){var l=a.target;l===e&&(s=!0,e.removeEventListener("transitionend",o),A1(t))};e.addEventListener("transitionend",o),setTimeout(function(){s||b3(e)},i)},ug=function(t){return typeof document<"u"&&document.documentElement.dir==="rtl"?!0:t?t.closest('[dir="rtl"]')!==null:!1},tN=function(t,e){switch(t){case"right":return ug(e)?"left":"right";case"left":return ug(e)?"right":"left";default:return t}},Ws=function(t){var e=t.getBoundingClientRect();return Math.floor(e.top)>=0&&Math.floor(e.left)>=0&&Math.floor(e.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.floor(e.right)<=(window.innerWidth||document.documentElement.clientWidth)},By=function(){var t=b.useRef(),e=b.useRef(),n=function(i,s,o){t.current=w3(i,s,o),e.current=s},r=function(){var i=t.current;i&&e.current&&E3(function(){i.destroy()},e.current),t.current=void 0};return{popper:t.current,initPopper:n,destroyPopper:r}},Uy=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.horizontal,s=t.onHide,o=t.onShow,a=t.visible,l=P(t,["children","className","horizontal","onHide","onShow","visible"]),c=b.useRef(null),u=Tt(e,c),h=b.useState(),f=h[0],p=h[1],g=b.useState(),m=g[0],w=g[1],v=function(){if(o&&o(),i){c.current&&w(c.current.scrollWidth);return}c.current&&p(c.current.scrollHeight)},y=function(){if(i){w(0);return}p(0)},x=function(){if(i){c.current&&w(c.current.scrollWidth);return}c.current&&p(c.current.scrollHeight)},C=function(){if(s&&s(),i){w(0);return}p(0)},_=function(){if(i){w(0);return}p(0)};return E.createElement(hj,{in:a,nodeRef:c,onEntering:v,onEntered:y,onExit:x,onExiting:C,onExited:_,timeout:350},function(S){var T=f===0?null:{height:f},k=m===0?null:{width:m};return E.createElement("div",N({className:O(r,{"collapse-horizontal":i,collapsing:S==="entering"||S==="exiting","collapse show":S==="entered",collapse:S==="exited"}),style:N(N({},T),k)},l,{ref:u}),n)})});Uy.propTypes={children:d.node,className:d.string,horizontal:d.bool,onHide:d.func,onShow:d.func,visible:d.bool};Uy.displayName="CCollapse";var nN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]),s=b.useContext(Py).visible;return E.createElement(Uy,{className:"accordion-collapse",visible:s},E.createElement("div",N({className:O("accordion-body",r)},i,{ref:e}),n))});nN.propTypes={children:d.node,className:d.string};nN.displayName="CAccordionBody";var Hy=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]),s=b.useContext(Py),o=s.visible,a=s.setVisible;return E.createElement("button",N({type:"button",className:O("accordion-button",{collapsed:!o},r),"aria-expanded":!o,onClick:function(){return a(!o)}},i,{ref:e}),n)});Hy.propTypes={children:d.node,className:d.string};Hy.displayName="CAccordionButton";var rN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("accordion-header",r)},i,{ref:e}),E.createElement(Hy,null,n))});rN.propTypes={children:d.node,className:d.string};rN.displayName="CAccordionHeader";var Qo=b.forwardRef(function(t,e){var n=t.className,r=t.disabled,i=t.white,s=P(t,["className","disabled","white"]);return E.createElement("button",N({type:"button",className:O("btn","btn-close",{"btn-close-white":i},r,n),"aria-label":"Close",disabled:r},s,{ref:e}))});Qo.propTypes={className:d.string,disabled:d.bool,white:d.bool};Qo.displayName="CCloseButton";var Ne=d.oneOfType([d.oneOf(["primary","secondary","success","danger","warning","info","dark","light"]),d.string]),iN=d.oneOfType([d.arrayOf(d.oneOf(["top","bottom","right","left"]).isRequired),d.oneOf(["top","bottom","right","left"])]),x3=d.oneOf(["auto","auto-start","auto-end","top-end","top","top-start","bottom-end","bottom","bottom-start","right-start","right","right-end","left-start","left","left-end"]),sN=d.oneOfType([d.oneOf(["rounded","rounded-top","rounded-end","rounded-bottom","rounded-start","rounded-circle","rounded-pill","rounded-0","rounded-1","rounded-2","rounded-3"]),d.string]),oN=d.oneOfType([Ne,d.oneOf(["white","muted"]),d.string]),Wy=d.oneOfType([d.arrayOf(d.oneOf(["hover","focus","click"]).isRequired),d.oneOf(["hover","focus","click"])]),aN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.color,s=i===void 0?"primary":i,o=t.dismissible,a=t.variant,l=t.visible,c=l===void 0?!0:l,u=t.onClose,h=P(t,["children","className","color","dismissible","variant","visible","onClose"]),f=b.useRef(null),p=Tt(e,f),g=b.useState(c),m=g[0],w=g[1];return b.useEffect(function(){w(c)},[c]),E.createElement(Qn,{in:m,mountOnEnter:!0,nodeRef:f,onExit:u,timeout:150,unmountOnExit:!0},function(v){return E.createElement("div",N({className:O("alert",a==="solid"?"bg-".concat(s," text-white"):"alert-".concat(s),{"alert-dismissible fade":o,show:v==="entered"},r),role:"alert"},h,{ref:p}),n,o&&E.createElement(Qo,{onClick:function(){return w(!1)}}))})});aN.propTypes={children:d.node,className:d.string,color:Ne.isRequired,dismissible:d.bool,onClose:d.func,variant:d.string,visible:d.bool};aN.displayName="CAlert";var lN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"h4":i,o=P(t,["children","className","component"]);return E.createElement(s,N({className:O("alert-heading",r)},o,{ref:e}),n)});lN.propTypes={children:d.node,className:d.string,component:d.elementType};lN.displayName="CAlertHeading";var Xn=b.forwardRef(function(t,e){var n=t.children,r=t.active,i=t.className,s=t.component,o=s===void 0?"a":s,a=t.disabled,l=P(t,["children","active","className","component","disabled"]);return E.createElement(o,N({className:O(i,{active:r,disabled:a})},r&&{"aria-current":"page"},o==="a"&&a&&{"aria-disabled":!0,tabIndex:-1},(o==="a"||o==="button")&&{onClick:function(c){c.preventDefault,!a&&l.onClick&&l.onClick(c)}},{disabled:a},l,{ref:e}),n)});Xn.propTypes={active:d.bool,children:d.node,className:d.string,component:d.elementType,disabled:d.bool};Xn.displayName="CLink";var cN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement(Xn,N({className:O("alert-link",r)},i,{ref:e}),n)});cN.propTypes={children:d.node,className:d.string};cN.displayName="CAlertLink";var uN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=t.shape,a=t.size,l=t.src,c=t.status,u=t.textColor,h=P(t,["children","className","color","shape","size","src","status","textColor"]),f=c&&O("avatar-status","bg-".concat(c));return E.createElement("div",N({className:O("avatar",(n={},n["bg-".concat(s)]=s,n["avatar-".concat(a)]=a,n["text-".concat(u)]=u,n),o,i)},h,{ref:e}),l?E.createElement("img",{src:l,className:"avatar-img"}):r,c&&E.createElement("span",{className:f}))});uN.propTypes={children:d.node,className:d.string,color:Ne,shape:sN,size:d.string,src:d.string,status:d.string,textColor:oN};uN.displayName="CAvatar";var Sc=b.forwardRef(function(t,e){var n=t.className,r=n===void 0?"modal-backdrop":n,i=t.visible,s=P(t,["className","visible"]),o=b.useRef(null),a=Tt(e,o);return E.createElement(Qn,{in:i,mountOnEnter:!0,nodeRef:o,timeout:150,unmountOnExit:!0},function(l){return E.createElement("div",N({className:O(r,"fade",{show:l==="entered"})},s,{ref:a}))})});Sc.propTypes={className:d.string,visible:d.bool};Sc.displayName="CBackdrop";var hN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=t.component,a=o===void 0?"span":o,l=t.position,c=t.shape,u=t.size,h=t.textColor,f=P(t,["children","className","color","component","position","shape","size","textColor"]);return E.createElement(a,N({className:O("badge",(n={},n["bg-".concat(s)]=s,n["position-absolute translate-middle"]=l,n["top-0"]=l==null?void 0:l.includes("top"),n["top-100"]=l==null?void 0:l.includes("bottom"),n["start-100"]=l==null?void 0:l.includes("end"),n["start-0"]=l==null?void 0:l.includes("start"),n["badge-".concat(u)]=u,n["text-".concat(h)]=h,n),c,i)},f,{ref:e}),r)});hN.propTypes={children:d.node,className:d.string,color:Ne,component:d.string,position:d.oneOf(["top-start","top-end","bottom-end","bottom-start"]),shape:sN,size:d.oneOf(["sm"]),textColor:oN};hN.displayName="CBadge";var dN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("nav",{"aria-label":"breadcrumb"},E.createElement("ol",N({className:O("breadcrumb",r)},i,{ref:e}),n))});dN.propTypes={children:d.node,className:d.string};dN.displayName="CBreadcrumb";var fN=b.forwardRef(function(t,e){var n=t.children,r=t.active,i=t.className,s=t.href,o=P(t,["children","active","className","href"]);return E.createElement("li",N({className:O("breadcrumb-item",{active:r},i)},r&&{"aria-current":"page"},o,{ref:e}),s?E.createElement(Xn,{href:s},n):n)});fN.propTypes={active:d.bool,children:d.node,className:d.string,href:d.string};fN.displayName="CBreadcrumbItem";var Tc=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=s===void 0?"primary":s,a=t.component,l=a===void 0?"button":a,c=t.shape,u=t.size,h=t.type,f=h===void 0?"button":h,p=t.variant,g=P(t,["children","className","color","component","shape","size","type","variant"]);return E.createElement(Xn,N({component:g.href?"a":l,type:f,className:O("btn",p?"btn-".concat(p,"-").concat(o):"btn-".concat(o),(n={},n["btn-".concat(u)]=u,n),c,i)},g,{ref:e}),r)});Tc.propTypes={children:d.node,className:d.string,color:Ne,component:d.elementType,shape:d.string,size:d.oneOf(["sm","lg"]),type:d.oneOf(["button","submit","reset"]),variant:d.oneOf(["outline","ghost"])};Tc.displayName="CButton";var pN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("btn-toolbar",r)},i,{ref:e}),n)});pN.propTypes={children:d.node,className:d.string};pN.displayName="CButtonToolbar";var mN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.size,o=t.vertical,a=P(t,["children","className","size","vertical"]);return E.createElement("div",N({className:O(o?"btn-group-vertical":"btn-group",(n={},n["btn-group-".concat(s)]=s,n),i)},a,{ref:e}),r)});mN.propTypes={children:d.node,className:d.string,size:d.oneOf(["sm","lg"]),vertical:d.bool};mN.displayName="CButtonGroup";var gN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=P(t,["children","className","color"]);return E.createElement("div",N({className:O("callout",(n={},n["callout-".concat(s)]=s,n),i)},o,{ref:e}),r)});gN.propTypes={children:d.node,className:d.string,color:Ne};gN.displayName="CCallout";var mn=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=t.textColor,a=P(t,["children","className","color","textColor"]);return E.createElement("div",N({className:O("card",(n={},n["bg-".concat(s)]=s,n["text-".concat(o)]=o,n),i)},a,{ref:e}),r)});mn.propTypes={children:d.node,className:d.string,color:Ne,textColor:d.string};mn.displayName="CCard";var gn=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("card-body",r)},i,{ref:e}),n)});gn.propTypes={children:d.node,className:d.string};gn.displayName="CCardBody";var qy=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("card-footer",r)},i,{ref:e}),n)});qy.propTypes={children:d.node,className:d.string};qy.displayName="CCardFooter";var vN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("card-group",r)},i,{ref:e}),n)});vN.propTypes={children:d.node,className:d.string};vN.displayName="CCardGroup";var Ky=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"div":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("card-header",s)},o,{ref:e}),n)});Ky.propTypes={children:d.node,className:d.string,component:d.elementType};Ky.displayName="CCardHeader";var yN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"img":i,o=t.orientation,a=P(t,["children","className","component","orientation"]);return E.createElement(s,N({className:O(o?"card-img-".concat(o):"card-img",r)},a,{ref:e}),n)});yN.propTypes={children:d.node,className:d.string,component:d.elementType,orientation:d.oneOf(["top","bottom"])};yN.displayName="CCardImage";var wN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("card-img-overlay",r)},i,{ref:e}),n)});wN.propTypes={children:d.node,className:d.string};wN.displayName="CCardImageOverlay";var bN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement(Xn,N({className:O("card-link",r)},i,{ref:e}),n)});bN.propTypes={children:d.node,className:d.string};bN.displayName="CCardLink";var EN=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"h6":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("card-subtitle",s)},o,{ref:e}),n)});EN.propTypes={children:d.node,className:d.string,component:d.elementType};EN.displayName="CCardSubtitle";var xN=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"p":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("card-text",s)},o,{ref:e}),n)});xN.propTypes={children:d.node,className:d.string,component:d.elementType};xN.displayName="CCardText";var CN=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"h5":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("card-title",s)},o,{ref:e}),n)});CN.propTypes={children:d.node,className:d.string,component:d.elementType};CN.displayName="CCardTitle";var _N=b.createContext({}),SN=b.forwardRef(function(t,e){var n=t.children,r=t.activeIndex,i=r===void 0?0:r,s=t.className,o=t.controls,a=t.dark,l=t.indicators,c=t.interval,u=c===void 0?5e3:c,h=t.onSlid,f=t.onSlide,p=t.pause,g=p===void 0?"hover":p,m=t.touch,w=m===void 0?!0:m,v=t.transition,y=t.wrap,x=y===void 0?!0:y,C=P(t,["children","activeIndex","className","controls","dark","indicators","interval","onSlid","onSlide","pause","touch","transition","wrap"]),_=b.useRef(null),S=Tt(e,_),T=b.useRef({}).current,k=b.useState(i),I=k[0],R=k[1],A=b.useState(!1),z=A[0],V=A[1],X=b.useState(),G=X[0],W=X[1],Q=b.useState("next"),L=Q[0],B=Q[1],K=b.useState(0),ie=K[0],oe=K[1],Re=b.useState(null),me=Re[0],se=Re[1],be=b.useState(),Je=be[0],Rn=be[1];b.useEffect(function(){oe(b.Children.toArray(n).length)}),b.useEffect(function(){Je&&Ci()},[Je]),b.useEffect(function(){!z&&Ci(),!z&&h&&h(I,L),z&&f&&f(I,L)},[z]),b.useEffect(function(){return window.addEventListener("scroll",Oc),function(){window.removeEventListener("scroll",Oc)}});var Ci=function(){Ic(),!(!x&&I===ie-1)&&typeof u=="number"&&(T.timeout=setTimeout(function(){return Jo()},typeof G=="number"?G:u))},Ic=function(){return g&&T.timeout&&clearTimeout(T.timeout)},Jo=function(){if(!document.hidden&&_.current&&Ws(_.current)){if(z)return;_i("next")}},_i=function(Oe){z||(B(Oe),Oe==="next"?I===ie-1?R(0):R(I+1):R(I===0?ie-1:I-1))},Rc=function(Oe){if(I!==Oe){if(I<Oe){B("next"),R(Oe);return}I>Oe&&(B("prev"),R(Oe))}},Oc=function(){!document.hidden&&_.current&&Ws(_.current)?Rn(!0):Rn(!1)},gf=function(Oe){var vn=me;if(vn!==null){var vf=Oe.touches[0].clientX,On=vn-vf;On>5&&_i("next"),On<-5&&_i("prev"),se(null)}},Pc=function(Oe){var vn=Oe.touches[0].clientX;se(vn)};return E.createElement("div",N({className:O("carousel slide",{"carousel-dark":a,"carousel-fade":v==="crossfade"},s),onMouseEnter:Ic,onMouseLeave:Ci},w&&{onTouchStart:Pc,onTouchMove:gf},C,{ref:S}),E.createElement(_N.Provider,{value:{setAnimating:V,setCustomInterval:W}},l&&E.createElement("ol",{className:"carousel-indicators"},Array.from({length:ie},function(Oe,vn){return vn}).map(function(Oe){return E.createElement("li",{key:"indicator".concat(Oe),onClick:function(){!z&&Rc(Oe)},className:I===Oe?"active":"","data-coreui-target":""})})),E.createElement("div",{className:"carousel-inner"},b.Children.map(n,function(Oe,vn){if(E.isValidElement(Oe))return E.cloneElement(Oe,{active:I===vn,direction:L,key:vn})})),o&&E.createElement(E.Fragment,null,E.createElement("button",{className:"carousel-control-prev",onClick:function(){return _i("prev")}},E.createElement("span",{className:"carousel-control-prev-icon","aria-label":"prev"})),E.createElement("button",{className:"carousel-control-next",onClick:function(){return _i("next")}},E.createElement("span",{className:"carousel-control-next-icon","aria-label":"next"})))))});SN.propTypes={activeIndex:d.number,children:d.node,className:d.string,controls:d.bool,dark:d.bool,indicators:d.bool,interval:d.oneOfType([d.bool,d.number]),onSlid:d.func,onSlide:d.func,pause:d.oneOf([!1,"hover"]),touch:d.bool,transition:d.oneOf(["slide","crossfade"]),wrap:d.bool};SN.displayName="CCarousel";var TN=b.forwardRef(function(t,e){var n=t.className,r=P(t,["className"]);return E.createElement("div",N({className:O("carousel-caption",n)},r,{ref:e}))});TN.propTypes={className:d.string};TN.displayName="CCarouselCaption";var kN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.direction,o=t.interval,a=o===void 0?!1:o,l=P(t,["children","className","active","direction","interval"]),c=b.useContext(_N),u=c.setAnimating,h=c.setCustomInterval,f=b.useRef(null),p=Tt(e,f),g=b.useRef(),m=b.useState(),w=m[0],v=m[1],y=b.useState(),x=y[0],C=y[1],_=b.useState(i&&"active"),S=_[0],T=_[1],k=b.useState(0),I=k[0],R=k[1];return b.useEffect(function(){i&&(h(a),I!==0&&C("carousel-item-".concat(s))),g.current&&!i&&T("active"),(i||g.current)&&setTimeout(function(){var A;I!==0&&((A=f.current)===null||A===void 0||A.offsetHeight,v("carousel-item-".concat(s==="next"?"start":"end")))},0),g.current=i,I===0&&R(I+1)},[i]),b.useEffect(function(){var A,z;return(A=f.current)===null||A===void 0||A.addEventListener("transitionstart",function(){i&&u(!0)}),(z=f.current)===null||z===void 0||z.addEventListener("transitionend",function(){i&&u(!1),v(""),C(""),i&&T("active"),i||T("")}),function(){var V,X;(V=f.current)===null||V===void 0||V.removeEventListener("transitionstart",function(){i&&u(!0)}),(X=f.current)===null||X===void 0||X.removeEventListener("transitionend",function(){i&&u(!1),v(""),C(""),i&&T("active"),i||T("")})}}),E.createElement("div",N({className:O("carousel-item",S,w,x,r),ref:p},l),n)});kN.propTypes={active:d.bool,children:d.node,className:d.string,direction:d.string,interval:d.oneOfType([d.bool,d.number])};kN.displayName="CCarouselItem";var C3=function(t){return t?typeof t=="function"?t():t:document.body},Yn=function(t){var e=t.children,n=t.container,r=t.portal,i=b.useState(null),s=i[0],o=i[1];return b.useEffect(function(){r&&o(C3(n)||document.body)},[n,r]),typeof window<"u"&&r&&s?Sd.createPortal(e,s):E.createElement(E.Fragment,null,e)};Yn.propTypes={children:d.node,container:d.any,portal:d.bool};Yn.displayName="CConditionalPortal";var _3=function(t,e,n,r){var i=t;return e==="dropup"&&(i=r?"top-end":"top-start"),e==="dropup-center"&&(i="top"),e==="dropend"&&(i=r?"left-start":"right-start"),e==="dropstart"&&(i=r?"right-start":"left-start"),n==="end"&&(i=r?"bottom-start":"bottom-end"),i},NN=b.createContext({}),IN=b.forwardRef(function(t,e){var n,r=t.children,i=t.alignment,s=t.autoClose,o=s===void 0?!0:s,a=t.className,l=t.container,c=t.dark,u=t.direction,h=t.offset,f=h===void 0?[0,2]:h,p=t.onHide,g=t.onShow,m=t.placement,w=m===void 0?"bottom-start":m,v=t.popper,y=v===void 0?!0:v,x=t.portal,C=x===void 0?!1:x,_=t.variant,S=_===void 0?"btn-group":_,T=t.component,k=T===void 0?"div":T,I=t.visible,R=I===void 0?!1:I,A=P(t,["children","alignment","autoClose","className","container","dark","direction","offset","onHide","onShow","placement","popper","portal","variant","component","visible"]),z=b.useRef(null),V=b.useRef(null),X=b.useRef(null),G=Tt(e,z),W=b.useState(R),Q=W[0],L=W[1],B=By(),K=B.initPopper,ie=B.destroyPopper,oe=S==="nav-item"?"li":k;typeof i=="object"&&(y=!1);var Re={alignment:i,container:l,dark:c,dropdownToggleRef:V,dropdownMenuRef:X,popper:y,portal:C,variant:S,visible:Q,setVisible:L},me={modifiers:[{name:"offset",options:{offset:f}}],placement:_3(w,u,i,ug(X.current))};b.useEffect(function(){L(R)},[R]),b.useEffect(function(){return Q&&V.current&&X.current&&(y&&K(V.current,X.current,me),window.addEventListener("mouseup",be),window.addEventListener("keyup",se),g&&g()),function(){y&&ie(),window.removeEventListener("mouseup",be),window.removeEventListener("keyup",se),p&&p()}},[Q]);var se=function(Je){o!==!1&&Je.key==="Escape"&&L(!1)},be=function(Je){if(!(!V.current||!X.current)&&!V.current.contains(Je.target)&&(o===!0||o==="inside"&&X.current.contains(Je.target)||o==="outside"&&!X.current.contains(Je.target))){setTimeout(function(){return L(!1)},1);return}};return E.createElement(NN.Provider,{value:Re},S==="input-group"?E.createElement(E.Fragment,null,r):E.createElement(oe,N({className:O(S==="nav-item"?"nav-item dropdown":S,(n={"dropdown-center":u==="center","dropup dropup-center":u==="dropup-center"},n["".concat(u)]=u&&u!=="center"&&u!=="dropup-center",n.show=Q,n),a)},A,{ref:G}),r))}),Si=d.oneOf(["start","end"]);IN.propTypes={alignment:d.oneOfType([Si,d.shape({xs:Si.isRequired}),d.shape({sm:Si.isRequired}),d.shape({md:Si.isRequired}),d.shape({lg:Si.isRequired}),d.shape({xl:Si.isRequired}),d.shape({xxl:Si.isRequired})]),autoClose:d.oneOfType([d.bool,d.oneOf(["inside","outside"])]),children:d.node,className:d.string,component:d.elementType,dark:d.bool,direction:d.oneOf(["center","dropup","dropup-center","dropend","dropstart"]),offset:d.any,onHide:d.func,onShow:d.func,placement:x3,popper:d.bool,portal:d.bool,variant:d.oneOf(["btn-group","dropdown","input-group","nav-item"]),visible:d.bool};IN.displayName="CDropdown";var RN=b.forwardRef(function(t,e){var n=t.className,r=P(t,["className"]);return E.createElement("hr",N({className:O("dropdown-divider",n)},r,{ref:e}))});RN.propTypes={className:d.string};RN.displayName="CDropdownDivider";var ON=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"h6":i,o=P(t,["children","className","component"]);return E.createElement(s,N({className:O("dropdown-header",r)},o,{ref:e}),n)});ON.propTypes={children:d.node,className:d.string,component:d.elementType};ON.displayName="CDropdownHeader";var PN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"a":i,o=P(t,["children","className","component"]);return E.createElement(Xn,N({className:O("dropdown-item",r),component:s},o,{ref:e}),n)});PN.propTypes={children:d.node,className:d.string,component:d.elementType};PN.displayName="CDropdownItem";var AN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"span":i,o=P(t,["children","className","component"]);return E.createElement(s,N({className:O("dropdown-item-text",r)},o,{ref:e}),n)});AN.propTypes={children:d.node,className:d.string,component:d.elementType};AN.displayName="CDropdownItemPlain";var S3=function(t){var e=[];return typeof t=="object"&&Object.keys(t).map(function(n){e.push("dropdown-menu".concat(n==="xs"?"":"-".concat(n),"-").concat(t[n]))}),typeof t=="string"&&e.push("dropdown-menu-".concat(t)),e},DN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"ul":i,o=P(t,["children","className","component"]),a=b.useContext(NN),l=a.alignment,c=a.container,u=a.dark,h=a.dropdownMenuRef,f=a.popper,p=a.portal,g=a.visible,m=Tt(e,h);return E.createElement(Yn,{container:c,portal:p??!1},E.createElement(s,N({className:O("dropdown-menu",{"dropdown-menu-dark":u,show:g},l&&S3(l),r),ref:m,role:"menu","aria-hidden":!g},!f&&{"data-coreui-popper":"static"},o),s==="ul"?E.Children.map(n,function(w,v){if(E.isValidElement(w))return E.createElement("li",{key:v},E.cloneElement(w))}):n))});DN.propTypes={children:d.node,className:d.string,component:d.elementType};DN.displayName="CDropdownMenu";d.bool,d.node,d.string,d.bool,d.bool;var MN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.position,o=P(t,["children","className","position"]);return E.createElement("div",N({className:O("footer",(n={},n["footer-".concat(s)]=s,n),i)},o,{ref:e}),r)});MN.propTypes={children:d.node,className:d.string,position:d.oneOf(["fixed","sticky"])};MN.displayName="CFooter";var af=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.validated,s=P(t,["children","className","validated"]);return E.createElement("form",N({className:O({"was-validated":i},r)||void 0},s,{ref:e}),n)});af.propTypes={children:d.node,className:d.string,validated:d.bool};af.displayName="CForm";var Qa=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.component,o=s===void 0?"div":s,a=t.invalid,l=t.tooltip,c=t.valid,u=P(t,["children","className","component","invalid","tooltip","valid"]);return E.createElement(o,N({className:O((n={},n["invalid-".concat(l?"tooltip":"feedback")]=a,n["valid-".concat(l?"tooltip":"feedback")]=c,n),i)},u,{ref:e}),r)});Qa.propTypes={children:d.node,className:d.string,component:d.elementType,invalid:d.bool,tooltip:d.bool,valid:d.bool};Qa.displayName="CFormFeedback";var Xo=function(t){var e=t.describedby,n=t.feedback,r=t.feedbackInvalid,i=t.feedbackValid,s=t.invalid,o=t.tooltipFeedback,a=t.valid;return E.createElement(E.Fragment,null,n&&(a||s)&&E.createElement(Qa,N({},s&&{id:e},{invalid:s,tooltip:o,valid:a}),n),r&&E.createElement(Qa,{id:e,invalid:!0,tooltip:o},r),i&&E.createElement(Qa,{valid:!0,tooltip:o},i))};Xo.propTypes={describedby:d.string,feedback:d.oneOfType([d.node,d.string]),feedbackValid:d.oneOfType([d.node,d.string]),feedbackInvalid:d.oneOfType([d.node,d.string]),invalid:d.bool,tooltipFeedback:d.bool,valid:d.bool};Xo.displayName="CFormControlValidation";var di=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.customClassName,s=P(t,["children","className","customClassName"]);return E.createElement("label",N({className:i??O("form-label",r)},s,{ref:e}),n)});di.propTypes={children:d.node,className:d.string,customClassName:d.string};di.displayName="CFormLabel";var LN=b.forwardRef(function(t,e){var n=t.className,r=t.button,i=t.feedback,s=t.feedbackInvalid,o=t.feedbackValid,a=t.floatingLabel,l=t.tooltipFeedback,c=t.hitArea,u=t.id,h=t.indeterminate,f=t.inline,p=t.invalid,g=t.label,m=t.reverse,w=t.type,v=w===void 0?"checkbox":w,y=t.valid,x=P(t,["className","button","feedback","feedbackInvalid","feedbackValid","floatingLabel","tooltipFeedback","hitArea","id","indeterminate","inline","invalid","label","reverse","type","valid"]),C=b.useRef(null),_=Tt(e,C);b.useEffect(function(){C.current&&h&&(C.current.indeterminate=h)},[h,C.current]);var S=function(){return E.createElement("input",N({type:v,className:O(r?"btn-check":"form-check-input",{"is-invalid":p,"is-valid":y,"me-2":c}),id:u},x,{ref:_}))},T=function(){return E.createElement(Xo,{describedby:x["aria-describedby"],feedback:i,feedbackInvalid:s,feedbackValid:o,floatingLabel:a,invalid:p,tooltipFeedback:l,valid:y})},k=function(){var R;return E.createElement(di,N({customClassName:O(r?O("btn",r.variant?"btn-".concat(r.variant,"-").concat(r.color):"btn-".concat(r.color),(R={},R["btn-".concat(r.size)]=r.size,R),"".concat(r.shape)):"form-check-label")},u&&{htmlFor:u}),g)},I=function(){return r?E.createElement(E.Fragment,null,E.createElement(S,null),g&&E.createElement(k,null),E.createElement(T,null)):g?c?E.createElement(E.Fragment,null,E.createElement(S,null),E.createElement(di,N({customClassName:O("form-check-label stretched-link",n)},u&&{htmlFor:u}),g),E.createElement(T,null)):E.createElement("div",{className:O("form-check",{"form-check-inline":f,"form-check-reverse":m,"is-invalid":p,"is-valid":y},n)},E.createElement(S,null),E.createElement(k,null),E.createElement(T,null)):E.createElement(S,null)};return E.createElement(I,null)});LN.propTypes=N({button:d.object,className:d.string,hitArea:d.oneOf(["full"]),id:d.string,indeterminate:d.bool,inline:d.bool,label:d.oneOfType([d.string,d.node]),reverse:d.bool,type:d.oneOf(["checkbox","radio"])},Xo.propTypes);LN.displayName="CFormCheck";var Gy=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("form-floating",r)},i,{ref:e}),n)});Gy.propTypes={children:d.node,className:d.string};Gy.displayName="CFormFloating";var Yh=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"div":i,o=P(t,["children","className","component"]);return E.createElement(s,N({className:O("form-text",r)},o,{ref:e}),n)});Yh.propTypes={children:d.node,className:d.string,component:d.elementType};Yh.displayName="CFormText";var Ei=function(t){var e=t.children,n=t.describedby,r=t.feedback,i=t.feedbackInvalid,s=t.feedbackValid,o=t.floatingClassName,a=t.floatingLabel,l=t.id,c=t.invalid,u=t.label,h=t.text,f=t.tooltipFeedback,p=t.valid,g=function(){return E.createElement(Xo,{describedby:n,feedback:r,feedbackInvalid:i,feedbackValid:s,floatingLabel:a,invalid:c,tooltipFeedback:f,valid:p})};return a?E.createElement(Gy,{className:o},e,E.createElement(di,{htmlFor:l},u||a),h&&E.createElement(Yh,{id:n},h),E.createElement(g,null)):E.createElement(E.Fragment,null,u&&E.createElement(di,{htmlFor:l},u),e,h&&E.createElement(Yh,{id:n},h),E.createElement(g,null))};Ei.propTypes=N({children:d.node,floatingClassName:d.string,floatingLabel:d.oneOfType([d.node,d.string]),label:d.oneOfType([d.node,d.string]),text:d.oneOfType([d.node,d.string])},Xo.propTypes);Ei.displayName="CFormControlWrapper";var Io=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.delay,o=s===void 0?!1:s,a=t.feedback,l=t.feedbackInvalid,c=t.feedbackValid,u=t.floatingClassName,h=t.floatingLabel,f=t.id,p=t.invalid,g=t.label,m=t.onChange,w=t.plainText,v=t.size,y=t.text,x=t.tooltipFeedback,C=t.type,_=C===void 0?"text":C,S=t.valid,T=P(t,["children","className","delay","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","onChange","plainText","size","text","tooltipFeedback","type","valid"]),k=b.useState(),I=k[0],R=k[1];return b.useEffect(function(){var A=setTimeout(function(){return I&&m&&m(I)},typeof o=="number"?o:500);return function(){return clearTimeout(A)}},[I]),E.createElement(Ei,{describedby:T["aria-describedby"],feedback:a,feedbackInvalid:l,feedbackValid:c,floatingClassName:u,floatingLabel:h,id:f,invalid:p,label:g,text:y,tooltipFeedback:x,valid:S},E.createElement("input",N({className:O(w?"form-control-plaintext":"form-control",(n={},n["form-control-".concat(v)]=v,n["form-control-color"]=_==="color",n["is-invalid"]=p,n["is-valid"]=S,n),i),id:f,type:_,onChange:function(A){return o?R(A):m&&m(A)}},T,{ref:e}),r))});Io.propTypes=N({className:d.string,id:d.string,delay:d.oneOfType([d.bool,d.number]),plainText:d.bool,size:d.oneOf(["sm","lg"]),type:d.oneOfType([d.oneOf(["color","file","text"]),d.string])},Ei.propTypes);Io.displayName="CFormInput";var FN=b.forwardRef(function(t,e){var n=t.className,r=t.label,i=P(t,["className","label"]);return E.createElement(E.Fragment,null,r&&E.createElement(di,{htmlFor:i.id},r),E.createElement("input",N({type:"range",className:O("form-range",n)},i,{ref:e})))});FN.propTypes={className:d.string,label:d.oneOfType([d.node,d.string])};FN.displayName="CFormRange";var $N=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.feedback,o=t.feedbackInvalid,a=t.feedbackValid,l=t.floatingClassName,c=t.floatingLabel,u=t.htmlSize,h=t.id,f=t.invalid,p=t.label,g=t.options,m=t.size,w=t.text,v=t.tooltipFeedback,y=t.valid,x=P(t,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return E.createElement(Ei,{describedby:x["aria-describedby"],feedback:s,feedbackInvalid:o,feedbackValid:a,floatingClassName:l,floatingLabel:c,id:h,invalid:f,label:p,text:w,tooltipFeedback:v,valid:y},E.createElement("select",N({id:h,className:O("form-select",(n={},n["form-select-".concat(m)]=m,n["is-invalid"]=f,n["is-valid"]=y,n),i),size:u},x,{ref:e}),g?g.map(function(C,_){return E.createElement("option",N({},typeof C=="object"&&C.disabled&&{disabled:C.disabled},typeof C=="object"&&C.value!==void 0&&{value:C.value},{key:_}),typeof C=="string"?C:C.label)}):r))});$N.propTypes=N({className:d.string,htmlSize:d.number,options:d.array},Ei.propTypes);$N.displayName="CFormSelect";var zN=b.forwardRef(function(t,e){var n,r=t.className,i=t.id,s=t.invalid,o=t.label,a=t.reverse,l=t.size,c=t.type,u=c===void 0?"checkbox":c,h=t.valid,f=P(t,["className","id","invalid","label","reverse","size","type","valid"]);return E.createElement("div",{className:O("form-check form-switch",(n={"form-check-reverse":a},n["form-switch-".concat(l)]=l,n["is-invalid"]=s,n["is-valid"]=h,n),r)},E.createElement("input",N({type:u,className:O("form-check-input",{"is-invalid":s,"is-valid":h}),id:i},f,{ref:e})),o&&E.createElement(di,N({customClassName:"form-check-label"},i&&{htmlFor:i}),o))});zN.propTypes={className:d.string,id:d.string,invalid:d.bool,label:d.oneOfType([d.string,d.node]),reverse:d.bool,size:d.oneOf(["lg","xl"]),type:d.oneOf(["checkbox","radio"]),valid:d.bool};zN.displayName="CFormSwitch";var jN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.feedback,s=t.feedbackInvalid,o=t.feedbackValid,a=t.floatingClassName,l=t.floatingLabel,c=t.id,u=t.invalid,h=t.label,f=t.plainText,p=t.text,g=t.tooltipFeedback,m=t.valid,w=P(t,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return E.createElement(Ei,{describedby:w["aria-describedby"],feedback:i,feedbackInvalid:s,feedbackValid:o,floatingClassName:a,floatingLabel:l,id:c,invalid:u,label:h,text:p,tooltipFeedback:g,valid:m},E.createElement("textarea",N({className:O(f?"form-control-plaintext":"form-control",{"is-invalid":u,"is-valid":m},r),id:c},w,{ref:e}),n))});jN.propTypes=N({className:d.string,id:d.string,plainText:d.bool},Ei.propTypes);jN.displayName="CFormTextarea";var VN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.size,o=P(t,["children","className","size"]);return E.createElement("div",N({className:O("input-group",(n={},n["input-group-".concat(s)]=s,n),i)},o,{ref:e}),r)});VN.propTypes={children:d.node,className:d.string,size:d.oneOf(["sm","lg"])};VN.displayName="CInputGroup";var BN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"span":i,o=P(t,["children","className","component"]);return E.createElement(s,N({className:O("input-group-text",r)},o,{ref:e}),n)});BN.propTypes={children:d.node,className:d.string,component:d.elementType};BN.displayName="CInputGroupText";var T3=["xxl","xl","lg","md","sm","xs"],cr=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]),s=[];return T3.forEach(function(o){var a=i[o];delete i[o];var l=o==="xs"?"":"-".concat(o);(typeof a=="number"||typeof a=="string")&&s.push("col".concat(l,"-").concat(a)),typeof a=="boolean"&&s.push("col".concat(l)),a&&typeof a=="object"&&((typeof a.span=="number"||typeof a.span=="string")&&s.push("col".concat(l,"-").concat(a.span)),typeof a.span=="boolean"&&s.push("col".concat(l)),(typeof a.order=="number"||typeof a.order=="string")&&s.push("order".concat(l,"-").concat(a.order)),typeof a.offset=="number"&&s.push("offset".concat(l,"-").concat(a.offset)))}),E.createElement("div",N({className:O(s.length>0?s:"col",r)},i,{ref:e}),n)}),D1=d.oneOfType([d.bool,d.number,d.string,d.oneOf(["auto"])]),Ss=d.oneOfType([D1,d.shape({span:D1,offset:d.oneOfType([d.number,d.string]),order:d.oneOfType([d.oneOf(["first","last"]),d.number,d.string])})]);cr.propTypes={children:d.node,className:d.string,xs:Ss,sm:Ss,md:Ss,lg:Ss,xl:Ss,xxl:Ss};cr.displayName="CCol";var k3=["xxl","xl","lg","md","sm","fluid"],Yy=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]),s=[];return k3.forEach(function(o){var a=i[o];delete i[o],a&&s.push("container-".concat(o))}),E.createElement("div",N({className:O(s.length>0?s:"container",r)},i,{ref:e}),n)});Yy.propTypes={children:d.node,className:d.string,sm:d.bool,md:d.bool,lg:d.bool,xl:d.bool,xxl:d.bool,fluid:d.bool};Yy.displayName="CContainer";var N3=["xxl","xl","lg","md","sm","xs"],lf=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]),s=[];return N3.forEach(function(o){var a=i[o];delete i[o];var l=o==="xs"?"":"-".concat(o);typeof a=="object"&&(a.cols&&s.push("row-cols".concat(l,"-").concat(a.cols)),typeof a.gutter=="number"&&s.push("g".concat(l,"-").concat(a.gutter)),typeof a.gutterX=="number"&&s.push("gx".concat(l,"-").concat(a.gutterX)),typeof a.gutterY=="number"&&s.push("gy".concat(l,"-").concat(a.gutterY)))}),E.createElement("div",{className:O("row",s,r),ref:e},n)}),Ts=d.shape({cols:d.oneOfType([d.oneOf(["auto"]),d.number,d.string]),gutter:d.oneOfType([d.string,d.number]),gutterX:d.oneOfType([d.string,d.number]),gutterY:d.oneOfType([d.string,d.number])});lf.propTypes={children:d.node,className:d.string,xs:Ts,sm:Ts,md:Ts,lg:Ts,xl:Ts,xxl:Ts};lf.displayName="CRow";var Qy=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.container,o=t.position,a=P(t,["children","className","container","position"]);return E.createElement("div",N({className:O("header",(n={},n["header-".concat(o)]=o,n),i)},a,{ref:e}),s?E.createElement("div",{className:typeof s=="string"?"container-".concat(s):"container"},r):E.createElement(E.Fragment,null,r))});Qy.propTypes={children:d.node,className:d.string,container:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl","fluid"])]),position:d.oneOf(["fixed","sticky"])};Qy.displayName="CHeader";var UN=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"a":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("header-brand",s)},o,{ref:e}),n)});UN.propTypes={children:d.node,className:d.string,component:d.elementType};UN.displayName="CHeaderBrand";var HN=b.forwardRef(function(t,e){var n=t.className,r=P(t,["className"]);return E.createElement("div",N({className:O("header-divider",n)},r,{ref:e}))});HN.propTypes={className:d.string};HN.displayName="CHeaderDivider";var WN=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"ul":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("header-nav",s),role:"navigation"},o,{ref:e}),n)});WN.propTypes={children:d.node,className:d.string,component:d.elementType};WN.displayName="CHeaderNav";var qN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("span",N({className:O("header-text",r)},i,{ref:e}),n)});qN.propTypes={children:d.node,className:d.string};qN.displayName="CHeaderText";var KN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("button",N({type:"button",className:O("header-toggler",r)},i,{ref:e}),n??E.createElement("span",{className:"header-toggler-icon"}))});KN.propTypes={children:d.node,className:d.string};KN.displayName="CHeaderToggler";var GN=b.forwardRef(function(t,e){var n,r=t.align,i=t.className,s=t.fluid,o=t.rounded,a=t.thumbnail,l=P(t,["align","className","fluid","rounded","thumbnail"]);return E.createElement("img",N({className:O((n={},n["float-".concat(r)]=r&&(r==="start"||r==="end"),n["d-block mx-auto"]=r&&r==="center",n["img-fluid"]=s,n.rounded=o,n["img-thumbnail"]=a,n),i)||void 0},l,{ref:e}))});GN.propTypes={align:d.oneOf(["start","center","end"]),className:d.string,fluid:d.bool,rounded:d.bool,thumbnail:d.bool};GN.displayName="CImage";var YN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.component,o=s===void 0?"ul":s,a=t.flush,l=t.layout;return E.createElement(o,{className:O("list-group",(n={"list-group-flush":a},n["list-group-".concat(l)]=l,n),i),ref:e},r)});YN.propTypes={children:d.node,className:d.string,component:d.elementType,flush:d.bool,layout:d.oneOf(["horizontal","horizontal-sm","horizontal-md","horizontal-lg","horizontal-xl","horizontal-xxl"])};YN.displayName="CListGroup";var QN=b.forwardRef(function(t,e){var n,r=t.children,i=t.active,s=t.className,o=t.disabled,a=t.color,l=t.component,c=l===void 0?"li":l,u=P(t,["children","active","className","disabled","color","component"]),h=c==="a"||c==="button"?Xn:c;return u=N(N(N(N({},(c==="a"||c==="button")&&{active:i,disabled:o,component:c,ref:e}),i&&{"aria-current":!0}),o&&{"aria-disabled":!0}),u),E.createElement(h,N({className:O("list-group-item",(n={},n["list-group-item-".concat(a)]=a,n["list-group-item-action"]=c==="a"||c==="button",n.active=i,n.disabled=o,n),s)},u),r)});QN.propTypes={active:d.bool,children:d.node,className:d.string,color:Ne,component:d.elementType,disabled:d.bool};QN.displayName="CListGroupItem";var Xy=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("modal-content",r)},i,{ref:e}),n)});Xy.propTypes={children:d.node,className:d.string};Xy.displayName="CModalContent";var Jy=b.forwardRef(function(t,e){var n,r=t.children,i=t.alignment,s=t.className,o=t.fullscreen,a=t.scrollable,l=t.size,c=P(t,["children","alignment","className","fullscreen","scrollable","size"]);return E.createElement("div",N({className:O("modal-dialog",(n={"modal-dialog-centered":i==="center"},n[typeof o=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(o,"-down")]=o,n["modal-dialog-scrollable"]=a,n["modal-".concat(l)]=l,n),s)},c,{ref:e}),r)});Jy.propTypes={alignment:d.oneOf(["top","center"]),children:d.node,className:d.string,fullscreen:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:d.bool,size:d.oneOf(["sm","lg","xl"])};Jy.displayName="CModalDialog";var XN=b.createContext({}),JN=b.forwardRef(function(t,e){var n=t.children,r=t.alignment,i=t.backdrop,s=i===void 0?!0:i,o=t.className,a=t.duration,l=a===void 0?150:a,c=t.focus,u=c===void 0?!0:c,h=t.fullscreen,f=t.keyboard,p=f===void 0?!0:f,g=t.onClose,m=t.onClosePrevented,w=t.onShow,v=t.portal,y=v===void 0?!0:v,x=t.scrollable,C=t.size,_=t.transition,S=_===void 0?!0:_,T=t.unmountOnClose,k=T===void 0?!0:T,I=t.visible,R=P(t,["children","alignment","backdrop","className","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),A=b.useRef(null),z=b.useRef(null),V=b.useRef(null),X=Tt(e,z),G=b.useState(I),W=G[0],Q=G[1],L=b.useState(!1),B=L[0],K=L[1],ie={visible:W,setVisible:Q};b.useEffect(function(){Q(I)},[I]),b.useEffect(function(){var se;return W?(A.current=document.activeElement,document.addEventListener("mouseup",Re),document.addEventListener("keydown",me)):(se=A.current)===null||se===void 0||se.focus(),function(){document.removeEventListener("mouseup",Re),document.removeEventListener("keydown",me)}},[W]);var oe=function(){return s==="static"?K(!0):(Q(!1),g&&g())};b.useLayoutEffect(function(){m&&m(),setTimeout(function(){return K(!1)},l)},[B]),b.useLayoutEffect(function(){return W?(document.body.classList.add("modal-open"),s&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var se;u&&((se=z.current)===null||se===void 0||se.focus())},S?l:0)):(document.body.classList.remove("modal-open"),s&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),s&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[W]);var Re=function(se){z.current&&z.current==se.target&&oe()},me=function(se){se.key==="Escape"&&p&&oe()};return E.createElement(E.Fragment,null,E.createElement(Qn,{in:W,mountOnEnter:!0,nodeRef:z,onEnter:w,onExit:g,unmountOnExit:k,timeout:S?l:0},function(se){return E.createElement(Yn,{portal:y},E.createElement(XN.Provider,{value:ie},E.createElement("div",N({className:O("modal",{"modal-static":B,fade:S,show:se==="entered"},o),tabIndex:-1},W?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:N({},se!=="exited"&&{display:"block"})},R,{ref:X}),E.createElement(Jy,{alignment:r,fullscreen:h,scrollable:x,size:C},E.createElement(Xy,{ref:V},n)))))}),s&&E.createElement(Yn,{portal:y},E.createElement(Sc,{visible:W})))});JN.propTypes={alignment:d.oneOf(["top","center"]),backdrop:d.oneOfType([d.bool,d.oneOf(["static"])]),children:d.node,className:d.string,duration:d.number,focus:d.bool,fullscreen:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:d.bool,onClose:d.func,onClosePrevented:d.func,onShow:d.func,portal:d.bool,scrollable:d.bool,size:d.oneOf(["sm","lg","xl"]),transition:d.bool,unmountOnClose:d.bool,visible:d.bool};JN.displayName="CModal";var ZN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("modal-body",r)},i,{ref:e}),n)});ZN.propTypes={children:d.node,className:d.string};ZN.displayName="CModalBody";var eI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("modal-footer",r)},i,{ref:e}),n)});eI.propTypes={children:d.node,className:d.string};eI.displayName="CModalFooter";var tI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.closeButton,s=i===void 0?!0:i,o=P(t,["children","className","closeButton"]),a=b.useContext(XN).setVisible;return E.createElement("div",N({className:O("modal-header",r)},o,{ref:e}),n,s&&E.createElement(Qo,{onClick:function(){return a(!1)}}))});tI.propTypes={children:d.node,className:d.string,closeButton:d.bool};tI.displayName="CModalHeader";var nI=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"h5":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("modal-title",s)},o,{ref:e}),n)});nI.propTypes={children:d.node,className:d.string,component:d.elementType};nI.displayName="CModalTitle";var rI=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.component,o=s===void 0?"ul":s,a=t.layout,l=t.variant,c=P(t,["children","className","component","layout","variant"]);return E.createElement(o,N({className:O("nav",(n={},n["nav-".concat(a)]=a,n["nav-".concat(l)]=l,n),i),role:"navigation"},c,{ref:e}),r)});rI.propTypes={children:d.node,className:d.string,component:d.elementType,layout:d.oneOf(["fill","justified"]),variant:d.oneOf(["tabs","pills"])};rI.displayName="CNav";var iI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("ul",N({className:O("nav-group-items",r)},i,{ref:e}),n)});iI.propTypes={children:d.node,className:d.string};iI.displayName="CNavGroupItems";var Zy=b.createContext({}),e0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]),s=b.useState(""),o=s[0],a=s[1],l={visibleGroup:o,setVisibleGroup:a};return E.createElement("ul",N({className:O("sidebar-nav",r),ref:e},i),E.createElement(Zy.Provider,{value:l},E.Children.map(n,function(c,u){if(E.isValidElement(c))return E.cloneElement(c,{key:u,idx:"".concat(u)})})))});e0.propTypes={children:d.node,className:d.string};e0.displayName="CSidebarNav";var M1=function(t,e){var n=t.toString().split("."),r=e.toString().split(".");return r.every(function(i,s){return i===n[s]})},sI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.compact,s=t.idx,o=t.toggler,a=t.visible,l=P(t,["children","className","compact","idx","toggler","visible"]),c=b.useState(),u=c[0],h=c[1],f=b.useRef(null),p=b.useContext(Zy),g=p.visibleGroup,m=p.setVisibleGroup,w=b.useState(!!(a||s&&g&&M1(g,s))),v=w[0],y=w[1];b.useEffect(function(){y(!!(s&&g&&M1(g,s)))},[g]);var x=function(A){A.preventDefault(),m(v?s!=null&&s.toString().includes(".")?s.slice(0,s.lastIndexOf(".")):"":s),y(!v)},C={height:0},_=function(){f.current&&h(f.current.scrollHeight)},S=function(){h("auto")},T=function(){f.current&&h(f.current.scrollHeight)},k=function(){var A;(A=f.current)===null||A===void 0||A.offsetHeight,h(0)},I=function(){h(0)},R={entering:{display:"block",height:u},entered:{display:"block",height:u},exiting:{display:"block",height:u},exited:{height:u}};return E.createElement("li",N({className:O("nav-group",{show:v},r)},l,{ref:e}),o&&E.createElement("a",{className:"nav-link nav-group-toggle",onClick:function(A){return x(A)}},o),E.createElement(Qn,{in:v,nodeRef:f,onEntering:_,onEntered:S,onExit:T,onExiting:k,onExited:I,timeout:300},function(A){return E.createElement("ul",{className:O("nav-group-items",{compact:i}),style:N(N({},C),R[A]),ref:f},E.Children.map(n,function(z,V){if(E.isValidElement(z))return E.cloneElement(z,{key:V,idx:"".concat(s,".").concat(V)})}))}))});sI.propTypes={children:d.node,className:d.string,compact:d.bool,idx:d.string,toggler:d.oneOfType([d.string,d.node]),visible:d.bool};sI.displayName="CNavGroup";var t0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.idx,s=P(t,["children","className","idx"]),o=b.useRef(null),a=Tt(e,o),l=b.useContext(Zy).setVisibleGroup;return b.useEffect(function(){var c;s.active=(c=o.current)===null||c===void 0?void 0:c.classList.contains("active"),i&&s.active&&l(i)},[s.active,r]),E.createElement(Xn,N({className:O("nav-link",r)},s,{ref:a}),n)});t0.propTypes={children:d.node,className:d.string,idx:d.string};t0.displayName="CNavLink";var Fi=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("li",{className:O("nav-item",r),ref:e},i.href||i.to?E.createElement(t0,N({className:r},i),n):n)});Fi.propTypes={children:d.node,className:d.string};Fi.displayName="CNavItem";var oI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("li",N({className:O("nav-title",r)},i,{ref:e}),n)});oI.propTypes={children:d.node,className:d.string};oI.displayName="CNavTitle";var aI=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=t.colorScheme,a=t.component,l=a===void 0?"nav":a,c=t.container,u=t.expand,h=t.placement,f=P(t,["children","className","color","colorScheme","component","container","expand","placement"]);return E.createElement(l,N({className:O("navbar",(n={},n["bg-".concat(s)]=s,n["navbar-".concat(o)]=o,n[typeof u=="boolean"?"navbar-expand":"navbar-expand-".concat(u)]=u,n),h,i)},f,{ref:e}),c?E.createElement("div",{className:typeof c=="string"?"container-".concat(c):"container"},r):E.createElement(E.Fragment,null,r))});aI.propTypes={children:d.node,className:d.string,color:Ne,colorScheme:d.oneOf(["dark","light"]),component:d.elementType,container:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl","fluid"])]),expand:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),placement:d.oneOf(["fixed-top","fixed-bottom","sticky-top"])};aI.displayName="CNavbar";var lI=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=t.className,s=P(t,["children","component","className"]),o=r??(s.href?"a":"span");return E.createElement(o,N({className:O("navbar-brand",i)},s,{ref:e}),n)});lI.propTypes={children:d.node,className:d.string,component:d.elementType};lI.displayName="CNavbarBrand";var cI=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"ul":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("navbar-nav",s),role:"navigation"},o,{ref:e}),n)});cI.propTypes={children:d.node,className:d.string,component:d.elementType};cI.displayName="CNavbarNav";var uI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("span",N({className:O("navbar-text",r)},i,{ref:e}),n)});uI.propTypes={children:d.node,className:d.string};uI.displayName="CNavbarText";var hI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("button",N({type:"button",className:O("navbar-toggler",r)},i,{ref:e}),n??E.createElement("span",{className:"navbar-toggler-icon"}))});hI.propTypes={children:d.node,className:d.string};hI.displayName="CNavbarToggler";var dI=b.forwardRef(function(t,e){var n=t.children,r=t.backdrop,i=r===void 0?!0:r,s=t.className,o=t.keyboard,a=o===void 0?!0:o,l=t.onHide,c=t.onShow,u=t.placement,h=t.portal,f=h===void 0?!1:h,p=t.responsive,g=p===void 0?!0:p,m=t.scroll,w=m===void 0?!1:m,v=t.visible,y=v===void 0?!1:v,x=P(t,["children","backdrop","className","keyboard","onHide","onShow","placement","portal","responsive","scroll","visible"]),C=b.useState(y),_=C[0],S=C[1],T=b.useRef(null),k=Tt(e,T);b.useEffect(function(){S(y)},[y]),b.useEffect(function(){if(_&&!w){document.body.style.overflow="hidden",document.body.style.paddingRight="0px";return}w||(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))},[_]);var I=function(){S(!1)},R=function(){i!=="static"&&S(!1)},A=function(z){if(z.key==="Escape"&&a)return I()};return E.createElement(E.Fragment,null,E.createElement(Qn,{in:_,nodeRef:T,onEnter:c,onEntered:function(){var z;return(z=T.current)===null||z===void 0?void 0:z.focus()},onExit:l,timeout:300},function(z){var V;return E.createElement(Yn,{portal:f},E.createElement("div",N({className:O((V={},V["offcanvas".concat(typeof g=="string"?"-"+g:"")]=g,V["offcanvas-".concat(u)]=u,V.showing=z==="entering",V.show=z==="entered",V["show hiding"]=z==="exiting",V),s),role:"dialog",tabIndex:-1,onKeyDown:A},x,{ref:k}),n))}),i&&E.createElement(Yn,{portal:f},E.createElement(Sc,{className:"offcanvas-backdrop",onClick:R,visible:_})))});dI.propTypes={backdrop:d.oneOfType([d.bool,d.oneOf(["static"])]),children:d.node,className:d.string,keyboard:d.bool,onHide:d.func,onShow:d.func,placement:d.oneOf(["start","end","top","bottom"]).isRequired,portal:d.bool,responsive:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),scroll:d.bool,visible:d.bool};dI.displayName="COffcanvas";var fI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("offcanvas-body",r)},i,{ref:e}),n)});fI.propTypes={children:d.node,className:d.string};fI.displayName="COffcanvasBody";var pI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("offcanvas-header",r)},i,{ref:e}),n)});pI.propTypes={children:d.node,className:d.string};pI.displayName="COffcanvasHeader";var mI=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"h5":r,s=t.className,o=P(t,["children","component","className"]);return E.createElement(i,N({className:O("offcanvas-title",s)},o,{ref:e}),n)});mI.propTypes={children:d.node,className:d.string,component:d.elementType};mI.displayName="COffcanvasTitle";var gI=b.forwardRef(function(t,e){var n,r=t.children,i=t.align,s=t.className,o=t.size,a=P(t,["children","align","className","size"]);return E.createElement("nav",N({ref:e},a),E.createElement("ul",{className:O("pagination",(n={},n["justify-content-".concat(i)]=i,n["pagination-".concat(o)]=o,n),s)},r))});gI.propTypes={align:d.oneOf(["start","center","end"]),children:d.node,className:d.string,size:d.oneOf(["sm","lg"])};gI.displayName="CPagination";var vI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=P(t,["children","className","component"]),o=i??(s.active?"span":"a");return E.createElement("li",N({className:O("page-item",{active:s.active,disabled:s.disabled},r)},s.active&&{"aria-current":"page"}),o==="a"?E.createElement(Xn,N({className:"page-link",component:o},s,{ref:e}),n):E.createElement(o,{className:"page-link",ref:e},n))});vI.propTypes={children:d.node,className:d.string,component:d.elementType};vI.displayName="CPaginationItem";var I3=["xxl","xl","lg","md","sm","xs"],yI=b.forwardRef(function(t,e){var n,r=t.children,i=t.animation,s=t.className,o=t.color,a=t.component,l=a===void 0?"span":a,c=t.size,u=P(t,["children","animation","className","color","component","size"]),h=[];return I3.forEach(function(f){var p=u[f];delete u[f];var g=f==="xs"?"":"-".concat(f);typeof p=="number"&&h.push("col".concat(g,"-").concat(p)),typeof p=="boolean"&&h.push("col".concat(g))}),E.createElement(l,N({className:O(i?"placeholder-".concat(i):"placeholder",(n={},n["bg-".concat(o)]=o,n["placeholder-".concat(c)]=c,n),h,s)},u,{ref:e}),r)});yI.propTypes={animation:d.oneOf(["glow","wave"]),children:d.node,className:d.string,color:Ne,component:d.elementType,size:d.oneOf(["xs","sm","lg"])};yI.displayName="CPlaceholder";var n0=b.createContext({}),wI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("progress-stacked",r),ref:e},i),E.createElement(n0.Provider,{value:{stacked:!0}},n))});wI.propTypes={children:d.node,className:d.string};wI.displayName="CProgressStacked";var r0=b.forwardRef(function(t,e){var n,r=t.children,i=t.animated,s=t.className,o=t.color,a=t.value,l=a===void 0?0:a,c=t.variant,u=P(t,["children","animated","className","color","value","variant"]),h=b.useContext(n0).stacked;return E.createElement("div",N({className:O("progress-bar",(n={},n["bg-".concat(o)]=o,n["progress-bar-".concat(c)]=c,n["progress-bar-animated"]=i,n),s)},!h&&{style:{width:"".concat(l,"%")}},u,{ref:e}),r)});r0.propTypes={animated:d.bool,children:d.node,className:d.string,color:Ne,value:d.number,variant:d.oneOf(["striped"])};r0.displayName="CProgressBar";var cf=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.height,s=t.progressBarClassName,o=t.thin,a=t.value,l=t.white,c=P(t,["children","className","height","progressBarClassName","thin","value","white"]),u=b.useContext(n0).stacked;return E.createElement("div",N({className:O("progress",{"progress-thin":o,"progress-white":l},r)},a!==void 0&&{role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100},{style:N(N({},i?{height:"".concat(i,"px")}:{}),u?{width:"".concat(a,"%")}:{}),ref:e}),E.Children.toArray(n).some(function(h){return h.type&&h.type.displayName==="CProgressBar"})?E.Children.map(n,function(h){if(E.isValidElement(h)&&h.type.displayName==="CProgressBar")return E.cloneElement(h,N(N({},a&&{value:a}),c))}):E.createElement(r0,N({},s&&{className:s},{value:a},c),n))});cf.propTypes={children:d.node,className:d.string,height:d.number,progressBarClassName:d.string,thin:d.bool,value:d.number,white:d.bool};cf.displayName="CProgress";var bI=b.forwardRef(function(t,e){var n=t.children,r=t.animation,i=r===void 0?!0:r,s=t.className,o=t.container,a=t.content,l=t.delay,c=l===void 0?0:l,u=t.fallbackPlacements,h=u===void 0?["top","right","bottom","left"]:u,f=t.offset,p=f===void 0?[0,8]:f,g=t.onHide;t.onShow;var m=t.placement,w=m===void 0?"top":m,v=t.title,y=t.trigger,x=y===void 0?"click":y,C=t.visible,_=P(t,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","title","trigger","visible"]),S=b.useRef(null),T=b.useRef(null),k=Tt(e,S),I=b.useRef("popover".concat(Math.floor(Math.random()*1e6))),R=By(),A=R.initPopper,z=R.destroyPopper,V=b.useState(C),X=V[0],G=V[1],W=typeof c=="number"?{show:c,hide:c}:c,Q={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:h}},{name:"offset",options:{offset:p}}],placement:tN(w,T.current)};b.useEffect(function(){G(C)},[C]);var L=function(B){if(B){setTimeout(function(){return G(!0)},W.show);return}setTimeout(function(){return G(!1)},W.hide)};return E.createElement(E.Fragment,null,E.cloneElement(n,N(N(N(N(N({},X&&{"aria-describedby":I.current}),{ref:T}),(x==="click"||x.includes("click"))&&{onClick:function(){return L(!X)}}),(x==="focus"||x.includes("focus"))&&{onFocus:function(){return L(!0)},onBlur:function(){return L(!1)}}),(x==="hover"||x.includes("hover"))&&{onMouseEnter:function(){return L(!0)},onMouseLeave:function(){return L(!1)}})),E.createElement(Yn,{container:o,portal:!0},E.createElement(Qn,{in:X,mountOnEnter:!0,nodeRef:S,onEnter:function(){T.current&&S.current&&A(T.current,S.current,Q)},onEntering:function(){T.current&&S.current&&(S.current.style.display="initial")},onExit:g,onExited:function(){z()},timeout:{enter:0,exit:S.current?Vy(S.current)+50:200},unmountOnExit:!0},function(B){return E.createElement("div",N({className:O("popover","bs-popover-auto",{fade:i,show:B==="entered"},s),id:I.current,ref:k,role:"tooltip",style:{display:"none"}},_),E.createElement("div",{className:"popover-arrow"}),E.createElement("div",{className:"popover-header"},v),E.createElement("div",{className:"popover-body"},a))})))});bI.propTypes={animation:d.bool,children:d.node,className:d.string,container:d.any,content:d.oneOfType([d.string,d.node]),delay:d.oneOfType([d.number,d.shape({show:d.number.isRequired,hide:d.number.isRequired})]),fallbackPlacements:iN,offset:d.any,onHide:d.func,onShow:d.func,placement:d.oneOf(["auto","top","right","bottom","left"]),title:d.oneOfType([d.string,d.node]),trigger:Wy,visible:d.bool};bI.displayName="CPopover";var gp=function(t){return!!getComputedStyle(t).getPropertyValue("--cui-is-mobile")},i0=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.narrow,o=t.onHide,a=t.onShow,l=t.onVisibleChange,c=t.overlaid,u=t.position,h=t.size,f=t.unfoldable,p=t.visible,g=P(t,["children","className","narrow","onHide","onShow","onVisibleChange","overlaid","position","size","unfoldable","visible"]),m=b.useRef(null),w=Tt(e,m),v=b.useState(!1),y=v[0],x=v[1],C=b.useState(p),_=C[0],S=C[1],T=b.useState(),k=T[0],I=T[1];b.useEffect(function(){m.current&&x(gp(m.current)),S(p)},[p]),b.useEffect(function(){k!==void 0&&l&&l(k),!k&&o&&o(),k&&a&&a()},[k]),b.useEffect(function(){y&&p&&S(!1)},[y]),b.useEffect(function(){var G,W;return m.current&&x(gp(m.current)),m.current&&I(Ws(m.current)),window.addEventListener("resize",A),window.addEventListener("mouseup",V),window.addEventListener("keyup",z),(G=m.current)===null||G===void 0||G.addEventListener("mouseup",X),(W=m.current)===null||W===void 0||W.addEventListener("transitionend",function(){m.current&&I(Ws(m.current))}),function(){var Q,L;window.removeEventListener("resize",A),window.removeEventListener("mouseup",V),window.removeEventListener("keyup",z),(Q=m.current)===null||Q===void 0||Q.removeEventListener("mouseup",X),(L=m.current)===null||L===void 0||L.removeEventListener("transitionend",function(){m.current&&I(Ws(m.current))})}});var R=function(){S(!1)},A=function(){m.current&&x(gp(m.current)),m.current&&I(Ws(m.current))},z=function(G){y&&m.current&&!m.current.contains(G.target)&&R()},V=function(G){y&&m.current&&!m.current.contains(G.target)&&R()},X=function(G){var W=G.target;W&&W.classList.contains("nav-link")&&!W.classList.contains("nav-group-toggle")&&y&&R()};return E.createElement(E.Fragment,null,E.createElement("div",N({className:O("sidebar",(n={"sidebar-narrow":s,"sidebar-overlaid":c},n["sidebar-".concat(u)]=u,n["sidebar-".concat(h)]=h,n["sidebar-narrow-unfoldable"]=f,n.show=_===!0&&y,n.hide=_===!1&&!y,n),i)},g,{ref:w}),r),typeof window<"u"&&y&&Sd.createPortal(E.createElement(Sc,{className:"sidebar-backdrop",visible:_}),document.body))});i0.propTypes={children:d.node,className:d.string,narrow:d.bool,onHide:d.func,onShow:d.func,onVisibleChange:d.func,overlaid:d.bool,position:d.oneOf(["fixed","sticky"]),size:d.oneOf(["sm","lg","xl"]),unfoldable:d.bool,visible:d.bool};i0.displayName="CSidebar";var EI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("sidebar-brand",r),ref:e},i),n)});EI.propTypes={children:d.node,className:d.string};EI.displayName="CSidebarBrand";var xI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("sidebar-footer",r),ref:e},i),n)});xI.propTypes={children:d.node,className:d.string};xI.displayName="CSidebarFooter";var CI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("button",N({className:O("sidebar-toggler",r),ref:e},i),n)});CI.propTypes={children:d.node,className:d.string};CI.displayName="CSidebarToggler";var _I=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("sidebar-header",r),ref:e},i),n)});_I.propTypes={children:d.node,className:d.string};_I.displayName="CSidebarHeader";var ws=b.forwardRef(function(t,e){var n,r=t.className,i=t.color,s=t.component,o=s===void 0?"div":s,a=t.size,l=t.variant,c=l===void 0?"border":l,u=t.visuallyHiddenLabel,h=u===void 0?"Loading...":u,f=P(t,["className","color","component","size","variant","visuallyHiddenLabel"]);return E.createElement(o,N({className:O("spinner-".concat(c),(n={},n["spinner-".concat(c,"-").concat(a)]=a,n["text-".concat(i)]=i,n),r),role:"status"},f,{ref:e}),E.createElement("span",{className:"visually-hidden"},h))});ws.propTypes={className:d.string,color:Ne,component:d.string,size:d.oneOf(["sm"]),variant:d.oneOf(["border","grow"]),visuallyHiddenLabel:d.string};ws.displayName="CSpinner";var uf=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=P(t,["children","className","color"]);return E.createElement("thead",N({className:O((n={},n["table-".concat(s)]=s,n),i)||void 0},o,{ref:e}),r)});uf.propTypes={children:d.node,className:d.string,color:Ne};uf.displayName="CTableHead";var s0=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=P(t,["children","className","color"]);return E.createElement("th",N({className:O((n={},n["table-".concat(s)]=s,n),i)||void 0},o,{ref:e}),r)});s0.propTypes={children:d.node,className:d.string,color:Ne};s0.displayName="CTableHeaderCell";var o0=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=P(t,["children","className","color"]);return E.createElement("tbody",N({className:O((n={},n["table-".concat(s)]=s,n),i)||void 0},o,{ref:e}),r)});o0.propTypes={children:d.node,className:d.string,color:Ne};o0.displayName="CTableBody";var Qh=b.forwardRef(function(t,e){var n,r=t.children,i=t.active,s=t.align,o=t.className,a=t.color,l=P(t,["children","active","align","className","color"]),c=l.scope?"th":"td";return E.createElement(c,N({className:O((n={},n["align-".concat(s)]=s,n["table-active"]=i,n["table-".concat(a)]=a,n),o)||void 0},l,{ref:e}),r)});Qh.propTypes={active:d.bool,align:d.oneOf(["bottom","middle","top"]),children:d.node,className:d.string,color:Ne};Qh.displayName="CTableDataCell";var Xa=b.forwardRef(function(t,e){var n,r=t.children,i=t.active,s=t.align,o=t.className,a=t.color,l=P(t,["children","active","align","className","color"]);return E.createElement("tr",N({className:O((n={},n["align-".concat(s)]=s,n["table-active"]=i,n["table-".concat(a)]=a,n),o)||void 0},l,{ref:e}),r)});Xa.propTypes={active:d.bool,align:d.oneOf(["bottom","middle","top"]),children:d.node,className:d.string,color:Ne};Xa.displayName="CTableRow";var hf=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=P(t,["children","className","color"]);return E.createElement("tfoot",N({className:O((n={},n["table-".concat(s)]=s,n),i)||void 0},o,{ref:e}),r)});hf.propTypes={children:d.node,className:d.string,color:Ne};hf.displayName="CTableFoot";var a0=b.forwardRef(function(t,e){var n=t.children,r=P(t,["children"]);return E.createElement("caption",N({},r,{ref:e}),n)});a0.propTypes={children:d.node};a0.displayName="CTableCaption";var l0=function(t){var e=t.children,n=t.responsive,r=P(t,["children","responsive"]);return n?E.createElement("div",N({className:typeof n=="boolean"?"table-responsive":"table-responsive-".concat(n)},r),e):E.createElement(E.Fragment,null,e)};l0.propTypes={children:d.node,responsive:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])])};l0.displayName="CTableResponsiveWrapper";var L1=function(t){return t.replace(/[-_.]/g," ").replace(/ +/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},R3=function(t){var e;return typeof t=="object"?(e=t.label)!==null&&e!==void 0?e:L1(t.key):L1(t)},O3=function(t,e){return t?t.map(function(n){return typeof n=="object"?n.key:n}):e&&P3(e)},P3=function(t){return Object.keys(t[0]||{}).filter(function(e){return e.charAt(0)!=="_"})},SI=b.forwardRef(function(t,e){var n,r=t.children,i=t.align,s=t.borderColor,o=t.bordered,a=t.borderless,l=t.caption,c=t.captionTop,u=t.className,h=t.color,f=t.columns,p=t.footer,g=t.hover,m=t.items,w=t.responsive,v=t.small,y=t.striped,x=t.stripedColumns,C=t.tableFootProps,_=t.tableHeadProps,S=P(t,["children","align","borderColor","bordered","borderless","caption","captionTop","className","color","columns","footer","hover","items","responsive","small","striped","stripedColumns","tableFootProps","tableHeadProps"]),T=b.useMemo(function(){return O3(f,m)},[f,m]);return E.createElement(l0,{responsive:w},E.createElement("table",N({className:O("table",(n={},n["align-".concat(i)]=i,n["border-".concat(s)]=s,n["caption-top"]=c||l==="top",n["table-bordered"]=o,n["table-borderless"]=a,n["table-".concat(h)]=h,n["table-hover"]=g,n["table-sm"]=v,n["table-striped"]=y,n["table-striped-columns"]=x,n),u)},S,{ref:e}),(l&&l!=="top"||c)&&E.createElement(a0,null,l||c),f&&E.createElement(uf,N({},_),E.createElement(Xa,null,f.map(function(k,I){return E.createElement(s0,N({},k._props&&N({},k._props),k._style&&{style:N({},k._style)},{key:I}),R3(k))}))),m&&E.createElement(o0,null,m.map(function(k,I){return E.createElement(Xa,N({},k._props&&N({},k._props),{key:I}),T&&T.map(function(R,A){return k[R]!==void 0?E.createElement(Qh,N({},k._cellProps&&N(N({},k._cellProps.all&&N({},k._cellProps.all)),k._cellProps[R]&&N({},k._cellProps[R])),{key:A}),k[R]):null}))})),r,p&&E.createElement(hf,N({},C),E.createElement(Xa,null,p.map(function(k,I){return E.createElement(Qh,N({},typeof k=="object"&&k._props&&N({},k._props),{key:I}),typeof k=="object"?k.label:k)})))))});SI.propTypes={align:d.oneOf(["bottom","middle","top"]),borderColor:d.string,bordered:d.bool,borderless:d.bool,caption:d.oneOfType([d.string,d.oneOf(["top"])]),captionTop:d.string,children:d.node,className:d.string,color:Ne,columns:d.array,footer:d.array,hover:d.bool,items:d.array,responsive:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),small:d.bool,striped:d.bool,stripedColumns:d.bool,tableFootProps:d.shape(N({},hf.propTypes)),tableHeadProps:d.shape(N({},uf.propTypes))};SI.displayName="CTable";var TI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("tab-content",r)},i,{ref:e}),n)});TI.propTypes={children:d.node,className:d.string};TI.displayName="CTabContent";var kI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.onHide,s=t.onShow,o=t.visible,a=P(t,["children","className","onHide","onShow","visible"]),l=b.useRef(),c=Tt(e,l);return E.createElement(Qn,{in:o,nodeRef:l,onEnter:s,onExit:i,timeout:150},function(u){return E.createElement("div",N({className:O("tab-pane","fade",{active:o,show:u==="entered"},r)},a,{ref:c}),n)})});kI.propTypes={children:d.node,className:d.string,onHide:d.func,onShow:d.func,visible:d.bool};kI.displayName="CTabPane";var NI=b.createContext({}),II=b.forwardRef(function(t,e){var n=t.children,r=t.animation,i=r===void 0?!0:r,s=t.autohide,o=s===void 0?!0:s,a=t.className,l=t.color,c=t.delay,u=c===void 0?5e3:c,h=t.index,f=t.key,p=t.visible,g=p===void 0?!1:p,m=t.onClose,w=t.onShow,v=P(t,["children","animation","autohide","className","color","delay","index","key","visible","onClose","onShow"]),y=b.useRef(),x=Tt(e,y),C=b.useState(!1),_=C[0],S=C[1],T=b.useRef();b.useEffect(function(){S(g)},[g]);var k={visible:_,setVisible:S};b.useEffect(function(){return function(){return clearTimeout(T.current)}},[]),b.useEffect(function(){I()},[_]);var I=function(){o&&(clearTimeout(T.current),T.current=window.setTimeout(function(){S(!1)},u))};return E.createElement(Qn,{in:_,nodeRef:y,onEnter:function(){return w&&w(h??null)},onExited:function(){return m&&m(h??null)},timeout:250,unmountOnExit:!0},function(R){var A;return E.createElement(NI.Provider,{value:k},E.createElement("div",N({className:O("toast",(A={fade:i},A["bg-".concat(l)]=l,A["border-0"]=l,A["show showing"]=R==="entering"||R==="exiting",A.show=R==="entered",A),a),"aria-live":"assertive","aria-atomic":"true",role:"alert",onMouseEnter:function(){return clearTimeout(T.current)},onMouseLeave:function(){return I()}},v,{key:f,ref:x}),n))})});II.propTypes={animation:d.bool,autohide:d.bool,children:d.node,className:d.string,color:Ne,delay:d.number,index:d.number,key:d.number,onClose:d.func,onShow:d.func,visible:d.bool};II.displayName="CToast";var RI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=P(t,["children","className"]);return E.createElement("div",N({className:O("toast-body",r)},i,{ref:e}),n)});RI.propTypes={children:d.node,className:d.string};RI.displayName="CToastBody";var c0=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=P(t,["children","component"]),s=b.useContext(NI).setVisible;return r?E.createElement(r,N({onClick:function(){return s(!1)}},i,{ref:e}),n):E.createElement(Qo,N({onClick:function(){return s(!1)}},i,{ref:e}))});c0.propTypes=N(N({},Qo.propTypes),{component:d.elementType});c0.displayName="CToastClose";var OI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.closeButton,s=P(t,["children","className","closeButton"]);return E.createElement("div",N({className:O("toast-header",r)},s,{ref:e}),n,i&&E.createElement(c0,null))});OI.propTypes={children:d.node,className:d.string,closeButton:d.bool};OI.displayName="CToastHeader";var PI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.placement,s=t.push,o=P(t,["children","className","placement","push"]),a=b.useState([]),l=a[0],c=a[1],u=b.useRef(0);b.useEffect(function(){u.current++,s&&h(s)},[s]);var h=function(f){c(function(p){return w1(w1([],p,!0),[E.cloneElement(f,{index:u.current,key:u.current,onClose:function(g){return c(function(m){return m.filter(function(w){return w.props.index!==g})})}})],!1)})};return E.createElement(Yn,{portal:typeof i=="string"},l.length>0||n?E.createElement("div",N({className:O("toaster toast-container p-3",{"position-fixed":i,"top-0":i&&i.includes("top"),"top-50 translate-middle-y":i&&i.includes("middle"),"bottom-0":i&&i.includes("bottom"),"start-0":i&&i.includes("start"),"start-50 translate-middle-x":i&&i.includes("center"),"end-0":i&&i.includes("end")},r)},o,{ref:e}),n,l.map(function(f){return E.cloneElement(f,{visible:!0})})):null)});PI.propTypes={children:d.node,className:d.string,placement:d.oneOfType([d.string,d.oneOf(["top-start","top-center","top-end","middle-start","middle-center","middle-end","bottom-start","bottom-center","bottom-end"])]),push:d.any};PI.displayName="CToaster";var AI=b.forwardRef(function(t,e){var n=t.children,r=t.animation,i=r===void 0?!0:r,s=t.className,o=t.container,a=t.content,l=t.delay,c=l===void 0?0:l,u=t.fallbackPlacements,h=u===void 0?["top","right","bottom","left"]:u,f=t.offset,p=f===void 0?[0,6]:f,g=t.onHide;t.onShow;var m=t.placement,w=m===void 0?"top":m,v=t.trigger,y=v===void 0?["hover","focus"]:v,x=t.visible,C=P(t,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","trigger","visible"]),_=b.useRef(null),S=b.useRef(null),T=Tt(e,_),k=b.useRef("tooltip".concat(Math.floor(Math.random()*1e6))),I=By(),R=I.initPopper,A=I.destroyPopper,z=b.useState(x),V=z[0],X=z[1],G=typeof c=="number"?{show:c,hide:c}:c,W={modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"flip",options:{fallbackPlacements:h}},{name:"offset",options:{offset:p}}],placement:tN(w,S.current)};b.useEffect(function(){X(x)},[x]);var Q=function(L){if(L){setTimeout(function(){return X(!0)},G.show);return}setTimeout(function(){return X(!1)},G.hide)};return E.createElement(E.Fragment,null,E.cloneElement(n,N(N(N(N(N({},V&&{"aria-describedby":k.current}),{ref:S}),(y==="click"||y.includes("click"))&&{onClick:function(){return Q(!V)}}),(y==="focus"||y.includes("focus"))&&{onFocus:function(){return Q(!0)},onBlur:function(){return Q(!1)}}),(y==="hover"||y.includes("hover"))&&{onMouseEnter:function(){return Q(!0)},onMouseLeave:function(){return Q(!1)}})),E.createElement(Yn,{container:o,portal:!0},E.createElement(Qn,{in:V,mountOnEnter:!0,nodeRef:_,onEnter:function(){S.current&&_.current&&R(S.current,_.current,W)},onEntering:function(){S.current&&_.current&&(_.current.style.display="initial")},onExit:g,onExited:function(){A()},timeout:{enter:0,exit:_.current?Vy(_.current)+50:200},unmountOnExit:!0},function(L){return E.createElement("div",N({className:O("tooltip","bs-tooltip-auto",{fade:i,show:L==="entered"},s),id:k.current,ref:T,role:"tooltip",style:{display:"none"}},C),E.createElement("div",{className:"tooltip-arrow"}),E.createElement("div",{className:"tooltip-inner"},a))})))});AI.propTypes={animation:d.bool,children:d.node,container:d.any,content:d.oneOfType([d.string,d.node]),delay:d.oneOfType([d.number,d.shape({show:d.number.isRequired,hide:d.number.isRequired})]),fallbackPlacements:iN,offset:d.any,onHide:d.func,onShow:d.func,placement:d.oneOf(["auto","top","right","bottom","left"]),trigger:Wy,visible:d.bool};AI.displayName="CTooltip";var Ur=b.forwardRef(function(t,e){var n,r=t.action,i=t.chart,s=t.className,o=t.color,a=t.title,l=t.value,c=P(t,["action","chart","className","color","title","value"]);return E.createElement(mn,N({className:O((n={},n["bg-".concat(o)]=o,n["text-high-emphasis-inverse"]=o,n),s)},c,{ref:e}),E.createElement(gn,{className:"pb-0 d-flex justify-content-between align-items-start"},E.createElement("div",null,l&&E.createElement("div",{className:"fs-4 fw-semibold"},l),a&&E.createElement("div",null,a)),r),i)});Ur.propTypes={action:d.node,chart:d.oneOfType([d.string,d.node]),className:d.string,color:Ne,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};Ur.displayName="CWidgetStatsA";var DI=b.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.inverse,s=t.progress,o=t.text,a=t.title,l=t.value,c=P(t,["className","color","inverse","progress","text","title","value"]);return E.createElement(mn,N({className:n,color:r},i&&{textColor:"high-emphasis-inverse"},c,{ref:e}),E.createElement(gn,null,l&&E.createElement("div",{className:"fs-4 fw-semibold"},l),a&&E.createElement("div",null,a),E.createElement(cf,N({className:"my-2",height:4},i&&{white:!0},s)),o&&E.createElement("small",{className:i?"text-medium-emphasis-inverse":"text-medium-emphasis"},o)))});DI.propTypes={className:d.string,color:Ne,inverse:d.bool,progress:d.object,text:d.string,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};DI.displayName="CWidgetCWidgetStatsB";var MI=b.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.icon,s=t.inverse,o=t.progress,a=t.title,l=t.value,c=P(t,["className","color","icon","inverse","progress","title","value"]);return E.createElement(mn,N({className:n,color:r},s&&{textColor:"high-emphasis-inverse"},c,{ref:e}),E.createElement(gn,null,i&&E.createElement("div",{className:"text-medium-emphasis".concat(s?"-inverse":""," text-end mb-4")},i),l&&E.createElement("div",{className:"text-high-emphasis".concat(s?"-inverse":""," fs-4 fw-semibold")},l),a&&E.createElement("div",{className:s?"text-medium-emphasis-inverse":"text-medium-emphasis"},a),E.createElement(cf,N({className:"mt-3 mb-0",height:4},s&&{white:!0},o))))});MI.propTypes={className:d.string,color:Ne,icon:d.oneOfType([d.string,d.node]),inverse:d.bool,progress:d.object,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};MI.displayName="CWidgetStatsCWidgetStatsC";var LI=b.forwardRef(function(t,e){var n,r=t.className,i=t.chart,s=t.color,o=t.icon,a=t.values,l=P(t,["className","chart","color","icon","values"]);return E.createElement(mn,N({className:r},l,{ref:e}),E.createElement(Ky,{className:O("position-relative d-flex justify-content-center align-items-center",(n={},n["bg-".concat(s)]=s,n))},o,i),E.createElement(gn,{className:"row text-center"},a&&a.map(function(c,u){return E.createElement(E.Fragment,{key:u},u%2!==0&&E.createElement("div",{className:"vr"}),E.createElement(cr,null,E.createElement("div",{className:"fs-5 fw-semibold"},c.value),E.createElement("div",{className:"text-uppercase text-medium-emphasis small"},c.title)))})))});LI.propTypes={chart:d.oneOfType([d.string,d.node]),className:d.string,color:Ne,icon:d.oneOfType([d.string,d.node]),values:d.arrayOf(d.any)};LI.displayName="CWidgetStatsD";var FI=b.forwardRef(function(t,e){var n=t.chart,r=t.className,i=t.title,s=t.value,o=P(t,["chart","className","title","value"]);return E.createElement(mn,N({className:O(r)},o,{ref:e}),E.createElement(gn,{className:"text-center"},i&&E.createElement("div",{className:"text-medium-emphasis small text-uppercase fw-semibold"},i),s&&E.createElement("div",{className:"fs-6 fw-semibold py-3"},s),n))});FI.propTypes={children:d.node,chart:d.oneOfType([d.string,d.node]),className:d.string,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};FI.displayName="CWidgetStatsE";var $I=b.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.footer,s=t.icon,o=t.padding,a=o===void 0?!0:o,l=t.title,c=t.value,u=P(t,["className","color","footer","icon","padding","title","value"]);return E.createElement(mn,N({className:n},u,{ref:e}),E.createElement(gn,{className:"d-flex align-items-center ".concat(a===!1&&"p-0")},E.createElement("div",{className:"me-3 text-white bg-".concat(r," ").concat(a?"p-3":"p-4")},s),E.createElement("div",null,E.createElement("div",{className:"fs-6 fw-semibold text-".concat(r)},c),E.createElement("div",{className:"text-medium-emphasis text-uppercase fw-semibold small"},l))),i&&E.createElement(qy,null,i))});$I.propTypes={className:d.string,color:Ne,footer:d.oneOfType([d.string,d.node]),icon:d.oneOfType([d.string,d.node]),padding:d.bool,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};$I.displayName="CWidgetStatsF";function A3(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(null),[o,a]=b.useState(!1),{login:l}=sf(),c=ec();async function u(h){h.preventDefault(),s(null),a(!0);try{await l(t,n),c("/dashboard")}catch(f){s(f.message)}finally{a(!1)}}return D.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:D.jsx(mn,{style:{width:"24rem"},children:D.jsxs(gn,{children:[D.jsx("h3",{className:"mb-4",children:"Login"}),i&&D.jsx("div",{className:"text-danger mb-3",children:i}),D.jsxs(af,{onSubmit:u,children:[D.jsx(Io,{type:"email",placeholder:"Email",value:t,onChange:h=>e(h.target.value),required:!0,className:"mb-3"}),D.jsx(Io,{type:"password",placeholder:"Password",value:n,onChange:h=>r(h.target.value),required:!0,className:"mb-3"}),D.jsx(Tc,{type:"submit",color:"primary",className:"w-100",disabled:o,children:o?D.jsx(ws,{size:"sm"}):"Entrar"})]})]})})})}function D3(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState("client"),[o,a]=b.useState(null),[l,c]=b.useState(!1),u=ec();async function h(f){f.preventDefault(),a(null),c(!0);try{const{user:p}=await kM(Ku,t,n);await Jz(Ek(io,"users",p.uid),{role:i}),u("/login")}catch(p){a(p.message)}finally{c(!1)}}return D.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:D.jsx(mn,{style:{width:"24rem"},children:D.jsxs(gn,{children:[D.jsx("h3",{className:"mb-4",children:"Registar"}),o&&D.jsx("div",{className:"text-danger mb-3",children:o}),D.jsxs(af,{onSubmit:h,children:[D.jsx(Io,{type:"email",placeholder:"Email",value:t,onChange:f=>e(f.target.value),required:!0,className:"mb-3"}),D.jsx(Io,{type:"password",placeholder:"Password",value:n,onChange:f=>r(f.target.value),required:!0,className:"mb-3"}),D.jsxs("select",{className:"form-select mb-3",value:i,onChange:f=>s(f.target.value),children:[D.jsx("option",{value:"client",children:"Cliente"}),D.jsx("option",{value:"trainer",children:"Trainer"}),D.jsx("option",{value:"admin",children:"Admin"})]}),D.jsx(Tc,{type:"submit",color:"primary",className:"w-100",disabled:l,children:l?D.jsx(ws,{size:"sm"}):"Registar"})]})]})})})}var Bl=function(){return Bl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bl.apply(this,arguments)};function zI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VI={exports:{}},vp,F1;function M3(){if(F1)return vp;F1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vp=t,vp}var yp,$1;function L3(){if($1)return yp;$1=1;var t=M3();function e(){}function n(){}return n.resetWarningCache=e,yp=function(){function r(o,a,l,c,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},yp}VI.exports=L3()();var F3=VI.exports,je=jI(F3),BI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(BI);var $3=BI.exports,Xh=jI($3),z3=function(t){return t.replace(/([-_][a-z0-9])/gi,function(e){return e.toUpperCase()}).replace(/-/gi,"")},$i=b.forwardRef(function(t,e){var n,r=t.className,i=t.content,s=t.customClassName,o=t.height,a=t.icon,l=t.name,c=t.size,u=t.title,h=t.use,f=t.width,p=zI(t,["className","content","customClassName","height","icon","name","size","title","use","width"]),g=b.useState(0),m=g[0],w=g[1],v=a||i||l;i&&process&&process.env,l&&process&&process.env,b.useMemo(function(){return w(m+1)},[v,JSON.stringify(v)]);var y=u?"<title>".concat(u,"</title>"):"",x=b.useMemo(function(){var k=v&&typeof v=="string"&&v.includes("-")?z3(v):v;if(Array.isArray(v))return v;if(typeof v=="string"&&E.icons)return E[k]},[m]),C=b.useMemo(function(){return Array.isArray(x)?x[1]||x[0]:x},[m]),_=function(){return Array.isArray(x)&&x.length>1?x[0]:"64 64"}(),S=function(){return p.viewBox||"0 0 ".concat(_)}(),T=s?Xh(s):Xh("icon",(n={},n["icon-".concat(c)]=c,n["icon-custom-size"]=o||f,n),r);return E.createElement(E.Fragment,null,h?E.createElement("svg",Bl({xmlns:"http://www.w3.org/2000/svg",className:T},o&&{height:o},f&&{width:f},{role:"img","aria-hidden":"true"},p,{ref:e}),E.createElement("use",{href:h})):E.createElement("svg",Bl({xmlns:"http://www.w3.org/2000/svg",viewBox:S,className:T},o&&{height:o},f&&{width:f},{role:"img","aria-hidden":"true",dangerouslySetInnerHTML:{__html:y+C}},p,{ref:e})),u&&E.createElement("span",{className:"visually-hidden"},u))});$i.propTypes={className:je.string,content:je.oneOfType([je.array,je.string]),customClassName:je.string,height:je.number,icon:je.oneOfType([je.array,je.string]),name:je.string,size:je.oneOf(["custom","custom-size","sm","lg","xl","xxl","3xl","4xl","5xl","6xl","7xl","8xl","9xl"]),title:je.string,use:je.string,viewBox:je.string,width:je.number};$i.displayName="CIcon";var UI=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.customClassName,o=t.height,a=t.size,l=t.title,c=t.width,u=zI(t,["children","className","customClassName","height","size","title","width"]),h=s?Xh(s):Xh("icon",(n={},n["icon-".concat(a)]=a,n["icon-custom-size"]=o||c,n),i);return E.createElement(E.Fragment,null,b.Children.map(r,function(f){if(E.isValidElement(f))return E.cloneElement(f,Bl({"aria-hidden":!0,className:h,focusable:"false",ref:e,role:"img"},u))}),l&&E.createElement("span",{className:"visually-hidden"},l))});UI.propTypes={className:je.string,customClassName:je.string,height:je.number,size:je.oneOf(["custom","custom-size","sm","lg","xl","xxl","3xl","4xl","5xl","6xl","7xl","8xl","9xl"]),title:je.string,width:je.number};UI.displayName="CIconSvg";var j3=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M472,96H384V40H352V96H160V40H128V96H40a24.028,24.028,0,0,0-24,24V456a24.028,24.028,0,0,0,24,24H472a24.028,24.028,0,0,0,24-24V120A24.028,24.028,0,0,0,472,96Zm-8,352H48V128h80v40h32V128H352v40h32V128h80Z' class='ci-primary'/><rect width='32' height='32' x='112' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='112' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='112' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"],wp=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M425.706,142.294A240,240,0,0,0,16,312v88H160V368H48V312c0-114.691,93.309-208,208-208s208,93.309,208,208v56H352v32H496V312A238.432,238.432,0,0,0,425.706,142.294Z' class='ci-primary'/><rect width='32' height='32' x='80' y='264' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='240' y='128' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='136' y='168' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='400' y='264' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M297.222,335.1l69.2-144.173-28.85-13.848L268.389,321.214A64.141,64.141,0,1,0,297.222,335.1ZM256,416a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,416Z' class='ci-primary'/>"],V3=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M411.6,343.656l-72.823-47.334,27.455-50.334A80.23,80.23,0,0,0,376,207.681V128a112,112,0,0,0-224,0v79.681a80.236,80.236,0,0,0,9.768,38.308l27.455,50.333L116.4,343.656A79.725,79.725,0,0,0,80,410.732V496H448V410.732A79.727,79.727,0,0,0,411.6,343.656ZM416,464H112V410.732a47.836,47.836,0,0,1,21.841-40.246l97.66-63.479-41.64-76.341A48.146,48.146,0,0,1,184,207.681V128a80,80,0,0,1,160,0v79.681a48.146,48.146,0,0,1-5.861,22.985L296.5,307.007l97.662,63.479h0A47.836,47.836,0,0,1,416,410.732Z' class='ci-primary'/>"];function so({children:t}){const{role:e,logout:n}=sf(),r=ec();async function i(){await n(),r("/login")}return D.jsxs("div",{className:"d-flex",children:[D.jsx(i0,{unfoldable:!0,children:D.jsxs(e0,{children:[e==="admin"&&D.jsxs(D.Fragment,{children:[D.jsxs(Fi,{component:aa,to:"/admin",children:[D.jsx($i,{icon:wp})," Dashboard Admin"]}),D.jsxs(Fi,{component:aa,to:"/admin/users",children:[D.jsx($i,{icon:V3})," Utilizadores"]})]}),e==="trainer"&&D.jsxs(D.Fragment,{children:[D.jsxs(Fi,{component:aa,to:"/trainer",children:[D.jsx($i,{icon:wp})," Dashboard Trainer"]}),D.jsxs(Fi,{component:aa,to:"/trainer/schedule",children:[D.jsx($i,{icon:j3})," Agenda"]})]}),e==="client"&&D.jsxs(Fi,{component:aa,to:"/dashboard",children:[D.jsx($i,{icon:wp})," Meu Dashboard"]})]})}),D.jsxs("div",{className:"flex-grow-1",children:[D.jsxs(Qy,{className:"px-3 d-flex justify-content-between align-items-center",children:[D.jsx("h4",{children:"Fitness Pro"}),D.jsx(Tc,{color:"secondary",size:"sm",onClick:i,children:"Logout"})]}),D.jsx(Yy,{className:"mt-4",children:t})]})]})}function B3(){return D.jsxs(so,{children:[D.jsx("h1",{children:"Bem-vindo ao teu Dashboard"}),D.jsx("p",{children:"Aqui podes ver as tuas sessões, progresso e muito mais."})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function kc(t){return t+.5|0}const Hr=(t,e,n)=>Math.max(Math.min(t,n),e);function Na(t){return Hr(kc(t*2.55),0,255)}function oi(t){return Hr(kc(t*255),0,255)}function rr(t){return Hr(kc(t/2.55)/100,0,1)}function z1(t){return Hr(kc(t*100),0,100)}const Zt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hg=[..."0123456789ABCDEF"],U3=t=>hg[t&15],H3=t=>hg[(t&240)>>4]+hg[t&15],cu=t=>(t&240)>>4===(t&15),W3=t=>cu(t.r)&&cu(t.g)&&cu(t.b)&&cu(t.a);function q3(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Zt[t[1]]*17,g:255&Zt[t[2]]*17,b:255&Zt[t[3]]*17,a:e===5?Zt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Zt[t[1]]<<4|Zt[t[2]],g:Zt[t[3]]<<4|Zt[t[4]],b:Zt[t[5]]<<4|Zt[t[6]],a:e===9?Zt[t[7]]<<4|Zt[t[8]]:255})),n}const K3=(t,e)=>t<255?e(t):"";function G3(t){var e=W3(t)?U3:H3;return t?"#"+e(t.r)+e(t.g)+e(t.b)+K3(t.a,e):void 0}const Y3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function HI(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Q3(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function X3(t,e,n){const r=HI(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function J3(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function u0(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=J3(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function h0(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(oi)}function d0(t,e,n){return h0(HI,t,e,n)}function Z3(t,e,n){return h0(X3,t,e,n)}function eV(t,e,n){return h0(Q3,t,e,n)}function WI(t){return(t%360+360)%360}function tV(t){const e=Y3.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Na(+e[5]):oi(+e[5]));const i=WI(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Z3(i,s,o):e[1]==="hsv"?r=eV(i,s,o):r=d0(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function nV(t,e){var n=u0(t);n[0]=WI(n[0]+e),n=d0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function rV(t){if(!t)return;const e=u0(t),n=e[0],r=z1(e[1]),i=z1(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${rr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const j1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},V1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iV(){const t={},e=Object.keys(V1),n=Object.keys(j1);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,j1[s]);s=parseInt(V1[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let uu;function sV(t){uu||(uu=iV(),uu.transparent=[0,0,0,0]);const e=uu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const oV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aV(t){const e=oV.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Na(o):Hr(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Na(r):Hr(r,0,255)),i=255&(e[4]?Na(i):Hr(i,0,255)),s=255&(e[6]?Na(s):Hr(s,0,255)),{r,g:i,b:s,a:n}}}function lV(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${rr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const bp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ks=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function cV(t,e,n){const r=ks(rr(t.r)),i=ks(rr(t.g)),s=ks(rr(t.b));return{r:oi(bp(r+n*(ks(rr(e.r))-r))),g:oi(bp(i+n*(ks(rr(e.g))-i))),b:oi(bp(s+n*(ks(rr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function hu(t,e,n){if(t){let r=u0(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=d0(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function qI(t,e){return t&&Object.assign(e||{},t)}function B1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=oi(t[3]))):(e=qI(t,{r:0,g:0,b:0,a:1}),e.a=oi(e.a)),e}function uV(t){return t.charAt(0)==="r"?aV(t):tV(t)}class Ul{constructor(e){if(e instanceof Ul)return e;const n=typeof e;let r;n==="object"?r=B1(e):n==="string"&&(r=q3(e)||sV(e)||uV(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=qI(this._rgb);return e&&(e.a=rr(e.a)),e}set rgb(e){this._rgb=B1(e)}rgbString(){return this._valid?lV(this._rgb):void 0}hexString(){return this._valid?G3(this._rgb):void 0}hslString(){return this._valid?rV(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=cV(this._rgb,e._rgb,n)),this}clone(){return new Ul(this.rgb)}alpha(e){return this._rgb.a=oi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=kc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hu(this._rgb,2,e),this}darken(e){return hu(this._rgb,2,-e),this}saturate(e){return hu(this._rgb,1,e),this}desaturate(e){return hu(this._rgb,1,-e),this}rotate(e){return nV(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jn(){}const hV=(()=>{let t=0;return()=>t++})();function ve(t){return t==null}function Ae(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function pe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function tt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ut(t,e){return tt(t)?t:e}function ce(t,e){return typeof t>"u"?e:t}const dV=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ee(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ge(t,e,n,r){let i,s,o;if(Ae(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(pe(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Jh(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Zh(t){if(Ae(t))return t.map(Zh);if(pe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Zh(t[n[i]]);return e}return t}function KI(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function fV(t,e,n,r){if(!KI(t))return;const i=e[t],s=n[t];pe(i)&&pe(s)?Hl(i,s,r):e[t]=Zh(s)}function Hl(t,e,n){const r=Ae(e)?e:[e],i=r.length;if(!pe(t))return t;n=n||{};const s=n.merger||fV;let o;for(let a=0;a<i;++a){if(o=r[a],!pe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Ja(t,e){return Hl(t,e,{merger:pV})}function pV(t,e,n){if(!KI(t))return;const r=e[t],i=n[t];pe(r)&&pe(i)?Ja(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Zh(i))}const U1={"":t=>t,x:t=>t.x,y:t=>t.y};function mV(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function gV(t){const e=mV(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function ed(t,e){return(U1[e]||(U1[e]=gV(e)))(t)}function f0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const td=t=>typeof t<"u",fi=t=>typeof t=="function",H1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function vV(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ke=Math.PI,un=2*Ke,yV=un+Ke,nd=Number.POSITIVE_INFINITY,wV=Ke/180,qt=Ke/2,Ti=Ke/4,W1=Ke*2/3,Wr=Math.log10,Ro=Math.sign;function Za(t,e,n){return Math.abs(t-e)<n}function q1(t){const e=Math.round(t);t=Za(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Wr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function bV(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function EV(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Wl(t){return!EV(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function xV(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function GI(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function qr(t){return t*(Ke/180)}function p0(t){return t*(180/Ke)}function K1(t){if(!tt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function CV(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ke&&(s+=un),{angle:s,distance:i}}function dg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _V(t,e){return(t-e+yV)%un-Ke}function En(t){return(t%un+un)%un}function YI(t,e,n,r){const i=En(t),s=En(e),o=En(n),a=En(s-i),l=En(o-i),c=En(i-s),u=En(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function on(t,e,n){return Math.max(e,Math.min(n,t))}function SV(t){return on(t,-32768,32767)}function Ia(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function m0(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Wi=(t,e,n,r)=>m0(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),TV=(t,e,n)=>m0(t,n,r=>t[r][e]>=n);function kV(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const QI=["push","pop","shift","splice","unshift"];function NV(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),QI.forEach(n=>{const r="_onData"+f0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function G1(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(QI.forEach(s=>{delete t[s]}),delete t._chartjs)}function IV(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const XI=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function JI(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,XI.call(window,()=>{r=!1,t.apply(e,n)}))}}function RV(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const g0=t=>t==="start"?"left":t==="end"?"right":"center",pt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,OV=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function PV(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:g}=o.getUserBounds();if(p){if(i=Math.min(Wi(l,u,h).lo,n?r:Wi(e,u,o.getPixelForValue(h)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(w=>!ve(w[a.axis]));i-=Math.max(0,m)}i=on(i,0,r-1)}if(g){let m=Math.max(Wi(l,o.axis,f,!0).hi+1,n?0:Wi(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const w=l.slice(m-1).findIndex(v=>!ve(v[a.axis]));m+=Math.max(0,w)}s=on(m,i,r)-i}else s=r-i}return{start:i,count:s}}function AV(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const du=t=>t===0||t===1,Y1=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*un/n)),Q1=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*un/n)+1,el={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*qt)+1,easeOutSine:t=>Math.sin(t*qt),easeInOutSine:t=>-.5*(Math.cos(Ke*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>du(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>du(t)?t:Y1(t,.075,.3),easeOutElastic:t=>du(t)?t:Q1(t,.075,.3),easeInOutElastic(t){return du(t)?t:t<.5?.5*Y1(t*2,.1125,.45):.5+.5*Q1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-el.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?el.easeInBounce(t*2)*.5:el.easeOutBounce(t*2-1)*.5+.5};function v0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function X1(t){return v0(t)?t:new Ul(t)}function Ep(t){return v0(t)?t:new Ul(t).saturate(.5).darken(.1).hexString()}const DV=["x","y","borderWidth","radius","tension"],MV=["color","borderColor","backgroundColor"];function LV(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:MV},numbers:{type:"number",properties:DV}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function FV(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const J1=new Map;function $V(t,e){e=e||{};const n=t+JSON.stringify(e);let r=J1.get(n);return r||(r=new Intl.NumberFormat(t,e),J1.set(n,r)),r}function y0(t,e,n){return $V(e,n).format(t)}const ZI={values(t){return Ae(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=zV(t,n)}const o=Wr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),y0(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Wr(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?ZI.numeric.call(this,t,e,n):""}};function zV(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var df={formatters:ZI};function jV(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:df.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ds=Object.create(null),fg=Object.create(null);function tl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function xp(t,e,n){return typeof e=="string"?Hl(tl(t,e),n):Hl(tl(t,""),e)}class VV{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ep(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ep(i.borderColor),this.hoverColor=(r,i)=>Ep(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return xp(this,e,n)}get(e){return tl(this,e)}describe(e,n){return xp(fg,e,n)}override(e,n){return xp(ds,e,n)}route(e,n,r,i){const s=tl(this,e),o=tl(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return pe(l)?Object.assign({},c,l):ce(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var $e=new VV({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LV,FV,jV]);function BV(t){return!t||ve(t.size)||ve(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function rd(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function UV(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Ae(h))o=rd(t,i,s,o,h);else if(Ae(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!Ae(f)&&(o=rd(t,i,s,o,f));t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return o}function ki(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Z1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function pg(t,e,n,r){eR(t,e,n,r,null)}function eR(t,e,n,r,i){let s,o,a,l,c,u,h,f;const p=e.pointStyle,g=e.rotation,m=e.radius;let w=(g||0)*wV;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,m,0,0,un):t.arc(n,r,m,0,un),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(w)*u,r-Math.cos(w)*m),w+=W1,t.lineTo(n+Math.sin(w)*u,r-Math.cos(w)*m),w+=W1,t.lineTo(n+Math.sin(w)*u,r-Math.cos(w)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(w+Ti)*l,h=Math.cos(w+Ti)*(i?i/2-c:l),a=Math.sin(w+Ti)*l,f=Math.sin(w+Ti)*(i?i/2-c:l),t.arc(n-h,r-a,c,w-Ke,w-qt),t.arc(n+f,r-o,c,w-qt,w),t.arc(n+h,r+a,c,w,w+qt),t.arc(n-f,r+o,c,w+qt,w+Ke),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}w+=Ti;case"rectRot":h=Math.cos(w)*(i?i/2:m),o=Math.cos(w)*m,a=Math.sin(w)*m,f=Math.sin(w)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+f,r-o),t.lineTo(n+h,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":w+=Ti;case"cross":h=Math.cos(w)*(i?i/2:m),o=Math.cos(w)*m,a=Math.sin(w)*m,f=Math.sin(w)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":h=Math.cos(w)*(i?i/2:m),o=Math.cos(w)*m,a=Math.sin(w)*m,f=Math.sin(w)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),w+=Ti,h=Math.cos(w)*(i?i/2:m),o=Math.cos(w)*m,a=Math.sin(w)*m,f=Math.sin(w)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(w)*m,a=Math.sin(w)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(i?i/2:m),r+Math.sin(w)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ur(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function w0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function b0(t){t.restore()}function HV(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function WV(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function qV(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ve(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function KV(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function GV(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function fs(t,e,n,r,i,s={}){const o=Ae(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,qV(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&GV(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ve(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),KV(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function id(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ke,Ke,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Ke,qt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,qt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-qt,!0),t.lineTo(n+o.topLeft,r)}const YV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,QV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XV(t,e){const n=(""+t).match(YV);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const JV=t=>+t||0;function tR(t,e){const n={},r=pe(e),i=r?Object.keys(e):e,s=pe(t)?r?o=>ce(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=JV(s(o));return n}function ZV(t){return tR(t,{top:"y",right:"x",bottom:"y",left:"x"})}function oo(t){return tR(t,["topLeft","topRight","bottomLeft","bottomRight"])}function St(t){const e=ZV(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qe(t,e){t=t||{},e=e||$e.font;let n=ce(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ce(t.style,e.style);r&&!(""+r).match(QV)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ce(t.family,e.family),lineHeight:XV(ce(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ce(t.weight,e.weight),string:""};return i.string=BV(i),i}function fu(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Ae(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function eB(t,e,n){const{min:r,max:i}=t,s=dV(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function xi(t,e){return Object.assign(Object.create(t),e)}function E0(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=sR("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>E0([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return rR(a,l,()=>lB(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return tE(a).includes(l)},ownKeys(a){return tE(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Oo(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:nR(t,r),setContext:s=>Oo(t,s,n,r),override:s=>Oo(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return rR(s,o,()=>nB(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function nR(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:fi(n)?n:()=>n,isIndexable:fi(r)?r:()=>r}}const tB=(t,e)=>t?t+f0(e):e,x0=(t,e)=>pe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function rR(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function nB(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return fi(a)&&o.isScriptable(e)&&(a=rB(e,a,t,n)),Ae(a)&&a.length&&(a=iB(e,a,t,o.isIndexable)),x0(e,a)&&(a=Oo(a,i,s&&s[e],o)),a}function rB(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),x0(t,l)&&(l=C0(i._scopes,i,t,l)),l}function iB(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(pe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=C0(c,i,t,u);e.push(Oo(h,s,o&&o[t],a))}}return e}function iR(t,e,n){return fi(t)?t(e,n):t}const sB=(t,e)=>t===!0?e:typeof t=="string"?ed(e,t):void 0;function oB(t,e,n,r,i){for(const s of e){const o=sB(n,s);if(o){t.add(o);const a=iR(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function C0(t,e,n,r){const i=e._rootScopes,s=iR(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=eE(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=eE(a,o,s,l,r),l===null)?!1:E0(Array.from(a),[""],i,s,()=>aB(e,n,r))}function eE(t,e,n,r,i){for(;n;)n=oB(t,e,n,r,i);return n}function aB(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Ae(i)&&pe(n)?n:i||{}}function lB(t,e,n,r){let i;for(const s of e)if(i=sR(tB(s,t),n),typeof i<"u")return x0(t,i)?C0(n,r,t,i):i}function sR(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function tE(t){let e=t._keys;return e||(e=t._keys=cB(t._scopes)),e}function cB(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const uB=Number.EPSILON||1e-14,Po=(t,e)=>e<t.length&&!t[e].skip&&t[e],oR=t=>t==="x"?"y":"x";function hB(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=dg(s,i),l=dg(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,f=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function dB(t,e,n){const r=t.length;let i,s,o,a,l,c=Po(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Po(t,u+1),!(!l||!c)){if(Za(e[u],0,uB)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function fB(t,e,n="x"){const r=oR(n),i=t.length;let s,o,a,l=Po(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Po(t,c+1),!a)continue;const u=a[n],h=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function pB(t,e="x"){const n=oR(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Po(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=Po(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Ro(i[o-1])!==Ro(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}dB(t,i,s),fB(t,s,e)}function pu(t,e,n){return Math.max(Math.min(t,n),e)}function mB(t,e){let n,r,i,s,o,a=ur(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&ur(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=pu(i.cp1x,e.left,e.right),i.cp1y=pu(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=pu(i.cp2x,e.left,e.right),i.cp2y=pu(i.cp2y,e.top,e.bottom)))}function gB(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")pB(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=hB(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&mB(t,n)}function _0(){return typeof window<"u"&&typeof document<"u"}function S0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const ff=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function vB(t,e){return ff(t).getPropertyValue(e)}const yB=["top","right","bottom","left"];function Xi(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=yB[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const wB=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function bB(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(wB(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Mi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=ff(n),s=i.boxSizing==="border-box",o=Xi(i,"padding"),a=Xi(i,"border","width"),{x:l,y:c,box:u}=bB(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:g}=e;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/p*n.width/r),y:Math.round((c-f)/g*n.height/r)}}function EB(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&S0(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=ff(s),l=Xi(a,"border","width"),c=Xi(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=sd(a.maxWidth,s,"clientWidth"),i=sd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||nd,maxHeight:i||nd}}const mu=t=>Math.round(t*10)/10;function xB(t,e,n,r){const i=ff(t),s=Xi(i,"margin"),o=sd(i.maxWidth,t,"clientWidth")||nd,a=sd(i.maxHeight,t,"clientHeight")||nd,l=EB(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Xi(i,"border","width"),p=Xi(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=mu(Math.min(c,o,l.maxWidth)),u=mu(Math.min(u,a,l.maxHeight)),c&&!u&&(u=mu(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=mu(Math.floor(u*r))),{width:c,height:u}}function nE(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const CB=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function rE(t,e){const n=vB(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Li(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _B(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function SB(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Li(t,i,n),a=Li(i,s,n),l=Li(s,e,n),c=Li(o,a,n),u=Li(a,l,n);return Li(c,u,n)}const TB=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},kB=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ao(t,e,n){return t?TB(e,n):kB()}function aR(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function lR(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function cR(t){return t==="angle"?{between:YI,compare:_V,normalize:En}:{between:Ia,compare:(e,n)=>e-n,normalize:e=>e}}function iE({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function NB(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=cR(r),l=e.length;let{start:c,end:u,loop:h}=t,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function IB(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=cR(r),{start:u,end:h,loop:f,style:p}=NB(t,e,n),g=[];let m=!1,w=null,v,y,x;const C=()=>l(i,x,v)&&a(i,x)!==0,_=()=>a(s,v)===0||l(s,x,v),S=()=>m||C(),T=()=>!m||_();for(let k=u,I=u;k<=h;++k)y=e[k%o],!y.skip&&(v=c(y[r]),v!==x&&(m=l(v,i,s),w===null&&S()&&(w=a(v,i)===0?k:I),w!==null&&T()&&(g.push(iE({start:w,end:k,loop:f,count:o,style:p})),w=null),I=k,x=v));return w!==null&&g.push(iE({start:w,end:h,loop:f,count:o,style:p})),g}function RB(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=IB(r[i],t.points,e);s.length&&n.push(...s)}return n}function OB(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function PB(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function AB(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=OB(n,i,s,r);if(r===!0)return sE(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return sE(t,PB(n,o,l,c),n,e)}function sE(t,e,n,r){return!r||!r.setContext||!n?e:DB(t,e,n,r)}function DB(t,e,n,r){const i=t._chart.getContext(),s=oE(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,f=h;function p(g,m,w,v){const y=a?-1:1;if(g!==m){for(g+=l;n[g%l].skip;)g-=y;for(;n[m%l].skip;)m+=y;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:w,style:v}),u=v,h=m%l)}}for(const g of e){h=a?h:g.start;let m=n[h%l],w;for(f=h+1;f<=g.end;f++){const v=n[f%l];w=oE(r.setContext(xi(i,{type:"segment",p0:m,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),MB(w,u)&&p(h,f-1,g.loop,u),m=v,u=w}h<f-1&&p(h,f-1,g.loop,u)}return c}function oE(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function MB(t,e){if(!e)return!1;const n=[],r=function(i,s){return v0(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function gu(t,e,n){return t.options.clip?t[n]:e[n]}function LB(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:gu(n,e,"left"),right:gu(n,e,"right"),top:gu(r,e,"top"),bottom:gu(r,e,"bottom")}:e}function FB(t,e){const n=e._clip;if(n.disabled)return!1;const r=LB(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $B{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=XI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Zn=new $B;const aE="transparent",zB={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=X1(t||aE),i=r.valid&&X1(e||aE);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class jB{constructor(e,n,r,i){const s=n[r];i=fu([e.to,i,s,e.from]);const o=fu([e.from,s,i]);this._active=!0,this._fn=e.fn||zB[e.type||typeof o],this._easing=el[e.easing]||el.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=fu([e.to,n,i,e.from]),this._from=fu([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class uR{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!pe(e))return;const n=Object.keys($e.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!pe(s))return;const o={};for(const a of n)o[a]=s[a];(Ae(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=BB(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&VB(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const f=r.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=h=new jB(f,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Zn.add(this._chart,r),!0}}function VB(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function BB(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function lE(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function UB(t,e,n){if(n===!1)return!1;const r=lE(t,n),i=lE(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function HB(t){let e,n,r,i;return pe(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function hR(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function cE(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],tt(c)&&(s||e===0||Ro(e)===Ro(c))&&(e+=c)}return!u&&!r.all?0:e}function WB(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function Cp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function qB(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function KB(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function GB(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function uE(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function hE(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=qB(s,o,r),h=e.length;let f;for(let p=0;p<h;++p){const g=e[p],{[l]:m,[c]:w}=g,v=g._stacks||(g._stacks={});f=v[c]=GB(i,u,m),f[a]=w,f._top=uE(f,o,!0,r.type),f._bottom=uE(f,o,!1,r.type);const y=f._visualValues||(f._visualValues={});y[a]=w}}function _p(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function YB(t,e){return xi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function QB(t,e,n){return xi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ha(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Sp=t=>t==="reset"||t==="none",dE=(t,e)=>e?t:Object.assign({},t),XB=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:hR(n,!0),values:null};class nl{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ha(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=n.xAxisID=ce(r.xAxisID,_p(e,"x")),o=n.yAxisID=ce(r.yAxisID,_p(e,"y")),a=n.rAxisID=ce(r.rAxisID,_p(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&G1(this._data,this),e._stacked&&ha(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(pe(n)){const i=this._cachedMeta;this._data=WB(n,i)}else if(r!==n){if(r){G1(r,this);const i=this._cachedMeta;ha(i),i._parsed=[]}n&&Object.isExtensible(n)&&NV(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Cp(n.vScale,n),n.stack!==r.stack&&(i=!0,ha(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(hE(this,n._parsed),n._stacked=Cp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{Ae(i[e])?f=this.parseArrayData(r,i,e,n):pe(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=h=f[u],l&&(p()&&(l=!1),c=h);r._sorted=l}o&&hE(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let f,p,g;for(f=0,p=i;f<p;++f)g=f+r,h[f]={[a]:u||s.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+r,p=n[f],c[u]={x:s.parse(ed(p,a),f),y:o.parse(ed(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:hR(i,!0),values:n._stacks[e.axis]._visualValues};return cE(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=cE(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=XB(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=KB(a);let f,p;function g(){p=i[f];const m=p[a.axis];return!tt(p[e.axis])||u>m||h<m}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],tt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=HB(ce(this.options.clip,UB(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=QB(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=YB(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&td(r);if(a)return dE(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys($e.elements[e]),g=()=>this.getContext(r,i,n),m=c.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(dE(m,l))),m}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,r,n))}const c=new uR(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Sp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Sp(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Sp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ha(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}J(nl,"defaults",{}),J(nl,"datasetElementType",null),J(nl,"dataElementType",null);class Yu extends nl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=PV(n,i,o);this._drawStart=a,this._drawCount=l,AV(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,w=Wl(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",y=n+r,x=e.length;let C=n>0&&this.getParsed(n-1);for(let _=0;_<x;++_){const S=e[_],T=v?S:{};if(_<n||_>=y){T.skip=!0;continue}const k=this.getParsed(_),I=ve(k[p]),R=T[f]=o.getPixelForValue(k[f],_),A=T[p]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[p],_);T.skip=isNaN(R)||isNaN(A)||I,T.stop=_>0&&Math.abs(k[f]-C[f])>w,m&&(T.parsed=k,T.raw=c.data[_]),h&&(T.options=u||this.resolveDataElementOptions(_,S.active?"active":i)),v||this.updateElement(S,_,T,i),C=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}J(Yu,"id","line"),J(Yu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),J(Yu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ni(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class T0{constructor(e){J(this,"options");this.options=e||{}}static override(e){Object.assign(T0.prototype,e)}init(){}formats(){return Ni()}parse(){return Ni()}format(){return Ni()}add(){return Ni()}diff(){return Ni()}startOf(){return Ni()}endOf(){return Ni()}}var JB={_date:T0};function ZB(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?TV:Wi;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(s,e,n-h),p=c(s,e,n+h);return{lo:f.lo,hi:p.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(m=>!ve(m[h.axis]));u.lo-=Math.max(0,p);const g=f.slice(u.hi).findIndex(m=>!ve(m[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function Nc(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:f}=ZB(s[a],e,o,i);for(let p=h;p<=f;++p){const g=u[p];g.skip||r(g,c,p)}}}function eU(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Tp(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Nc(t,n,e,function(a,l,c){!i&&!ur(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function tU(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=CV(o,{x:e.x,y:e.y});YI(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Nc(t,n,e,s),i}function nU(t,e,n,r,i,s){let o=[];const a=eU(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(e.x,e.y,i);if(r&&!p)return;const g=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!p)return;const w=a(e,g);w<l?(o=[{element:u,datasetIndex:h,index:f}],l=w):w===l&&o.push({element:u,datasetIndex:h,index:f})}return Nc(t,n,e,c),o}function kp(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?tU(t,e,n,i):nU(t,e,n,r,i,s)}function fE(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Nc(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var rU={evaluateInteractionItems:Nc,modes:{index(t,e,n,r){const i=Mi(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Tp(t,i,s,r,o):kp(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Mi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Tp(t,i,s,r,o):kp(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Mi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Tp(t,i,s,r,o)},nearest(t,e,n,r){const i=Mi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return kp(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Mi(e,t);return fE(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Mi(e,t);return fE(t,i,"y",n.intersect,r)}}};const dR=["left","top","right","bottom"];function da(t,e){return t.filter(n=>n.pos===e)}function pE(t,e){return t.filter(n=>dR.indexOf(n.pos)===-1&&n.box.axis===e)}function fa(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function iU(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function sU(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!dR.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function oU(t,e){const n=sU(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function aU(t){const e=iU(t),n=fa(e.filter(c=>c.box.fullSize),!0),r=fa(da(e,"left"),!0),i=fa(da(e,"right")),s=fa(da(e,"top"),!0),o=fa(da(e,"bottom")),a=pE(e,"x"),l=pE(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:da(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function mE(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function fR(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function lU(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!pe(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&fR(o,s.getPadding());const a=Math.max(0,e.outerWidth-mE(o,t,"left","right")),l=Math.max(0,e.outerHeight-mE(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function cU(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function uU(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Ra(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,uU(a.horizontal,e));const{same:h,other:f}=lU(e,n,a,r);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Ra(i,e,n,r)||u}function vu(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function gE(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;td(c.start)&&(o=c.start),l.fullSize?vu(l,i.left,o,n.outerWidth-i.right-i.left,f):vu(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;td(c.start)&&(s=c.start),l.fullSize?vu(l,s,i.top,f,n.outerHeight-i.bottom-i.top):vu(l,s,e.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var an={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=St(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=aU(t.boxes),l=a.vertical,c=a.horizontal;ge(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,w)=>w.box.options&&w.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);fR(f,St(r));const p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),g=oU(l.concat(c),h);Ra(a.fullSize,p,h,g),Ra(l,p,h,g),Ra(c,p,h,g)&&Ra(l,p,h,g),cU(p),gE(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,gE(a.rightAndBottom,p,h,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ge(a.chartArea,m=>{const w=m.box;Object.assign(w,t.chartArea),w.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class pR{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class hU extends pR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qu="$chartjs",dU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vE=t=>t===null||t==="";function fU(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Qu]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vE(i)){const s=rE(t,"width");s!==void 0&&(t.width=s)}if(vE(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=rE(t,"height");s!==void 0&&(t.height=s)}return t}const mR=CB?{passive:!0}:!1;function pU(t,e,n){t&&t.addEventListener(e,n,mR)}function mU(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,mR)}function gU(t,e){const n=dU[t.type]||t.type,{x:r,y:i}=Mi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function od(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function vU(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||od(a.addedNodes,r),o=o&&!od(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function yU(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||od(a.removedNodes,r),o=o&&!od(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ql=new Map;let yE=0;function gR(){const t=window.devicePixelRatio;t!==yE&&(yE=t,ql.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function wU(t,e){ql.size||window.addEventListener("resize",gR),ql.set(t,e)}function bU(t){ql.delete(t),ql.size||window.removeEventListener("resize",gR)}function EU(t,e,n){const r=t.canvas,i=r&&S0(r);if(!i)return;const s=JI((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),wU(t,s),o}function Np(t,e,n){n&&n.disconnect(),e==="resize"&&bU(t)}function xU(t,e,n){const r=t.canvas,i=JI(s=>{t.ctx!==null&&n(gU(s,t))},t);return pU(r,e,i),i}class CU extends pR{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(fU(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Qu])return!1;const r=n[Qu].initial;["height","width"].forEach(s=>{const o=r[s];ve(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Qu],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:vU,detach:yU,resize:EU}[n]||xU;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Np,detach:Np,resize:Np}[n]||mU)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return xB(e,n,r,i)}isAttached(e){const n=e&&S0(e);return!!(n&&n.isConnected)}}function _U(t){return!_0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?hU:CU}var _u;let bs=(_u=class{constructor(){J(this,"x");J(this,"y");J(this,"active",!1);J(this,"options");J(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Wl(this.x)&&Wl(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},J(_u,"defaults",{}),J(_u,"defaultRoutes"),_u);function SU(t,e){const n=t.options.ticks,r=TU(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?NU(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return IU(e,c,s,o/i),c;const u=kU(s,e,i);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(yu(e,c,u,ve(p)?0:a-p,a),h=0,f=o-1;h<f;h++)yu(e,c,u,s[h],s[h+1]);return yu(e,c,u,l,ve(p)?e.length:l+p),c}return yu(e,c,u),c}function TU(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function kU(t,e,n){const r=RU(t),i=e.length/n;if(!r)return Math.max(i,1);const s=bV(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function NU(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function IU(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function yu(t,e,n,r,i){const s=ce(r,0),o=Math.min(ce(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function RU(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const OU=t=>t==="left"?"right":t==="right"?"left":t,wE=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,bE=(t,e)=>Math.min(e||t,t);function EE(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function PU(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function AU(t,e){ge(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function pa(t){return t.drawTicks?t.tickLength:0}function xE(t,e){if(!t.display)return 0;const n=Qe(t.font,e),r=St(t.padding);return(Ae(t.text)?t.text.length:1)*n.lineHeight+r.height}function DU(t,e){return xi(t,{scale:e,type:"scale"})}function MU(t,e,n){return xi(t,{tick:n,index:e,type:"tick"})}function LU(t,e,n){let r=g0(t);return(n&&e!=="right"||!n&&e==="right")&&(r=OU(r)),r}function FU(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,p,g;const m=o-i,w=a-s;if(t.isHorizontal()){if(p=pt(r,s,a),pe(n)){const v=Object.keys(n)[0],y=n[v];g=u[v].getPixelForValue(y)+m-e}else n==="center"?g=(c.bottom+c.top)/2+m-e:g=wE(t,n,e);f=a-s}else{if(pe(n)){const v=Object.keys(n)[0],y=n[v];p=u[v].getPixelForValue(y)-w+e}else n==="center"?p=(c.left+c.right)/2-w+e:p=wE(t,n,e);g=pt(r,o,i),h=n==="left"?-qt:qt}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class Es extends bs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Ut(e,Number.POSITIVE_INFINITY),n=Ut(n,Number.NEGATIVE_INFINITY),r=Ut(r,Number.POSITIVE_INFINITY),i=Ut(i,Number.NEGATIVE_INFINITY),{min:Ut(e,r),max:Ut(n,i),minDefined:tt(e),maxDefined:tt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Ut(n,Ut(r,n)),max:Ut(r,Ut(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ee(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=eB(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?EE(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=SU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ee(this.options.afterUpdate,[this])}beforeSetDimensions(){Ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ee(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ee(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ee(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=bE(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=on(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),h+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-pa(e.grid)-n.padding-xE(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=p0(Math.min(Math.asin(on((u.highest.height+6)/a,-1,1)),Math.asin(on(l/c,-1,1))-Math.asin(on(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ee(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ee(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=xE(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=pa(s)+l):(e.height=this.maxHeight,e.width=pa(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,g=qr(this.labelRotation),m=Math.cos(g),w=Math.sin(g);if(a){const v=r.mirror?0:w*h.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=r.mirror?0:m*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(c,u,w,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=r*n.height):(f=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ee(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ve(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=EE(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/bE(n,r));let c=0,u=0,h,f,p,g,m,w,v,y,x,C,_;for(h=0;h<n;h+=l){if(g=e[h].label,m=this._resolveTickFontOptions(h),i.font=w=m.string,v=s[w]=s[w]||{data:{},gc:[]},y=m.lineHeight,x=C=0,!ve(g)&&!Ae(g))x=rd(i,v.data,v.gc,x,g),C=y;else if(Ae(g))for(f=0,p=g.length;f<p;++f)_=g[f],!ve(_)&&!Ae(_)&&(x=rd(i,v.data,v.gc,x,_),C+=y);o.push(x),a.push(C),c=Math.max(x,c),u=Math.max(C,u)}AU(s,n);const S=o.indexOf(c),T=a.indexOf(u),k=I=>({width:o[I]||0,height:a[I]||0});return{first:k(0),last:k(n-1),widest:k(S),highest:k(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return SV(this._alignToPixels?ki(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=MU(this.getContext(),e,r))}return this.$context||(this.$context=DU(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=qr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=pa(s),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,w=m/2,v=function(W){return ki(r,W,m)};let y,x,C,_,S,T,k,I,R,A,z,V;if(o==="top")y=v(this.bottom),T=this.bottom-f,I=y-w,A=v(e.top)+w,V=e.bottom;else if(o==="bottom")y=v(this.top),A=e.top,V=v(e.bottom)-w,T=y+w,I=this.top+f;else if(o==="left")y=v(this.right),S=this.right-f,k=y-w,R=v(e.left)+w,z=e.right;else if(o==="right")y=v(this.left),R=e.left,z=v(e.right)-w,S=y+w,k=this.left+f;else if(n==="x"){if(o==="center")y=v((e.top+e.bottom)/2+.5);else if(pe(o)){const W=Object.keys(o)[0],Q=o[W];y=v(this.chart.scales[W].getPixelForValue(Q))}A=e.top,V=e.bottom,T=y+w,I=T+f}else if(n==="y"){if(o==="center")y=v((e.left+e.right)/2);else if(pe(o)){const W=Object.keys(o)[0],Q=o[W];y=v(this.chart.scales[W].getPixelForValue(Q))}S=y-w,k=S-f,R=e.left,z=e.right}const X=ce(i.ticks.maxTicksLimit,h),G=Math.max(1,Math.ceil(h/X));for(x=0;x<h;x+=G){const W=this.getContext(x),Q=s.setContext(W),L=a.setContext(W),B=Q.lineWidth,K=Q.color,ie=L.dash||[],oe=L.dashOffset,Re=Q.tickWidth,me=Q.tickColor,se=Q.tickBorderDash||[],be=Q.tickBorderDashOffset;C=PU(this,x,l),C!==void 0&&(_=ki(r,C,B),c?S=k=R=z=_:T=I=A=V=_,p.push({tx1:S,ty1:T,tx2:k,ty2:I,x1:R,y1:A,x2:z,y2:V,width:B,color:K,borderDash:ie,borderDashOffset:oe,tickWidth:Re,tickColor:me,tickBorderDash:se,tickBorderDashOffset:be}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=pa(r.grid),p=f+u,g=h?-u:p,m=-qr(this.labelRotation),w=[];let v,y,x,C,_,S,T,k,I,R,A,z,V="middle";if(i==="top")S=this.bottom-g,T=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+g,T=this._getXAxisLabelAlignment();else if(i==="left"){const G=this._getYAxisLabelAlignment(f);T=G.textAlign,_=G.x}else if(i==="right"){const G=this._getYAxisLabelAlignment(f);T=G.textAlign,_=G.x}else if(n==="x"){if(i==="center")S=(e.top+e.bottom)/2+p;else if(pe(i)){const G=Object.keys(i)[0],W=i[G];S=this.chart.scales[G].getPixelForValue(W)+p}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")_=(e.left+e.right)/2-p;else if(pe(i)){const G=Object.keys(i)[0],W=i[G];_=this.chart.scales[G].getPixelForValue(W)}T=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const X=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){x=a[v],C=x.label;const G=s.setContext(this.getContext(v));k=this.getPixelForTick(v)+s.labelOffset,I=this._resolveTickFontOptions(v),R=I.lineHeight,A=Ae(C)?C.length:1;const W=A/2,Q=G.color,L=G.textStrokeColor,B=G.textStrokeWidth;let K=T;o?(_=k,T==="inner"&&(v===y-1?K=this.options.reverse?"left":"right":v===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?c==="near"||m!==0?z=-A*R+R/2:c==="center"?z=-X.highest.height/2-W*R+R:z=-X.highest.height+R/2:c==="near"||m!==0?z=R/2:c==="center"?z=X.highest.height/2-W*R:z=X.highest.height-A*R,h&&(z*=-1),m!==0&&!G.showLabelBackdrop&&(_+=R/2*Math.sin(m))):(S=k,z=(1-A)*R/2);let ie;if(G.showLabelBackdrop){const oe=St(G.backdropPadding),Re=X.heights[v],me=X.widths[v];let se=z-oe.top,be=0-oe.left;switch(V){case"middle":se-=Re/2;break;case"bottom":se-=Re;break}switch(T){case"center":be-=me/2;break;case"right":be-=me;break;case"inner":v===y-1?be-=me:v>0&&(be-=me/2);break}ie={left:be,top:se,width:me+oe.width,height:Re+oe.height,color:G.backdropColor}}w.push({label:C,font:I,textOffset:z,options:{rotation:m,color:Q,strokeColor:L,strokeWidth:B,textAlign:K,textBaseline:V,translation:[_,S],backdrop:ie}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-qr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=ki(e,this.left,o)-o/2,u=ki(e,this.right,a)+a/2,h=f=l):(h=ki(e,this.top,o)-o/2,f=ki(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&w0(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;fs(r,c,0,u,l,a)}i&&b0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Qe(r.font),o=St(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||pe(n)?(l+=o.bottom,Ae(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=FU(this,l,n,a);fs(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:LU(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ce(e.grid&&e.grid.z,-1),i=ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Es.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Qe(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class wu{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;jU(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,$U(e,o,r),this.override&&$e.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in $e[i]&&(delete $e[i][r],this.override&&delete ds[r])}}function $U(t,e,n){const r=Hl(Object.create(null),[n?$e.get(n):{},$e.get(e),t.defaults]);$e.set(e,r),t.defaultRoutes&&zU(e,t.defaultRoutes),t.descriptors&&$e.describe(e,t.descriptors)}function zU(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");$e.route(s,i,l,a)})}function jU(t){return"id"in t&&"defaults"in t}class VU{constructor(){this.controllers=new wu(nl,"datasets",!0),this.elements=new wu(bs,"elements"),this.plugins=new wu(Object,"plugins"),this.scales=new wu(Es,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):ge(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=f0(e);Ee(r["before"+i],[],r),n[e](r),Ee(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ln=new VU;class BU{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Ee(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=ce(r.options&&r.options.plugins,{}),s=UU(r);return i===!1&&!n?[]:WU(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function UU(t){const e={},n=[],r=Object.keys(Ln.plugins.items);for(let s=0;s<r.length;s++)n.push(Ln.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function HU(t,e){return!e&&t===!1?null:t===!0?{}:t}function WU(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=HU(r[l],i);c!==null&&s.push({plugin:a,options:qU(t.config,{plugin:a,local:n[l]},c,o)})}return s}function qU(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mg(t,e){const n=$e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function KU(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function GU(t,e){return t===e?"_index_":"_value_"}function CE(t){if(t==="x"||t==="y"||t==="r")return t}function YU(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function gg(t,...e){if(CE(t))return t;for(const n of e){const r=n.axis||YU(n.position)||t.length>1&&CE(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function _E(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function QU(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return _E(t,"x",n[0])||_E(t,"y",n[0])}return{}}function XU(t,e){const n=ds[t.type]||{scales:{}},r=e.scales||{},i=mg(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!pe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=gg(o,a,QU(o,t),$e.scales[a.type]),c=GU(l,i),u=n.scales||{};s[o]=Ja(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||mg(a,e),u=(ds[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=KU(h,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),Ja(s[p],[{axis:f},r[p],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Ja(a,[$e.scales[a.type],$e.scale])}),s}function vR(t){const e=t.options||(t.options={});e.plugins=ce(e.plugins,{}),e.scales=XU(t,e)}function yR(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function JU(t){return t=t||{},t.data=yR(t.data),vR(t),t}const SE=new Map,wR=new Set;function bu(t,e){let n=SE.get(t);return n||(n=e(),SE.set(t,n),wR.add(n)),n}const ma=(t,e,n)=>{const r=ed(e,n);r!==void 0&&t.add(r)};class ZU{constructor(e){this._config=JU(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=yR(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vR(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return bu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return bu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return bu(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>ma(l,e,h))),u.forEach(h=>ma(l,i,h)),u.forEach(h=>ma(l,ds[s]||{},h)),u.forEach(h=>ma(l,$e,h)),u.forEach(h=>ma(l,fg,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),wR.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ds[n]||{},$e.datasets[n]||{},{type:n},$e,fg]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=TE(this._resolverCache,e,i);let l=o;if(t5(o,n)){s.$shared=!1,r=fi(r)?r():r;const c=this.createResolver(e,r,a);l=Oo(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=TE(this._resolverCache,e,r);return pe(n)?Oo(s,n,void 0,i):s}}function TE(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:E0(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const e5=t=>pe(t)&&Object.getOwnPropertyNames(t).some(e=>fi(t[e]));function t5(t,e){const{isScriptable:n,isIndexable:r}=nR(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(fi(a)||e5(a))||o&&Ae(a))return!0}return!1}var n5="4.5.0";const r5=["top","bottom","left","right","chartArea"];function kE(t,e){return t==="top"||t==="bottom"||r5.indexOf(t)===-1&&e==="x"}function NE(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function IE(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ee(n&&n.onComplete,[t],e)}function i5(t){const e=t.chart,n=e.options.animation;Ee(n&&n.onProgress,[t],e)}function bR(t){return _0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Xu={},RE=t=>{const e=bR(t);return Object.values(Xu).filter(n=>n.canvas===e).pop()};function s5(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function o5(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Rr;let pf=(Rr=class{static register(...e){Ln.add(...e),OE()}static unregister(...e){Ln.remove(...e),OE()}constructor(e,n){const r=this.config=new ZU(n),i=bR(e),s=RE(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||_U(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=hV(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new BU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=RV(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Xu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Zn.listen(this,"complete",IE),Zn.listen(this,"progress",i5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ve(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Z1(this.canvas,this.ctx),this}stop(){return Zn.stop(this),this}resize(e,n){Zn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,nE(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ee(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ge(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=gg(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ge(s,o=>{const a=o.options,l=a.id,c=gg(l,a),u=ce(a.type,o.dtype);(a.position===void 0||kE(a.position,c)!==kE(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const f=Ln.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),ge(i,(o,a)=>{o||delete r[a]}),ge(r,o=>{an.configure(this,o,o.options),an.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(NE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||mg(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Ln.getController(a),{datasetElementType:c,dataElementType:u}=$e.datasets[a];Object.assign(l,{dataElementType:Ln.getElement(u),datasetElementType:c&&Ln.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ge(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||ge(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(NE("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ge(this.scales,e=>{an.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!H1(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;s5(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!H1(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ge(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,fi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zn.has(this)?this.attached&&!Zn.running(this)&&Zn.start(this):(this.draw(),IE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=FB(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&w0(n,i),e.controller.draw(),i&&b0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ur(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=rU.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=xi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);td(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Zn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Z1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Xu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ge(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ge(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ge(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Jh(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=vV(e),c=o5(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ee(s.onHover,[e,a,this],this),l&&Ee(s.onClick,[e,a,this],this));const u=!Jh(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},J(Rr,"defaults",$e),J(Rr,"instances",Xu),J(Rr,"overrides",ds),J(Rr,"registry",Ln),J(Rr,"version",n5),J(Rr,"getChart",RE),Rr);function OE(){return ge(pf.instances,t=>t._plugins.invalidate())}function ER(t,e,n=e){t.lineCap=ce(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ce(n.borderDash,e.borderDash)),t.lineDashOffset=ce(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ce(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ce(n.borderWidth,e.borderWidth),t.strokeStyle=ce(n.borderColor,e.borderColor)}function a5(t,e,n){t.lineTo(n.x,n.y)}function l5(t){return t.stepped?HV:t.tension||t.cubicInterpolationMode==="monotone"?WV:a5}function xR(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function c5(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=xR(i,n,r),u=l5(s);let{move:h=!0,reverse:f}=r||{},p,g,m;for(p=0;p<=c;++p)g=i[(a+(f?c-p:p))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,m,g,f,s.stepped),m=g);return l&&(g=i[(a+(f?c:0))%o],u(t,m,g,f,s.stepped)),!!l}function u5(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=xR(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,f,p,g,m,w,v;const y=C=>(o+(c?a-C:C))%s,x=()=>{m!==w&&(t.lineTo(u,w),t.lineTo(u,m),t.lineTo(u,v))};for(l&&(p=i[y(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[y(f)],p.skip)continue;const C=p.x,_=p.y,S=C|0;S===g?(_<m?m=_:_>w&&(w=_),u=(h*u+C)/++h):(x(),t.lineTo(C,_),g=S,h=0,m=w=_),v=_}x()}function vg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?u5:c5}function h5(t){return t.stepped?_B:t.tension||t.cubicInterpolationMode==="monotone"?SB:Li}function d5(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),ER(t,e.options),t.stroke(i)}function f5(t,e,n,r){const{segments:i,options:s}=e,o=vg(e);for(const a of i)ER(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const p5=typeof Path2D=="function";function m5(t,e,n,r){p5&&!e.options.segment?d5(t,e,n,r):f5(t,e,n,r)}class Oa extends bs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;gB(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=AB(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=RB(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=h5(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=s[h],g=s[f];if(p===g){a.push(p);continue}const m=Math.abs((i-p[n])/(g[n]-p[n])),w=l(p,g,m,r.stepped);w[n]=e[n],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,n,r){return vg(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=vg(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),m5(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}J(Oa,"id","line"),J(Oa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),J(Oa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),J(Oa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function PE(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Ju extends bs{constructor(n){super();J(this,"parsed");J(this,"skip");J(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return PE(this,n,"x",r)}inYRange(n,r){return PE(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!ur(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,pg(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}J(Ju,"id","point"),J(Ju,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),J(Ju,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const AE=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},g5=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class DE extends bs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ee(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Qe(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=AE(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,m)=>{const w=r+n/2+s.measureText(g.text).width;(m===0||c[c.length-1]+w+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,p+=u,f++),l[m]={left:0,top:p,row:f,width:w,height:i},c[c.length-1]+=w+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,p=0,g=0,m=0;return this.legendItems.forEach((w,v)=>{const{itemWidth:y,itemHeight:x}=v5(r,n,s,w,i);v>0&&p+x+2*a>u&&(h+=f+a,c.push({width:f,height:p}),g+=f+a,m++,f=p=0),l[v]={left:g,top:p,col:m,width:y,height:x},f=Math.max(f,y),p+=x+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=ao(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=pt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=pt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=pt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=pt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;w0(e,this),this._draw(),b0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=$e.color,l=ao(e.rtl,this.left,this.width),c=Qe(o.font),{padding:u}=o,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:w}=AE(o,h),v=function(S,T,k){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const I=ce(k.lineWidth,1);if(i.fillStyle=ce(k.fillStyle,a),i.lineCap=ce(k.lineCap,"butt"),i.lineDashOffset=ce(k.lineDashOffset,0),i.lineJoin=ce(k.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=ce(k.strokeStyle,a),i.setLineDash(ce(k.lineDash,[])),o.usePointStyle){const R={radius:m*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:I},A=l.xPlus(S,g/2),z=T+f;eR(i,R,A,z,o.pointStyleWidth&&g)}else{const R=T+Math.max((h-m)/2,0),A=l.leftForLtr(S,g),z=oo(k.borderRadius);i.beginPath(),Object.values(z).some(V=>V!==0)?id(i,{x:A,y:R,w:g,h:m,radius:z}):i.rect(A,R,g,m),i.fill(),I!==0&&i.stroke()}i.restore()},y=function(S,T,k){fs(i,k.text,S,T+w/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},x=this.isHorizontal(),C=this._computeTitleHeight();x?p={x:pt(s,this.left+u,this.right-r[0]),y:this.top+u+C,line:0}:p={x:this.left+u,y:pt(s,this.top+C+u,this.bottom-n[0].height),line:0},aR(this.ctx,e.textDirection);const _=w+u;this.legendItems.forEach((S,T)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const k=i.measureText(S.text).width,I=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),R=g+f+k;let A=p.x,z=p.y;l.setWidth(this.width),x?T>0&&A+R+u>this.right&&(z=p.y+=_,p.line++,A=p.x=pt(s,this.left+u,this.right-r[p.line])):T>0&&z+_>this.bottom&&(A=p.x=A+n[p.line].width+u,p.line++,z=p.y=pt(s,this.top+C+u,this.bottom-n[p.line].height));const V=l.x(A);if(v(V,z,S),A=OV(I,A+g+f,x?A+R:this.right,e.rtl),y(l.x(A),z,S),x)p.x+=R+u;else if(typeof S.text!="string"){const X=c.lineHeight;p.y+=CR(S,X)+u}else p.y+=_}),lR(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Qe(n.font),i=St(n.padding);if(!n.display)return;const s=ao(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=pt(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((m,w)=>Math.max(m,w.height),0);u=c+pt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=pt(a,h,h+f);o.textAlign=s.textAlign(g0(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,fs(o,n.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,n=Qe(e.font),r=St(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Ia(e,this.left,this.right)&&Ia(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ia(e,i.left,i.left+i.width)&&Ia(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!b5(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=g5(i,r);i&&!s&&Ee(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ee(n.onHover,[e,r,this],this)}else r&&Ee(n.onClick,[e,r,this],this)}}function v5(t,e,n,r,i){const s=y5(r,t,e,n),o=w5(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function y5(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function w5(t,e,n){let r=t;return typeof e.text!="string"&&(r=CR(e,n)),r}function CR(t,e){const n=t.text?t.text.length:0;return e*n}function b5(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var E5={id:"legend",_element:DE,start(t,e,n){const r=t.legend=new DE({ctx:t.ctx,options:n,chart:t});an.configure(t,r,n),an.addBox(t,r)},stop(t){an.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;an.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=St(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class _R extends bs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Ae(r.text)?r.text.length:1;this._padding=St(r.padding);const s=i*Qe(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=pt(a,r,s),h=n+e,c=s-r):(o.position==="left"?(u=r+e,h=pt(a,i,n),l=Ke*-.5):(u=s-e,h=pt(a,n,i),l=Ke*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Qe(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);fs(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:g0(n.align),textBaseline:"middle",translation:[o,a]})}}function x5(t,e){const n=new _R({ctx:t.ctx,options:e,chart:t});an.configure(t,n,e),an.addBox(t,n),t.titleBlock=n}var C5={id:"title",_element:_R,start(t,e,n){x5(t,n)},stop(t){const e=t.titleBlock;an.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;an.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pa={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=dg(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Dn(t,e){return e&&(Ae(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function er(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function _5(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function ME(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Qe(e.bodyFont),c=Qe(e.titleFont),u=Qe(e.footerFont),h=s.length,f=i.length,p=r.length,g=St(e.padding);let m=g.height,w=0,v=r.reduce((C,_)=>C+_.before.length+_.lines.length+_.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*C+(v-p)*l.lineHeight+(v-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const x=function(C){w=Math.max(w,n.measureText(C).width+y)};return n.save(),n.font=c.string,ge(t.title,x),n.font=l.string,ge(t.beforeBody.concat(t.afterBody),x),y=e.displayColors?o+2+e.boxPadding:0,ge(r,C=>{ge(C.before,x),ge(C.lines,x),ge(C.after,x)}),y=0,n.font=u.string,ge(t.footer,x),n.restore(),w+=g.width,{width:w,height:m}}function S5(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function T5(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function k5(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),T5(c,t,e,n)&&(c="center"),c}function LE(t,e,n){const r=n.yAlign||e.yAlign||S5(t,n);return{xAlign:n.xAlign||e.xAlign||k5(t,e,n,r),yAlign:r}}function N5(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function I5(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function FE(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=oo(o);let g=N5(e,a);const m=I5(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(h,p)+i),{x:on(g,0,r.width-e.width),y:on(m,0,r.height-e.height)}}function Eu(t,e,n){const r=St(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function $E(t){return Dn([],er(t))}function R5(t,e,n){return xi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function zE(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const SR={beforeTitle:Jn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Jn,beforeBody:Jn,beforeLabel:Jn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ve(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Jn,afterBody:Jn,beforeFooter:Jn,footer:Jn,afterFooter:Jn};function At(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?SR[e].call(n,r):i}class yg extends bs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new uR(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=R5(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=At(r,"beforeTitle",this,e),s=At(r,"title",this,e),o=At(r,"afterTitle",this,e);let a=[];return a=Dn(a,er(i)),a=Dn(a,er(s)),a=Dn(a,er(o)),a}getBeforeBody(e,n){return $E(At(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return ge(e,s=>{const o={before:[],lines:[],after:[]},a=zE(r,s);Dn(o.before,er(At(a,"beforeLabel",this,s))),Dn(o.lines,At(a,"label",this,s)),Dn(o.after,er(At(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return $E(At(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=At(r,"beforeFooter",this,e),s=At(r,"footer",this,e),o=At(r,"afterFooter",this,e);let a=[];return a=Dn(a,er(i)),a=Dn(a,er(s)),a=Dn(a,er(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(_5(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),ge(a,u=>{const h=zE(e.callbacks,u);i.push(At(h,"labelColor",this,u)),s.push(At(h,"labelPointStyle",this,u)),o.push(At(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Pa[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=ME(this,r),c=Object.assign({},a,l),u=LE(this.chart,r,c),h=FE(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=oo(a),{x:f,y:p}=e,{width:g,height:m}=n;let w,v,y,x,C,_;return s==="center"?(C=p+m/2,i==="left"?(w=f,v=w-o,x=C+o,_=C-o):(w=f+g,v=w+o,x=C-o,_=C+o),y=w):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+g-Math.max(c,h)-o:v=this.caretX,s==="top"?(x=p,C=x-o,w=v-o,y=v+o):(x=p+m,C=x+o,w=v+o,y=v-o),_=x),{x1:w,x2:v,x3:y,y1:x,y2:C,y3:_}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=ao(r.rtl,this.x,this.width);for(e.x=Eu(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Qe(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Qe(s.bodyFont),h=Eu(this,"left",s),f=i.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+p;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(f,c)+c/2,v=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,pg(e,m,w,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,pg(e,m,w,v)}else{e.lineWidth=pe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,c),w=i.leftForLtr(i.xPlus(f,1),c-2),v=oo(o.borderRadius);Object.values(v).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,id(e,{x:m,y:g,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),id(e,{x:w,y:g+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(w,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Qe(r.bodyFont);let f=h.lineHeight,p=0;const g=ao(r.rtl,this.x,this.width),m=function(k){n.fillText(k,g.x(e.x+p),e.y+f/2),e.y+=f+s},w=g.textAlign(o);let v,y,x,C,_,S,T;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Eu(this,w,r),n.fillStyle=r.bodyColor,ge(this.beforeBody,m),p=a&&w!=="right"?o==="center"?c/2+u:c+2+u:0,C=0,S=i.length;C<S;++C){for(v=i[C],y=this.labelTextColors[C],n.fillStyle=y,ge(v.before,m),x=v.lines,a&&x.length&&(this._drawColorBox(n,e,C,g,r),f=Math.max(h.lineHeight,l)),_=0,T=x.length;_<T;++_)m(x[_]),f=h.lineHeight;ge(v.after,m)}p=0,f=h.lineHeight,ge(this.afterBody,m),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=ao(r.rtl,this.x,this.width);for(e.x=Eu(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Qe(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=oo(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Pa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=ME(this,e),l=Object.assign({},o,this._size),c=LE(n,e,l),u=FE(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=St(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),aR(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),lR(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Jh(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Jh(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Pa[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}J(yg,"positioners",Pa);var O5={id:"tooltip",_element:yg,positioners:Pa,afterInit(t,e,n){n&&(t.tooltip=new yg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:SR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const P5=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function A5(t,e,n,r){const i=t.indexOf(e);if(i===-1)return P5(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const D5=(t,e)=>t===null?null:on(Math.round(t),0,e);function jE(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class wg extends Es{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ve(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:A5(r,e,ce(n,e),this._addedLabels),D5(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return jE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}J(wg,"id","category"),J(wg,"defaults",{ticks:{callback:jE}});function M5(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=s||1,g=u-1,{min:m,max:w}=e,v=!ve(o),y=!ve(a),x=!ve(c),C=(w-m)/(h+1);let _=q1((w-m)/g/p)*p,S,T,k,I;if(_<1e-14&&!v&&!y)return[{value:m},{value:w}];I=Math.ceil(w/_)-Math.floor(m/_),I>g&&(_=q1(I*_/g/p)*p),ve(l)||(S=Math.pow(10,l),_=Math.ceil(_*S)/S),i==="ticks"?(T=Math.floor(m/_)*_,k=Math.ceil(w/_)*_):(T=m,k=w),v&&y&&s&&xV((a-o)/s,_/1e3)?(I=Math.round(Math.min((a-o)/_,u)),_=(a-o)/I,T=o,k=a):x?(T=v?o:T,k=y?a:k,I=c-1,_=(k-T)/I):(I=(k-T)/_,Za(I,Math.round(I),_/1e3)?I=Math.round(I):I=Math.ceil(I));const R=Math.max(K1(_),K1(T));S=Math.pow(10,ve(l)?R:l),T=Math.round(T*S)/S,k=Math.round(k*S)/S;let A=0;for(v&&(f&&T!==o?(n.push({value:o}),T<o&&A++,Za(Math.round((T+A*_)*S)/S,o,VE(o,C,t))&&A++):T<o&&A++);A<I;++A){const z=Math.round((T+A*_)*S)/S;if(y&&z>a)break;n.push({value:z})}return y&&f&&k!==a?n.length&&Za(n[n.length-1].value,a,VE(a,C,t))?n[n.length-1].value=a:n.push({value:a}):(!y||k===a)&&n.push({value:k}),n}function VE(t,e,{horizontal:n,minRotation:r}){const i=qr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class ad extends Es{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ve(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Ro(i),c=Ro(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=M5(i,s);return e.bounds==="ticks"&&GI(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return y0(e,this.chart.options.locale,this.options.ticks.format)}}class bg extends ad{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tt(e)?e:0,this.max=tt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=qr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}J(bg,"id","linear"),J(bg,"defaults",{ticks:{callback:df.formatters.numeric}});const Kl=t=>Math.floor(Wr(t)),Ii=(t,e)=>Math.pow(10,Kl(t)+e);function BE(t){return t/Math.pow(10,Kl(t))===1}function UE(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function L5(t,e){const n=e-t;let r=Kl(n);for(;UE(t,e,r)>10;)r++;for(;UE(t,e,r)<10;)r--;return Math.min(r,Kl(t))}function F5(t,{min:e,max:n}){e=Ut(t.min,e);const r=[],i=Kl(e);let s=L5(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),f=Ut(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:BE(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+u+h*Math.pow(10,s))*o)/o;const p=Ut(t.max,f);return r.push({value:p,major:BE(p),significand:h}),r}class HE extends Es{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=ad.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return tt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tt(e)?Math.max(0,e):null,this.max=tt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tt(this._userMin)&&(this.min=e===Ii(this.min,0)?Ii(this.min,-1):Ii(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Ii(r,-1)),o(Ii(i,1)))),r<=0&&s(Ii(i,-1)),i<=0&&o(Ii(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=F5(n,this);return e.bounds==="ticks"&&GI(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":y0(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Wr(e),this._valueRange=Wr(this.max)-Wr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Wr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}J(HE,"id","logarithmic"),J(HE,"defaults",{ticks:{callback:df.formatters.logarithmic,major:{enabled:!0}}});function Eg(t){const e=t.ticks;if(e.display&&t.display){const n=St(e.backdropPadding);return ce(e.font&&e.font.size,$e.font.size)+n.height}return 0}function $5(t,e,n){return n=Ae(n)?n:[n],{w:UV(t,e.string,n),h:n.length*e.lineHeight}}function WE(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function z5(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ke/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),h=Qe(c.font),f=$5(t.ctx,h,t._pointLabels[l]);r[l]=f;const p=En(t.getIndexAngle(l)+a),g=Math.round(p0(p)),m=WE(g,u.x,f.w,0,180),w=WE(g,u.y,f.h,90,270);j5(n,e,p,m,w)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=U5(t,r,i)}function j5(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function V5(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(p0(En(l.angle+qt))),u=q5(l.y,a.h,c),h=H5(c),f=W5(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function B5(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(ur({x:n,y:r},e)||ur({x:n,y:s},e)||ur({x:i,y:r},e)||ur({x:i,y:s},e))}function U5(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Eg(s)/2,additionalAngle:o?Ke/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const h=V5(t,u,l);r.push(h),a==="auto"&&(h.visible=B5(h,c),h.visible&&(c=h))}return r}function H5(t){return t===0||t===180?"center":t<180?"left":"right"}function W5(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function q5(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function K5(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ve(a)){const l=oo(e.borderRadius),c=St(e.backdropPadding);t.fillStyle=a;const u=r-c.left,h=i-c.top,f=s-r+c.width,p=o-i+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),id(t,{x:u,y:h,w:f,h:p,radius:l}),t.fill()):t.fillRect(u,h,f,p)}}function G5(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));K5(n,o,s);const a=Qe(o.font),{x:l,y:c,textAlign:u}=s;fs(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function TR(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,un);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function Y5(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),TR(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function Q5(t,e,n){return xi(t,{label:n,index:e,type:"pointLabel"})}class xu extends ad{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=St(Eg(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=tt(e)&&!isNaN(e)?e:0,this.max=tt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Eg(this.options))}generateTickLabels(e){ad.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Ee(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?z5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=un/(this._pointLabels.length||1),r=this.options.startAngle||0;return En(e*n+qr(r))}getDistanceFromCenterForValue(e){if(ve(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ve(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return Q5(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-qt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),TR(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&G5(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=i.setContext(f),g=s.setContext(f);Y5(this,p,l,o,g)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Qe(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=St(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}fs(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}J(xu,"id","radialLinear"),J(xu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:df.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),J(xu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),J(xu,"descriptors",{angleLines:{_fallback:"grid"}});const mf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mt=Object.keys(mf);function qE(t,e){return t-e}function KE(t,e){if(ve(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),tt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Wl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function GE(t,e,n,r){const i=Mt.length;for(let s=Mt.indexOf(t);s<i-1;++s){const o=mf[Mt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Mt[s]}return Mt[i-1]}function X5(t,e,n,r,i){for(let s=Mt.length-1;s>=Mt.indexOf(n);s--){const o=Mt[s];if(mf[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Mt[n?Mt.indexOf(n):0]}function J5(t){for(let e=Mt.indexOf(t)+1,n=Mt.length;e<n;++e)if(mf[Mt[e]].common)return Mt[e]}function YE(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=m0(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Z5(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function QE(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Z5(t,r,i,n)}class ld extends Es{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new JB._date(e.adapters.date);i.init(n),Ja(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:KE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=tt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=tt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=kV(i,s,o);return this._unit=n.unit||(r.autoSkip?GE(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):X5(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:J5(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),QE(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=on(n,0,o),r=on(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||GE(s.minUnit,n,r,this._getLabelCapacity(n)),a=ce(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Wl(l)||l===!0,u={};let h=n,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+e.add(f,a,o),p++)YE(u,f,g);return(f===r||i.bounds==="ticks"||p===1)&&YE(u,f,g),Object.keys(u).sort(qE).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ee(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=r[n],p=c&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=qr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,QE(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(KE(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return IV(e.sort(qE))}}J(ld,"id","time"),J(ld,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Cu(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Wi(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Wi(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class XE extends ld{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Cu(n,this.min),this._tableRange=Cu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Cu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Cu(this._table,r*this._tableRange+this._minPos,!0)}}J(XE,"id","timeseries"),J(XE,"defaults",ld.defaults);const kR="label";function JE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function e9(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function NR(t,e){t.labels=e}function IR(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kR;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function t9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kR;const n={labels:[],datasets:[]};return NR(n,t.labels),IR(n,t.datasets,e),n}function n9(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,p=b.useRef(null),g=b.useRef(null),m=()=>{p.current&&(g.current=new pf(p.current,{type:o,data:t9(a,s),options:l&&{...l},plugins:c}),JE(e,g.current))},w=()=>{JE(e,null),g.current&&(g.current.destroy(),g.current=null)};return b.useEffect(()=>{!i&&g.current&&l&&e9(g.current,l)},[i,l]),b.useEffect(()=>{!i&&g.current&&NR(g.current.config.data,a.labels)},[i,a.labels]),b.useEffect(()=>{!i&&g.current&&a.datasets&&IR(g.current.config.data,a.datasets,s)},[i,a.datasets]),b.useEffect(()=>{g.current&&(i?(w(),setTimeout(m)):g.current.update(h))},[i,l,a.labels,a.datasets,h]),b.useEffect(()=>{g.current&&(w(),setTimeout(m))},[o]),b.useEffect(()=>(m(),()=>w()),[]),E.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},u)}const r9=b.forwardRef(n9);function i9(t,e){return pf.register(e),b.forwardRef((n,r)=>E.createElement(r9,{...n,ref:r,type:t}))}const s9=i9("line",Yu);function o9(){const[t,e]=b.useState(null),[n,r]=b.useState({labels:[],data:[]}),[i,s]=b.useState(!0),[o,a]=b.useState(null);return b.useEffect(()=>{async function l(){a(null),s(!0);try{const c=await qu(Hu(io,"users")),u=await qu(Hu(io,"sessions")),h=await qu(Hu(io,"payments")),f=c.size,p=u.size,g=c.docs.filter(x=>x.data().role==="trainer").length,m=h.docs.reduce((x,C)=>x+(C.data().amount||0),0);e({usersCount:f,sessionsCount:p,trainersCount:g,revenue:m});const w=new Date,v=Array.from({length:6},(x,C)=>{const _=new Date(w);return _.setMonth(w.getMonth()-(5-C)),_.toLocaleString("default",{month:"short"})}),y=v.map(()=>Math.floor(Math.random()*50)+10);r({labels:v,data:y})}catch(c){a(c)}finally{s(!1)}}l()},[]),{stats:t,monthly:n,loading:i,error:o}}pf.register(wg,bg,Ju,Oa,C5,O5,E5);function a9(){const{stats:t,monthly:e,loading:n,error:r}=o9();if(n||!t)return D.jsx(so,{children:D.jsx("div",{className:"text-center mt-5",children:D.jsx(ws,{})})});if(r)return D.jsx(so,{children:D.jsxs("div",{className:"text-danger text-center mt-5",children:["Erro: ",r.message]})});const{labels:i,data:s}=e;return D.jsxs(so,{children:[D.jsx("h2",{className:"mb-4",children:"Dashboard Admin"}),D.jsxs(lf,{className:"mb-4",children:[D.jsx(cr,{sm:6,lg:3,children:D.jsx(Ur,{color:"gradient-primary",title:"Utilizadores",value:t.usersCount.toLocaleString()})}),D.jsx(cr,{sm:6,lg:3,children:D.jsx(Ur,{color:"gradient-info",title:"Trainers",value:t.trainersCount.toLocaleString()})}),D.jsx(cr,{sm:6,lg:3,children:D.jsx(Ur,{color:"gradient-success",title:"Receita",value:`$${t.revenue.toLocaleString()}`})}),D.jsx(cr,{sm:6,lg:3,children:D.jsx(Ur,{color:"gradient-warning",title:"Sessões",value:t.sessionsCount.toLocaleString()})})]}),D.jsx(mn,{children:D.jsxs(gn,{children:[D.jsx("h5",{className:"mb-3",children:"Sessões (últimos 6 meses)"}),D.jsx(s9,{data:{labels:i,datasets:[{label:"Sessões",backgroundColor:"rgba(13,110,253,0.1)",borderColor:"rgba(13,110,253,1)",data:s,fill:!0,tension:.4}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,stepSize:10}}}})]})})]})}function l9(){const{user:t}=sf(),[e,n]=b.useState(!0),[r,i]=b.useState(0),[s,o]=b.useState(0);return b.useEffect(()=>{async function a(){if(!t)return;n(!0);const l=await qu(Hz(Hu(io,"sessions"),Wz("trainerId","==",t.uid)));i(l.size);const c=new Set(l.docs.map(u=>u.data().clientId));o(c.size),n(!1)}a()},[t]),e?D.jsx(so,{children:D.jsx("div",{className:"text-center mt-5",children:D.jsx(ws,{})})}):D.jsxs(so,{children:[D.jsx("h2",{className:"mb-4",children:"Dashboard Trainer"}),D.jsxs(lf,{className:"mb-4",children:[D.jsx(cr,{sm:6,lg:3,children:D.jsx(Ur,{color:"gradient-primary",title:"Sessões",value:r})}),D.jsx(cr,{sm:6,lg:3,children:D.jsx(Ur,{color:"gradient-success",title:"Clientes",value:s})})]}),D.jsx(mn,{children:D.jsxs(gn,{children:[D.jsx("h5",{className:"mb-3",children:"Visão Geral"}),D.jsx("p",{children:"Mais funcionalidades de treino virão em breve."})]})})]})}function Ip({requiredRole:t}){const{user:e,role:n,loading:r}=sf();return r?D.jsx("div",{className:"vh-100 d-flex justify-content-center align-items-center",children:D.jsx(ws,{})}):e?t&&n!==t?D.jsx(_m,{to:"/dashboard",replace:!0}):D.jsx(YP,{}):D.jsx(_m,{to:"/login",replace:!0})}function c9(){return D.jsxs(XP,{children:[D.jsx(An,{path:"/",element:D.jsx(_m,{to:"/login",replace:!0})}),D.jsx(An,{path:"/login",element:D.jsx(A3,{})}),D.jsx(An,{path:"/register",element:D.jsx(D3,{})}),D.jsx(An,{element:D.jsx(Ip,{}),children:D.jsx(An,{path:"/dashboard",element:D.jsx(B3,{})})}),D.jsx(An,{element:D.jsx(Ip,{requiredRole:"admin"}),children:D.jsx(An,{path:"/admin",element:D.jsx(a9,{})})}),D.jsx(An,{element:D.jsx(Ip,{requiredRole:"trainer"}),children:D.jsx(An,{path:"/trainer",element:D.jsx(l9,{})})})]})}Rp.createRoot(document.getElementById("root")).render(D.jsx(E.StrictMode,{children:D.jsx(iA,{children:D.jsx(nj,{children:D.jsx(c9,{})})})}));
