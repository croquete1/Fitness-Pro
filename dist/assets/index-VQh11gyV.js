const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-JbKgzesK.js","assets/vendor-le1LAC9K.js","assets/vendor_chakra-DmUuFL5c.js","assets/vendor_firebase-DaxcSd3B.js","assets/Register-Dmf_wz43.js","assets/Home-BtBp2_-I.js","assets/Profile-D97oj-pw.js","assets/LayoutAdmin-BdJ5rzFD.js","assets/Header-DCdmBKeJ.js","assets/LayoutTrainer-B_PRu3Uk.js","assets/LayoutCliente-CVEqdTza.js","assets/Settings-C_KWRrKs.js","assets/DashboardCliente-B4GMDqWK.js","assets/DashboardTrainer-Dg8hN_LC.js","assets/DashboardAdmin-4GGwLJUm.js"])))=>i.map(i=>d[i]);
import{r as s,z as e,aE as x,aF as C,aG as p,aH as g,aI as A,aB as R}from"./vendor-le1LAC9K.js";import{c as L,d as I,C as D,a as O}from"./vendor_chakra-DmUuFL5c.js";import{i as z,g as w,a as T,o as E,b as M,d as V}from"./vendor_firebase-DaxcSd3B.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&d(n)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();const N="modulepreload",B=function(i){return"/"+i},v={},m=function(l,c,d){let t=Promise.resolve();if(c&&c.length>0){let u=function(o){return Promise.all(o.map(h=>Promise.resolve(h).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=n?.nonce||n?.getAttribute("nonce");t=u(c.map(o=>{if(o=B(o),o in v)return;v[o]=!0;const h=o.endsWith(".css"),_=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${_}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":N,h||(f.as="script"),f.crossOrigin="",f.href=o,a&&f.setAttribute("nonce",a),document.head.appendChild(f),h)return new Promise((P,S)=>{f.addEventListener("load",P),f.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${o}`)))})}))}function r(n){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n}return t.then(n=>{for(const a of n||[])a.status==="rejected"&&r(a.reason);return l().catch(r)})},G={initialColorMode:"light",useSystemColorMode:!1},k={colors:{brand:{50:{value:"#e3f2ff"},100:{value:"#b3daff"},200:{value:"#81c2ff"},300:{value:"#4faaff"},400:{value:"#1d92ff"},500:{value:"#0078e7"},600:{value:"#005db5"},700:{value:"#004283"},800:{value:"#002752"},900:{value:"#000d21"}}},fonts:{heading:{value:"'Inter', sans-serif"},body:{value:"'Inter', sans-serif"}}},F={colors:{brand:{solid:{value:"{colors.brand.500}"},subtle:{value:"{colors.brand.100}"}}}},b=L(I,{theme:{tokens:k,semanticTokens:F},config:G}),U={apiKey:"AIzaSyAcGGE37ZiTFcz8mo1pSECvDCDOXdzbSHY",authDomain:"fitnesspro-36d8b.firebaseapp.com",projectId:"fitnesspro-36d8b",storageBucket:"fitnesspro-36d8b.firebasestorage.app",messagingSenderId:"881881913799",appId:"1:881881913799:web:08399068acd96e83f0e1e2",measurementId:"G-G3XJ0741CW"},j=z(U),y=w(j),q=T(j),H=s.lazy(()=>m(()=>import("./Login-JbKgzesK.js"),__vite__mapDeps([0,1,2,3]))),$=s.lazy(()=>m(()=>import("./Register-Dmf_wz43.js"),__vite__mapDeps([4,1,2,3]))),K=s.lazy(()=>m(()=>import("./Home-BtBp2_-I.js"),__vite__mapDeps([5,1,2]))),W=s.lazy(()=>m(()=>import("./Profile-D97oj-pw.js"),__vite__mapDeps([6,1,7,2,8,9,10,3]))),X=s.lazy(()=>m(()=>import("./Settings-C_KWRrKs.js"),__vite__mapDeps([11,1,2,7,8,9,10,3]))),J=s.lazy(()=>m(()=>import("./DashboardCliente-B4GMDqWK.js"),__vite__mapDeps([12,1,10,2,8]))),Y=s.lazy(()=>m(()=>import("./DashboardTrainer-Dg8hN_LC.js"),__vite__mapDeps([13,1,9,2,8]))),Z=s.lazy(()=>m(()=>import("./DashboardAdmin-4GGwLJUm.js"),__vite__mapDeps([14,1,7,2,8])));function Q(){const[i,l]=s.useState(null),[c,d]=s.useState(null),[t,r]=s.useState(!0);if(s.useEffect(()=>{const a=E(y,async u=>{if(u){l(u);try{const o=await M(V(q,"users",u.uid));d(o.exists()?o.data().role:null)}catch(o){console.error("Erro ao buscar role:",o)}}else l(null),d(null);r(!1)});return()=>a()},[]),t)return null;const n=()=>{if(!i)return e.jsx(g,{to:"/"});switch(c){case"cliente":return e.jsx(J,{user:i});case"trainer":return e.jsx(Y,{user:i});case"admin":return e.jsx(Z,{user:i});default:return e.jsx(g,{to:"/"})}};return e.jsxs(D,{theme:b,children:[e.jsx(O,{initialColorMode:b.config.initialColorMode}),e.jsx(x,{children:e.jsx(s.Suspense,{fallback:e.jsx("div",{children:"Carregando..."}),children:e.jsxs(C,{children:[e.jsx(p,{path:"/",element:e.jsx(H,{})}),e.jsx(p,{path:"/register",element:e.jsx($,{})}),e.jsx(p,{path:"/home",element:e.jsx(K,{})}),e.jsx(p,{path:"/profile",element:e.jsx(W,{})}),e.jsx(p,{path:"/settings",element:e.jsx(X,{})}),e.jsx(p,{path:"/dashboard",element:i?n():e.jsx(g,{to:"/"})}),e.jsx(p,{path:"*",element:e.jsx(g,{to:"/"})})]})})})]})}const ee=s.createContext();function te({children:i}){const[l,c]=s.useState(null),[d,t]=s.useState(null),[r,n]=s.useState(!0);return s.useEffect(()=>{const a=E(y,async u=>{if(u){c(u);const o=await fetchUserProfile(u.uid);t(o.role)}else c(null),t(null);n(!1)});return()=>a()},[]),e.jsx(ee.Provider,{value:{user:l,role:d,loading:r},children:i})}A.createRoot(document.getElementById("root")).render(e.jsx(R.StrictMode,{children:e.jsx(x,{basename:"/",children:e.jsx(te,{children:e.jsx(Q,{})})})}));export{y as a,q as d};
