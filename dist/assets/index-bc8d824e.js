var Z2=Object.defineProperty;var eR=(t,e,n)=>e in t?Z2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var J=(t,e,n)=>(eR(t,typeof e!="symbol"?e+"":e,n),n);function tR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function TE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kE={exports:{}},yd={},NE={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),nR=Symbol.for("react.portal"),rR=Symbol.for("react.fragment"),iR=Symbol.for("react.strict_mode"),sR=Symbol.for("react.profiler"),oR=Symbol.for("react.provider"),aR=Symbol.for("react.context"),lR=Symbol.for("react.forward_ref"),cR=Symbol.for("react.suspense"),uR=Symbol.for("react.memo"),hR=Symbol.for("react.lazy"),rw=Symbol.iterator;function dR(t){return t===null||typeof t!="object"?null:(t=rw&&t[rw]||t["@@iterator"],typeof t=="function"?t:null)}var IE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RE=Object.assign,OE={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||IE}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PE(){}PE.prototype=Ho.prototype;function Bg(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||IE}var Ug=Bg.prototype=new PE;Ug.constructor=Bg;RE(Ug,Ho.prototype);Ug.isPureReactComponent=!0;var iw=Array.isArray,AE=Object.prototype.hasOwnProperty,Hg={current:null},DE={key:!0,ref:!0,__self:!0,__source:!0};function ME(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)AE.call(e,r)&&!DE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sc,type:t,key:s,ref:o,props:i,_owner:Hg.current}}function fR(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function pR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sw=/\/+/g;function Lf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pR(""+t.key):e.toString(36)}function Du(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sc:case nR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lf(o,0):r,iw(i)?(n="",t!=null&&(n=t.replace(sw,"$&/")+"/"),Du(i,e,n,"",function(c){return c})):i!=null&&(Wg(i)&&(i=fR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Lf(s,a);o+=Du(s,e,n,l,i)}else if(l=dR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Lf(s,a++),o+=Du(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uc(t,e,n){if(t==null)return t;var r=[],i=0;return Du(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},Mu={transition:null},gR={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Mu,ReactCurrentOwner:Hg};function LE(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Uc,forEach:function(t,e,n){Uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uc(t,function(){e++}),e},toArray:function(t){return Uc(t,function(e){return e})||[]},only:function(t){if(!Wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Ho;ae.Fragment=rR;ae.Profiler=sR;ae.PureComponent=Bg;ae.StrictMode=iR;ae.Suspense=cR;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gR;ae.act=LE;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)AE.call(e,l)&&!DE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sc,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:aR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oR,_context:t},t.Consumer=t};ae.createElement=ME;ae.createFactory=function(t){var e=ME.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:lR,render:t}};ae.isValidElement=Wg;ae.lazy=function(t){return{$$typeof:hR,_payload:{_status:-1,_result:t},_init:mR}};ae.memo=function(t,e){return{$$typeof:uR,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Mu.transition;Mu.transition={};try{t()}finally{Mu.transition=e}};ae.unstable_act=LE;ae.useCallback=function(t,e){return Pt.current.useCallback(t,e)};ae.useContext=function(t){return Pt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Pt.current.useEffect(t,e)};ae.useId=function(){return Pt.current.useId()};ae.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Pt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};ae.useRef=function(t){return Pt.current.useRef(t)};ae.useState=function(t){return Pt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Pt.current.useTransition()};ae.version="18.3.1";NE.exports=ae;var b=NE.exports;const x=TE(b),vR=tR({__proto__:null,default:x},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=b,wR=Symbol.for("react.element"),bR=Symbol.for("react.fragment"),xR=Object.prototype.hasOwnProperty,ER=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CR={key:!0,ref:!0,__self:!0,__source:!0};function FE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xR.call(e,r)&&!CR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wR,type:t,key:s,ref:o,props:i,_owner:ER.current}}yd.Fragment=bR;yd.jsx=FE;yd.jsxs=FE;kE.exports=yd;var I=kE.exports,Gp={},$E={exports:{}},en={},jE={exports:{}},zE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var K=L.length;L.push(B);e:for(;0<K;){var ie=K-1>>>1,oe=L[ie];if(0<i(oe,B))L[ie]=B,L[K]=oe,K=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],K=L.pop();if(K!==B){L[0]=K;e:for(var ie=0,oe=L.length,Oe=oe>>>1;ie<Oe;){var me=2*(ie+1)-1,se=L[me],be=me+1,et=L[be];if(0>i(se,K))be<oe&&0>i(et,se)?(L[ie]=et,L[be]=K,ie=be):(L[ie]=se,L[me]=K,ie=me);else if(be<oe&&0>i(et,K))L[ie]=et,L[be]=K,ie=be;else break e}}return B}function i(L,B){var K=L.sortIndex-B.sortIndex;return K!==0?K:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=L)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function C(L){if(g=!1,E(L),!m)if(n(l)!==null)m=!0,W(S);else{var B=n(c);B!==null&&Q(C,B.startTime-L)}}function S(L,B){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var K=f;try{for(E(B),h=n(l);h!==null&&(!(h.expirationTime>B)||L&&!D());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var oe=ie(h.expirationTime<=B);B=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&r(l),E(B)}else r(l);h=n(l)}if(h!==null)var Oe=!0;else{var me=n(c);me!==null&&Q(C,me.startTime-B),Oe=!1}return Oe}finally{h=null,f=K,p=!1}}var _=!1,k=null,T=-1,R=5,O=-1;function D(){return!(t.unstable_now()-O<R)}function j(){if(k!==null){var L=t.unstable_now();O=L;var B=!0;try{B=k(!0,L)}finally{B?V():(_=!1,k=null)}}else _=!1}var V;if(typeof y=="function")V=function(){y(j)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=j,V=function(){G.postMessage(null)}}else V=function(){w(j,0)};function W(L){k=L,_||(_=!0,V())}function Q(L,B){T=w(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,W(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var K=f;f=B;try{return L()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=f;f=L;try{return B()}finally{f=K}},t.unstable_scheduleCallback=function(L,B,K){var ie=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=K+oe,L={id:u++,callback:B,priorityLevel:L,startTime:K,expirationTime:oe,sortIndex:-1},K>ie?(L.sortIndex=K,e(c,L),n(l)===null&&L===n(c)&&(g?(v(T),T=-1):g=!0,Q(C,K-ie))):(L.sortIndex=oe,e(l,L),m||p||(m=!0,W(S))),L},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(L){var B=f;return function(){var K=f;f=B;try{return L.apply(this,arguments)}finally{f=K}}}})(zE);jE.exports=zE;var SR=jE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R=b,Xt=SR;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VE=new Set,pl={};function bs(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(pl[t]=e,t=0;t<e.length;t++)VE.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yp=Object.prototype.hasOwnProperty,TR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ow={},aw={};function kR(t){return Yp.call(aw,t)?!0:Yp.call(ow,t)?!1:TR.test(t)?aw[t]=!0:(ow[t]=!0,!1)}function NR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IR(t,e,n,r){if(e===null||typeof e>"u"||NR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qg,Kg);ht[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qg,Kg);ht[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qg,Kg);ht[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gg(t,e,n,r){var i=ht.hasOwnProperty(e)?ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IR(e,n,i,r)&&(n=null),r||i===null?kR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=_R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),$s=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),HE=Symbol.for("react.offscreen"),lw=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=lw&&t[lw]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Ff;function Ia(t){if(Ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ff=e&&e[1]||""}return`
`+Ff+t}var $f=!1;function jf(t,e){if(!t||$f)return"";$f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ia(t):""}function RR(t){switch(t.tag){case 5:return Ia(t.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return t=jf(t.type,!1),t;case 11:return t=jf(t.type.render,!1),t;case 1:return t=jf(t.type,!0),t;default:return""}}function Zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case $s:return"Portal";case Qp:return"Profiler";case Yg:return"StrictMode";case Xp:return"Suspense";case Jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UE:return(t.displayName||"Context")+".Consumer";case BE:return(t._context.displayName||"Context")+".Provider";case Qg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:Zp(t.type)||"Memo";case Mr:e=t._payload,t=t._init;try{return Zp(t(e))}catch{}}return null}function OR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zp(e);case 8:return e===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PR(t){var e=WE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wc(t){t._valueTracker||(t._valueTracker=PR(t))}function qE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function oh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function em(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KE(t,e){e=e.checked,e!=null&&Gg(t,"checked",e,!1)}function tm(t,e){KE(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nm(t,e.type,n):e.hasOwnProperty("defaultValue")&&nm(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nm(t,e,n){(e!=="number"||oh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ra=Array.isArray;function eo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Ra(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function GE(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,QE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AR=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(t){AR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ha[e]=Ha[t]})});function XE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ha.hasOwnProperty(t)&&Ha[t]?(""+e).trim():e+"px"}function JE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=XE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DR=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sm(t,e){if(e){if(DR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function om(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=null;function Jg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lm=null,to=null,no=null;function fw(t){if(t=lc(t)){if(typeof lm!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Cd(e),lm(t.stateNode,t.type,e))}}function ZE(t){to?no?no.push(t):no=[t]:to=t}function eC(){if(to){var t=to,e=no;if(no=to=null,fw(t),e)for(t=0;t<e.length;t++)fw(e[t])}}function tC(t,e){return t(e)}function nC(){}var zf=!1;function rC(t,e,n){if(zf)return t(e,n);zf=!0;try{return tC(t,e,n)}finally{zf=!1,(to!==null||no!==null)&&(nC(),eC())}}function gl(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var cm=!1;if(gr)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){cm=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{cm=!1}function MR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Wa=!1,ah=null,lh=!1,um=null,LR={onError:function(t){Wa=!0,ah=t}};function FR(t,e,n,r,i,s,o,a,l){Wa=!1,ah=null,MR.apply(LR,arguments)}function $R(t,e,n,r,i,s,o,a,l){if(FR.apply(this,arguments),Wa){if(Wa){var c=ah;Wa=!1,ah=null}else throw Error(F(198));lh||(lh=!0,um=c)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pw(t){if(xs(t)!==t)throw Error(F(188))}function jR(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pw(i),t;if(s===r)return pw(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function sC(t){return t=jR(t),t!==null?oC(t):null}function oC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oC(t);if(e!==null)return e;t=t.sibling}return null}var aC=Xt.unstable_scheduleCallback,mw=Xt.unstable_cancelCallback,zR=Xt.unstable_shouldYield,VR=Xt.unstable_requestPaint,Ue=Xt.unstable_now,BR=Xt.unstable_getCurrentPriorityLevel,Zg=Xt.unstable_ImmediatePriority,lC=Xt.unstable_UserBlockingPriority,ch=Xt.unstable_NormalPriority,UR=Xt.unstable_LowPriority,cC=Xt.unstable_IdlePriority,wd=null,Un=null;function HR(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:KR,WR=Math.log,qR=Math.LN2;function KR(t){return t>>>=0,t===0?32:31-(WR(t)/qR|0)|0}var Kc=64,Gc=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Oa(a):(s&=o,s!==0&&(r=Oa(s)))}else o=n&~i,o!==0?r=Oa(o):s!==0&&(r=Oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),i=1<<n,r|=t[n],e&=~i;return r}function GR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=GR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uC(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function Vf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function QR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ev(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function hC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dC,tv,fC,pC,mC,dm=!1,Yc=[],Jr=null,Zr=null,ei=null,vl=new Map,yl=new Map,Fr=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gw(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function pa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lc(e),e!==null&&tv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JR(t,e,n,r,i){switch(e){case"focusin":return Jr=pa(Jr,t,e,n,r,i),!0;case"dragenter":return Zr=pa(Zr,t,e,n,r,i),!0;case"mouseover":return ei=pa(ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vl.set(s,pa(vl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yl.set(s,pa(yl.get(s)||null,t,e,n,r,i)),!0}return!1}function gC(t){var e=Ui(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=iC(n),e!==null){t.blockedOn=e,mC(t.priority,function(){fC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);am=r,n.target.dispatchEvent(r),am=null}else return e=lc(n),e!==null&&tv(e),t.blockedOn=n,!1;e.shift()}return!0}function vw(t,e,n){Lu(t)&&n.delete(e)}function ZR(){dm=!1,Jr!==null&&Lu(Jr)&&(Jr=null),Zr!==null&&Lu(Zr)&&(Zr=null),ei!==null&&Lu(ei)&&(ei=null),vl.forEach(vw),yl.forEach(vw)}function ma(t,e){t.blockedOn===e&&(t.blockedOn=null,dm||(dm=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,ZR)))}function wl(t){function e(i){return ma(i,t)}if(0<Yc.length){ma(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&ma(Jr,t),Zr!==null&&ma(Zr,t),ei!==null&&ma(ei,t),vl.forEach(e),yl.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)gC(n),n.blockedOn===null&&Fr.shift()}var ro=kr.ReactCurrentBatchConfig,hh=!0;function eO(t,e,n,r){var i=ye,s=ro.transition;ro.transition=null;try{ye=1,nv(t,e,n,r)}finally{ye=i,ro.transition=s}}function tO(t,e,n,r){var i=ye,s=ro.transition;ro.transition=null;try{ye=4,nv(t,e,n,r)}finally{ye=i,ro.transition=s}}function nv(t,e,n,r){if(hh){var i=fm(t,e,n,r);if(i===null)Xf(t,e,r,dh,n),gw(t,r);else if(JR(i,t,e,n,r))r.stopPropagation();else if(gw(t,r),e&4&&-1<XR.indexOf(t)){for(;i!==null;){var s=lc(i);if(s!==null&&dC(s),s=fm(t,e,n,r),s===null&&Xf(t,e,r,dh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xf(t,e,r,null,n)}}var dh=null;function fm(t,e,n,r){if(dh=null,t=Jg(r),t=Ui(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dh=t,null}function vC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BR()){case Zg:return 1;case lC:return 4;case ch:case UR:return 16;case cC:return 536870912;default:return 16}default:return 16}}var Ur=null,rv=null,Fu=null;function yC(){if(Fu)return Fu;var t,e=rv,n=e.length,r,i="value"in Ur?Ur.value:Ur.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fu=i.slice(t,1<r?1-r:void 0)}function $u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function yw(){return!1}function tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qc:yw,this.isPropagationStopped=yw,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iv=tn(Wo),ac=Le({},Wo,{view:0,detail:0}),nO=tn(ac),Bf,Uf,ga,bd=Le({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(Bf=t.screenX-ga.screenX,Uf=t.screenY-ga.screenY):Uf=Bf=0,ga=t),Bf)},movementY:function(t){return"movementY"in t?t.movementY:Uf}}),ww=tn(bd),rO=Le({},bd,{dataTransfer:0}),iO=tn(rO),sO=Le({},ac,{relatedTarget:0}),Hf=tn(sO),oO=Le({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),aO=tn(oO),lO=Le({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cO=tn(lO),uO=Le({},Wo,{data:0}),bw=tn(uO),hO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fO[t])?!!e[t]:!1}function sv(){return pO}var mO=Le({},ac,{key:function(t){if(t.key){var e=hO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(t){return t.type==="keypress"?$u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gO=tn(mO),vO=Le({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xw=tn(vO),yO=Le({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),wO=tn(yO),bO=Le({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),xO=tn(bO),EO=Le({},bd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CO=tn(EO),SO=[9,13,27,32],ov=gr&&"CompositionEvent"in window,qa=null;gr&&"documentMode"in document&&(qa=document.documentMode);var _O=gr&&"TextEvent"in window&&!qa,wC=gr&&(!ov||qa&&8<qa&&11>=qa),Ew=String.fromCharCode(32),Cw=!1;function bC(t,e){switch(t){case"keyup":return SO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function TO(t,e){switch(t){case"compositionend":return xC(e);case"keypress":return e.which!==32?null:(Cw=!0,Ew);case"textInput":return t=e.data,t===Ew&&Cw?null:t;default:return null}}function kO(t,e){if(zs)return t==="compositionend"||!ov&&bC(t,e)?(t=yC(),Fu=rv=Ur=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wC&&e.locale!=="ko"?null:e.data;default:return null}}var NO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NO[t.type]:e==="textarea"}function EC(t,e,n,r){ZE(r),e=fh(e,"onChange"),0<e.length&&(n=new iv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ka=null,bl=null;function IO(t){AC(t,0)}function xd(t){var e=Us(t);if(qE(e))return t}function RO(t,e){if(t==="change")return e}var CC=!1;if(gr){var Wf;if(gr){var qf="oninput"in document;if(!qf){var _w=document.createElement("div");_w.setAttribute("oninput","return;"),qf=typeof _w.oninput=="function"}Wf=qf}else Wf=!1;CC=Wf&&(!document.documentMode||9<document.documentMode)}function Tw(){Ka&&(Ka.detachEvent("onpropertychange",SC),bl=Ka=null)}function SC(t){if(t.propertyName==="value"&&xd(bl)){var e=[];EC(e,bl,t,Jg(t)),rC(IO,e)}}function OO(t,e,n){t==="focusin"?(Tw(),Ka=e,bl=n,Ka.attachEvent("onpropertychange",SC)):t==="focusout"&&Tw()}function PO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(bl)}function AO(t,e){if(t==="click")return xd(e)}function DO(t,e){if(t==="input"||t==="change")return xd(e)}function MO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:MO;function xl(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yp.call(e,i)||!In(t[i],e[i]))return!1}return!0}function kw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nw(t,e){var n=kw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kw(n)}}function _C(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_C(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TC(){for(var t=window,e=oh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=oh(t.document)}return e}function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LO(t){var e=TC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_C(n.ownerDocument.documentElement,n)){if(r!==null&&av(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Nw(n,s);var o=Nw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FO=gr&&"documentMode"in document&&11>=document.documentMode,Vs=null,pm=null,Ga=null,mm=!1;function Iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mm||Vs==null||Vs!==oh(r)||(r=Vs,"selectionStart"in r&&av(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&xl(Ga,r)||(Ga=r,r=fh(pm,"onSelect"),0<r.length&&(e=new iv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bs={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},Kf={},kC={};gr&&(kC=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ed(t){if(Kf[t])return Kf[t];if(!Bs[t])return t;var e=Bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kC)return Kf[t]=e[n];return t}var NC=Ed("animationend"),IC=Ed("animationiteration"),RC=Ed("animationstart"),OC=Ed("transitionend"),PC=new Map,Rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){PC.set(t,e),bs(e,[t])}for(var Gf=0;Gf<Rw.length;Gf++){var Yf=Rw[Gf],$O=Yf.toLowerCase(),jO=Yf[0].toUpperCase()+Yf.slice(1);bi($O,"on"+jO)}bi(NC,"onAnimationEnd");bi(IC,"onAnimationIteration");bi(RC,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(OC,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function Ow(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$R(r,e,void 0,t),t.currentTarget=null}function AC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ow(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ow(i,a,c),s=l}}}if(lh)throw t=um,lh=!1,um=null,t}function Ce(t,e){var n=e[bm];n===void 0&&(n=e[bm]=new Set);var r=t+"__bubble";n.has(r)||(DC(e,t,2,!1),n.add(r))}function Qf(t,e,n){var r=0;e&&(r|=4),DC(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function El(t){if(!t[Jc]){t[Jc]=!0,VE.forEach(function(n){n!=="selectionchange"&&(zO.has(n)||Qf(n,!1,t),Qf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,Qf("selectionchange",!1,e))}}function DC(t,e,n,r){switch(vC(e)){case 1:var i=eO;break;case 4:i=tO;break;default:i=nv}n=i.bind(null,e,n,t),i=void 0,!cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ui(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}rC(function(){var c=s,u=Jg(n),h=[];e:{var f=PC.get(t);if(f!==void 0){var p=iv,m=t;switch(t){case"keypress":if($u(n)===0)break e;case"keydown":case"keyup":p=gO;break;case"focusin":m="focus",p=Hf;break;case"focusout":m="blur",p=Hf;break;case"beforeblur":case"afterblur":p=Hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wO;break;case NC:case IC:case RC:p=aO;break;case OC:p=xO;break;case"scroll":p=nO;break;case"wheel":p=CO;break;case"copy":case"cut":case"paste":p=cO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xw}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var y=c,E;y!==null;){E=y;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,v!==null&&(C=gl(y,v),C!=null&&g.push(Cl(y,C,E)))),w)break;y=y.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==am&&(m=n.relatedTarget||n.fromElement)&&(Ui(m)||m[vr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ui(m):null,m!==null&&(w=xs(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=ww,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=xw,C="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?f:Us(p),E=m==null?f:Us(m),f=new g(C,y+"leave",p,n,u),f.target=w,f.relatedTarget=E,C=null,Ui(u)===c&&(g=new g(v,y+"enter",m,n,u),g.target=E,g.relatedTarget=w,C=g),w=C,p&&m)t:{for(g=p,v=m,y=0,E=g;E;E=Ns(E))y++;for(E=0,C=v;C;C=Ns(C))E++;for(;0<y-E;)g=Ns(g),y--;for(;0<E-y;)v=Ns(v),E--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ns(g),v=Ns(v)}g=null}else g=null;p!==null&&Pw(h,f,p,g,!1),m!==null&&w!==null&&Pw(h,w,m,g,!0)}}e:{if(f=c?Us(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=RO;else if(Sw(f))if(CC)S=DO;else{S=PO;var _=OO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=AO);if(S&&(S=S(t,c))){EC(h,S,n,u);break e}_&&_(t,f,c),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&nm(f,"number",f.value)}switch(_=c?Us(c):window,t){case"focusin":(Sw(_)||_.contentEditable==="true")&&(Vs=_,pm=c,Ga=null);break;case"focusout":Ga=pm=Vs=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,Iw(h,n,u);break;case"selectionchange":if(FO)break;case"keydown":case"keyup":Iw(h,n,u)}var k;if(ov)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zs?bC(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(wC&&n.locale!=="ko"&&(zs||T!=="onCompositionStart"?T==="onCompositionEnd"&&zs&&(k=yC()):(Ur=u,rv="value"in Ur?Ur.value:Ur.textContent,zs=!0)),_=fh(c,T),0<_.length&&(T=new bw(T,t,null,n,u),h.push({event:T,listeners:_}),k?T.data=k:(k=xC(n),k!==null&&(T.data=k)))),(k=_O?TO(t,n):kO(t,n))&&(c=fh(c,"onBeforeInput"),0<c.length&&(u=new bw("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=k))}AC(h,e)})}function Cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gl(t,n),s!=null&&r.unshift(Cl(t,s,i)),s=gl(t,e),s!=null&&r.push(Cl(t,s,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=gl(n,s),l!=null&&o.unshift(Cl(n,l,a))):i||(l=gl(n,s),l!=null&&o.push(Cl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VO=/\r\n?/g,BO=/\u0000|\uFFFD/g;function Aw(t){return(typeof t=="string"?t:""+t).replace(VO,`
`).replace(BO,"")}function Zc(t,e,n){if(e=Aw(e),Aw(t)!==e&&n)throw Error(F(425))}function ph(){}var gm=null,vm=null;function ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,UO=typeof clearTimeout=="function"?clearTimeout:void 0,Dw=typeof Promise=="function"?Promise:void 0,HO=typeof queueMicrotask=="function"?queueMicrotask:typeof Dw<"u"?function(t){return Dw.resolve(null).then(t).catch(WO)}:wm;function WO(t){setTimeout(function(){throw t})}function Jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wl(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),jn="__reactFiber$"+qo,Sl="__reactProps$"+qo,vr="__reactContainer$"+qo,bm="__reactEvents$"+qo,qO="__reactListeners$"+qo,KO="__reactHandles$"+qo;function Ui(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mw(t);t!==null;){if(n=t[jn])return n;t=Mw(t)}return e}t=n,n=t.parentNode}return null}function lc(t){return t=t[jn]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Cd(t){return t[Sl]||null}var xm=[],Hs=-1;function xi(t){return{current:t}}function Te(t){0>Hs||(t.current=xm[Hs],xm[Hs]=null,Hs--)}function Ee(t,e){Hs++,xm[Hs]=t.current,t.current=e}var pi={},Ct=xi(pi),$t=xi(!1),is=pi;function bo(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jt(t){return t=t.childContextTypes,t!=null}function mh(){Te($t),Te(Ct)}function Lw(t,e,n){if(Ct.current!==pi)throw Error(F(168));Ee(Ct,e),Ee($t,n)}function MC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,OR(t)||"Unknown",i));return Le({},n,r)}function gh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,is=Ct.current,Ee(Ct,t),Ee($t,$t.current),!0}function Fw(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=MC(t,e,is),r.__reactInternalMemoizedMergedChildContext=t,Te($t),Te(Ct),Ee(Ct,t)):Te($t),Ee($t,n)}var ir=null,Sd=!1,Zf=!1;function LC(t){ir===null?ir=[t]:ir.push(t)}function GO(t){Sd=!0,LC(t)}function Ei(){if(!Zf&&ir!==null){Zf=!0;var t=0,e=ye;try{var n=ir;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ir=null,Sd=!1}catch(i){throw ir!==null&&(ir=ir.slice(t+1)),aC(Zg,Ei),i}finally{ye=e,Zf=!1}}return null}var Ws=[],qs=0,vh=null,yh=0,rn=[],sn=0,ss=null,or=1,ar="";function Li(t,e){Ws[qs++]=yh,Ws[qs++]=vh,vh=t,yh=e}function FC(t,e,n){rn[sn++]=or,rn[sn++]=ar,rn[sn++]=ss,ss=t;var r=or;t=ar;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var s=32-kn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,or=1<<32-kn(e)+i|n<<i|r,ar=s+t}else or=1<<s|n<<i|r,ar=t}function lv(t){t.return!==null&&(Li(t,1),FC(t,1,0))}function cv(t){for(;t===vh;)vh=Ws[--qs],Ws[qs]=null,yh=Ws[--qs],Ws[qs]=null;for(;t===ss;)ss=rn[--sn],rn[sn]=null,ar=rn[--sn],rn[sn]=null,or=rn[--sn],rn[sn]=null}var Yt=null,Kt=null,Ie=!1,_n=null;function $C(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $w(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ss!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Kt=null,!0):!1;default:return!1}}function Em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cm(t){if(Ie){var e=Kt;if(e){var n=e;if(!$w(t,e)){if(Em(t))throw Error(F(418));e=ti(n.nextSibling);var r=Yt;e&&$w(t,e)?$C(r,n):(t.flags=t.flags&-4097|2,Ie=!1,Yt=t)}}else{if(Em(t))throw Error(F(418));t.flags=t.flags&-4097|2,Ie=!1,Yt=t}}}function jw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function eu(t){if(t!==Yt)return!1;if(!Ie)return jw(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ym(t.type,t.memoizedProps)),e&&(e=Kt)){if(Em(t))throw jC(),Error(F(418));for(;e;)$C(t,e),e=ti(e.nextSibling)}if(jw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Yt?ti(t.stateNode.nextSibling):null;return!0}function jC(){for(var t=Kt;t;)t=ti(t.nextSibling)}function xo(){Kt=Yt=null,Ie=!1}function uv(t){_n===null?_n=[t]:_n.push(t)}var YO=kr.ReactCurrentBatchConfig;function va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zw(t){var e=t._init;return e(t._payload)}function zC(t){function e(v,y){if(t){var E=v.deletions;E===null?(v.deletions=[y],v.flags|=16):E.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=si(v,y),v.index=0,v.sibling=null,v}function s(v,y,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<y?(v.flags|=2,y):E):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,E,C){return y===null||y.tag!==6?(y=op(E,v.mode,C),y.return=v,y):(y=i(y,E),y.return=v,y)}function l(v,y,E,C){var S=E.type;return S===js?u(v,y,E.props.children,C,E.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mr&&zw(S)===y.type)?(C=i(y,E.props),C.ref=va(v,y,E),C.return=v,C):(C=Wu(E.type,E.key,E.props,null,v.mode,C),C.ref=va(v,y,E),C.return=v,C)}function c(v,y,E,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=ap(E,v.mode,C),y.return=v,y):(y=i(y,E.children||[]),y.return=v,y)}function u(v,y,E,C,S){return y===null||y.tag!==7?(y=Xi(E,v.mode,C,S),y.return=v,y):(y=i(y,E),y.return=v,y)}function h(v,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=op(""+y,v.mode,E),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hc:return E=Wu(y.type,y.key,y.props,null,v.mode,E),E.ref=va(v,null,y),E.return=v,E;case $s:return y=ap(y,v.mode,E),y.return=v,y;case Mr:var C=y._init;return h(v,C(y._payload),E)}if(Ra(y)||da(y))return y=Xi(y,v.mode,E,null),y.return=v,y;tu(v,y)}return null}function f(v,y,E,C){var S=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return S!==null?null:a(v,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:return E.key===S?l(v,y,E,C):null;case $s:return E.key===S?c(v,y,E,C):null;case Mr:return S=E._init,f(v,y,S(E._payload),C)}if(Ra(E)||da(E))return S!==null?null:u(v,y,E,C,null);tu(v,E)}return null}function p(v,y,E,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(E)||null,a(y,v,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Hc:return v=v.get(C.key===null?E:C.key)||null,l(y,v,C,S);case $s:return v=v.get(C.key===null?E:C.key)||null,c(y,v,C,S);case Mr:var _=C._init;return p(v,y,E,_(C._payload),S)}if(Ra(C)||da(C))return v=v.get(E)||null,u(y,v,C,S,null);tu(y,C)}return null}function m(v,y,E,C){for(var S=null,_=null,k=y,T=y=0,R=null;k!==null&&T<E.length;T++){k.index>T?(R=k,k=null):R=k.sibling;var O=f(v,k,E[T],C);if(O===null){k===null&&(k=R);break}t&&k&&O.alternate===null&&e(v,k),y=s(O,y,T),_===null?S=O:_.sibling=O,_=O,k=R}if(T===E.length)return n(v,k),Ie&&Li(v,T),S;if(k===null){for(;T<E.length;T++)k=h(v,E[T],C),k!==null&&(y=s(k,y,T),_===null?S=k:_.sibling=k,_=k);return Ie&&Li(v,T),S}for(k=r(v,k);T<E.length;T++)R=p(k,v,T,E[T],C),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?T:R.key),y=s(R,y,T),_===null?S=R:_.sibling=R,_=R);return t&&k.forEach(function(D){return e(v,D)}),Ie&&Li(v,T),S}function g(v,y,E,C){var S=da(E);if(typeof S!="function")throw Error(F(150));if(E=S.call(E),E==null)throw Error(F(151));for(var _=S=null,k=y,T=y=0,R=null,O=E.next();k!==null&&!O.done;T++,O=E.next()){k.index>T?(R=k,k=null):R=k.sibling;var D=f(v,k,O.value,C);if(D===null){k===null&&(k=R);break}t&&k&&D.alternate===null&&e(v,k),y=s(D,y,T),_===null?S=D:_.sibling=D,_=D,k=R}if(O.done)return n(v,k),Ie&&Li(v,T),S;if(k===null){for(;!O.done;T++,O=E.next())O=h(v,O.value,C),O!==null&&(y=s(O,y,T),_===null?S=O:_.sibling=O,_=O);return Ie&&Li(v,T),S}for(k=r(v,k);!O.done;T++,O=E.next())O=p(k,v,T,O.value,C),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?T:O.key),y=s(O,y,T),_===null?S=O:_.sibling=O,_=O);return t&&k.forEach(function(j){return e(v,j)}),Ie&&Li(v,T),S}function w(v,y,E,C){if(typeof E=="object"&&E!==null&&E.type===js&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:e:{for(var S=E.key,_=y;_!==null;){if(_.key===S){if(S=E.type,S===js){if(_.tag===7){n(v,_.sibling),y=i(_,E.props.children),y.return=v,v=y;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mr&&zw(S)===_.type){n(v,_.sibling),y=i(_,E.props),y.ref=va(v,_,E),y.return=v,v=y;break e}n(v,_);break}else e(v,_);_=_.sibling}E.type===js?(y=Xi(E.props.children,v.mode,C,E.key),y.return=v,v=y):(C=Wu(E.type,E.key,E.props,null,v.mode,C),C.ref=va(v,y,E),C.return=v,v=C)}return o(v);case $s:e:{for(_=E.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(v,y.sibling),y=i(y,E.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=ap(E,v.mode,C),y.return=v,v=y}return o(v);case Mr:return _=E._init,w(v,y,_(E._payload),C)}if(Ra(E))return m(v,y,E,C);if(da(E))return g(v,y,E,C);tu(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,E),y.return=v,v=y):(n(v,y),y=op(E,v.mode,C),y.return=v,v=y),o(v)):n(v,y)}return w}var Eo=zC(!0),VC=zC(!1),wh=xi(null),bh=null,Ks=null,hv=null;function dv(){hv=Ks=bh=null}function fv(t){var e=wh.current;Te(wh),t._currentValue=e}function Sm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function io(t,e){bh=t,hv=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(hv!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(bh===null)throw Error(F(308));Ks=t,bh.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var Hi=null;function pv(t){Hi===null?Hi=[t]:Hi.push(t)}function BC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pv(e)):(n.next=i.next,i.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lr=!1;function mv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yr(t,n)}return i=r.interleaved,i===null?(e.next=e,pv(r)):(e.next=i.next,i.next=e),r.interleaved=e,yr(t,n)}function ju(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ev(t,n)}}function Vw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xh(t,e,n,r){var i=t.updateQueue;Lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Le({},h,f);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);as|=o,t.lanes=o,t.memoizedState=h}}function Bw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var cc={},Hn=xi(cc),_l=xi(cc),Tl=xi(cc);function Wi(t){if(t===cc)throw Error(F(174));return t}function gv(t,e){switch(Ee(Tl,e),Ee(_l,t),Ee(Hn,cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=im(e,t)}Te(Hn),Ee(Hn,e)}function Co(){Te(Hn),Te(_l),Te(Tl)}function HC(t){Wi(Tl.current);var e=Wi(Hn.current),n=im(e,t.type);e!==n&&(Ee(_l,t),Ee(Hn,n))}function vv(t){_l.current===t&&(Te(Hn),Te(_l))}var Ae=xi(0);function Eh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ep=[];function yv(){for(var t=0;t<ep.length;t++)ep[t]._workInProgressVersionPrimary=null;ep.length=0}var zu=kr.ReactCurrentDispatcher,tp=kr.ReactCurrentBatchConfig,os=0,De=null,Ye=null,nt=null,Ch=!1,Ya=!1,kl=0,QO=0;function dt(){throw Error(F(321))}function wv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function bv(t,e,n,r,i,s){if(os=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zu.current=t===null||t.memoizedState===null?eP:tP,t=n(r,i),Ya){s=0;do{if(Ya=!1,kl=0,25<=s)throw Error(F(301));s+=1,nt=Ye=null,e.updateQueue=null,zu.current=nP,t=n(r,i)}while(Ya)}if(zu.current=Sh,e=Ye!==null&&Ye.next!==null,os=0,nt=Ye=De=null,Ch=!1,e)throw Error(F(300));return t}function xv(){var t=kl!==0;return kl=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?De.memoizedState=nt=t:nt=nt.next=t,nt}function mn(){if(Ye===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=nt===null?De.memoizedState:nt.next;if(e!==null)nt=e,Ye=t;else{if(t===null)throw Error(F(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},nt===null?De.memoizedState=nt=t:nt=nt.next=t}return nt}function Nl(t,e){return typeof e=="function"?e(t):e}function np(t){var e=mn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((os&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,De.lanes|=u,as|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,In(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,De.lanes|=s,as|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rp(t){var e=mn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);In(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function WC(){}function qC(t,e){var n=De,r=mn(),i=e(),s=!In(r.memoizedState,i);if(s&&(r.memoizedState=i,Ft=!0),r=r.queue,Ev(YC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Il(9,GC.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(F(349));os&30||KC(n,e,i)}return i}function KC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GC(t,e,n,r){e.value=n,e.getSnapshot=r,QC(e)&&XC(t)}function YC(t,e,n){return n(function(){QC(e)&&XC(t)})}function QC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function XC(t){var e=yr(t,1);e!==null&&Nn(e,t,1,-1)}function Uw(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=ZO.bind(null,De,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JC(){return mn().memoizedState}function Vu(t,e,n,r){var i=Fn();De.flags|=t,i.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function _d(t,e,n,r){var i=mn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&wv(r,o.deps)){i.memoizedState=Il(e,n,s,r);return}}De.flags|=t,i.memoizedState=Il(1|e,n,s,r)}function Hw(t,e){return Vu(8390656,8,t,e)}function Ev(t,e){return _d(2048,8,t,e)}function ZC(t,e){return _d(4,2,t,e)}function eS(t,e){return _d(4,4,t,e)}function tS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nS(t,e,n){return n=n!=null?n.concat([t]):null,_d(4,4,tS.bind(null,e,t),n)}function Cv(){}function rS(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iS(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sS(t,e,n){return os&21?(In(n,e)||(n=uC(),De.lanes|=n,as|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function XO(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=tp.transition;tp.transition={};try{t(!1),e()}finally{ye=n,tp.transition=r}}function oS(){return mn().memoizedState}function JO(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aS(t))lS(e,n);else if(n=BC(t,e,n,r),n!==null){var i=Rt();Nn(n,t,r,i),cS(n,e,r)}}function ZO(t,e,n){var r=ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aS(t))lS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,In(a,o)){var l=e.interleaved;l===null?(i.next=i,pv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=BC(t,e,i,r),n!==null&&(i=Rt(),Nn(n,t,r,i),cS(n,e,r))}}function aS(t){var e=t.alternate;return t===De||e!==null&&e===De}function lS(t,e){Ya=Ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ev(t,n)}}var Sh={readContext:pn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},eP={readContext:pn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Hw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vu(4194308,4,tS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vu(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JO.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:Uw,useDebugValue:Cv,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=Uw(!1),e=t[0];return t=XO.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,i=Fn();if(Ie){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),rt===null)throw Error(F(349));os&30||KC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Hw(YC.bind(null,r,s,t),[t]),r.flags|=2048,Il(9,GC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fn(),e=rt.identifierPrefix;if(Ie){var n=ar,r=or;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tP={readContext:pn,useCallback:rS,useContext:pn,useEffect:Ev,useImperativeHandle:nS,useInsertionEffect:ZC,useLayoutEffect:eS,useMemo:iS,useReducer:np,useRef:JC,useState:function(){return np(Nl)},useDebugValue:Cv,useDeferredValue:function(t){var e=mn();return sS(e,Ye.memoizedState,t)},useTransition:function(){var t=np(Nl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:WC,useSyncExternalStore:qC,useId:oS,unstable_isNewReconciler:!1},nP={readContext:pn,useCallback:rS,useContext:pn,useEffect:Ev,useImperativeHandle:nS,useInsertionEffect:ZC,useLayoutEffect:eS,useMemo:iS,useReducer:rp,useRef:JC,useState:function(){return rp(Nl)},useDebugValue:Cv,useDeferredValue:function(t){var e=mn();return Ye===null?e.memoizedState=t:sS(e,Ye.memoizedState,t)},useTransition:function(){var t=rp(Nl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:WC,useSyncExternalStore:qC,useId:oS,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _m(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=ii(t),s=fr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(Nn(e,t,i,r),ju(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=ii(t),s=fr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(Nn(e,t,i,r),ju(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=ii(t),i=fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ni(t,i,r),e!==null&&(Nn(e,t,r,n),ju(e,t,r))}};function Ww(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xl(n,r)||!xl(i,s):!0}function uS(t,e,n){var r=!1,i=pi,s=e.contextType;return typeof s=="object"&&s!==null?s=pn(s):(i=jt(e)?is:Ct.current,r=e.contextTypes,s=(r=r!=null)?bo(t,i):pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function Tm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pn(s):(s=jt(e)?is:Ct.current,i.context=bo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_m(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Td.enqueueReplaceState(i,i.state,null),xh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var n="",r=e;do n+=RR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ip(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rP=typeof WeakMap=="function"?WeakMap:Map;function hS(t,e,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,Fm=r),km(t,e)},n}function dS(t,e,n){n=fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){km(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){km(t,e),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Kw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vP.bind(null,t,e,n),e.then(t,t))}function Gw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fr(-1,1),e.tag=2,ni(n,e,1))),n.lanes|=1),t)}var iP=kr.ReactCurrentOwner,Ft=!1;function Nt(t,e,n,r){e.child=t===null?VC(e,null,n,r):Eo(e,t.child,n,r)}function Qw(t,e,n,r,i){n=n.render;var s=e.ref;return io(e,i),r=bv(t,e,n,r,s,i),n=xv(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Ie&&n&&lv(e),e.flags|=1,Nt(t,e,r,i),e.child)}function Xw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ov(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fS(t,e,s,r,i)):(t=Wu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(o,r)&&t.ref===e.ref)return wr(t,e,i)}return e.flags|=1,t=si(s,r),t.ref=e.ref,t.return=e,e.child=t}function fS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xl(s,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,wr(t,e,i)}return Nm(t,e,n,r,i)}function pS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ys,Wt),Wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Ys,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Ys,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(Ys,Wt),Wt|=r;return Nt(t,e,i,n),e.child}function mS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nm(t,e,n,r,i){var s=jt(n)?is:Ct.current;return s=bo(e,s),io(e,i),n=bv(t,e,n,r,s,i),r=xv(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Ie&&r&&lv(e),e.flags|=1,Nt(t,e,n,i),e.child)}function Jw(t,e,n,r,i){if(jt(n)){var s=!0;gh(e)}else s=!1;if(io(e,i),e.stateNode===null)Bu(t,e),uS(e,n,r),Tm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pn(c):(c=jt(n)?is:Ct.current,c=bo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&qw(e,o,r,c),Lr=!1;var f=e.memoizedState;o.state=f,xh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||$t.current||Lr?(typeof u=="function"&&(_m(e,n,u,r),l=e.memoizedState),(a=Lr||Ww(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,UC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Cn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pn(l):(l=jt(n)?is:Ct.current,l=bo(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&qw(e,o,r,l),Lr=!1,f=e.memoizedState,o.state=f,xh(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||$t.current||Lr?(typeof p=="function"&&(_m(e,n,p,r),m=e.memoizedState),(c=Lr||Ww(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Im(t,e,n,r,s,i)}function Im(t,e,n,r,i,s){mS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fw(e,n,!1),wr(t,e,s);r=e.stateNode,iP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eo(e,t.child,null,s),e.child=Eo(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&Fw(e,n,!0),e.child}function gS(t){var e=t.stateNode;e.pendingContext?Lw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lw(t,e.context,!1),gv(t,e.containerInfo)}function Zw(t,e,n,r,i){return xo(),uv(i),e.flags|=256,Nt(t,e,n,r),e.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Om(t){return{baseLanes:t,cachePool:null,transitions:null}}function vS(t,e,n){var r=e.pendingProps,i=Ae.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(Ae,i&1),t===null)return Cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Id(o,r,0,null),t=Xi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Om(n),e.memoizedState=Rm,t):Sv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=si(a,s):(s=Xi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Om(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rm,r}return s=t.child,t=s.sibling,r=si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sv(t,e){return e=Id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&uv(r),Eo(e,t.child,null,n),t=Sv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ip(Error(F(422))),nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Id({mode:"visible",children:r.children},i,0,null),s=Xi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Eo(e,t.child,null,o),e.child.memoizedState=Om(o),e.memoizedState=Rm,s);if(!(e.mode&1))return nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=ip(s,r,void 0),nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yr(t,i),Nn(r,t,i,-1))}return Rv(),r=ip(Error(F(421))),nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=ti(i.nextSibling),Yt=e,Ie=!0,_n=null,t!==null&&(rn[sn++]=or,rn[sn++]=ar,rn[sn++]=ss,or=t.id,ar=t.overflow,ss=e),e=Sv(e,r.children),e.flags|=4096,e)}function e1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sm(t.return,e,n)}function sp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e1(t,n,e);else if(t.tag===19)e1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Eh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Eh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sp(e,!0,n,null,s);break;case"together":sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oP(t,e,n){switch(e.tag){case 3:gS(e),xo();break;case 5:HC(e);break;case 1:jt(e.type)&&gh(e);break;case 4:gv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(wh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?vS(t,e,n):(Ee(Ae,Ae.current&1),t=wr(t,e,n),t!==null?t.sibling:null);Ee(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,pS(t,e,n)}return wr(t,e,n)}var wS,Pm,bS,xS;wS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pm=function(){};bS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wi(Hn.current);var s=null;switch(n){case"input":i=em(t,i),r=em(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=rm(t,i),r=rm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ph)}sm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};xS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ya(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aP(t,e,n){var r=e.pendingProps;switch(cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return jt(e.type)&&mh(),ft(e),null;case 3:return r=e.stateNode,Co(),Te($t),Te(Ct),yv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(zm(_n),_n=null))),Pm(t,e),ft(e),null;case 5:vv(e);var i=Wi(Tl.current);if(n=e.type,t!==null&&e.stateNode!=null)bS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return ft(e),null}if(t=Wi(Hn.current),eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[Sl]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<Pa.length;i++)Ce(Pa[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":cw(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":hw(r,s),Ce("invalid",r)}sm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",""+a]):pl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Wc(r),uw(r,s,!0);break;case"textarea":Wc(r),dw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ph)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jn]=e,t[Sl]=r,wS(t,e,!1,!1),e.stateNode=t;e:{switch(o=om(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pa.length;i++)Ce(Pa[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":cw(t,r),i=em(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":hw(t,r),i=rm(t,r),Ce("invalid",t);break;default:i=r}sm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?JE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ml(t,l):typeof l=="number"&&ml(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",t):l!=null&&Gg(t,s,l,o))}switch(n){case"input":Wc(t),uw(t,r,!1);break;case"textarea":Wc(t),dw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?eo(t,!!r.multiple,s,!1):r.defaultValue!=null&&eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ph)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)xS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Wi(Tl.current),Wi(Hn.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return ft(e),null;case 13:if(Te(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Kt!==null&&e.mode&1&&!(e.flags&128))jC(),xo(),e.flags|=98560,s=!1;else if(s=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[jn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else _n!==null&&(zm(_n),_n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Xe===0&&(Xe=3):Rv())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Co(),Pm(t,e),t===null&&El(e.stateNode.containerInfo),ft(e),null;case 10:return fv(e.type._context),ft(e),null;case 17:return jt(e.type)&&mh(),ft(e),null;case 19:if(Te(Ae),s=e.memoizedState,s===null)return ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ya(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Eh(t),o!==null){for(e.flags|=128,ya(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Ae,Ae.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>_o&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304)}else{if(!r)if(t=Eh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ie)return ft(e),null}else 2*Ue()-s.renderingStartTime>_o&&n!==1073741824&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,n=Ae.current,Ee(Ae,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return Iv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function lP(t,e){switch(cv(e),e.tag){case 1:return jt(e.type)&&mh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),Te($t),Te(Ct),yv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vv(e),null;case 13:if(Te(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Ae),null;case 4:return Co(),null;case 10:return fv(e.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var ru=!1,vt=!1,cP=typeof WeakSet=="function"?WeakSet:Set,U=null;function Gs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function Am(t,e,n){try{n()}catch(r){$e(t,e,r)}}var t1=!1;function uP(t,e){if(gm=hh,t=TC(),av(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vm={focusedElem:t,selectionRange:n},hh=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Cn(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(C){$e(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return m=t1,t1=!1,m}function Qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Am(e,n,s)}i=i.next}while(i!==r)}}function kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ES(t){var e=t.alternate;e!==null&&(t.alternate=null,ES(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[Sl],delete e[bm],delete e[qO],delete e[KO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CS(t){return t.tag===5||t.tag===3||t.tag===4}function n1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ph));else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}function Lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,n),t=t.sibling;t!==null;)Lm(t,e,n),t=t.sibling}var ot=null,Sn=!1;function Pr(t,e,n){for(n=n.child;n!==null;)SS(t,e,n),n=n.sibling}function SS(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:vt||Gs(n,e);case 6:var r=ot,i=Sn;ot=null,Pr(t,e,n),ot=r,Sn=i,ot!==null&&(Sn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(Sn?(t=ot,n=n.stateNode,t.nodeType===8?Jf(t.parentNode,n):t.nodeType===1&&Jf(t,n),wl(t)):Jf(ot,n.stateNode));break;case 4:r=ot,i=Sn,ot=n.stateNode.containerInfo,Sn=!0,Pr(t,e,n),ot=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Am(n,e,o),i=i.next}while(i!==r)}Pr(t,e,n);break;case 1:if(!vt&&(Gs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Pr(t,e,n),vt=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function r1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cP),e.forEach(function(r){var i=wP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,Sn=!1;break e;case 3:ot=a.stateNode.containerInfo,Sn=!0;break e;case 4:ot=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(ot===null)throw Error(F(160));SS(s,o,i),ot=null,Sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){$e(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_S(e,t),e=e.sibling}function _S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Mn(t),r&4){try{Qa(3,t,t.return),kd(3,t)}catch(g){$e(t,t.return,g)}try{Qa(5,t,t.return)}catch(g){$e(t,t.return,g)}}break;case 1:xn(e,t),Mn(t),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(xn(e,t),Mn(t),r&512&&n!==null&&Gs(n,n.return),t.flags&32){var i=t.stateNode;try{ml(i,"")}catch(g){$e(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&KE(i,s),om(a,o);var c=om(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?JE(i,h):u==="dangerouslySetInnerHTML"?QE(i,h):u==="children"?ml(i,h):Gg(i,u,h,c)}switch(a){case"input":tm(i,s);break;case"textarea":GE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?eo(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?eo(i,!!s.multiple,s.defaultValue,!0):eo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sl]=s}catch(g){$e(t,t.return,g)}}break;case 6:if(xn(e,t),Mn(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){$e(t,t.return,g)}}break;case 3:if(xn(e,t),Mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(e.containerInfo)}catch(g){$e(t,t.return,g)}break;case 4:xn(e,t),Mn(t);break;case 13:xn(e,t),Mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kv=Ue())),r&4&&r1(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||u,xn(e,t),vt=c):xn(e,t),Mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(U=t,u=t.child;u!==null;){for(h=U=u;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:Qa(4,f,f.return);break;case 1:Gs(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){$e(r,n,g)}}break;case 5:Gs(f,f.return);break;case 22:if(f.memoizedState!==null){s1(h);continue}}p!==null?(p.return=f,U=p):s1(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XE("display",o))}catch(g){$e(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){$e(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xn(e,t),Mn(t),r&4&&r1(t);break;case 21:break;default:xn(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CS(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ml(i,""),r.flags&=-33);var s=n1(t);Lm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=n1(t);Mm(t,a,o);break;default:throw Error(F(161))}}catch(l){$e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hP(t,e,n){U=t,TS(t)}function TS(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ru;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=ru;var c=vt;if(ru=o,(vt=l)&&!c)for(U=i;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?o1(i):l!==null?(l.return=o,U=l):o1(i);for(;s!==null;)U=s,TS(s),s=s.sibling;U=i,ru=a,vt=c}i1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,U=s):i1(t)}}function i1(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Bw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}vt||e.flags&512&&Dm(e)}catch(f){$e(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function s1(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function o1(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kd(4,e)}catch(l){$e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$e(e,i,l)}}var s=e.return;try{Dm(e)}catch(l){$e(e,s,l)}break;case 5:var o=e.return;try{Dm(e)}catch(l){$e(e,o,l)}}}catch(l){$e(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var dP=Math.ceil,_h=kr.ReactCurrentDispatcher,_v=kr.ReactCurrentOwner,dn=kr.ReactCurrentBatchConfig,de=0,rt=null,qe=null,ct=0,Wt=0,Ys=xi(0),Xe=0,Rl=null,as=0,Nd=0,Tv=0,Xa=null,Mt=null,kv=0,_o=1/0,rr=null,Th=!1,Fm=null,ri=null,iu=!1,Hr=null,kh=0,Ja=0,$m=null,Uu=-1,Hu=0;function Rt(){return de&6?Ue():Uu!==-1?Uu:Uu=Ue()}function ii(t){return t.mode&1?de&2&&ct!==0?ct&-ct:YO.transition!==null?(Hu===0&&(Hu=uC()),Hu):(t=ye,t!==0||(t=window.event,t=t===void 0?16:vC(t.type)),t):1}function Nn(t,e,n,r){if(50<Ja)throw Ja=0,$m=null,Error(F(185));oc(t,n,r),(!(de&2)||t!==rt)&&(t===rt&&(!(de&2)&&(Nd|=n),Xe===4&&$r(t,ct)),zt(t,r),n===1&&de===0&&!(e.mode&1)&&(_o=Ue()+500,Sd&&Ei()))}function zt(t,e){var n=t.callbackNode;YR(t,e);var r=uh(t,t===rt?ct:0);if(r===0)n!==null&&mw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mw(n),e===1)t.tag===0?GO(a1.bind(null,t)):LC(a1.bind(null,t)),HO(function(){!(de&6)&&Ei()}),n=null;else{switch(hC(r)){case 1:n=Zg;break;case 4:n=lC;break;case 16:n=ch;break;case 536870912:n=cC;break;default:n=ch}n=DS(n,kS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kS(t,e){if(Uu=-1,Hu=0,de&6)throw Error(F(327));var n=t.callbackNode;if(so()&&t.callbackNode!==n)return null;var r=uh(t,t===rt?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nh(t,r);else{e=r;var i=de;de|=2;var s=IS();(rt!==t||ct!==e)&&(rr=null,_o=Ue()+500,Qi(t,e));do try{mP();break}catch(a){NS(t,a)}while(1);dv(),_h.current=s,de=i,qe!==null?e=0:(rt=null,ct=0,e=Xe)}if(e!==0){if(e===2&&(i=hm(t),i!==0&&(r=i,e=jm(t,i))),e===1)throw n=Rl,Qi(t,0),$r(t,r),zt(t,Ue()),n;if(e===6)$r(t,r);else{if(i=t.current.alternate,!(r&30)&&!fP(i)&&(e=Nh(t,r),e===2&&(s=hm(t),s!==0&&(r=s,e=jm(t,s))),e===1))throw n=Rl,Qi(t,0),$r(t,r),zt(t,Ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Fi(t,Mt,rr);break;case 3:if($r(t,r),(r&130023424)===r&&(e=kv+500-Ue(),10<e)){if(uh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wm(Fi.bind(null,t,Mt,rr),e);break}Fi(t,Mt,rr);break;case 4:if($r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dP(r/1960))-r,10<r){t.timeoutHandle=wm(Fi.bind(null,t,Mt,rr),r);break}Fi(t,Mt,rr);break;case 5:Fi(t,Mt,rr);break;default:throw Error(F(329))}}}return zt(t,Ue()),t.callbackNode===n?kS.bind(null,t):null}function jm(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(Qi(t,e).flags|=256),t=Nh(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&zm(e)),t}function zm(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function fP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!In(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~Tv,e&=~Nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function a1(t){if(de&6)throw Error(F(327));so();var e=uh(t,0);if(!(e&1))return zt(t,Ue()),null;var n=Nh(t,e);if(t.tag!==0&&n===2){var r=hm(t);r!==0&&(e=r,n=jm(t,r))}if(n===1)throw n=Rl,Qi(t,0),$r(t,e),zt(t,Ue()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fi(t,Mt,rr),zt(t,Ue()),null}function Nv(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(_o=Ue()+500,Sd&&Ei())}}function ls(t){Hr!==null&&Hr.tag===0&&!(de&6)&&so();var e=de;de|=1;var n=dn.transition,r=ye;try{if(dn.transition=null,ye=1,t)return t()}finally{ye=r,dn.transition=n,de=e,!(de&6)&&Ei()}}function Iv(){Wt=Ys.current,Te(Ys)}function Qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UO(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(cv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mh();break;case 3:Co(),Te($t),Te(Ct),yv();break;case 5:vv(r);break;case 4:Co();break;case 13:Te(Ae);break;case 19:Te(Ae);break;case 10:fv(r.type._context);break;case 22:case 23:Iv()}n=n.return}if(rt=t,qe=t=si(t.current,null),ct=Wt=e,Xe=0,Rl=null,Tv=Nd=as=0,Mt=Xa=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hi=null}return t}function NS(t,e){do{var n=qe;try{if(dv(),zu.current=Sh,Ch){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ch=!1}if(os=0,nt=Ye=De=null,Ya=!1,kl=0,_v.current=null,n===null||n.return===null){Xe=1,Rl=e,qe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Gw(o);if(p!==null){p.flags&=-257,Yw(p,o,a,s,e),p.mode&1&&Kw(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Kw(s,c,e),Rv();break e}l=Error(F(426))}}else if(Ie&&a.mode&1){var w=Gw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Yw(w,o,a,s,e),uv(So(l,a));break e}}s=l=So(l,a),Xe!==4&&(Xe=2),Xa===null?Xa=[s]:Xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=hS(s,l,e);Vw(s,v);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ri===null||!ri.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=dS(s,a,e);Vw(s,C);break e}}s=s.return}while(s!==null)}OS(n)}catch(S){e=S,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(1)}function IS(){var t=_h.current;return _h.current=Sh,t===null?Sh:t}function Rv(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||!(as&268435455)&&!(Nd&268435455)||$r(rt,ct)}function Nh(t,e){var n=de;de|=2;var r=IS();(rt!==t||ct!==e)&&(rr=null,Qi(t,e));do try{pP();break}catch(i){NS(t,i)}while(1);if(dv(),de=n,_h.current=r,qe!==null)throw Error(F(261));return rt=null,ct=0,Xe}function pP(){for(;qe!==null;)RS(qe)}function mP(){for(;qe!==null&&!zR();)RS(qe)}function RS(t){var e=AS(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?OS(t):qe=e,_v.current=null}function OS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lP(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,qe=null;return}}else if(n=aP(n,e,Wt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Xe===0&&(Xe=5)}function Fi(t,e,n){var r=ye,i=dn.transition;try{dn.transition=null,ye=1,gP(t,e,n,r)}finally{dn.transition=i,ye=r}return null}function gP(t,e,n,r){do so();while(Hr!==null);if(de&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QR(t,s),t===rt&&(qe=rt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,DS(ch,function(){return so(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=ye;ye=1;var a=de;de|=4,_v.current=null,uP(t,n),_S(n,t),LO(vm),hh=!!gm,vm=gm=null,t.current=n,hP(n),VR(),de=a,ye=o,dn.transition=s}else t.current=n;if(iu&&(iu=!1,Hr=t,kh=i),s=t.pendingLanes,s===0&&(ri=null),HR(n.stateNode),zt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Th)throw Th=!1,t=Fm,Fm=null,t;return kh&1&&t.tag!==0&&so(),s=t.pendingLanes,s&1?t===$m?Ja++:(Ja=0,$m=t):Ja=0,Ei(),null}function so(){if(Hr!==null){var t=hC(kh),e=dn.transition,n=ye;try{if(dn.transition=null,ye=16>t?16:t,Hr===null)var r=!1;else{if(t=Hr,Hr=null,kh=0,de&6)throw Error(F(331));var i=de;for(de|=4,U=t.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:Qa(8,u,s)}var h=u.child;if(h!==null)h.return=u,U=h;else for(;U!==null;){u=U;var f=u.sibling,p=u.return;if(ES(u),u===c){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qa(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,U=v;break e}U=s.return}}var y=t.current;for(U=y;U!==null;){o=U;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,U=E;else e:for(o=y;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kd(9,a)}}catch(S){$e(a,a.return,S)}if(a===o){U=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,U=C;break e}U=a.return}}if(de=i,Ei(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{ye=n,dn.transition=e}}return!1}function l1(t,e,n){e=So(n,e),e=hS(t,e,1),t=ni(t,e,1),e=Rt(),t!==null&&(oc(t,1,e),zt(t,e))}function $e(t,e,n){if(t.tag===3)l1(t,t,n);else for(;e!==null;){if(e.tag===3){l1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=So(n,t),t=dS(e,t,1),e=ni(e,t,1),t=Rt(),e!==null&&(oc(e,1,t),zt(e,t));break}}e=e.return}}function vP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(ct&n)===n&&(Xe===4||Xe===3&&(ct&130023424)===ct&&500>Ue()-kv?Qi(t,0):Tv|=n),zt(t,e)}function PS(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var n=Rt();t=yr(t,e),t!==null&&(oc(t,e,n),zt(t,n))}function yP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PS(t,n)}function wP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),PS(t,n)}var AS;AS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,oP(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Ie&&e.flags&1048576&&FC(e,yh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bu(t,e),t=e.pendingProps;var i=bo(e,Ct.current);io(e,n),i=bv(null,e,r,t,i,n);var s=xv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(s=!0,gh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mv(e),i.updater=Td,e.stateNode=i,i._reactInternals=e,Tm(e,r,t,n),e=Im(null,e,r,!0,s,n)):(e.tag=0,Ie&&s&&lv(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xP(r),t=Cn(r,t),i){case 0:e=Nm(null,e,r,t,n);break e;case 1:e=Jw(null,e,r,t,n);break e;case 11:e=Qw(null,e,r,t,n);break e;case 14:e=Xw(null,e,r,Cn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Nm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Jw(t,e,r,i,n);case 3:e:{if(gS(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,UC(t,e),xh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=So(Error(F(423)),e),e=Zw(t,e,r,n,i);break e}else if(r!==i){i=So(Error(F(424)),e),e=Zw(t,e,r,n,i);break e}else for(Kt=ti(e.stateNode.containerInfo.firstChild),Yt=e,Ie=!0,_n=null,n=VC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===i){e=wr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return HC(e),t===null&&Cm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ym(r,i)?o=null:s!==null&&ym(r,s)&&(e.flags|=32),mS(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&Cm(e),null;case 13:return vS(t,e,n);case 4:return gv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Qw(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(wh,r._currentValue),r._currentValue=o,s!==null)if(In(s.value,o)){if(s.children===i.children&&!$t.current){e=wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=fr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,io(e,n),i=pn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=Cn(r,e.pendingProps),i=Cn(r.type,i),Xw(t,e,r,i,n);case 15:return fS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Bu(t,e),e.tag=1,jt(r)?(t=!0,gh(e)):t=!1,io(e,n),uS(e,r,i),Tm(e,r,i,n),Im(null,e,r,!0,t,n);case 19:return yS(t,e,n);case 22:return pS(t,e,n)}throw Error(F(156,e.tag))};function DS(t,e){return aC(t,e)}function bP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new bP(t,e,n,r)}function Ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xP(t){if(typeof t=="function")return Ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qg)return 11;if(t===Xg)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ov(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case js:return Xi(n.children,i,s,e);case Yg:o=8,i|=8;break;case Qp:return t=cn(12,n,e,i|2),t.elementType=Qp,t.lanes=s,t;case Xp:return t=cn(13,n,e,i),t.elementType=Xp,t.lanes=s,t;case Jp:return t=cn(19,n,e,i),t.elementType=Jp,t.lanes=s,t;case HE:return Id(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BE:o=10;break e;case UE:o=9;break e;case Qg:o=11;break e;case Xg:o=14;break e;case Mr:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Id(t,e,n,r){return t=cn(22,t,r,e),t.elementType=HE,t.lanes=n,t.stateNode={isHidden:!1},t}function op(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function ap(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vf(0),this.expirationTimes=Vf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pv(t,e,n,r,i,s,o,a,l){return t=new EP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mv(s),t}function CP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MS(t){if(!t)return pi;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(jt(n))return MC(t,n,e)}return e}function LS(t,e,n,r,i,s,o,a,l){return t=Pv(n,r,!0,t,i,s,o,a,l),t.context=MS(null),n=t.current,r=Rt(),i=ii(n),s=fr(r,i),s.callback=e??null,ni(n,s,i),t.current.lanes=i,oc(t,i,r),zt(t,r),t}function Rd(t,e,n,r){var i=e.current,s=Rt(),o=ii(i);return n=MS(n),e.context===null?e.context=n:e.pendingContext=n,e=fr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ni(i,e,o),t!==null&&(Nn(t,i,o,s),ju(t,i,o)),o}function Ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Av(t,e){c1(t,e),(t=t.alternate)&&c1(t,e)}function SP(){return null}var FS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dv(t){this._internalRoot=t}Od.prototype.render=Dv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Rd(t,e,null,null)};Od.prototype.unmount=Dv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ls(function(){Rd(null,t,null,null)}),e[vr]=null}};function Od(t){this._internalRoot=t}Od.prototype.unstable_scheduleHydration=function(t){if(t){var e=pC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&gC(t)}};function Mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u1(){}function _P(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ih(o);s.call(c)}}var o=LS(e,r,t,0,null,!1,!1,"",u1);return t._reactRootContainer=o,t[vr]=o.current,El(t.nodeType===8?t.parentNode:t),ls(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ih(l);a.call(c)}}var l=Pv(t,0,!1,null,null,!1,!1,"",u1);return t._reactRootContainer=l,t[vr]=l.current,El(t.nodeType===8?t.parentNode:t),ls(function(){Rd(e,l,n,r)}),l}function Ad(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ih(o);a.call(l)}}Rd(e,o,t,i)}else o=_P(n,e,t,i,r);return Ih(o)}dC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oa(e.pendingLanes);n!==0&&(ev(e,n|1),zt(e,Ue()),!(de&6)&&(_o=Ue()+500,Ei()))}break;case 13:ls(function(){var r=yr(t,1);if(r!==null){var i=Rt();Nn(r,t,1,i)}}),Av(t,1)}};tv=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Rt();Nn(e,t,134217728,n)}Av(t,134217728)}};fC=function(t){if(t.tag===13){var e=ii(t),n=yr(t,e);if(n!==null){var r=Rt();Nn(n,t,e,r)}Av(t,e)}};pC=function(){return ye};mC=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};lm=function(t,e,n){switch(e){case"input":if(tm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error(F(90));qE(r),tm(r,i)}}}break;case"textarea":GE(t,n);break;case"select":e=n.value,e!=null&&eo(t,!!n.multiple,e,!1)}};tC=Nv;nC=ls;var TP={usingClientEntryPoint:!1,Events:[lc,Us,Cd,ZE,eC,Nv]},wa={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kP={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sC(t),t===null?null:t.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||SP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{wd=su.inject(kP),Un=su}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TP;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(e))throw Error(F(200));return CP(t,e,null,n)};en.createRoot=function(t,e){if(!Mv(t))throw Error(F(299));var n=!1,r="",i=FS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pv(t,1,!1,null,null,n,!1,r,i),t[vr]=e.current,El(t.nodeType===8?t.parentNode:t),new Dv(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=sC(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return ls(t)};en.hydrate=function(t,e,n){if(!Pd(e))throw Error(F(200));return Ad(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Mv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=FS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=LS(e,null,t,1,n??null,i,!1,s,o),t[vr]=e.current,El(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Od(e)};en.render=function(t,e,n){if(!Pd(e))throw Error(F(200));return Ad(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!Pd(t))throw Error(F(40));return t._reactRootContainer?(ls(function(){Ad(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};en.unstable_batchedUpdates=Nv;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pd(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Ad(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function $S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($S)}catch(t){console.error(t)}}$S(),$E.exports=en;var Dd=$E.exports;const ou=TE(Dd);var h1=Dd;Gp.createRoot=h1.createRoot,Gp.hydrateRoot=h1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}var Wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wr||(Wr={}));const d1="popstate";function NP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Vm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rh(i)}return RP(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IP(){return Math.random().toString(36).substr(2,8)}function f1(t,e){return{usr:t.state,key:t.key,idx:e}}function Vm(t,e,n,r){return n===void 0&&(n=null),Ol({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ko(e):e,{state:n,key:e&&e.key||r||IP()})}function Rh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ol({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Wr.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:v})}function f(w,v){a=Wr.Push;let y=Vm(g.location,w,v);n&&n(y,w),c=u()+1;let E=f1(y,c),C=g.createHref(y);try{o.pushState(E,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}s&&l&&l({action:a,location:g.location,delta:1})}function p(w,v){a=Wr.Replace;let y=Vm(g.location,w,v);n&&n(y,w),c=u();let E=f1(y,c),C=g.createHref(y);o.replaceState(E,"",C),s&&l&&l({action:a,location:g.location,delta:0})}function m(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:Rh(w);return y=y.replace(/ $/,"%20"),Me(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d1,h),l=w,()=>{i.removeEventListener(d1,h),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let v=m(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(w){return o.go(w)}};return g}var p1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(p1||(p1={}));function OP(t,e,n){return n===void 0&&(n="/"),PP(t,e,n,!1)}function PP(t,e,n,r){let i=typeof e=="string"?Ko(e):e,s=To(i.pathname||"/",n);if(s==null)return null;let o=zS(t);AP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=HP(s);a=BP(o[l],c,r)}return a}function zS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=oi([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zS(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:zP(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of VS(s.path))i(s,o,l)}),e}function VS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=VS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function AP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DP=/^:[\w-]+$/,MP=3,LP=2,FP=1,$P=10,jP=-2,m1=t=>t==="*";function zP(t,e){let n=t.split("/"),r=n.length;return n.some(m1)&&(r+=jP),e&&(r+=LP),n.filter(i=>!m1(i)).reduce((i,s)=>i+(DP.test(s)?MP:s===""?FP:$P),r)}function VP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function BP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=Oh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Oh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:oi([s,h.pathname]),pathnameBase:GP(oi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=oi([s,h.pathnameBase]))}return o}function Oh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function UP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function To(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ko(t):t;return{pathname:n?n.startsWith("/")?n:qP(n,e):e,search:YP(r),hash:QP(i)}}function qP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lv(t,e){let n=KP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ko(t):(i=Ol({},t),Me(!i.pathname||!i.pathname.includes("?"),lp("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),lp("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),lp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=WP(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const oi=t=>t.join("/").replace(/\/\/+/g,"/"),GP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BS=["post","put","patch","delete"];new Set(BS);const JP=["get",...BS];new Set(JP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}const Md=b.createContext(null),US=b.createContext(null),Nr=b.createContext(null),Ld=b.createContext(null),Ir=b.createContext({outlet:null,matches:[],isDataRoute:!1}),HS=b.createContext(null);function ZP(t,e){let{relative:n}=e===void 0?{}:e;Go()||Me(!1);let{basename:r,navigator:i}=b.useContext(Nr),{hash:s,pathname:o,search:a}=Fd(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:oi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Go(){return b.useContext(Ld)!=null}function Yo(){return Go()||Me(!1),b.useContext(Ld).location}function WS(t){b.useContext(Nr).static||b.useLayoutEffect(t)}function Qo(){let{isDataRoute:t}=b.useContext(Ir);return t?pA():eA()}function eA(){Go()||Me(!1);let t=b.useContext(Md),{basename:e,future:n,navigator:r}=b.useContext(Nr),{matches:i}=b.useContext(Ir),{pathname:s}=Yo(),o=JSON.stringify(Lv(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return WS(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Fv(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:oi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}const tA=b.createContext(null);function nA(t){let e=b.useContext(Ir).outlet;return e&&b.createElement(tA.Provider,{value:t},e)}function Fd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Nr),{matches:i}=b.useContext(Ir),{pathname:s}=Yo(),o=JSON.stringify(Lv(i,r.v7_relativeSplatPath));return b.useMemo(()=>Fv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function rA(t,e){return iA(t,e)}function iA(t,e,n,r){Go()||Me(!1);let{navigator:i}=b.useContext(Nr),{matches:s}=b.useContext(Ir),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Yo(),u;if(e){var h;let w=typeof e=="string"?Ko(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Me(!1),u=w}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=OP(t,{pathname:p}),g=cA(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:oi([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:oi([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&g?b.createElement(Ld.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wr.Pop}},g):g}function sA(){let t=fA(),e=XP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}const oA=b.createElement(sA,null);class aA extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Ir.Provider,{value:this.props.routeContext},b.createElement(HS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lA(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(Md);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ir.Provider,{value:e},r)}function cA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Me(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,m=!1,g=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||oA,l&&(c<0&&f===0?(mA("route-fallback",!1),m=!0,w=null):c===f&&(m=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),y=()=>{let E;return p?E=g:m?E=w:h.route.Component?E=b.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,b.createElement(lA,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(aA,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var qS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qS||{}),Ph=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ph||{});function uA(t){let e=b.useContext(Md);return e||Me(!1),e}function hA(t){let e=b.useContext(US);return e||Me(!1),e}function dA(t){let e=b.useContext(Ir);return e||Me(!1),e}function KS(t){let e=dA(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function fA(){var t;let e=b.useContext(HS),n=hA(Ph.UseRouteError),r=KS(Ph.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pA(){let{router:t}=uA(qS.UseNavigateStable),e=KS(Ph.UseNavigateStable),n=b.useRef(!1);return WS(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pl({fromRouteId:e},s)))},[t,e])}const g1={};function mA(t,e,n){!e&&!g1[t]&&(g1[t]=!0)}function gA(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Bm(t){let{to:e,replace:n,state:r,relative:i}=t;Go()||Me(!1);let{future:s,static:o}=b.useContext(Nr),{matches:a}=b.useContext(Ir),{pathname:l}=Yo(),c=Qo(),u=Fv(e,Lv(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return b.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function vA(t){return nA(t.context)}function En(t){Me(!1)}function yA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wr.Pop,navigator:s,static:o=!1,future:a}=t;Go()&&Me(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:Pl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ko(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=b.useMemo(()=>{let w=To(u,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:m},navigationType:i}},[l,u,h,f,p,m,i]);return g==null?null:b.createElement(Nr.Provider,{value:c},b.createElement(Ld.Provider,{children:n,value:g}))}function wA(t){let{children:e,location:n}=t;return rA(Um(e),n)}new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Um(r.props.children,s));return}r.type!==En&&Me(!1),!r.props.index||!r.props.children||Me(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Um(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(this,arguments)}function GS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xA(t,e){return t.button===0&&(!e||e==="_self")&&!bA(t)}const EA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CA=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],SA="6";try{window.__reactRouterVersion=SA}catch{}const _A=b.createContext({isTransitioning:!1}),TA="startTransition",v1=vR[TA];function kA(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=NP({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=b.useCallback(h=>{c&&v1?v1(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>gA(r),[r]),b.createElement(yA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const NA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ds=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=GS(e,EA),{basename:p}=b.useContext(Nr),m,g=!1;if(typeof c=="string"&&IA.test(c)&&(m=c,NA))try{let E=new URL(window.location.href),C=c.startsWith("//")?new URL(E.protocol+c):new URL(c),S=To(C.pathname,p);C.origin===E.origin&&S!=null?c=S+C.search+C.hash:g=!0}catch{}let w=ZP(c,{relative:i}),v=OA(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function y(E){r&&r(E),E.defaultPrevented||v(E)}return b.createElement("a",Ah({},f,{href:m||w,onClick:g||s?r:y,ref:n,target:l}))}),ba=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,h=GS(e,CA),f=Fd(l,{relative:h.relative}),p=Yo(),m=b.useContext(US),{navigator:g,basename:w}=b.useContext(Nr),v=m!=null&&PA(f)&&c===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,E=p.pathname,C=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(E=E.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&w&&(C=To(C,w)||C);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=E===y||!o&&E.startsWith(y)&&E.charAt(S)==="/",k=C!=null&&(C===y||!o&&C.startsWith(y)&&C.charAt(y.length)==="/"),T={isActive:_,isPending:k,isTransitioning:v},R=_?r:void 0,O;typeof s=="function"?O=s(T):O=[s,_?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(T):a;return b.createElement(Ds,Ah({},h,{"aria-current":R,className:O,ref:n,style:D,to:l,viewTransition:c}),typeof u=="function"?u(T):u)});var Hm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hm||(Hm={}));var y1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y1||(y1={}));function RA(t){let e=b.useContext(Md);return e||Me(!1),e}function OA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Qo(),c=Yo(),u=Fd(t,{relative:o});return b.useCallback(h=>{if(xA(h,n)){h.preventDefault();let f=r!==void 0?r:Rh(c)===Rh(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function PA(t,e){e===void 0&&(e={});let n=b.useContext(_A);n==null&&Me(!1);let{basename:r}=RA(Hm.useViewTransitionState),i=Fd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=To(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=To(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Oh(i.pathname,o)!=null||Oh(i.pathname,s)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new DA;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MA=function(t){const e=YS(t);return QS.encodeByteArray(e,!0)},Dh=function(t){return MA(t).replace(/\./g,"")},XS=function(t){try{return QS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>LA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XS(t[1]);return e&&JSON.parse(e)},$v=()=>{try{return FA()||$A()||jA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JS=t=>{var e,n;return(n=(e=$v())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zA=t=>{const e=JS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZS=()=>{var t;return(t=$v())===null||t===void 0?void 0:t.config},e_=t=>{var e;return(e=$v())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Dh(JSON.stringify(n)),Dh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function HA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YA,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rr(i,a,r)}}function QA(t,e){return t.replace(XA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XA=/\{\$([^}]+)}/g;function JA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(w1(s)&&w1(o)){if(!Mh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Aa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZA(t,e){const n=new eD(t,e);return n.subscribe.bind(n)}class eD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cp),i.error===void 0&&(i.error=cp),i.complete===void 0&&(i.complete=cp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iD(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rD(t){return t===$i?void 0:t}function iD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const oD={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},aD=fe.INFO,lD={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},cD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jv{constructor(e){this.name=e,this._logLevel=aD,this._logHandler=cD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const uD=(t,e)=>e.some(n=>t instanceof n);let b1,x1;function hD(){return b1||(b1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dD(){return x1||(x1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t_=new WeakMap,Wm=new WeakMap,n_=new WeakMap,up=new WeakMap,zv=new WeakMap;function fD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&t_.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function pD(t){if(Wm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wm.set(t,e)}let qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mD(t){qm=t(qm)}function gD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hp(this),e,...n);return n_.set(r,e.sort?e.sort():[e]),ai(r)}:dD().includes(t)?function(...e){return t.apply(hp(this),e),ai(t_.get(this))}:function(...e){return ai(t.apply(hp(this),e))}}function vD(t){return typeof t=="function"?gD(t):(t instanceof IDBTransaction&&pD(t),uD(t,hD())?new Proxy(t,qm):t)}function ai(t){if(t instanceof IDBRequest)return fD(t);if(up.has(t))return up.get(t);const e=vD(t);return e!==t&&(up.set(t,e),zv.set(e,t)),e}const hp=t=>zv.get(t);function yD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wD=["get","getKey","getAll","getAllKeys","count"],bD=["put","add","delete","clear"],dp=new Map;function E1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return dp.set(e,s),s}mD(t=>({...t,get:(e,n,r)=>E1(e,n)||t.get(e,n,r),has:(e,n)=>!!E1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ED(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ED(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",C1="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new jv("@firebase/app"),CD="@firebase/app-compat",SD="@firebase/analytics-compat",_D="@firebase/analytics",TD="@firebase/app-check-compat",kD="@firebase/app-check",ND="@firebase/auth",ID="@firebase/auth-compat",RD="@firebase/database",OD="@firebase/database-compat",PD="@firebase/functions",AD="@firebase/functions-compat",DD="@firebase/installations",MD="@firebase/installations-compat",LD="@firebase/messaging",FD="@firebase/messaging-compat",$D="@firebase/performance",jD="@firebase/performance-compat",zD="@firebase/remote-config",VD="@firebase/remote-config-compat",BD="@firebase/storage",UD="@firebase/storage-compat",HD="@firebase/firestore",WD="@firebase/firestore-compat",qD="firebase",KD="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",GD={[Km]:"fire-core",[CD]:"fire-core-compat",[_D]:"fire-analytics",[SD]:"fire-analytics-compat",[kD]:"fire-app-check",[TD]:"fire-app-check-compat",[ND]:"fire-auth",[ID]:"fire-auth-compat",[RD]:"fire-rtdb",[OD]:"fire-rtdb-compat",[PD]:"fire-fn",[AD]:"fire-fn-compat",[DD]:"fire-iid",[MD]:"fire-iid-compat",[LD]:"fire-fcm",[FD]:"fire-fcm-compat",[$D]:"fire-perf",[jD]:"fire-perf-compat",[zD]:"fire-rc",[VD]:"fire-rc-compat",[BD]:"fire-gcs",[UD]:"fire-gcs-compat",[HD]:"fire-fst",[WD]:"fire-fst-compat","fire-js":"fire-js",[qD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,Ym=new Map;function YD(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(Ym.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,t);for(const n of Lh.values())YD(n,t);return!0}function Vv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},li=new uc("app","Firebase",QD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=KD;function r_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=ZS()),!n)throw li.create("no-options");const s=Lh.get(i);if(s){if(Mh(n,s.options)&&Mh(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new sD(i);for(const l of Ym.values())o.addComponent(l);const a=new XD(n,r,o);return Lh.set(i,a),a}function i_(t=Gm){const e=Lh.get(t);if(!e&&t===Gm&&ZS())return r_();if(!e)throw li.create("no-app",{appName:t});return e}function ci(t,e,n){var r;let i=(r=GD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(a.join(" "));return}ko(new cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firebase-heartbeat-database",ZD=1,Al="firebase-heartbeat-store";let fp=null;function s_(){return fp||(fp=yD(JD,ZD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Al)}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),fp}async function eM(t){try{return await(await s_()).transaction(Al).objectStore(Al).get(o_(t))}catch(e){if(e instanceof Rr)us.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function S1(t,e){try{const r=(await s_()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,o_(t)),await r.done}catch(n){if(n instanceof Rr)us.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(r.message)}}}function o_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=1024,nM=30*24*60*60*1e3;class rM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=nM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_1(),{heartbeatsToSend:n,unsentEntries:r}=iM(this._heartbeatsCache.heartbeats),i=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _1(){return new Date().toISOString().substring(0,10)}function iM(t,e=tM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),T1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await eM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return S1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return S1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function T1(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){ko(new cs("platform-logger",e=>new xD(e),"PRIVATE")),ko(new cs("heartbeat",e=>new rM(e),"PRIVATE")),ci(Km,C1,t),ci(Km,C1,"esm2017"),ci("fire-js","")}oM("");var aM="firebase",lM="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(aM,lM,"app");function Bv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cM=a_,l_=new uc("auth","Firebase",a_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new jv("@firebase/auth");function uM(t,...e){Fh.logLevel<=fe.WARN&&Fh.warn(`Auth (${Xo}): ${t}`,...e)}function qu(t,...e){Fh.logLevel<=fe.ERROR&&Fh.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw Uv(t,...e)}function Wn(t,...e){return Uv(t,...e)}function hM(t,e,n){const r=Object.assign(Object.assign({},cM()),{[e]:n});return new uc("auth","Firebase",r).create(e,{appName:t.name})}function Uv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l_.create(t,...e)}function Z(t,e,...n){if(!t)throw Uv(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qu(e),new Error(e)}function br(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dM(){return k1()==="http:"||k1()==="https:"}function k1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dM()||HA()||"connection"in navigator)?navigator.onLine:!0}function pM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=UA()||WA()}get(){return fM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new dc(3e4,6e4);function Jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zo(t,e,n,r,i={}){return u_(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),c_.fetch()(h_(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function u_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mM),e);try{const i=new vM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw au(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw au(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw au(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hM(t,u,c);Rn(t,u)}}catch(i){if(i instanceof Rr)throw i;Rn(t,"network-request-failed",{message:String(i)})}}async function fc(t,e,n,r,i={}){const s=await Zo(t,e,n,r,i);return"mfaPendingCredential"in s&&Rn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function h_(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hv(t.config,i):`${t.config.apiScheme}://${i}`}class vM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),gM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){return Zo(t,"POST","/v1/accounts:delete",e)}async function wM(t,e){return Zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bM(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=Wv(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Za(pp(i.auth_time)),issuedAtTime:Za(pp(i.iat)),expirationTime:Za(pp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pp(t){return Number(t)*1e3}function Wv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qu("JWT malformed, contained fewer than 3 sections"),null;try{const i=XS(n);return i?JSON.parse(i):(qu("Failed to decode base64 JWT payload"),null)}catch(i){return qu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xM(t){const e=Wv(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&EM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Dl(t,wM(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TM(s.providerUserInfo):[],a=_M(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new d_(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function SM(t){const e=Ot(t);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _M(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TM(t){return t.map(e=>{var{providerId:n}=e,r=Bv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(t,e){const n=await u_(t,{},async()=>{const r=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=h_(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",c_.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ml;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new d_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bM(this,e)}reload(){return SM(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Dl(this,yM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:C,isAnonymous:S,providerData:_,stsTokenManager:k}=n;Z(E&&k,e,"internal-error");const T=Ml.fromJSON(this.name,k);Z(typeof E=="string",e,"internal-error"),Ar(h,e.name),Ar(f,e.name),Z(typeof C=="boolean",e,"internal-error"),Z(typeof S=="boolean",e,"internal-error"),Ar(p,e.name),Ar(m,e.name),Ar(g,e.name),Ar(w,e.name),Ar(v,e.name),Ar(y,e.name);const R=new Ji({uid:E,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:v,lastLoginAt:y});return _&&Array.isArray(_)&&(R.providerData=_.map(O=>Object.assign({},O))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ml;i.updateFromServerResponse(n);const s=new Ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $h(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;function cr(t){br(t instanceof Function,"Expected a class definition");let e=N1.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f_.type="NONE";const I1=f_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ku(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ku("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(cr(I1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||cr(I1);const o=Ku(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Ji._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new oo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new oo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y_(e))return"Blackberry";if(w_(e))return"Webos";if(qv(e))return"Safari";if((e.includes("chrome/")||m_(e))&&!e.includes("edge/"))return"Chrome";if(v_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p_(t=St()){return/firefox\//i.test(t)}function qv(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m_(t=St()){return/crios\//i.test(t)}function g_(t=St()){return/iemobile/i.test(t)}function v_(t=St()){return/android/i.test(t)}function y_(t=St()){return/blackberry/i.test(t)}function w_(t=St()){return/webos/i.test(t)}function $d(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NM(t=St()){var e;return $d(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IM(){return qA()&&document.documentMode===10}function b_(t=St()){return $d(t)||v_(t)||w_(t)||y_(t)||/windows phone/i.test(t)||g_(t)}function RM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t,e=[]){let n;switch(t){case"Browser":n=R1(St());break;case"Worker":n=`${R1(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}async function E_(t,e){return Zo(t,"GET","/v2/recaptchaConfig",Jo(t,e))}function O1(t){return t!==void 0&&t.enterprise!==void 0}class C_{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function S_(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OM().appendChild(r)})}function PM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const AM="https://www.google.com/recaptcha/enterprise.js?render=",DM="recaptcha-enterprise",MM="NO_RECAPTCHA";class __{constructor(e){this.type=DM,this.auth=ea(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{E_(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new C_(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;O1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(MM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&O1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}S_(AM+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function jh(t,e,n,r=!1){const i=new __(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P1(this),this.idTokenSubscription=new P1(this),this.beforeStateQueue=new LM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ot(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}async initializeRecaptchaConfig(){const e=await E_(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new C_(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new __(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ea(t){return Ot(t)}class P1{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZA(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t,e){const n=Vv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mh(s,e??{}))return i;Rn(i,"already-initialized")}return n.initialize({options:e})}function jM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zM(t,e,n){const r=ea(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=T_(e),{host:o,port:a}=VM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BM()}function T_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VM(t){const e=T_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:A1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:A1(o)}}}function A1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function UM(t,e){return Zo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}async function WM(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Kv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await jh(e,r,"signInWithPassword");return mp(e,i)}else return mp(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await jh(e,r,"signInWithPassword");return mp(e,s)}else return Promise.reject(i)});case"emailLink":return HM(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return UM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return WM(e,{idToken:n,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="http://localhost";class hs extends Kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Bv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:qM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GM(t){const e=Aa(Da(t)).link,n=e?Aa(Da(e)).deep_link_id:null,r=Aa(Da(t)).deep_link_id;return(r?Aa(Da(r)).link:null)||r||n||e||t}class Gv{constructor(e){var n,r,i,s,o,a;const l=Aa(Da(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=KM((i=l.mode)!==null&&i!==void 0?i:null);Z(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=GM(e);try{return new Gv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gv.parseLink(n);return Z(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends k_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends pc{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends pc{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends pc{constructor(){super("twitter.com")}static credential(e,n){return hs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t,e){return fc(t,"POST","/v1/accounts:signUp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ji._fromIdTokenResponse(e,r,i),o=D1(r);return new ds({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=D1(r);return new ds({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function D1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zh(e,n,r,i)}}function N_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(t,s,e,r):s})}async function YM(t,e,n=!1){const r=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Dl(t,N_(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Wv(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),ds._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I_(t,e,n=!1){const r="signIn",i=await N_(t,r,e),s=await ds._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function XM(t,e){return I_(ea(t),e)}async function JM(t,e,n){var r;const i=ea(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await jh(i,s,"signUpPassword");o=gp(i,c)}else o=gp(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await jh(i,s,"signUpPassword");return gp(i,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await ds._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function ZM(t,e,n){return XM(Ot(t),ta.credential(e,n))}function eL(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function tL(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function nL(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function rL(t){return Ot(t).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){const t=St();return qv(t)||$d(t)}const sL=1e3,oL=10;class O_ extends R_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iL()&&RM(),this.fallbackToPolling=b_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);IM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}O_.type="LOCAL";const aL=O_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends R_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}P_.type="SESSION";const A_=P_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await lL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Yv("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function uL(t){qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function hL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fL(){return D_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="firebaseLocalStorageDb",pL=1,Bh="firebaseLocalStorage",L_="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function mL(){const t=indexedDB.deleteDatabase(M_);return new mc(t).toPromise()}function Xm(){const t=indexedDB.open(M_,pL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bh,{keyPath:L_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),await mL(),e(await Xm()))})})}async function M1(t,e,n){const r=zd(t,!0).put({[L_]:e,value:n});return new mc(r).toPromise()}async function gL(t,e){const n=zd(t,!1).get(e),r=await new mc(n).toPromise();return r===void 0?null:r.value}function L1(t,e){const n=zd(t,!0).delete(e);return new mc(n).toPromise()}const vL=800,yL=3;class F_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(fL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hL(),!this.activeServiceWorker)return;this.sender=new cL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await M1(e,Vh,"1"),await L1(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zd(i,!1).getAll();return new mc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F_.type="LOCAL";const wL=F_;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e){return e?cr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xL(t){return I_(t.auth,new Qv(t),t.bypassAuthState)}function EL(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),QM(n,new Qv(t),t.bypassAuthState)}async function CL(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),YM(n,new Qv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xL;case"linkViaPopup":case"linkViaRedirect":return CL;case"reauthViaPopup":case"reauthViaRedirect":return EL;default:Rn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new dc(2e3,1e4);class Qs extends $_{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SL.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="pendingRedirect",Gu=new Map;class TL extends $_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gu.get(this.auth._key());if(!e){try{const r=await kL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kL(t,e){const n=RL(e),r=IL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function NL(t,e){Gu.set(t._key(),e)}function IL(t){return cr(t._redirectPersistence)}function RL(t){return Ku(_L,t.config.apiKey,t.name)}async function OL(t,e,n=!1){const r=ea(t),i=bL(r,e),o=await new TL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=10*60*1e3;class AL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!j_(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PL&&this.cachedEventUids.clear(),this.cachedEventUids.has(F1(e))}saveEventToCache(e){this.cachedEventUids.add(F1(e)),this.lastProcessedEventTime=Date.now()}}function F1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e={}){return Zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FL=/^https?/;async function $L(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ML(t);for(const n of e)try{if(jL(n))return}catch{}Rn(t,"unauthorized-domain")}function jL(t){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FL.test(n))return!1;if(LL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new dc(3e4,6e4);function $1(){const t=qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VL(t){return new Promise((e,n)=>{var r,i,s;function o(){$1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$1(),n(Wn(t,"network-request-failed"))},timeout:zL.get()})}if(!((i=(r=qn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qn().gapi)===null||s===void 0)&&s.load)o();else{const a=PM("iframefcb");return qn()[a]=()=>{gapi.load?o():n(Wn(t,"network-request-failed"))},S_(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function BL(t){return Yu=Yu||VL(t),Yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new dc(5e3,15e3),HL="__/auth/iframe",WL="emulator/auth/iframe",qL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GL(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hv(e,WL):`https://${t.config.authDomain}/${HL}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=KL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hc(r).slice(1)}`}async function YL(t){const e=await BL(t),n=qn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:GL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wn(t,"network-request-failed"),a=qn().setTimeout(()=>{s(o)},UL.get());function l(){qn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XL=500,JL=600,ZL="_blank",e4="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t4(t,e,n,r=XL,i=JL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},QL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=St().toLowerCase();n&&(a=m_(c)?ZL:n),p_(c)&&(e=e||e4,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(NM(c)&&a!=="_self")return n4(e||"",a),new j1(null);const h=window.open(e||"",a,u);Z(h,t,"popup-blocked");try{h.focus()}catch{}return new j1(h)}function n4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="__/auth/handler",i4="emulator/auth/handler",s4=encodeURIComponent("fac");async function z1(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof k_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof pc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${s4}=${encodeURIComponent(l)}`:"";return`${o4(t)}?${hc(a).slice(1)}${c}`}function o4({config:t}){return t.emulator?Hv(t,i4):`https://${t.authDomain}/${r4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class a4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A_,this._completeRedirectFn=OL,this._overrideRedirectResult=NL}async _openPopup(e,n,r,i){var s;br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await z1(e,n,r,Qm(),i);return t4(e,o,Yv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await z1(e,n,r,Qm(),i);return uL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YL(e),r=new AL(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vp,{type:vp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[vp];o!==void 0&&n(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$L(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b_()||qv()||$d()}}const l4=a4;var V1="@firebase/auth",B1="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function h4(t){ko(new cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x_(t)},c=new FM(r,i,s,l);return jM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new cs("auth-internal",e=>{const n=ea(e.getProvider("auth").getImmediate());return(r=>new c4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(V1,B1,u4(t)),ci(V1,B1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=5*60,f4=e_("authIdTokenMaxAge")||d4;let U1=null;const p4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>f4)return;const i=n==null?void 0:n.token;U1!==i&&(U1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function m4(t=i_()){const e=Vv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$M(t,{popupRedirectResolver:l4,persistence:[wL,aL,A_]}),r=e_("authTokenSyncURL");if(r){const s=p4(r);tL(n,s,()=>s(n.currentUser)),eL(n,o=>s(o))}const i=JS("auth");return i&&zM(n,`http://${i}`),n}h4("Browser");var g4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,Xv=Xv||{},te=g4||self;function Vd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function v4(t){return Object.prototype.hasOwnProperty.call(t,yp)&&t[yp]||(t[yp]=++y4)}var yp="closure_uid_"+(1e9*Math.random()>>>0),y4=0;function w4(t,e,n){return t.call.apply(t.bind,arguments)}function b4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bt=w4:bt=b4,bt.apply(null,arguments)}function lu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function st(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ci(){this.s=this.s,this.o=this.o}var x4=0;Ci.prototype.s=!1;Ci.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),x4!=0)&&v4(this)};Ci.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Jv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function H1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xt.prototype.h=function(){this.defaultPrevented=!0};var E4=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function Fl(t){return/^[\s\xa0]*$/.test(t)}function Bd(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function zn(t){return Bd().indexOf(t)!=-1}function Zv(t){return Zv[" "](t),t}Zv[" "]=function(){};function C4(t,e){var n=mF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var S4=zn("Opera"),No=zn("Trident")||zn("MSIE"),V_=zn("Edge"),Jm=V_||No,B_=zn("Gecko")&&!(Bd().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),_4=Bd().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge");function U_(){var t=te.document;return t?t.documentMode:void 0}var Zm;e:{var wp="",bp=function(){var t=Bd();if(B_)return/rv:([^\);]+)(\)|;)/.exec(t);if(V_)return/Edge\/([\d\.]+)/.exec(t);if(No)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(_4)return/WebKit\/(\S+)/.exec(t);if(S4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(bp&&(wp=bp?bp[1]:""),No){var xp=U_();if(xp!=null&&xp>parseFloat(wp)){Zm=String(xp);break e}}Zm=wp}var eg;if(te.document&&No){var W1=U_();eg=W1||parseInt(Zm,10)||void 0}else eg=void 0;var T4=eg;function $l(t,e){if(xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(B_){e:{try{Zv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:k4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$l.$.h.call(this)}}st($l,xt);var k4={2:"touch",3:"pen",4:"mouse"};$l.prototype.h=function(){$l.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vc="closure_listenable_"+(1e6*Math.random()|0),N4=0;function I4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++N4,this.fa=this.ia=!1}function Ud(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ey(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function R4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function H_(t){const e={};for(const n in t)e[n]=t[n];return e}const q1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W_(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<q1.length;s++)n=q1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hd(t){this.src=t,this.g={},this.h=0}Hd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ng(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new I4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function tg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=z_(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ud(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ng(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var ty="closure_lm_"+(1e6*Math.random()|0),Ep={};function q_(t,e,n,r,i){if(r&&r.once)return G_(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)q_(t,e[s],n,r,i);return null}return n=iy(n),t&&t[vc]?t.O(e,n,gc(r)?!!r.capture:!!r,i):K_(t,e,n,!1,r,i)}function K_(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gc(i)?!!i.capture:!!i,a=ry(t);if(a||(t[ty]=a=new Hd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=O4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)E4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Q_(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function O4(){function t(n){return e.call(t.src,t.listener,n)}const e=P4;return t}function G_(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)G_(t,e[s],n,r,i);return null}return n=iy(n),t&&t[vc]?t.P(e,n,gc(r)?!!r.capture:!!r,i):K_(t,e,n,!0,r,i)}function Y_(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Y_(t,e[s],n,r,i);else r=gc(r)?!!r.capture:!!r,n=iy(n),t&&t[vc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ng(s,n,r,i),-1<n&&(Ud(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ry(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ng(e,n,r,i)),(n=-1<t?e[t]:null)&&ny(n))}function ny(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vc])tg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Q_(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ry(e))?(tg(n,t),n.h==0&&(n.src=null,e[ty]=null)):Ud(t)}}}function Q_(t){return t in Ep?Ep[t]:Ep[t]="on"+t}function P4(t,e){if(t.fa)t=!0;else{e=new $l(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ny(t),t=n.call(r,e)}return t}function ry(t){return t=t[ty],t instanceof Hd?t:null}var Cp="__closure_events_fn_"+(1e9*Math.random()>>>0);function iy(t){return typeof t=="function"?t:(t[Cp]||(t[Cp]=function(e){return t.handleEvent(e)}),t[Cp])}function it(){Ci.call(this),this.i=new Hd(this),this.S=this,this.J=null}st(it,Ci);it.prototype[vc]=!0;it.prototype.removeEventListener=function(t,e,n,r){Y_(this,t,e,n,r)};function ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new xt(e,t);else if(e instanceof xt)e.target=e.target||t;else{var i=e;e=new xt(r,t),W_(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=cu(o,r,!0,e)&&i}if(o=e.g=t,i=cu(o,r,!0,e)&&i,i=cu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=cu(o,r,!1,e)&&i}it.prototype.N=function(){if(it.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ud(n[r]);delete t.g[e],t.h--}}this.J=null};it.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};it.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function cu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&tg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var sy=te.JSON.stringify;class A4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function D4(){var t=oy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class M4{constructor(){this.h=this.g=null}add(e,n){const r=X_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var X_=new A4(()=>new L4,t=>t.reset());class L4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function F4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function $4(t){te.setTimeout(()=>{throw t},0)}let jl,zl=!1,oy=new M4,J_=()=>{const t=te.Promise.resolve(void 0);jl=()=>{t.then(j4)}};var j4=()=>{for(var t;t=D4();){try{t.h.call(t.g)}catch(n){$4(n)}var e=X_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zl=!1};function Wd(t,e){it.call(this),this.h=t||1,this.g=e||te,this.j=bt(this.qb,this),this.l=Date.now()}st(Wd,it);z=Wd.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(ay(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ay(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}z.N=function(){Wd.$.N.call(this),ay(this),delete this.g};function ly(t,e,n){if(typeof t=="function")n&&(t=bt(t,n));else if(t&&typeof t.handleEvent=="function")t=bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function Z_(t){t.g=ly(()=>{t.g=null,t.i&&(t.i=!1,Z_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class z4 extends Ci{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Z_(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vl(t){Ci.call(this),this.h=t,this.g={}}st(Vl,Ci);var K1=[];function eT(t,e,n,r){Array.isArray(n)||(n&&(K1[0]=n.toString()),n=K1);for(var i=0;i<n.length;i++){var s=q_(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tT(t){ey(t.g,function(e,n){this.g.hasOwnProperty(n)&&ny(e)},t),t.g={}}Vl.prototype.N=function(){Vl.$.N.call(this),tT(this)};Vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qd(){this.g=!0}qd.prototype.Ea=function(){this.g=!1};function V4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function B4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Xs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+H4(t,n)+(r?" "+r:"")})}function U4(t,e){t.info(function(){return"TIMEOUT: "+e})}qd.prototype.info=function(){};function H4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return sy(n)}catch{return e}}var Es={},G1=null;function Kd(){return G1=G1||new it}Es.Ta="serverreachability";function nT(t){xt.call(this,Es.Ta,t)}st(nT,xt);function Bl(t){const e=Kd();ut(e,new nT(e))}Es.STAT_EVENT="statevent";function rT(t,e){xt.call(this,Es.STAT_EVENT,t),this.stat=e}st(rT,xt);function It(t){const e=Kd();ut(e,new rT(e,t))}Es.Ua="timingevent";function iT(t,e){xt.call(this,Es.Ua,t),this.size=e}st(iT,xt);function yc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var Gd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cy(){}cy.prototype.h=null;function Y1(t){return t.h||(t.h=t.i())}function oT(){}var wc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uy(){xt.call(this,"d")}st(uy,xt);function hy(){xt.call(this,"c")}st(hy,xt);var rg;function Yd(){}st(Yd,cy);Yd.prototype.g=function(){return new XMLHttpRequest};Yd.prototype.i=function(){return{}};rg=new Yd;function bc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vl(this),this.P=W4,t=Jm?125:void 0,this.V=new Wd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aT}function aT(){this.i=null,this.g="",this.h=!1}var W4=45e3,ig={},Uh={};z=bc.prototype;z.setTimeout=function(t){this.P=t};function sg(t,e,n){t.L=1,t.v=Xd(xr(e)),t.s=n,t.S=!0,lT(t,null)}function lT(t,e){t.G=Date.now(),xc(t),t.A=xr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),gT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new aT,t.g=FT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new z4(bt(t.Pa,t,t.g),t.O)),eT(t.U,t.g,"readystatechange",t.nb),e=t.I?H_(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Bl(),V4(t.j,t.u,t.A,t.m,t.W,t.s)}z.nb=function(t){t=t.target;const e=this.M;e&&Vn(t)==3?e.l():this.Pa(t)};z.Pa=function(t){try{if(t==this.g)e:{const u=Vn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Jm||this.g&&(this.h.h||this.g.ja()||Z1(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Bl(3):Bl(2)),Qd(this);var n=this.g.da();this.ca=n;t:if(cT(this)){var r=Z1(this.g);t="";var i=r.length,s=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),el(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,B4(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fl(a)){var c=a;break t}}c=null}if(n=c)Xs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,og(this,n);else{this.i=!1,this.o=3,It(12),qi(this),el(this);break e}}this.S?(uT(this,u,o),Jm&&this.i&&u==3&&(eT(this.U,this.V,"tick",this.mb),this.V.start())):(Xs(this.j,this.m,o,null),og(this,o)),u==4&&qi(this),this.i&&!this.J&&(u==4?AT(this.l,this):(this.i=!1,xc(this)))}else dF(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,It(12)):(this.o=0,It(13)),qi(this),el(this)}}}catch{}finally{}};function cT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function uT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=q4(t,n),i==Uh){e==4&&(t.o=4,It(14),r=!1),Xs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ig){t.o=4,It(15),Xs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xs(t.j,t.m,i,null),og(t,i);cT(t)&&i!=Uh&&i!=ig&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,It(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vy(e),e.M=!0,It(11))):(Xs(t.j,t.m,n,"[Invalid Chunked Response]"),qi(t),el(t))}z.mb=function(){if(this.g){var t=Vn(this.g),e=this.g.ja();this.C<e.length&&(Qd(this),uT(this,t,e),this.i&&t!=4&&xc(this))}};function q4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Uh:(n=Number(e.substring(n,r)),isNaN(n)?ig:(r+=1,r+n>e.length?Uh:(e=e.slice(r,r+n),t.C=r+n,e)))}z.cancel=function(){this.J=!0,qi(this)};function xc(t){t.Y=Date.now()+t.P,hT(t,t.P)}function hT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yc(bt(t.lb,t),e)}function Qd(t){t.B&&(te.clearTimeout(t.B),t.B=null)}z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(U4(this.j,this.A),this.L!=2&&(Bl(),It(17)),qi(this),this.o=2,el(this)):hT(this,this.Y-t)};function el(t){t.l.H==0||t.J||AT(t.l,t)}function qi(t){Qd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ay(t.V),tT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function og(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ag(n.i,t))){if(!t.K&&ag(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qh(n),ef(n);else break e;gy(n),It(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=yc(bt(n.ib,n),6e3));if(1>=wT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ki(n,11)}else if((t.K||n.g==t)&&qh(n),!Fl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(dy(s,s.h),s.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Se(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=LT(r,r.J?r.pa:null,r.Y),o.K){bT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Qd(a),xc(a)),r.g=o}else OT(r);0<n.j.length&&tf(n)}else c[0]!="stop"&&c[0]!="close"||Ki(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ki(n,7):my(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Bl(4)}catch{}}function K4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Vd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function G4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Vd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function dT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=G4(t),r=K4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var fT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zi){this.h=t.h,Hh(this,t.j),this.s=t.s,this.g=t.g,Wh(this,t.m),this.l=t.l;var e=t.i,n=new Ul;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Q1(this,n),this.o=t.o}else t&&(e=String(t).match(fT))?(this.h=!1,Hh(this,e[1]||"",!0),this.s=Ma(e[2]||""),this.g=Ma(e[3]||"",!0),Wh(this,e[4]),this.l=Ma(e[5]||"",!0),Q1(this,e[6]||"",!0),this.o=Ma(e[7]||"")):(this.h=!1,this.i=new Ul(null,this.h))}Zi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(La(e,X1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(La(e,X1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(La(n,n.charAt(0)=="/"?J4:X4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",La(n,eF)),t.join("")};function xr(t){return new Zi(t)}function Hh(t,e,n){t.j=n?Ma(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Wh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Q1(t,e,n){e instanceof Ul?(t.i=e,tF(t.i,t.h)):(n||(e=La(e,Z4)),t.i=new Ul(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function Xd(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ma(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function La(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Q4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Q4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var X1=/[#\/\?@]/g,X4=/[#\?:]/g,J4=/[#\?]/g,Z4=/[#\?@]/g,eF=/#/g;function Ul(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Si(t){t.g||(t.g=new Map,t.h=0,t.i&&Y4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}z=Ul.prototype;z.add=function(t,e){Si(this),this.i=null,t=na(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pT(t,e){Si(t),e=na(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mT(t,e){return Si(t),e=na(t,e),t.g.has(e)}z.forEach=function(t,e){Si(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};z.ta=function(){Si(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};z.Z=function(t){Si(this);let e=[];if(typeof t=="string")mT(this,t)&&(e=e.concat(this.g.get(na(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};z.set=function(t,e){return Si(this),this.i=null,t=na(this,t),mT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gT(t,e,n){pT(t,e),0<n.length&&(t.i=null,t.g.set(na(t,e),Jv(n)),t.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function na(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tF(t,e){e&&!t.j&&(Si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pT(this,r),gT(this,i,n))},t)),t.j=e}var nF=class{constructor(t,e){this.g=t,this.map=e}};function vT(t){this.l=t||rF,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rF=10;function yT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wT(t){return t.h?1:t.g?t.g.size:0}function ag(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function dy(t,e){t.g?t.g.add(e):t.h=e}function bT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vT.prototype.cancel=function(){if(this.i=xT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function xT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Jv(t.i)}var iF=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function sF(){this.g=new iF}function oF(t,e,n){const r=n||"";try{dT(t,function(i,s){let o=i;gc(i)&&(o=sy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aF(t,e){const n=new qd;if(te.Image){const r=new Image;r.onload=lu(uu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lu(uu,n,r,"TestLoadImage: error",!1,e),r.onabort=lu(uu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lu(uu,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function uu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ec(t){this.l=t.fc||null,this.j=t.ob||!1}st(Ec,cy);Ec.prototype.g=function(){return new Jd(this.l,this.j)};Ec.prototype.i=function(t){return function(){return t}}({});function Jd(t,e){it.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=fy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}st(Jd,it);var fy=0;z=Jd.prototype;z.open=function(t,e){if(this.readyState!=fy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Hl(this)};z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cc(this)),this.readyState=fy};z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Hl(this)),this.g&&(this.readyState=3,Hl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ET(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ET(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cc(this):Hl(this),this.readyState==3&&ET(this)}};z.Za=function(t){this.g&&(this.response=this.responseText=t,Cc(this))};z.Ya=function(t){this.g&&(this.response=t,Cc(this))};z.ka=function(){this.g&&Cc(this)};function Cc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Hl(t)}z.setRequestHeader=function(t,e){this.v.append(t,e)};z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Hl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Jd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var lF=te.JSON.parse;function Ve(t){it.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CT,this.L=this.M=!1}st(Ve,it);var CT="",cF=/^https?$/i,uF=["POST","PUT"];z=Ve.prototype;z.Oa=function(t){this.M=t};z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rg.g(),this.C=this.u?Y1(this.u):Y1(rg),this.g.onreadystatechange=bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){J1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=te.FormData&&t instanceof te.FormData,!(0<=z_(uF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TT(this),0<this.B&&((this.L=hF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.ua,this)):this.A=ly(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){J1(this,s)}};function hF(t){return No&&typeof t.timeout=="number"&&t.ontimeout!==void 0}z.ua=function(){typeof Xv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function J1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ST(t),Zd(t)}function ST(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),Zd(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zd(this,!0)),Ve.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?_T(this):this.kb())};z.kb=function(){_T(this)};function _T(t){if(t.h&&typeof Xv<"u"&&(!t.C[1]||Vn(t)!=4||t.da()!=2)){if(t.v&&Vn(t)==4)ly(t.La,0,t);else if(ut(t,"readystatechange"),Vn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(fT)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!cF.test(i?i.toLowerCase():"")}n=r}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var s=2<Vn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ST(t)}}finally{Zd(t)}}}}function Zd(t,e){if(t.g){TT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function TT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}z.isActive=function(){return!!this.g};function Vn(t){return t.g?t.g.readyState:0}z.da=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),lF(e)}};function Z1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dF(t){const e={};t=(t.g&&2<=Vn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fl(t[r]))continue;var n=F4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}R4(e,function(r){return r.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function kT(t){let e="";return ey(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function py(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=kT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Se(t,e,n))}function xa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function NT(t){this.Ga=0,this.j=[],this.l=new qd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xa("baseRetryDelayMs",5e3,t),this.hb=xa("retryDelaySeedMs",1e4,t),this.eb=xa("forwardChannelMaxRetries",2,t),this.xa=xa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vT(t&&t.concurrentRequestLimit),this.Ja=new sF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=NT.prototype;z.ra=8;z.H=1;function my(t){if(IT(t),t.H==3){var e=t.W++,n=xr(t.I);if(Se(n,"SID",t.K),Se(n,"RID",e),Se(n,"TYPE","terminate"),Sc(t,n),e=new bc(t,t.l,e),e.L=2,e.v=Xd(xr(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&(new Image().src=e.v,n=!0),n||(e.g=FT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xc(e)}MT(t)}function ef(t){t.g&&(vy(t),t.g.cancel(),t.g=null)}function IT(t){ef(t),t.u&&(te.clearTimeout(t.u),t.u=null),qh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function tf(t){if(!yT(t.i)&&!t.m){t.m=!0;var e=t.Na;jl||J_(),zl||(jl(),zl=!0),oy.add(e,t),t.C=0}}function fF(t,e){return wT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yc(bt(t.Na,t,e),DT(t,t.C)),t.C++,!0)}z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new bc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=H_(s),W_(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=RT(this,i,e),n=xr(this.I),Se(n,"RID",t),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),Sc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(kT(s)))+"&"+e:this.o&&py(n,this.o,s)),dy(this.i,i),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",e),Se(n,"SID","null"),i.aa=!0,sg(i,n,null)):sg(i,n,e),this.H=2}}else this.H==3&&(t?eb(this,t):this.j.length==0||yT(this.i)||eb(this))};function eb(t,e){var n;e?n=e.m:n=t.W++;const r=xr(t.I);Se(r,"SID",t.K),Se(r,"RID",n),Se(r,"AID",t.V),Sc(t,r),t.o&&t.s&&py(r,t.o,t.s),n=new bc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=RT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dy(t.i,n),sg(n,r,e)}function Sc(t,e){t.na&&ey(t.na,function(n,r){Se(e,r,n)}),t.h&&dT({},function(n,r){Se(e,r,n)})}function RT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{oF(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function OT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jl||J_(),zl||(jl(),zl=!0),oy.add(e,t),t.A=0}}function gy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yc(bt(t.Ma,t),DT(t,t.A)),t.A++,!0)}z.Ma=function(){if(this.u=null,PT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yc(bt(this.jb,this),t)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,It(10),ef(this),PT(this))};function vy(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function PT(t){t.g=new bc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=xr(t.wa);Se(e,"RID","rpc"),Se(e,"SID",t.K),Se(e,"AID",t.V),Se(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Se(e,"TO",t.qa),Se(e,"TYPE","xmlhttp"),Sc(t,e),t.o&&t.s&&py(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Xd(xr(e)),n.s=null,n.S=!0,lT(n,t)}z.ib=function(){this.v!=null&&(this.v=null,ef(this),gy(this),It(19))};function qh(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function AT(t,e){var n=null;if(t.g==e){qh(t),vy(t),t.g=null;var r=2}else if(ag(t.i,e))n=e.F,bT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Kd(),ut(r,new iT(r,n)),tf(t)}else OT(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&fF(t,e)||r==2&&gy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ki(t,5);break;case 4:Ki(t,10);break;case 3:Ki(t,6);break;default:Ki(t,2)}}}function DT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ki(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=bt(t.pb,t);n||(n=new Zi("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||Hh(n,"https"),Xd(n)),aF(n.toString(),r)}else It(2);t.H=0,t.h&&t.h.za(e),MT(t),IT(t)}z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),It(2)):(this.l.info("Failed to ping google.com"),It(1))};function MT(t){if(t.H=0,t.ma=[],t.h){const e=xT(t.i);(e.length!=0||t.j.length!=0)&&(H1(t.ma,e),H1(t.ma,t.j),t.i.i.length=0,Jv(t.j),t.j.length=0),t.h.ya()}}function LT(t,e,n){var r=n instanceof Zi?xr(n):new Zi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Wh(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zi(null);r&&Hh(s,r),e&&(s.g=e),i&&Wh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Se(r,n,e),Se(r,"VER",t.ra),Sc(t,r),r}function FT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ve(new Ec({ob:!0})):new Ve(t.va),e.Oa(t.J),e}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function $T(){}z=$T.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function Kh(){if(No&&!(10<=Number(T4)))throw Error("Environmental error: no available transport.")}Kh.prototype.g=function(t,e){return new Jt(t,e)};function Jt(t,e){it.call(this),this.g=new NT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ra(this)}st(Jt,it);Jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;It(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=LT(t,null,t.Y),tf(t)};Jt.prototype.close=function(){my(this.g)};Jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sy(t),t=n);e.j.push(new nF(e.fb++,t)),e.H==3&&tf(e)};Jt.prototype.N=function(){this.g.h=null,delete this.j,my(this.g),delete this.g,Jt.$.N.call(this)};function jT(t){uy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}st(jT,uy);function zT(){hy.call(this),this.status=1}st(zT,hy);function ra(t){this.g=t}st(ra,$T);ra.prototype.Ba=function(){ut(this.g,"a")};ra.prototype.Aa=function(t){ut(this.g,new jT(t))};ra.prototype.za=function(t){ut(this.g,new zT)};ra.prototype.ya=function(){ut(this.g,"b")};function pF(){this.blockSize=-1}function On(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}st(On,pF);On.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}On.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Sp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Sp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Sp(this,r),i=0;break}}this.h=i,this.i+=e};On.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var mF={};function yy(t){return-128<=t&&128>t?C4(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function Bn(t){if(isNaN(t)||!isFinite(t))return lo;if(0>t)return lt(Bn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=lg;return new we(e,0)}function VT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(VT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Bn(Math.pow(e,8)),r=lo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Bn(Math.pow(e,s)),r=r.R(s).add(Bn(o))):(r=r.R(n),r=r.add(Bn(o)))}return r}var lg=4294967296,lo=yy(0),cg=yy(1),tb=yy(16777216);z=we.prototype;z.ea=function(){if(on(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:lg+r)*e,e*=lg}return t};z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ur(this))return"0";if(on(this))return"-"+lt(this).toString(t);for(var e=Bn(Math.pow(t,6)),n=this,r="";;){var i=Yh(n,e).g;n=Gh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ur(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ur(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function on(t){return t.h==-1}z.X=function(t){return t=Gh(this,t),on(t)?-1:ur(t)?0:1};function lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(cg)}z.abs=function(){return on(this)?lt(this):this};z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new we(n,n[n.length-1]&-2147483648?-1:0)};function Gh(t,e){return t.add(lt(e))}z.R=function(t){if(ur(this)||ur(t))return lo;if(on(this))return on(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if(on(t))return lt(this.R(lt(t)));if(0>this.X(tb)&&0>t.X(tb))return Bn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,hu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,hu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,hu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,hu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function hu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ea(t,e){this.g=t,this.h=e}function Yh(t,e){if(ur(e))throw Error("division by zero");if(ur(t))return new Ea(lo,lo);if(on(t))return e=Yh(lt(t),e),new Ea(lt(e.g),lt(e.h));if(on(e))return e=Yh(t,lt(e)),new Ea(lt(e.g),e.h);if(30<t.g.length){if(on(t)||on(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cg,r=e;0>=r.X(t);)n=nb(n),r=nb(r);var i=Is(n,1),s=Is(r,1);for(r=Is(r,2),n=Is(n,2);!ur(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Is(r,1),n=Is(n,1)}return e=Gh(t,i.R(e)),new Ea(i,e)}for(i=lo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Bn(n),o=s.R(e);on(o)||0<o.X(t);)n-=r,s=Bn(n),o=s.R(e);ur(s)&&(s=cg),i=i.add(s),t=Gh(t,o)}return new Ea(i,t)}z.gb=function(t){return Yh(this,t).h};z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function nb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function Is(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new we(i,t.h)}Kh.prototype.createWebChannel=Kh.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;Gd.NO_ERROR=0;Gd.TIMEOUT=8;Gd.HTTP_ERROR=6;sT.COMPLETE="complete";oT.EventType=wc;wc.OPEN="a";wc.CLOSE="b";wc.ERROR="c";wc.MESSAGE="d";it.prototype.listen=it.prototype.O;Ve.prototype.listenOnce=Ve.prototype.P;Ve.prototype.getLastError=Ve.prototype.Sa;Ve.prototype.getLastErrorCode=Ve.prototype.Ia;Ve.prototype.getStatus=Ve.prototype.da;Ve.prototype.getResponseJson=Ve.prototype.Wa;Ve.prototype.getResponseText=Ve.prototype.ja;Ve.prototype.send=Ve.prototype.ha;Ve.prototype.setWithCredentials=Ve.prototype.Oa;On.prototype.digest=On.prototype.l;On.prototype.reset=On.prototype.reset;On.prototype.update=On.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=Bn;we.fromString=VT;var gF=function(){return new Kh},vF=function(){return Kd()},_p=Gd,yF=sT,wF=Es,rb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bF=Ec,du=oT,xF=Ve,EF=On,co=we;const ib="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new jv("@firebase/firestore");function sb(){return fs.logLevel}function q(t,...e){if(fs.logLevel<=fe.DEBUG){const n=e.map(wy);fs.debug(`Firestore (${ia}): ${t}`,...n)}}function Er(t,...e){if(fs.logLevel<=fe.ERROR){const n=e.map(wy);fs.error(`Firestore (${ia}): ${t}`,...n)}}function Io(t,...e){if(fs.logLevel<=fe.WARN){const n=e.map(wy);fs.warn(`Firestore (${ia}): ${t}`,...n)}}function wy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function ke(t,e){t||ee()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class SF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _F{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new BT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new gt(e)}}class TF{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class kF{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new TF(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IF{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.T=n.token,new NF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=RF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Ze(0,0))}static max(){return new ne(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends Wl{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const OF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Wl{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return OF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(_e.fromString(e))}static fromName(e){return new Y(_e.fromString(e).popFirst(5))}static empty(){return new Y(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new _e(e.slice()))}}function PF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new mi(i,Y.empty(),e)}function AF(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ne.min(),Y.empty(),-1)}static max(){return new mi(ne.max(),Y.empty(),-1)}}function DF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==MF)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Tc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}by.ct=-1;function nf(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function FF(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(t,e,n,r,i){return this}insert(t,e,n){return new at(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ab(this.data.getIterator())}getIteratorFrom(e){return new ab(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class ab{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Et(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new WT("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const $F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(ke(!!t),typeof t=="string"){let e=0;const n=$F.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ey(t){const e=t.mapValue.fields.__previous_value__;return xy(e)?Ey(e):e}function ql(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Kl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xy(t)?4:zF(t)?9007199254740991:10:ee()}function Yn(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ql(t).isEqual(ql(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=gi(r.timestampValue),o=gi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ps(r.bytesValue).isEqual(ps(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return We(r.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(r.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return We(r.integerValue)===We(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=We(r.doubleValue),o=We(i.doubleValue);return s===o?Qh(s)===Qh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ob(s)!==ob(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Yn(s[a],o[a])))return!1;return!0}(t,e);default:return ee()}}function Gl(t,e){return(t.values||[]).find(n=>Yn(n,e))!==void 0}function Oo(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=We(i.integerValue||i.doubleValue),a=We(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return lb(t.timestampValue,e.timestampValue);case 4:return lb(ql(t),ql(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ps(i),a=ps(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=pe(o[l],a[l]);if(c!==0)return c}return pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=pe(We(i.latitude),We(s.latitude));return o!==0?o:pe(We(i.longitude),We(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Oo(o[l],a[l]);if(c)return c}return pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===pu.mapValue&&s===pu.mapValue)return 0;if(i===pu.mapValue)return 1;if(s===pu.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=pe(a[u],c[u]);if(h!==0)return h;const f=Oo(o[a[u]],l[c[u]]);if(f!==0)return f}return pe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw ee()}}function lb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=gi(t),r=gi(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Po(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=gi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ps(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Y.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ug(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ug(r.fields[a])}`;return s+"}"}(t.mapValue):ee();var e,n}function cb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hg(t){return!!t&&"integerValue"in t}function Cy(t){return!!t&&"arrayValue"in t}function ub(t){return!!t&&"nullValue"in t}function hb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qu(t){return!!t&&"mapValue"in t}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=tl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Qu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new an(tl(this.value))}}function qT(t){const e=[];return sa(t.fields,(n,r)=>{const i=new wt([n]);if(Qu(r)){const s=qT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,ne.min(),ne.min(),ne.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new yt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new yt(e,2,n,ne.min(),ne.min(),an.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,ne.min(),ne.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.position=e,this.inclusive=n}}function db(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Oo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n="asc"){this.field=e,this.dir=n}}function VF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{}class Ke extends KT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UF(e,n,r):n==="array-contains"?new qF(e,r):n==="in"?new KF(e,r):n==="not-in"?new GF(e,r):n==="array-contains-any"?new YF(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HF(e,r):new WF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pn extends KT{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Pn(e,n)}matches(e){return GT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function GT(t){return t.op==="and"}function YT(t){return BF(t)&&GT(t)}function BF(t){for(const e of t.filters)if(e instanceof Pn)return!1;return!0}function dg(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Po(t.value);if(YT(t))return t.filters.map(e=>dg(e)).join(",");{const e=t.filters.map(n=>dg(n)).join(",");return`${t.op}(${e})`}}function QT(t,e){return t instanceof Ke?function(n,r){return r instanceof Ke&&n.op===r.op&&n.field.isEqual(r.field)&&Yn(n.value,r.value)}(t,e):t instanceof Pn?function(n,r){return r instanceof Pn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&QT(s,r.filters[o]),!0):!1}(t,e):void ee()}function XT(t){return t instanceof Ke?function(e){return`${e.field.canonicalString()} ${e.op} ${Po(e.value)}`}(t):t instanceof Pn?function(e){return e.op.toString()+" {"+e.getFilters().map(XT).join(" ,")+"}"}(t):"Filter"}class UF extends Ke{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class HF extends Ke{constructor(e,n){super(e,"in",n),this.keys=JT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WF extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=JT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class qF extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cy(n)&&Gl(n.arrayValue,this.value)}}class KF extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class GF extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gl(this.value.arrayValue,n)}}class YF extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function pb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QF(t,e,n,r,i,s,o)}function Sy(t){const e=re(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Po(r)).join(",")),e.dt=n}return e.dt}function _y(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fb(t.startAt,e.startAt)&&fb(t.endAt,e.endAt)}function fg(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function XF(t,e,n,r,i,s,o,a){return new kc(t,e,n,r,i,s,o,a)}function Ty(t){return new kc(t)}function mb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ky(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ek(t){return t.collectionGroup!==null}function uo(t){const e=re(t);if(e.wt===null){e.wt=[];const n=ky(e),r=ZT(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new nl(n)),e.wt.push(new nl(wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nl(wt.keyField(),s))}}}return e.wt}function Cr(t){const e=re(t);if(!e._t)if(e.limitType==="F")e._t=pb(e.path,e.collectionGroup,uo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of uo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new nl(s.field,o))}const r=e.endAt?new Xh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xh(e.startAt.position,e.startAt.inclusive):null;e._t=pb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function pg(t,e){e.getFirstInequalityField(),ky(t);const n=t.filters.concat([e]);return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mg(t,e,n){return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return _y(Cr(t),Cr(e))&&t.limitType===e.limitType}function tk(t){return`${Sy(Cr(t))}|lt:${t.limitType}`}function gg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>XT(r)).join(", ")}]`),nf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Po(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Po(r)).join(",")),`Target(${n})`}(Cr(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Y.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of uo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=db(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,uo(n),r)||n.endAt&&!function(i,s,o){const a=db(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,uo(n),r))}(t,e)}function JF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nk(t){return(e,n)=>{let r=!1;for(const i of uo(t)){const s=ZF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ZF(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Oo(a,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return HT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=new Fe(Y.comparator);function Sr(){return e$}const rk=new Fe(Y.comparator);function Fa(...t){let e=rk;for(const n of t)e=e.insert(n.key,n);return e}function ik(t){let e=rk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return rl()}function sk(){return rl()}function rl(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const t$=new Fe(Y.comparator),n$=new Et(Y.comparator);function ce(...t){let e=n$;for(const n of t)e=e.add(n);return e}const r$=new Et(pe);function i$(){return r$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function ak(t){return{integerValue:""+t}}function s$(t,e){return FF(e)?ak(e):ok(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function o$(t,e,n){return t instanceof Jh?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&xy(i)&&(i=Ey(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Yl?ck(t,e):t instanceof Ql?uk(t,e):function(r,i){const s=lk(r,i),o=gb(s)+gb(r.gt);return hg(s)&&hg(r.gt)?ak(o):ok(r.serializer,o)}(t,e)}function a$(t,e,n){return t instanceof Yl?ck(t,e):t instanceof Ql?uk(t,e):n}function lk(t,e){return t instanceof Zh?hg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Jh extends of{}class Yl extends of{constructor(e){super(),this.elements=e}}function ck(t,e){const n=hk(e);for(const r of t.elements)n.some(i=>Yn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ql extends of{constructor(e){super(),this.elements=e}}function uk(t,e){let n=hk(e);for(const r of t.elements)n=n.filter(i=>!Yn(i,r));return{arrayValue:{values:n}}}class Zh extends of{constructor(e,n){super(),this.serializer=e,this.gt=n}}function gb(t){return We(t.integerValue||t.doubleValue)}function hk(t){return Cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function l$(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Yl&&r instanceof Yl||n instanceof Ql&&r instanceof Ql?Ro(n.elements,r.elements,Yn):n instanceof Zh&&r instanceof Zh?Yn(n.gt,r.gt):n instanceof Jh&&r instanceof Jh}(t.transform,e.transform)}class c${constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class af{}function dk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pk(t.key,mr.none()):new Nc(t.key,t.data,mr.none());{const n=t.data,r=an.empty();let i=new Et(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cs(t.key,r,new Tn(i.toArray()),mr.none())}}function u$(t,e,n){t instanceof Nc?function(r,i,s){const o=r.value.clone(),a=yb(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Cs?function(r,i,s){if(!Xu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=yb(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(fk(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof Nc?function(i,s,o,a){if(!Xu(i.precondition,s))return o;const l=i.value.clone(),c=wb(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cs?function(i,s,o,a){if(!Xu(i.precondition,s))return o;const l=wb(i.fieldTransforms,a,s),c=s.data;return c.setAll(fk(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return Xu(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function h$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lk(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function vb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ro(n,r,(i,s)=>l$(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nc extends af{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cs extends af{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yb(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,a$(o,a,n[i]))}return r}function wb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,o$(s,o,e))}return r}class pk extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d$ extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&u$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>vb(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>vb(n,r))}}class Ny{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=t$;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ny(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,ue;function g$(t){switch(t){default:return ee();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function mk(t){if(t===void 0)return Er("GRPC error has no .code"),M.UNKNOWN;switch(t){case He.OK:return M.OK;case He.CANCELLED:return M.CANCELLED;case He.UNKNOWN:return M.UNKNOWN;case He.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case He.INTERNAL:return M.INTERNAL;case He.UNAVAILABLE:return M.UNAVAILABLE;case He.UNAUTHENTICATED:return M.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case He.NOT_FOUND:return M.NOT_FOUND;case He.ALREADY_EXISTS:return M.ALREADY_EXISTS;case He.PERMISSION_DENIED:return M.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case He.ABORTED:return M.ABORTED;case He.OUT_OF_RANGE:return M.OUT_OF_RANGE;case He.UNIMPLEMENTED:return M.UNIMPLEMENTED;case He.DATA_LOSS:return M.DATA_LOSS;default:return ee()}}(ue=He||(He={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return mu}static getOrCreateInstance(){return mu===null&&(mu=new Iy),mu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let mu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=new co([4294967295,4294967295],0);function bb(t){const e=v$().encode(t),n=new EF;return n.update(e),new Uint8Array(n.digest())}function xb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new co([n,r],0),new co([i,s],0)]}class Ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $a(`Invalid padding: ${n}`);if(r<0)throw new $a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $a(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=co.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(co.fromNumber(r)));return i.compare(y$)===1&&(i=new co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=bb(e),[r,i]=xb(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ry(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=bb(e),[r,i]=xb(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lf(ne.min(),i,new Fe(pe),Sr(),ce())}}class Ic{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ic(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class gk{constructor(e,n){this.targetId=e,this.Vt=n}}class vk{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Eb{constructor(){this.St=0,this.Dt=Sb(),this.Ct=_t.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ce(),n=ce(),r=ce();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Ic(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Sb()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class w${constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Sr(),this.zt=Cb(),this.Wt=new Fe(pe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(fg(o))if(i===0){const a=new Y(o.path);this.Yt(r,a,yt.newNoDocument(a,ne.min()))}else ke(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=Iy.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,h){var f,p,m,g,w,v;const y={localCacheCount:u,existenceFilterCount:h.count},E=h.unchangedNames;return E&&(y.bloomFilter={applied:c===0,hashCount:(f=E==null?void 0:E.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(g=(m=(p=E==null?void 0:E.bits)===null||p===void 0?void 0:p.bitmap)===null||m===void 0?void 0:m.length)!==null&&g!==void 0?g:0,padding:(v=(w=E==null?void 0:E.bits)===null||w===void 0?void 0:w.padding)!==null&&v!==void 0?v:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=ps(s).toUint8Array()}catch(u){if(u instanceof WT)return Io("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new Ry(l,o,a)}catch(u){return Io(u instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&fg(a.target)){const l=new Y(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,yt.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ce();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new lf(e,n,this.Wt,this.jt,r);return this.jt=Sr(),this.zt=Cb(),this.Wt=new Fe(pe),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Eb,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Et(pe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Eb),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Cb(){return new Fe(Y.comparator)}function Sb(){return new Fe(Y.comparator)}const b$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),x$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),E$=(()=>({and:"AND",or:"OR"}))();class C${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vg(t,e){return t.useProto3Json||nf(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S$(t,e){return ed(t,e.toTimestamp())}function Kn(t){return ke(!!t),ne.fromTimestamp(function(e){const n=gi(e);return new Ze(n.seconds,n.nanos)}(t))}function Oy(t,e){return function(n){return new _e(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function wk(t){const e=_e.fromString(t);return ke(Ck(e)),e}function yg(t,e){return Oy(t.databaseId,e.path)}function Tp(t,e){const n=wk(e);if(n.get(1)!==t.databaseId.projectId)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(bk(n))}function wg(t,e){return Oy(t.databaseId,e)}function _$(t){const e=wk(t);return e.length===4?_e.emptyPath():bk(e)}function bg(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bk(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _b(t,e,n){return{name:yg(t,e),fields:n.value.mapValue.fields}}function T$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(ke(c===void 0||typeof c=="string"),_t.fromBase64String(c||"")):(ke(c===void 0||c instanceof Uint8Array),_t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?M.UNKNOWN:mk(l.code);return new H(c,l.message||"")}(o);n=new vk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tp(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):ne.min(),a=new an({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ju(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tp(t,r.document),s=r.readTime?Kn(r.readTime):ne.min(),o=yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ju([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tp(t,r.document),s=r.removedTargetIds||[];n=new Ju([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new m$(i,s),a=r.targetId;n=new gk(a,o)}}return n}function k$(t,e){let n;if(e instanceof Nc)n={update:_b(t,e.key,e.value)};else if(e instanceof pk)n={delete:yg(t,e.key)};else if(e instanceof Cs)n={update:_b(t,e.key,e.data),updateMask:L$(e.fieldMask)};else{if(!(e instanceof d$))return ee();n={verify:yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Jh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ql)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zh)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:S$(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(t,e.precondition)),n}function N$(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Kn(r.updateTime):Kn(i);return s.isEqual(ne.min())&&(s=Kn(i)),new c$(s,r.transformResults||[])}(n,e))):[]}function I$(t,e){return{documents:[wg(t,e.path)]}}function R$(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=wg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Ek(Pn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Ms(u.field),direction:A$(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vg(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function O$(t){let e=_$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const h=xk(u);return h instanceof Pn&&YT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new nl(Ls(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,nf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new Xh(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new Xh(f,h)}(n.endAt)),XF(e,i,o,s,a,"F",l,c)}function P$(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xk(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ls(e.unaryFilter.field);return Ke.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ls(e.unaryFilter.field);return Ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ls(e.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ls(e.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(e){return Ke.create(Ls(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Pn.create(e.compositeFilter.filters.map(n=>xk(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ee()}}(e.compositeFilter.op))}(t):ee()}function A$(t){return b$[t]}function D$(t){return x$[t]}function M$(t){return E$[t]}function Ms(t){return{fieldPath:t.canonicalString()}}function Ls(t){return wt.fromServerFormat(t.fieldPath)}function Ek(t){return t instanceof Ke?function(e){if(e.op==="=="){if(hb(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NAN"}};if(ub(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hb(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NOT_NAN"}};if(ub(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(e.field),op:D$(e.op),value:e.value}}}(t):t instanceof Pn?function(e){const n=e.getFilters().map(r=>Ek(r));return n.length===1?n[0]:{compositeFilter:{op:M$(e.op),filters:n}}}(t):ee()}function L$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=_t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.fe=e}}function $$(t){const e=O$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.rn=new z$}addToCollectionParentIndex(e,n){return this.rn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(mi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class z${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ao(0)}static Mn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&il(r.mutation,i,Tn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sr();const o=rl(),a=rl();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Cs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),il(u.mutation,c,u.mutation.getFieldMask(),Ze.now())):o.set(c.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new B$(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=rl();let i=new Fe((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Tn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=sk();u.forEach(f=>{if(!s.has(f)){const p=dk(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Y.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ek(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Gi());let a=-1,l=s;return o.next(c=>$.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ce())).next(u=>({batchId:a,changes:ik(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Fa();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,a=>{const l=function(c,u){return new kc(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,yt.newInvalidDocument(c)))});let o=Fa();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&il(c.mutation,l,Tn.empty(),Ze.now()),sf(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return $.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Kn(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:$$(r.bundledQuery),readTime:Kn(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.overlays=new Fe(Y.comparator),this.ls=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Gi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Gi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return $.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p$(n,r));let s=this.ls.get(n);s===void 0&&(s=ce(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.fs=new Et(tt.ds),this.ws=new Et(tt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new tt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new tt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Y(new _e([])),r=new tt(n,e),i=new tt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Y(new _e([])),r=new tt(n,e),i=new tt(n,e+1);let s=ce();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Y.comparator(e.key,n.key)||pe(e.As,n.As)}static _s(e,n){return pe(e.As,n.As)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Et(tt.ds)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new f$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(pe);return n.forEach(i=>{const s=new tt(i,0),o=new tt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),$.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new tt(new Y(s),0);let a=new Et(pe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),$.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return $.forEach(n.mutations,i=>{const s=new tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new tt(n,0),i=this.Rs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e){this.Ds=e,this.docs=new Fe(Y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sr();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||DF(AF(u),r)<=0||(i.has(u.key)||sf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Cs(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new G$(this)}getSize(e){return $.resolve(this.size)}}class G$ extends V${constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.persistence=e,this.xs=new oa(n=>Sy(n),_y),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Py,this.targetCount=0,this.Ms=Ao.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),$.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Fn(n),$.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e,n){this.$s={},this.overlays={},this.Os=new by(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Y$(this),this.indexManager=new j$,this.remoteDocumentCache=function(r){return new K$(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new F$(n),this.qs=new H$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new q$(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new X$(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return $.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class X$ extends LF{constructor(e){super(),this.currentSequenceNumber=e}}class Ay{constructor(e){this.persistence=e,this.Qs=new Py,this.js=null}static zs(e){return new Ay(e)}get Ws(){if(this.js)return this.js;throw ee()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),$.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ws,r=>{const i=Y.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return $.or([()=>$.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(mb(n))return $.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mg(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,mg(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return mb(n)||i.isEqual(ne.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(sb()<=fe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gg(n)),this.Wi(e,o,n,PF(i,-1)))})}ji(e,n){let r=new Et(nk(e));return n.forEach((i,s)=>{sf(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return sb()<=fe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",gg(n)),this.Ui.getDocumentsMatchingQuery(e,n,mi.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Fe(pe),this.Yi=new oa(s=>Sy(s),_y),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function e3(t,e,n,r){return new Z$(t,e,n,r)}async function Sk(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function t3(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=$.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(m=>{const g=l.docVersions.get(p);ke(g!==null),m.version.compareTo(g)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _k(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function n3(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(_t.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(m,g,w){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,u)&&a.push(n.Bs.updateTargetData(s,p))});let l=Sr(),c=ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(r3(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(ne.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(h=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function r3(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function i3(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s3(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function xg(t,e,n){const r=re(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Tc(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Tb(t,e,n){const r=re(t);let i=ne.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=re(a),h=u.Yi.get(c);return h!==void 0?$.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(r,o,Cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ce())).next(a=>(o3(r,JF(e),a),{documents:a,ir:s})))}function o3(t,e,n){let r=t.Xi.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class kb{constructor(){this.activeTargetIds=i$()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a3{constructor(){this.Hr=new kb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new kb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu=null;function kp(){return gu===null?gu=268435456+Math.round(2147483648*Math.random()):gu++,"0x"+gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class h3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=kp(),a=this.To(e,n);q("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(q("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Io("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=c3[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=kp();return new Promise((o,a)=>{const l=new xF;l.setWithCredentials(!0),l.listenOnce(yF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _p.NO_ERROR:const u=l.getResponseJson();q(pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case _p.TIMEOUT:q(pt,`RPC '${e}' ${s} timed out`),a(new H(M.DEADLINE_EXCEEDED,"Request time out"));break;case _p.HTTP_ERROR:const h=l.getStatus();if(q(pt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(g){const w=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(w)>=0?w:M.UNKNOWN}(p.status);a(new H(m,p.message))}else a(new H(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(M.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{q(pt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(pt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=kp(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gF(),a=vF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new bF({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");q(pt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new u3({ro:w=>{p?q(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(q(pt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),q(pt,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},oo:()=>h.close()}),g=(w,v,y)=>{w.listen(v,E=>{try{y(E)}catch(C){setTimeout(()=>{throw C},0)}})};return g(h,du.EventType.OPEN,()=>{p||q(pt,`RPC '${e}' stream ${i} transport opened.`)}),g(h,du.EventType.CLOSE,()=>{p||(p=!0,q(pt,`RPC '${e}' stream ${i} transport closed`),m.wo())}),g(h,du.EventType.ERROR,w=>{p||(p=!0,Io(pt,`RPC '${e}' stream ${i} transport errored:`,w),m.wo(new H(M.UNAVAILABLE,"The operation could not be completed")))}),g(h,du.EventType.MESSAGE,w=>{var v;if(!p){const y=w.data[0];ke(!!y);const E=y,C=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(C){q(pt,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let _=function(T){const R=He[T];if(R!==void 0)return mk(R)}(S),k=C.message;_===void 0&&(_=M.INTERNAL,k="Unknown error status: "+S+" with message "+C.message),p=!0,m.wo(new H(_,k)),h.close()}else q(pt,`RPC '${e}' stream ${i} received:`,y),m._o(y)}}),g(a,wF.STAT_EVENT,w=>{w.stat===rb.PROXY?q(pt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===rb.NOPROXY&&q(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function Np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){return new C$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Tk(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new H(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d3 extends kk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=T$(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Kn(s.readTime):ne.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=bg(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=fg(a)?{documents:I$(i,a)}:{query:R$(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=yk(i,s.resumeToken);const l=vg(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){o.readTime=ed(i,s.snapshotVersion.toTimestamp());const l=vg(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=P$(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.Wo(n)}}class f3 extends kk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=N$(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.cu(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=bg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>k$(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class m3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Er(n),this.mu=!1):q("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Ss(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=re(a);l.vu.add(4),await Rc(l),l.bu.set("Unknown"),l.vu.delete(4),await uf(l)}(this))})}),this.bu=new m3(r,i)}}async function uf(t){if(Ss(t))for(const e of t.Ru)await e(!0)}async function Rc(t){for(const e of t.Ru)await e(!1)}function Nk(t,e){const n=re(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Fy(n)?Ly(n):aa(n).Ko()&&My(n,e))}function Ik(t,e){const n=re(t),r=aa(n);n.Au.delete(e),r.Ko()&&Rk(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ss(n)&&n.bu.set("Unknown"))}function My(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).su(e)}function Rk(t,e){t.Vu.qt(e),aa(t).iu(e)}function Ly(t){t.Vu=new w$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.bu.gu()}function Fy(t){return Ss(t)&&!aa(t).Uo()&&t.Au.size>0}function Ss(t){return re(t).vu.size===0}function Ok(t){t.Vu=void 0}async function v3(t){t.Au.forEach((e,n)=>{My(t,e)})}async function y3(t,e){Ok(t),Fy(t)?(t.bu.Iu(e),Ly(t)):t.bu.set("Unknown")}async function w3(t,e,n){if(t.bu.set("Online"),e instanceof vk&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await td(t,r)}else if(e instanceof Ju?t.Vu.Ht(e):e instanceof gk?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ne.min()))try{const r=await _k(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(_t.EMPTY_BYTE_STRING,c.snapshotVersion)),Rk(i,a);const u=new qr(c.target,a,l,c.sequenceNumber);My(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await td(t,r)}}async function td(t,e,n){if(!Tc(e))throw e;t.vu.add(1),await Rc(t),t.bu.set("Offline"),n||(n=()=>_k(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await uf(t)})}function Pk(t,e){return e().catch(n=>td(t,n,e))}async function hf(t){const e=re(t),n=vi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;b3(e);)try{const i=await i3(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,x3(e,i)}catch(i){await td(e,i)}Ak(e)&&Dk(e)}function b3(t){return Ss(t)&&t.Eu.length<10}function x3(t,e){t.Eu.push(e);const n=vi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Ak(t){return Ss(t)&&!vi(t).Uo()&&t.Eu.length>0}function Dk(t){vi(t).start()}async function E3(t){vi(t).hu()}async function C3(t){const e=vi(t);for(const n of t.Eu)e.uu(n.mutations)}async function S3(t,e,n){const r=t.Eu.shift(),i=Ny.from(r,e,n);await Pk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hf(t)}async function _3(t,e){e&&vi(t).ou&&await async function(n,r){if(i=r.code,g$(i)&&i!==M.ABORTED){const s=n.Eu.shift();vi(n).Qo(),await Pk(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await hf(n)}var i}(t,e),Ak(t)&&Dk(t)}async function Ib(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.vu.add(3),await Rc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await uf(n)}async function T3(t,e){const n=re(t);e?(n.vu.delete(2),await uf(n)):e||(n.vu.add(2),await Rc(n),n.bu.set("Unknown"))}function aa(t){return t.Su||(t.Su=function(e,n,r){const i=re(e);return i.fu(),new d3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:v3.bind(null,t),ao:y3.bind(null,t),nu:w3.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Fy(t)?Ly(t):t.bu.set("Unknown")):(await t.Su.stop(),Ok(t))})),t.Su}function vi(t){return t.Du||(t.Du=function(e,n,r){const i=re(e);return i.fu(),new f3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:E3.bind(null,t),ao:_3.bind(null,t),au:C3.bind(null,t),cu:S3.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await hf(t)):(await t.Du.stop(),t.Eu.length>0&&(q("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $y(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(t,e){if(Er("AsyncQueue",`${e}: ${t}`),Tc(t))return new H(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Fa(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.Cu=new Fe(Y.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ee():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Do{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Do(e,n,ho.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.Nu=void 0,this.listeners=[]}}class N3{constructor(){this.queries=new oa(e=>tk(e),rf),this.onlineState="Unknown",this.ku=new Set}}async function Mk(t,e){const n=re(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new k3),i)try{s.Nu=await n.onListen(r)}catch(o){const a=jy(o,`Initialization of query '${gg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&zy(n)}async function Lk(t,e){const n=re(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function I3(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&zy(n)}function R3(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function zy(t){t.ku.forEach(e=>{e.next()})}class Fk{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.key=e}}class jk{constructor(e){this.key=e}}class O3{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ce(),this.mutatedKeys=ce(),this.tc=nk(e),this.ec=new ho(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Rb,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),p=sf(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),w=!0):this.rc(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.tc(p,l)>0||c&&this.tc(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return p(h)-p(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Do(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Rb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ce(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new jk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new $k(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ce();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Do.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class P3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A3{constructor(e){this.key=e,this.fc=!1}}class D3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new oa(a=>tk(a),rf),this._c=new Map,this.mc=new Set,this.gc=new Fe(Y.comparator),this.yc=new Map,this.Ic=new Py,this.Tc={},this.Ec=new Map,this.Ac=Ao.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function M3(t,e){const n=W3(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await s3(n.localStore,Cr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await L3(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Nk(n.remoteStore,o)}return i}async function L3(t,e,n,r,i){t.Rc=(h,f,p)=>async function(m,g,w,v){let y=g.view.sc(w);y.zi&&(y=await Tb(m.localStore,g.query,!1).then(({documents:S})=>g.view.sc(S,y)));const E=v&&v.targetChanges.get(g.targetId),C=g.view.applyChanges(y,m.isPrimaryClient,E);return Pb(m,g.targetId,C.cc),C.snapshot}(t,h,f,p);const s=await Tb(t.localStore,e,!0),o=new O3(e,s.ir),a=o.sc(s.documents),l=Ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Pb(t,n,c.cc);const u=new P3(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function F3(t,e){const n=re(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!rf(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ik(n.remoteStore,r.targetId),Eg(n,r.targetId)}).catch(_c)):(Eg(n,r.targetId),await xg(n.localStore,r.targetId,!0))}async function $3(t,e,n){const r=q3(t);try{const i=await function(s,o){const a=re(s),l=Ze.now(),c=o.reduce((f,p)=>f.add(p.key),ce());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Sr(),m=ce();return a.Zi.getEntries(f,c).next(g=>{p=g,p.forEach((w,v)=>{v.isValidDocument()||(m=m.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(g=>{u=g;const w=[];for(const v of o){const y=h$(v,u.get(v.key).overlayedDocument);y!=null&&w.push(new Cs(v.key,y,qT(y.value.mapValue),mr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,w,o)}).next(g=>{h=g;const w=g.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,g.batchId,w)})}).then(()=>({batchId:h.batchId,changes:ik(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Fe(pe)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Oc(r,i.changes),await hf(r.remoteStore)}catch(i){const s=jy(i,"Failed to persist write");n.reject(s)}}async function zk(t,e){const n=re(t);try{const r=await n3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?ke(o.fc):i.removedDocuments.size>0&&(ke(o.fc),o.fc=!1))}),await Oc(n,r,e)}catch(r){await _c(r)}}function Ob(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=re(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&zy(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j3(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Fe(Y.comparator);o=o.insert(s,yt.newNoDocument(s,ne.min()));const a=ce().add(s),l=new lf(ne.min(),new Map,new Fe(pe),o,a);await zk(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Vy(r)}else await xg(r.localStore,e,!1).then(()=>Eg(r,e,n)).catch(_c)}async function z3(t,e){const n=re(t),r=e.batch.batchId;try{const i=await t3(n.localStore,e);Bk(n,r,null),Vk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(n,i)}catch(i){await _c(i)}}async function V3(t,e,n){const r=re(t);try{const i=await function(s,o){const a=re(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(ke(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);Bk(r,e,n),Vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oc(r,i)}catch(i){await _c(i)}}function Vk(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Bk(t,e,n){const r=re(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Uk(t,r)})}function Uk(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Ik(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Vy(t))}function Pb(t,e,n){for(const r of n)r instanceof $k?(t.Ic.addReference(r.key,e),B3(t,r)):r instanceof jk?(q("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Uk(t,r.key)):ee()}function B3(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(q("SyncEngine","New document in limbo: "+n),t.mc.add(r),Vy(t))}function Vy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Y(_e.fromString(e)),r=t.Ac.next();t.yc.set(r,new A3(n)),t.gc=t.gc.insert(n,r),Nk(t.remoteStore,new qr(Cr(Ty(n.path)),r,"TargetPurposeLimboResolution",by.ct))}}async function Oc(t,e,n){const r=re(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=Dy.Li(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const c=re(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>$.forEach(l,h=>$.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>$.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Tc(u))throw u;q("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ji.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ji=c.Ji.insert(h,m)}}}(r.localStore,s))}async function U3(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await Sk(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new H(M.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(n,r.er)}}function H3(t,e){const n=re(t),r=n.yc.get(e);if(r&&r.fc)return ce().add(r.key);{let i=ce();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function W3(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j3.bind(null,e),e.dc.nu=I3.bind(null,e.eventManager),e.dc.Pc=R3.bind(null,e.eventManager),e}function q3(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V3.bind(null,e),e}class Ab{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return e3(this.persistence,new J$,e.initialUser,this.serializer)}createPersistence(e){return new Q$(Ay.zs,this.serializer)}createSharedClientState(e){return new a3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class K3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ob(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U3.bind(null,this.syncEngine),await T3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new N3}createDatastore(e){const n=cf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new h3(i));var i;return function(s,o,a,l){return new p3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Ob(this.syncEngine,a,0),o=Nb.D()?new Nb:new l3,new g3(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new D3(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=re(e);q("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Rc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=UT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ip(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Sk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Db(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q3(t);q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Ib(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Ib(e.remoteStore,s)),t._onlineComponents=e}function Y3(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Q3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Y3(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await Ip(t,new Ab)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Ip(t,new Ab);return t._offlineComponents}async function Wk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Db(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Db(t,new K3))),t._onlineComponents}function X3(t){return Wk(t).then(e=>e.syncEngine)}async function qk(t){const e=await Wk(t),n=e.eventManager;return n.onListen=M3.bind(null,e.syncEngine),n.onUnlisten=F3.bind(null,e.syncEngine),n}function J3(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new Hk({next:h=>{s.enqueueAndForget(()=>Lk(i,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new H(M.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new H(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new Fk(Ty(o.path),c,{includeMetadataChanges:!0,Ku:!0});return Mk(i,u)}(await qk(t),t.asyncQueue,e,n,r)),r.promise}function Z3(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new Hk({next:h=>{s.enqueueAndForget(()=>Lk(i,u)),h.fromCache&&a.source==="server"?l.reject(new H(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new Fk(o,c,{includeMetadataChanges:!0,Ku:!0});return Mk(i,u)}(await qk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t,e,n){if(!n)throw new H(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ej(t,e,n,r){if(e===!0&&r===!0)throw new H(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lb(t){if(!Y.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fb(t){if(Y.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function gs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(t);throw new H(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ej("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class ff{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $b({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $b(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new CF;switch(n.type){case"firstParty":return new kF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Mb.get(e);n&&(q("ComponentProvider","Removing Datastore"),Mb.delete(e),n.terminate())}(this),Promise.resolve()}}function tj(t,e,n,r={}){var i;const s=(t=gs(t,ff))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gt.MOCK_USER;else{a=BA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gt(c)}t._authCredentials=new SF(new BT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class ui extends la{constructor(e,n,r){super(e,n,Ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Y(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function fo(t,e,...n){if(t=Ot(t),Gk("collection","path",e),t instanceof ff){const r=_e.fromString(e,...n);return Fb(r),new ui(t,null,r)}{if(!(t instanceof Vt||t instanceof ui))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return Fb(r),new ui(t.firestore,null,r)}}function Yk(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=UT.A()),Gk("doc","path",e),t instanceof ff){const r=_e.fromString(e,...n);return Lb(r),new Vt(t,null,new Y(r))}{if(!(t instanceof Vt||t instanceof ui))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return Lb(r),new Vt(t.firestore,t instanceof ui?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Tk(this,"async_queue_retry"),this.Xc=()=>{const n=Np();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new pr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Tc(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=$y.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ee()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class pf extends ff{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qk(this),this._firestoreClient.terminate()}}function rj(t,e){const n=typeof t=="object"?t:i_(),r=typeof t=="string"?t:e||"(default)",i=Vv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=zA("firestore");s&&tj(i,...s)}return i}function By(t){return t._firestoreClient||Qk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qk(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,c){return new jF(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Kk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new G3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(_t.fromBase64String(e))}catch(n){throw new H(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mo(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=/^__.*__$/;class sj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}function Jk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Wy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Jk(this.ca)&&ij.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class oj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cf(e)}ya(e,n,r,i=!1){return new Wy({ca:e,methodName:n,ga:r,path:wt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zk(t){const e=t._freezeSettings(),n=cf(t._databaseId);return new oj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aj(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);nN("Data must be an object, but it was:",o,r);const a=eN(r,o);let l,c;if(s.merge)l=new Tn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=cj(e,h,n);if(!o.contains(f))throw new H(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);hj(u,f)||u.push(f)}l=new Tn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new sj(new an(a),l,c)}function lj(t,e,n,r=!1){return qy(n,t.ya(r?4:3,e))}function qy(t,e){if(tN(t=Ot(t)))return nN("Unsupported field value:",e,t),eN(t,e);if(t instanceof Xk)return function(n,r){if(!Jk(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=qy(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return s$(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ze.fromDate(n);return{timestampValue:ed(r.serializer,i)}}if(n instanceof Ze){const i=new Ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ed(r.serializer,i)}}if(n instanceof Hy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Mo)return{bytesValue:yk(r.serializer,n._byteString)};if(n instanceof Vt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Oy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${df(n)}`)}(t,e)}function eN(t,e){const n={};return HT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(t,(r,i)=>{const s=qy(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Hy||t instanceof Mo||t instanceof Vt||t instanceof Xk)}function nN(t,e,n){if(!tN(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=df(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function cj(t,e,n){if((e=Ot(e))instanceof Uy)return e._internalPath;if(typeof e=="string")return rN(t,e);throw nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const uj=new RegExp("[~\\*/\\[\\]]");function rN(t,e,n){if(e.search(uj)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uy(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(M.INVALID_ARGUMENT,a+t+l)}function hj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dj extends iN{data(){return super.data()}}function Ky(t,e){return typeof e=="string"?rN(t,e):e instanceof Uy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gy{}class pj extends Gy{}function sN(t,e,...n){let r=[];e instanceof Gy&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Yy).length,o=i.filter(a=>a instanceof mf).length;if(s>1||s>0&&o>0)throw new H(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mf extends pj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mf(e,n,r)}_apply(e){const n=this._parse(e);return aN(e._query,n),new la(e.firestore,e.converter,pg(e._query,n))}_parse(e){const n=Zk(e.firestore);return function(i,s,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new H(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){zb(u,c);const f=[];for(const p of u)f.push(jb(a,i,p));h={arrayValue:{values:f}}}else h=jb(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||zb(u,c),h=lj(o,s,u,c==="in"||c==="not-in");return Ke.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oN(t,e,n){const r=e,i=Ky("where",t);return mf._create(i,r,n)}class Yy extends Gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)aN(s,a),s=pg(s,a)}(e._query,n),new la(e.firestore,e.converter,pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jb(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new H(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ek(e)&&n.indexOf("/")!==-1)throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_e.fromString(n));if(!Y.isDocumentKey(r))throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cb(t,new Y(r))}if(n instanceof Vt)return cb(t,n._key);throw new H(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function zb(t,e){if(!Array.isArray(t)||t.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aN(t,e){if(e.isInequality()){const r=ky(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new H(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=ZT(t);s!==null&&mj(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mj(t,e,n){if(!n.isEqual(e))throw new H(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class gj{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hy(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ey(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);ke(Ck(r));const i=new Kl(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||Er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lN extends iN{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zu extends lN{data(e={}){return super.data(e)}}class yj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zu(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Zu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ja(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Zu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ja(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:wj(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){t=gs(t,Vt);const e=gs(t.firestore,pf);return J3(By(e),t._key).then(n=>Cj(e,t,n))}class cN extends gj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function po(t){t=gs(t,la);const e=gs(t.firestore,pf),n=By(e),r=new cN(e);return fj(t._query),Z3(n,t._query).then(i=>new yj(e,r,t,i))}function xj(t,e,n){t=gs(t,Vt);const r=gs(t.firestore,pf),i=vj(t.converter,e,n);return Ej(r,[aj(Zk(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mr.none())])}function Ej(t,e){return function(n,r){const i=new pr;return n.asyncQueue.enqueueAndForget(async()=>$3(await X3(n),r,i)),i.promise}(By(t),e)}function Cj(t,e,n){const r=n.docs.get(e._key),i=new cN(t);return new lN(t,i,e._key,r,new ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ia=n})(Xo),ko(new cs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new pf(new _F(n.getProvider("auth-internal")),new IF(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new H(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ci(ib,"3.13.0",t),ci(ib,"3.13.0","esm2017")})();const Sj={apiKey:"AIzaSyAcGGE37ZiTFcz8mo1pSECvDCDOXdzbSHY",authDomain:"fitnesspro-36d8b.firebaseapp.com",projectId:"fitnesspro-36d8b",storageBucket:"fitnesspro-36d8b.firebasestorage.app",messagingSenderId:"881881913799",appId:"1:881881913799:web:08399068acd96e83f0e1e2",measurementId:"G-G3XJ0741CW"},uN=r_(Sj),eh=m4(uN),hi=rj(uN),hN=b.createContext();function _j({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState(null),[s,o]=b.useState(!0);function a(c,u){return ZM(eh,c,u)}function l(){return rL(eh)}return b.useEffect(()=>{const c=nL(eh,async u=>{var h;if(n(u),u)try{const f=await bj(Yk(hi,"users",u.uid));i(((h=f.data())==null?void 0:h.role)??null)}catch{i(null)}else i(null);o(!1)});return()=>c()},[]),I.jsx(hN.Provider,{value:{user:e,role:r,loading:s,login:a,logout:l},children:t})}function _s(){return b.useContext(hN)}var N=function(){return N=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N.apply(this,arguments)};function A(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vb(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function dN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fN={exports:{}},Rp,Bb;function Tj(){if(Bb)return Rp;Bb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rp=t,Rp}var Op,Ub;function kj(){if(Ub)return Op;Ub=1;var t=Tj();function e(){}function n(){}return n.resetWarningCache=e,Op=function(){function r(o,a,l,c,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Op}fN.exports=kj()();var Nj=fN.exports,d=dN(Nj),pN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(pN);var Ij=pN.exports,P=dN(Ij),mN=b.createContext({}),gN=b.forwardRef(function(t,e){var n=t.children,r=t.activeItemKey,i=t.alwaysOpen,s=i===void 0?!1:i,o=t.className,a=t.flush,l=A(t,["children","activeItemKey","alwaysOpen","className","flush"]),c=b.useState(r),u=c[0],h=c[1];return x.createElement("div",N({className:P("accordion",{"accordion-flush":a},o)},l,{ref:e}),x.createElement(mN.Provider,{value:{_activeItemKey:u,alwaysOpen:s,setActiveKey:h}},n))});gN.propTypes={alwaysOpen:d.bool,activeItemKey:d.oneOfType([d.number,d.string]),children:d.node,className:d.string,flush:d.bool};gN.displayName="CAccordion";var Qy=b.createContext({}),vN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.itemKey,s=A(t,["children","className","itemKey"]),o=b.useRef(i??Math.random().toString(36).slice(2,11)),a=b.useContext(mN),l=a._activeItemKey,c=a.alwaysOpen,u=a.setActiveKey,h=b.useState(l===o.current),f=h[0],p=h[1];return b.useEffect(function(){!c&&f&&u(o.current)},[f]),b.useEffect(function(){p(l===o.current)},[l]),x.createElement("div",N({className:P("accordion-item",r)},s,{ref:e}),x.createElement(Qy.Provider,{value:{setVisible:p,visible:f}},n))});vN.propTypes={children:d.node,className:d.string,itemKey:d.oneOfType([d.number,d.string])};vN.displayName="CAccordionItem";function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function yN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Sg(t,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sg(t,e)}function wN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sg(t,e)}function Rj(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Oj(t,e){t.classList?t.classList.add(e):Rj(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Hb(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Pj(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Hb(t.className,e):t.setAttribute("class",Hb(t.className&&t.className.baseVal||"",e))}var Wb={disabled:!1},bN=x.createContext(null),xN=function(e){return e.scrollTop},za="unmounted",ji="exited",zi="entering",Fs="entered",_g="exiting",Or=function(t){wN(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ji,s.appearStatus=zi):l=Fs:r.unmountOnExit||r.mountOnEnter?l=za:l=ji,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===za?{status:ji}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==zi&&o!==Fs&&(s=zi):(o===zi||o===Fs)&&(s=_g)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===zi){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ou.findDOMNode(this);o&&xN(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ji&&this.setState({status:za})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ou.findDOMNode(this),a],c=l[0],u=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||Wb.disabled){this.safeSetState({status:Fs},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:zi},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:Fs},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ou.findDOMNode(this);if(!s||Wb.disabled){this.safeSetState({status:ji},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:_g},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ji},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ou.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===za)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=yN(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return x.createElement(bN.Provider,{value:null},typeof o=="function"?o(i,a):x.cloneElement(x.Children.only(o),a))},e}(x.Component);Or.contextType=bN;Or.propTypes={};function Rs(){}Or.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Rs,onEntering:Rs,onEntered:Rs,onExit:Rs,onExiting:Rs,onExited:Rs};Or.UNMOUNTED=za;Or.EXITED=ji;Or.ENTERING=zi;Or.ENTERED=Fs;Or.EXITING=_g;var Jn=Or,Aj=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Oj(e,r)})},Pp=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Pj(e,r)})},Xy=function(t){wN(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],h=c[1];r.removeClasses(u,"exit"),r.addClass(u,h?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],h=c[1],f=h?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],h=c[1],f=h?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",h=c?""+u+a:l[a],f=c?h+"-active":l[a+"Active"],p=c?h+"-done":l[a+"Done"];return{baseClassName:h,activeClassName:f,doneClassName:p}},r}var n=e.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&o==="done"&&c&&(a+=" "+c),o==="active"&&i&&xN(i),a&&(this.appliedClasses[s][o]=a,Aj(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,c=o.done;this.appliedClasses[s]={},a&&Pp(i,a),l&&Pp(i,l),c&&Pp(i,c)},n.render=function(){var i=this.props;i.classNames;var s=yN(i,["classNames"]);return x.createElement(Jn,Cg({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(x.Component);Xy.defaultProps={classNames:""};Xy.propTypes={};var Dj=Xy;function kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.useMemo(function(){return t.every(function(n){return n==null})?null:function(n){t.forEach(function(r){Mj(r,n)})}},t)}function Mj(t,e){if(t!=null)if(Lj(t))t(e);else try{t.current=e}catch{throw new Error('Cannot assign value "'.concat(e,'" to ref "').concat(t,'"'))}}function Lj(t){return!!(t&&{}.toString.call(t)=="[object Function]")}var Bt="top",gn="bottom",vn="right",Ut="left",Jy="auto",Pc=[Bt,gn,vn,Ut],Lo="start",Xl="end",Fj="clippingParents",EN="viewport",Ca="popper",$j="reference",qb=Pc.reduce(function(t,e){return t.concat([e+"-"+Lo,e+"-"+Xl])},[]),CN=[].concat(Pc,[Jy]).reduce(function(t,e){return t.concat([e,e+"-"+Lo,e+"-"+Xl])},[]),jj="beforeRead",zj="read",Vj="afterRead",Bj="beforeMain",Uj="main",Hj="afterMain",Wj="beforeWrite",qj="write",Kj="afterWrite",Gj=[jj,zj,Vj,Bj,Uj,Hj,Wj,qj,Kj];function Qn(t){return t?(t.nodeName||"").toLowerCase():null}function Zt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function vs(t){var e=Zt(t).Element;return t instanceof e||t instanceof Element}function fn(t){var e=Zt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Zy(t){if(typeof ShadowRoot>"u")return!1;var e=Zt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Yj(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!fn(s)||!Qn(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Qj(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!fn(i)||!Qn(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Xj={name:"applyStyles",enabled:!0,phase:"write",fn:Yj,effect:Qj,requires:["computeStyles"]};function Gn(t){return t.split("-")[0]}var es=Math.max,rd=Math.min,Fo=Math.round;function Tg(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function SN(){return!/^((?!chrome|android).)*safari/i.test(Tg())}function $o(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&fn(t)&&(i=t.offsetWidth>0&&Fo(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Fo(r.height)/t.offsetHeight||1);var o=vs(t)?Zt(t):window,a=o.visualViewport,l=!SN()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,f=r.height/s;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function e0(t){var e=$o(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function _N(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Zy(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _r(t){return Zt(t).getComputedStyle(t)}function Jj(t){return["table","td","th"].indexOf(Qn(t))>=0}function _i(t){return((vs(t)?t.ownerDocument:t.document)||window.document).documentElement}function gf(t){return Qn(t)==="html"?t:t.assignedSlot||t.parentNode||(Zy(t)?t.host:null)||_i(t)}function Kb(t){return!fn(t)||_r(t).position==="fixed"?null:t.offsetParent}function Zj(t){var e=/firefox/i.test(Tg()),n=/Trident/i.test(Tg());if(n&&fn(t)){var r=_r(t);if(r.position==="fixed")return null}var i=gf(t);for(Zy(i)&&(i=i.host);fn(i)&&["html","body"].indexOf(Qn(i))<0;){var s=_r(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Ac(t){for(var e=Zt(t),n=Kb(t);n&&Jj(n)&&_r(n).position==="static";)n=Kb(n);return n&&(Qn(n)==="html"||Qn(n)==="body"&&_r(n).position==="static")?e:n||Zj(t)||e}function t0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function sl(t,e,n){return es(t,rd(e,n))}function ez(t,e,n){var r=sl(t,e,n);return r>n?n:r}function TN(){return{top:0,right:0,bottom:0,left:0}}function kN(t){return Object.assign({},TN(),t)}function NN(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var tz=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,kN(typeof e!="number"?e:NN(e,Pc))};function nz(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Gn(n.placement),l=t0(a),c=[Ut,vn].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=tz(i.padding,n),f=e0(s),p=l==="y"?Bt:Ut,m=l==="y"?gn:vn,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],w=o[l]-n.rects.reference[l],v=Ac(s),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,E=g/2-w/2,C=h[p],S=y-f[u]-h[m],_=y/2-f[u]/2+E,k=sl(C,_,S),T=l;n.modifiersData[r]=(e={},e[T]=k,e.centerOffset=k-_,e)}}function rz(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||_N(e.elements.popper,i)&&(e.elements.arrow=i))}var iz={name:"arrow",enabled:!0,phase:"main",fn:nz,effect:rz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jo(t){return t.split("-")[1]}var sz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oz(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Fo(n*i)/i||0,y:Fo(r*i)/i||0}}function Gb(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,g=m===void 0?0:m,w=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=w.x,g=w.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),E=Ut,C=Bt,S=window;if(c){var _=Ac(n),k="clientHeight",T="clientWidth";if(_===Zt(n)&&(_=_i(n),_r(_).position!=="static"&&a==="absolute"&&(k="scrollHeight",T="scrollWidth")),_=_,i===Bt||(i===Ut||i===vn)&&s===Xl){C=gn;var R=h&&_===S&&S.visualViewport?S.visualViewport.height:_[k];g-=R-r.height,g*=l?1:-1}if(i===Ut||(i===Bt||i===gn)&&s===Xl){E=vn;var O=h&&_===S&&S.visualViewport?S.visualViewport.width:_[T];p-=O-r.width,p*=l?1:-1}}var D=Object.assign({position:a},c&&sz),j=u===!0?oz({x:p,y:g},Zt(n)):{x:p,y:g};if(p=j.x,g=j.y,l){var V;return Object.assign({},D,(V={},V[C]=y?"0":"",V[E]=v?"0":"",V.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",V))}return Object.assign({},D,(e={},e[C]=y?g+"px":"",e[E]=v?p+"px":"",e.transform="",e))}function az(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Gn(e.placement),variation:jo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Gb(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Gb(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var lz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:az,data:{}},vu={passive:!0};function cz(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Zt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,vu)}),a&&l.addEventListener("resize",n.update,vu),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,vu)}),a&&l.removeEventListener("resize",n.update,vu)}}var uz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cz,data:{}},hz={left:"right",right:"left",bottom:"top",top:"bottom"};function th(t){return t.replace(/left|right|bottom|top/g,function(e){return hz[e]})}var dz={start:"end",end:"start"};function Yb(t){return t.replace(/start|end/g,function(e){return dz[e]})}function n0(t){var e=Zt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function r0(t){return $o(_i(t)).left+n0(t).scrollLeft}function fz(t,e){var n=Zt(t),r=_i(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=SN();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+r0(t),y:l}}function pz(t){var e,n=_i(t),r=n0(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=es(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=es(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+r0(t),l=-r.scrollTop;return _r(i||n).direction==="rtl"&&(a+=es(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function i0(t){var e=_r(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function IN(t){return["html","body","#document"].indexOf(Qn(t))>=0?t.ownerDocument.body:fn(t)&&i0(t)?t:IN(gf(t))}function ol(t,e){var n;e===void 0&&(e=[]);var r=IN(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Zt(r),o=i?[s].concat(s.visualViewport||[],i0(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ol(gf(o)))}function kg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mz(t,e){var n=$o(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Qb(t,e,n){return e===EN?kg(fz(t,n)):vs(e)?mz(e,n):kg(pz(_i(t)))}function gz(t){var e=ol(gf(t)),n=["absolute","fixed"].indexOf(_r(t).position)>=0,r=n&&fn(t)?Ac(t):t;return vs(r)?e.filter(function(i){return vs(i)&&_N(i,r)&&Qn(i)!=="body"}):[]}function vz(t,e,n,r){var i=e==="clippingParents"?gz(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=Qb(t,c,r);return l.top=es(u.top,l.top),l.right=rd(u.right,l.right),l.bottom=rd(u.bottom,l.bottom),l.left=es(u.left,l.left),l},Qb(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function RN(t){var e=t.reference,n=t.element,r=t.placement,i=r?Gn(r):null,s=r?jo(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Bt:l={x:o,y:e.y-n.height};break;case gn:l={x:o,y:e.y+e.height};break;case vn:l={x:e.x+e.width,y:a};break;case Ut:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?t0(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Lo:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Xl:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Jl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Fj:a,c=n.rootBoundary,u=c===void 0?EN:c,h=n.elementContext,f=h===void 0?Ca:h,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,w=g===void 0?0:g,v=kN(typeof w!="number"?w:NN(w,Pc)),y=f===Ca?$j:Ca,E=t.rects.popper,C=t.elements[m?y:f],S=vz(vs(C)?C:C.contextElement||_i(t.elements.popper),l,u,o),_=$o(t.elements.reference),k=RN({reference:_,element:E,strategy:"absolute",placement:i}),T=kg(Object.assign({},E,k)),R=f===Ca?T:_,O={top:S.top-R.top+v.top,bottom:R.bottom-S.bottom+v.bottom,left:S.left-R.left+v.left,right:R.right-S.right+v.right},D=t.modifiersData.offset;if(f===Ca&&D){var j=D[i];Object.keys(O).forEach(function(V){var X=[vn,gn].indexOf(V)>=0?1:-1,G=[Bt,gn].indexOf(V)>=0?"y":"x";O[V]+=j[G]*X})}return O}function yz(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?CN:l,u=jo(r),h=u?a?qb:qb.filter(function(m){return jo(m)===u}):Pc,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,g){return m[g]=Jl(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[Gn(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function wz(t){if(Gn(t)===Jy)return[];var e=th(t);return[Yb(t),e,Yb(e)]}function bz(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,w=e.options.placement,v=Gn(w),y=v===w,E=l||(y||!m?[th(w)]:wz(w)),C=[w].concat(E).reduce(function(me,se){return me.concat(Gn(se)===Jy?yz(e,{placement:se,boundary:u,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:g}):se)},[]),S=e.rects.reference,_=e.rects.popper,k=new Map,T=!0,R=C[0],O=0;O<C.length;O++){var D=C[O],j=Gn(D),V=jo(D)===Lo,X=[Bt,gn].indexOf(j)>=0,G=X?"width":"height",W=Jl(e,{placement:D,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),Q=X?V?vn:Ut:V?gn:Bt;S[G]>_[G]&&(Q=th(Q));var L=th(Q),B=[];if(s&&B.push(W[j]<=0),a&&B.push(W[Q]<=0,W[L]<=0),B.every(function(me){return me})){R=D,T=!1;break}k.set(D,B)}if(T)for(var K=m?3:1,ie=function(se){var be=C.find(function(et){var An=k.get(et);if(An)return An.slice(0,se).every(function(Ii){return Ii})});if(be)return R=be,"break"},oe=K;oe>0;oe--){var Oe=ie(oe);if(Oe==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}var xz={name:"flip",enabled:!0,phase:"main",fn:bz,requiresIfExists:["offset"],data:{_skip:!1}};function Xb(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Jb(t){return[Bt,vn,gn,Ut].some(function(e){return t[e]>=0})}function Ez(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Jl(e,{elementContext:"reference"}),a=Jl(e,{altBoundary:!0}),l=Xb(o,r),c=Xb(a,i,s),u=Jb(l),h=Jb(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var Cz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ez};function Sz(t,e,n){var r=Gn(t),i=[Ut,Bt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Ut,vn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function _z(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=CN.reduce(function(u,h){return u[h]=Sz(h,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}var Tz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_z};function kz(t){var e=t.state,n=t.name;e.modifiersData[n]=RN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Nz={name:"popperOffsets",enabled:!0,phase:"read",fn:kz,data:{}};function Iz(t){return t==="x"?"y":"x"}function Rz(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,w=Jl(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=Gn(e.placement),y=jo(e.placement),E=!y,C=t0(v),S=Iz(C),_=e.modifiersData.popperOffsets,k=e.rects.reference,T=e.rects.popper,R=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,O=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(_){if(s){var V,X=C==="y"?Bt:Ut,G=C==="y"?gn:vn,W=C==="y"?"height":"width",Q=_[C],L=Q+w[X],B=Q-w[G],K=p?-T[W]/2:0,ie=y===Lo?k[W]:T[W],oe=y===Lo?-T[W]:-k[W],Oe=e.elements.arrow,me=p&&Oe?e0(Oe):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:TN(),be=se[X],et=se[G],An=sl(0,k[W],me[W]),Ii=E?k[W]/2-K-An-be-O.mainAxis:ie-An-be-O.mainAxis,$c=E?-k[W]/2+K+An+et+O.mainAxis:oe+An+et+O.mainAxis,ha=e.elements.arrow&&Ac(e.elements.arrow),Ri=ha?C==="y"?ha.clientTop||0:ha.clientLeft||0:0,jc=(V=D==null?void 0:D[C])!=null?V:0,zc=Q+Ii-jc-Ri,Af=Q+$c-jc,Vc=sl(p?rd(L,zc):L,Q,p?es(B,Af):B);_[C]=Vc,j[C]=Vc-Q}if(a){var Pe,bn=C==="x"?Bt:Ut,Df=C==="x"?gn:vn,Dn=_[S],Bc=S==="y"?"height":"width",X0=Dn+w[bn],J0=Dn-w[Df],Mf=[Bt,Ut].indexOf(v)!==-1,Z0=(Pe=D==null?void 0:D[S])!=null?Pe:0,ew=Mf?X0:Dn-k[Bc]-T[Bc]-Z0+O.altAxis,tw=Mf?Dn+k[Bc]+T[Bc]-Z0-O.altAxis:J0,nw=p&&Mf?ez(ew,Dn,tw):sl(p?ew:X0,Dn,p?tw:J0);_[S]=nw,j[S]=nw-Dn}e.modifiersData[r]=j}}var Oz={name:"preventOverflow",enabled:!0,phase:"main",fn:Rz,requiresIfExists:["offset"]};function Pz(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Az(t){return t===Zt(t)||!fn(t)?n0(t):Pz(t)}function Dz(t){var e=t.getBoundingClientRect(),n=Fo(e.width)/t.offsetWidth||1,r=Fo(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Mz(t,e,n){n===void 0&&(n=!1);var r=fn(e),i=fn(e)&&Dz(e),s=_i(e),o=$o(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Qn(e)!=="body"||i0(s))&&(a=Az(e)),fn(e)?(l=$o(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=r0(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Lz(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Fz(t){var e=Lz(t);return Gj.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function $z(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function jz(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Zb={placement:"bottom",modifiers:[],strategy:"absolute"};function ex(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function zz(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Zb:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zb,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},s,u.options,y),u.scrollParents={reference:vs(a)?ol(a):a.contextElement?ol(a.contextElement):[],popper:ol(l)};var E=Fz(jz([].concat(r,u.options.modifiers)));return u.orderedModifiers=E.filter(function(C){return C.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var v=u.elements,y=v.reference,E=v.popper;if(ex(y,E)){u.rects={reference:Mz(y,Ac(E),u.options.strategy==="fixed"),popper:e0(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var S=u.orderedModifiers[C],_=S.fn,k=S.options,T=k===void 0?{}:k,R=S.name;typeof _=="function"&&(u=_({state:u,options:T,name:R,instance:p})||u)}}}},update:$z(function(){return new Promise(function(w){p.forceUpdate(),w(u)})}),destroy:function(){g(),f=!0}};if(!ex(a,l))return p;p.setOptions(c).then(function(w){!f&&c.onFirstUpdate&&c.onFirstUpdate(w)});function m(){u.orderedModifiers.forEach(function(w){var v=w.name,y=w.options,E=y===void 0?{}:y,C=w.effect;if(typeof C=="function"){var S=C({state:u,name:v,instance:p,options:E}),_=function(){};h.push(S||_)}})}function g(){h.forEach(function(w){return w()}),h=[]}return p}}var Vz=[uz,Nz,lz,Xj,Tz,xz,Oz,iz,Cz],Bz=zz({defaultModifiers:Vz}),s0=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,r=e.transitionDelay,i=Number.parseFloat(n),s=Number.parseFloat(r);return!i&&!s?0:(n=n.split(",")[0],r=r.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(r))*1e3)},tx=function(t){typeof t=="function"&&t()},Uz=function(t){t.dispatchEvent(new Event("transitionend"))},Hz=function(t,e,n){if(n===void 0&&(n=!0),!n){tx(t);return}var r=5,i=s0(e)+r,s=!1,o=function(a){var l=a.target;l===e&&(s=!0,e.removeEventListener("transitionend",o),tx(t))};e.addEventListener("transitionend",o),setTimeout(function(){s||Uz(e)},i)},Ng=function(t){return typeof document<"u"&&document.documentElement.dir==="rtl"?!0:t?t.closest('[dir="rtl"]')!==null:!1},ON=function(t,e){switch(t){case"right":return Ng(e)?"left":"right";case"left":return Ng(e)?"right":"left";default:return t}},Js=function(t){var e=t.getBoundingClientRect();return Math.floor(e.top)>=0&&Math.floor(e.left)>=0&&Math.floor(e.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.floor(e.right)<=(window.innerWidth||document.documentElement.clientWidth)},o0=function(){var t=b.useRef(),e=b.useRef(),n=function(i,s,o){t.current=Bz(i,s,o),e.current=s},r=function(){var i=t.current;i&&e.current&&Hz(function(){i.destroy()},e.current),t.current=void 0};return{popper:t.current,initPopper:n,destroyPopper:r}},a0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.horizontal,s=t.onHide,o=t.onShow,a=t.visible,l=A(t,["children","className","horizontal","onHide","onShow","visible"]),c=b.useRef(null),u=kt(e,c),h=b.useState(),f=h[0],p=h[1],m=b.useState(),g=m[0],w=m[1],v=function(){if(o&&o(),i){c.current&&w(c.current.scrollWidth);return}c.current&&p(c.current.scrollHeight)},y=function(){if(i){w(0);return}p(0)},E=function(){if(i){c.current&&w(c.current.scrollWidth);return}c.current&&p(c.current.scrollHeight)},C=function(){if(s&&s(),i){w(0);return}p(0)},S=function(){if(i){w(0);return}p(0)};return x.createElement(Dj,{in:a,nodeRef:c,onEntering:v,onEntered:y,onExit:E,onExiting:C,onExited:S,timeout:350},function(_){var k=f===0?null:{height:f},T=g===0?null:{width:g};return x.createElement("div",N({className:P(r,{"collapse-horizontal":i,collapsing:_==="entering"||_==="exiting","collapse show":_==="entered",collapse:_==="exited"}),style:N(N({},k),T)},l,{ref:u}),n)})});a0.propTypes={children:d.node,className:d.string,horizontal:d.bool,onHide:d.func,onShow:d.func,visible:d.bool};a0.displayName="CCollapse";var PN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]),s=b.useContext(Qy).visible;return x.createElement(a0,{className:"accordion-collapse",visible:s},x.createElement("div",N({className:P("accordion-body",r)},i,{ref:e}),n))});PN.propTypes={children:d.node,className:d.string};PN.displayName="CAccordionBody";var l0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]),s=b.useContext(Qy),o=s.visible,a=s.setVisible;return x.createElement("button",N({type:"button",className:P("accordion-button",{collapsed:!o},r),"aria-expanded":!o,onClick:function(){return a(!o)}},i,{ref:e}),n)});l0.propTypes={children:d.node,className:d.string};l0.displayName="CAccordionButton";var AN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("accordion-header",r)},i,{ref:e}),x.createElement(l0,null,n))});AN.propTypes={children:d.node,className:d.string};AN.displayName="CAccordionHeader";var ca=b.forwardRef(function(t,e){var n=t.className,r=t.disabled,i=t.white,s=A(t,["className","disabled","white"]);return x.createElement("button",N({type:"button",className:P("btn","btn-close",{"btn-close-white":i},r,n),"aria-label":"Close",disabled:r},s,{ref:e}))});ca.propTypes={className:d.string,disabled:d.bool,white:d.bool};ca.displayName="CCloseButton";var Ne=d.oneOfType([d.oneOf(["primary","secondary","success","danger","warning","info","dark","light"]),d.string]),DN=d.oneOfType([d.arrayOf(d.oneOf(["top","bottom","right","left"]).isRequired),d.oneOf(["top","bottom","right","left"])]),Wz=d.oneOf(["auto","auto-start","auto-end","top-end","top","top-start","bottom-end","bottom","bottom-start","right-start","right","right-end","left-start","left","left-end"]),MN=d.oneOfType([d.oneOf(["rounded","rounded-top","rounded-end","rounded-bottom","rounded-start","rounded-circle","rounded-pill","rounded-0","rounded-1","rounded-2","rounded-3"]),d.string]),LN=d.oneOfType([Ne,d.oneOf(["white","muted"]),d.string]),c0=d.oneOfType([d.arrayOf(d.oneOf(["hover","focus","click"]).isRequired),d.oneOf(["hover","focus","click"])]),u0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.color,s=i===void 0?"primary":i,o=t.dismissible,a=t.variant,l=t.visible,c=l===void 0?!0:l,u=t.onClose,h=A(t,["children","className","color","dismissible","variant","visible","onClose"]),f=b.useRef(null),p=kt(e,f),m=b.useState(c),g=m[0],w=m[1];return b.useEffect(function(){w(c)},[c]),x.createElement(Jn,{in:g,mountOnEnter:!0,nodeRef:f,onExit:u,timeout:150,unmountOnExit:!0},function(v){return x.createElement("div",N({className:P("alert",a==="solid"?"bg-".concat(s," text-white"):"alert-".concat(s),{"alert-dismissible fade":o,show:v==="entered"},r),role:"alert"},h,{ref:p}),n,o&&x.createElement(ca,{onClick:function(){return w(!1)}}))})});u0.propTypes={children:d.node,className:d.string,color:Ne.isRequired,dismissible:d.bool,onClose:d.func,variant:d.string,visible:d.bool};u0.displayName="CAlert";var FN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"h4":i,o=A(t,["children","className","component"]);return x.createElement(s,N({className:P("alert-heading",r)},o,{ref:e}),n)});FN.propTypes={children:d.node,className:d.string,component:d.elementType};FN.displayName="CAlertHeading";var Zn=b.forwardRef(function(t,e){var n=t.children,r=t.active,i=t.className,s=t.component,o=s===void 0?"a":s,a=t.disabled,l=A(t,["children","active","className","component","disabled"]);return x.createElement(o,N({className:P(i,{active:r,disabled:a})},r&&{"aria-current":"page"},o==="a"&&a&&{"aria-disabled":!0,tabIndex:-1},(o==="a"||o==="button")&&{onClick:function(c){c.preventDefault,!a&&l.onClick&&l.onClick(c)}},{disabled:a},l,{ref:e}),n)});Zn.propTypes={active:d.bool,children:d.node,className:d.string,component:d.elementType,disabled:d.bool};Zn.displayName="CLink";var $N=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement(Zn,N({className:P("alert-link",r)},i,{ref:e}),n)});$N.propTypes={children:d.node,className:d.string};$N.displayName="CAlertLink";var h0=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=t.shape,a=t.size,l=t.src,c=t.status,u=t.textColor,h=A(t,["children","className","color","shape","size","src","status","textColor"]),f=c&&P("avatar-status","bg-".concat(c));return x.createElement("div",N({className:P("avatar",(n={},n["bg-".concat(s)]=s,n["avatar-".concat(a)]=a,n["text-".concat(u)]=u,n),o,i)},h,{ref:e}),l?x.createElement("img",{src:l,className:"avatar-img"}):r,c&&x.createElement("span",{className:f}))});h0.propTypes={children:d.node,className:d.string,color:Ne,shape:MN,size:d.string,src:d.string,status:d.string,textColor:LN};h0.displayName="CAvatar";var Dc=b.forwardRef(function(t,e){var n=t.className,r=n===void 0?"modal-backdrop":n,i=t.visible,s=A(t,["className","visible"]),o=b.useRef(null),a=kt(e,o);return x.createElement(Jn,{in:i,mountOnEnter:!0,nodeRef:o,timeout:150,unmountOnExit:!0},function(l){return x.createElement("div",N({className:P(r,"fade",{show:l==="entered"})},s,{ref:a}))})});Dc.propTypes={className:d.string,visible:d.bool};Dc.displayName="CBackdrop";var d0=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=t.component,a=o===void 0?"span":o,l=t.position,c=t.shape,u=t.size,h=t.textColor,f=A(t,["children","className","color","component","position","shape","size","textColor"]);return x.createElement(a,N({className:P("badge",(n={},n["bg-".concat(s)]=s,n["position-absolute translate-middle"]=l,n["top-0"]=l==null?void 0:l.includes("top"),n["top-100"]=l==null?void 0:l.includes("bottom"),n["start-100"]=l==null?void 0:l.includes("end"),n["start-0"]=l==null?void 0:l.includes("start"),n["badge-".concat(u)]=u,n["text-".concat(h)]=h,n),c,i)},f,{ref:e}),r)});d0.propTypes={children:d.node,className:d.string,color:Ne,component:d.string,position:d.oneOf(["top-start","top-end","bottom-end","bottom-start"]),shape:MN,size:d.oneOf(["sm"]),textColor:LN};d0.displayName="CBadge";var jN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("nav",{"aria-label":"breadcrumb"},x.createElement("ol",N({className:P("breadcrumb",r)},i,{ref:e}),n))});jN.propTypes={children:d.node,className:d.string};jN.displayName="CBreadcrumb";var zN=b.forwardRef(function(t,e){var n=t.children,r=t.active,i=t.className,s=t.href,o=A(t,["children","active","className","href"]);return x.createElement("li",N({className:P("breadcrumb-item",{active:r},i)},r&&{"aria-current":"page"},o,{ref:e}),s?x.createElement(Zn,{href:s},n):n)});zN.propTypes={active:d.bool,children:d.node,className:d.string,href:d.string};zN.displayName="CBreadcrumbItem";var Tr=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=s===void 0?"primary":s,a=t.component,l=a===void 0?"button":a,c=t.shape,u=t.size,h=t.type,f=h===void 0?"button":h,p=t.variant,m=A(t,["children","className","color","component","shape","size","type","variant"]);return x.createElement(Zn,N({component:m.href?"a":l,type:f,className:P("btn",p?"btn-".concat(p,"-").concat(o):"btn-".concat(o),(n={},n["btn-".concat(u)]=u,n),c,i)},m,{ref:e}),r)});Tr.propTypes={children:d.node,className:d.string,color:Ne,component:d.elementType,shape:d.string,size:d.oneOf(["sm","lg"]),type:d.oneOf(["button","submit","reset"]),variant:d.oneOf(["outline","ghost"])};Tr.displayName="CButton";var VN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("btn-toolbar",r)},i,{ref:e}),n)});VN.propTypes={children:d.node,className:d.string};VN.displayName="CButtonToolbar";var BN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.size,o=t.vertical,a=A(t,["children","className","size","vertical"]);return x.createElement("div",N({className:P(o?"btn-group-vertical":"btn-group",(n={},n["btn-group-".concat(s)]=s,n),i)},a,{ref:e}),r)});BN.propTypes={children:d.node,className:d.string,size:d.oneOf(["sm","lg"]),vertical:d.bool};BN.displayName="CButtonGroup";var UN=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=A(t,["children","className","color"]);return x.createElement("div",N({className:P("callout",(n={},n["callout-".concat(s)]=s,n),i)},o,{ref:e}),r)});UN.propTypes={children:d.node,className:d.string,color:Ne};UN.displayName="CCallout";var yn=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=t.textColor,a=A(t,["children","className","color","textColor"]);return x.createElement("div",N({className:P("card",(n={},n["bg-".concat(s)]=s,n["text-".concat(o)]=o,n),i)},a,{ref:e}),r)});yn.propTypes={children:d.node,className:d.string,color:Ne,textColor:d.string};yn.displayName="CCard";var wn=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("card-body",r)},i,{ref:e}),n)});wn.propTypes={children:d.node,className:d.string};wn.displayName="CCardBody";var f0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("card-footer",r)},i,{ref:e}),n)});f0.propTypes={children:d.node,className:d.string};f0.displayName="CCardFooter";var HN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("card-group",r)},i,{ref:e}),n)});HN.propTypes={children:d.node,className:d.string};HN.displayName="CCardGroup";var vf=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"div":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("card-header",s)},o,{ref:e}),n)});vf.propTypes={children:d.node,className:d.string,component:d.elementType};vf.displayName="CCardHeader";var WN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"img":i,o=t.orientation,a=A(t,["children","className","component","orientation"]);return x.createElement(s,N({className:P(o?"card-img-".concat(o):"card-img",r)},a,{ref:e}),n)});WN.propTypes={children:d.node,className:d.string,component:d.elementType,orientation:d.oneOf(["top","bottom"])};WN.displayName="CCardImage";var qN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("card-img-overlay",r)},i,{ref:e}),n)});qN.propTypes={children:d.node,className:d.string};qN.displayName="CCardImageOverlay";var KN=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement(Zn,N({className:P("card-link",r)},i,{ref:e}),n)});KN.propTypes={children:d.node,className:d.string};KN.displayName="CCardLink";var GN=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"h6":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("card-subtitle",s)},o,{ref:e}),n)});GN.propTypes={children:d.node,className:d.string,component:d.elementType};GN.displayName="CCardSubtitle";var YN=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"p":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("card-text",s)},o,{ref:e}),n)});YN.propTypes={children:d.node,className:d.string,component:d.elementType};YN.displayName="CCardText";var QN=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"h5":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("card-title",s)},o,{ref:e}),n)});QN.propTypes={children:d.node,className:d.string,component:d.elementType};QN.displayName="CCardTitle";var XN=b.createContext({}),JN=b.forwardRef(function(t,e){var n=t.children,r=t.activeIndex,i=r===void 0?0:r,s=t.className,o=t.controls,a=t.dark,l=t.indicators,c=t.interval,u=c===void 0?5e3:c,h=t.onSlid,f=t.onSlide,p=t.pause,m=p===void 0?"hover":p,g=t.touch,w=g===void 0?!0:g,v=t.transition,y=t.wrap,E=y===void 0?!0:y,C=A(t,["children","activeIndex","className","controls","dark","indicators","interval","onSlid","onSlide","pause","touch","transition","wrap"]),S=b.useRef(null),_=kt(e,S),k=b.useRef({}).current,T=b.useState(i),R=T[0],O=T[1],D=b.useState(!1),j=D[0],V=D[1],X=b.useState(),G=X[0],W=X[1],Q=b.useState("next"),L=Q[0],B=Q[1],K=b.useState(0),ie=K[0],oe=K[1],Oe=b.useState(null),me=Oe[0],se=Oe[1],be=b.useState(),et=be[0],An=be[1];b.useEffect(function(){oe(b.Children.toArray(n).length)}),b.useEffect(function(){et&&Ii()},[et]),b.useEffect(function(){!j&&Ii(),!j&&h&&h(R,L),j&&f&&f(R,L)},[j]),b.useEffect(function(){return window.addEventListener("scroll",zc),function(){window.removeEventListener("scroll",zc)}});var Ii=function(){$c(),!(!E&&R===ie-1)&&typeof u=="number"&&(k.timeout=setTimeout(function(){return ha()},typeof G=="number"?G:u))},$c=function(){return m&&k.timeout&&clearTimeout(k.timeout)},ha=function(){if(!document.hidden&&S.current&&Js(S.current)){if(j)return;Ri("next")}},Ri=function(Pe){j||(B(Pe),Pe==="next"?R===ie-1?O(0):O(R+1):O(R===0?ie-1:R-1))},jc=function(Pe){if(R!==Pe){if(R<Pe){B("next"),O(Pe);return}R>Pe&&(B("prev"),O(Pe))}},zc=function(){!document.hidden&&S.current&&Js(S.current)?An(!0):An(!1)},Af=function(Pe){var bn=me;if(bn!==null){var Df=Pe.touches[0].clientX,Dn=bn-Df;Dn>5&&Ri("next"),Dn<-5&&Ri("prev"),se(null)}},Vc=function(Pe){var bn=Pe.touches[0].clientX;se(bn)};return x.createElement("div",N({className:P("carousel slide",{"carousel-dark":a,"carousel-fade":v==="crossfade"},s),onMouseEnter:$c,onMouseLeave:Ii},w&&{onTouchStart:Vc,onTouchMove:Af},C,{ref:_}),x.createElement(XN.Provider,{value:{setAnimating:V,setCustomInterval:W}},l&&x.createElement("ol",{className:"carousel-indicators"},Array.from({length:ie},function(Pe,bn){return bn}).map(function(Pe){return x.createElement("li",{key:"indicator".concat(Pe),onClick:function(){!j&&jc(Pe)},className:R===Pe?"active":"","data-coreui-target":""})})),x.createElement("div",{className:"carousel-inner"},b.Children.map(n,function(Pe,bn){if(x.isValidElement(Pe))return x.cloneElement(Pe,{active:R===bn,direction:L,key:bn})})),o&&x.createElement(x.Fragment,null,x.createElement("button",{className:"carousel-control-prev",onClick:function(){return Ri("prev")}},x.createElement("span",{className:"carousel-control-prev-icon","aria-label":"prev"})),x.createElement("button",{className:"carousel-control-next",onClick:function(){return Ri("next")}},x.createElement("span",{className:"carousel-control-next-icon","aria-label":"next"})))))});JN.propTypes={activeIndex:d.number,children:d.node,className:d.string,controls:d.bool,dark:d.bool,indicators:d.bool,interval:d.oneOfType([d.bool,d.number]),onSlid:d.func,onSlide:d.func,pause:d.oneOf([!1,"hover"]),touch:d.bool,transition:d.oneOf(["slide","crossfade"]),wrap:d.bool};JN.displayName="CCarousel";var ZN=b.forwardRef(function(t,e){var n=t.className,r=A(t,["className"]);return x.createElement("div",N({className:P("carousel-caption",n)},r,{ref:e}))});ZN.propTypes={className:d.string};ZN.displayName="CCarouselCaption";var eI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.direction,o=t.interval,a=o===void 0?!1:o,l=A(t,["children","className","active","direction","interval"]),c=b.useContext(XN),u=c.setAnimating,h=c.setCustomInterval,f=b.useRef(null),p=kt(e,f),m=b.useRef(),g=b.useState(),w=g[0],v=g[1],y=b.useState(),E=y[0],C=y[1],S=b.useState(i&&"active"),_=S[0],k=S[1],T=b.useState(0),R=T[0],O=T[1];return b.useEffect(function(){i&&(h(a),R!==0&&C("carousel-item-".concat(s))),m.current&&!i&&k("active"),(i||m.current)&&setTimeout(function(){var D;R!==0&&((D=f.current)===null||D===void 0||D.offsetHeight,v("carousel-item-".concat(s==="next"?"start":"end")))},0),m.current=i,R===0&&O(R+1)},[i]),b.useEffect(function(){var D,j;return(D=f.current)===null||D===void 0||D.addEventListener("transitionstart",function(){i&&u(!0)}),(j=f.current)===null||j===void 0||j.addEventListener("transitionend",function(){i&&u(!1),v(""),C(""),i&&k("active"),i||k("")}),function(){var V,X;(V=f.current)===null||V===void 0||V.removeEventListener("transitionstart",function(){i&&u(!0)}),(X=f.current)===null||X===void 0||X.removeEventListener("transitionend",function(){i&&u(!1),v(""),C(""),i&&k("active"),i||k("")})}}),x.createElement("div",N({className:P("carousel-item",_,w,E,r),ref:p},l),n)});eI.propTypes={active:d.bool,children:d.node,className:d.string,direction:d.string,interval:d.oneOfType([d.bool,d.number])};eI.displayName="CCarouselItem";var qz=function(t){return t?typeof t=="function"?t():t:document.body},Xn=function(t){var e=t.children,n=t.container,r=t.portal,i=b.useState(null),s=i[0],o=i[1];return b.useEffect(function(){r&&o(qz(n)||document.body)},[n,r]),typeof window<"u"&&r&&s?Dd.createPortal(e,s):x.createElement(x.Fragment,null,e)};Xn.propTypes={children:d.node,container:d.any,portal:d.bool};Xn.displayName="CConditionalPortal";var Kz=function(t,e,n,r){var i=t;return e==="dropup"&&(i=r?"top-end":"top-start"),e==="dropup-center"&&(i="top"),e==="dropend"&&(i=r?"left-start":"right-start"),e==="dropstart"&&(i=r?"right-start":"left-start"),n==="end"&&(i=r?"bottom-start":"bottom-end"),i},p0=b.createContext({}),m0=b.forwardRef(function(t,e){var n,r=t.children,i=t.alignment,s=t.autoClose,o=s===void 0?!0:s,a=t.className,l=t.container,c=t.dark,u=t.direction,h=t.offset,f=h===void 0?[0,2]:h,p=t.onHide,m=t.onShow,g=t.placement,w=g===void 0?"bottom-start":g,v=t.popper,y=v===void 0?!0:v,E=t.portal,C=E===void 0?!1:E,S=t.variant,_=S===void 0?"btn-group":S,k=t.component,T=k===void 0?"div":k,R=t.visible,O=R===void 0?!1:R,D=A(t,["children","alignment","autoClose","className","container","dark","direction","offset","onHide","onShow","placement","popper","portal","variant","component","visible"]),j=b.useRef(null),V=b.useRef(null),X=b.useRef(null),G=kt(e,j),W=b.useState(O),Q=W[0],L=W[1],B=o0(),K=B.initPopper,ie=B.destroyPopper,oe=_==="nav-item"?"li":T;typeof i=="object"&&(y=!1);var Oe={alignment:i,container:l,dark:c,dropdownToggleRef:V,dropdownMenuRef:X,popper:y,portal:C,variant:_,visible:Q,setVisible:L},me={modifiers:[{name:"offset",options:{offset:f}}],placement:Kz(w,u,i,Ng(X.current))};b.useEffect(function(){L(O)},[O]),b.useEffect(function(){return Q&&V.current&&X.current&&(y&&K(V.current,X.current,me),window.addEventListener("mouseup",be),window.addEventListener("keyup",se),m&&m()),function(){y&&ie(),window.removeEventListener("mouseup",be),window.removeEventListener("keyup",se),p&&p()}},[Q]);var se=function(et){o!==!1&&et.key==="Escape"&&L(!1)},be=function(et){if(!(!V.current||!X.current)&&!V.current.contains(et.target)&&(o===!0||o==="inside"&&X.current.contains(et.target)||o==="outside"&&!X.current.contains(et.target))){setTimeout(function(){return L(!1)},1);return}};return x.createElement(p0.Provider,{value:Oe},_==="input-group"?x.createElement(x.Fragment,null,r):x.createElement(oe,N({className:P(_==="nav-item"?"nav-item dropdown":_,(n={"dropdown-center":u==="center","dropup dropup-center":u==="dropup-center"},n["".concat(u)]=u&&u!=="center"&&u!=="dropup-center",n.show=Q,n),a)},D,{ref:G}),r))}),Oi=d.oneOf(["start","end"]);m0.propTypes={alignment:d.oneOfType([Oi,d.shape({xs:Oi.isRequired}),d.shape({sm:Oi.isRequired}),d.shape({md:Oi.isRequired}),d.shape({lg:Oi.isRequired}),d.shape({xl:Oi.isRequired}),d.shape({xxl:Oi.isRequired})]),autoClose:d.oneOfType([d.bool,d.oneOf(["inside","outside"])]),children:d.node,className:d.string,component:d.elementType,dark:d.bool,direction:d.oneOf(["center","dropup","dropup-center","dropend","dropstart"]),offset:d.any,onHide:d.func,onShow:d.func,placement:Wz,popper:d.bool,portal:d.bool,variant:d.oneOf(["btn-group","dropdown","input-group","nav-item"]),visible:d.bool};m0.displayName="CDropdown";var tI=b.forwardRef(function(t,e){var n=t.className,r=A(t,["className"]);return x.createElement("hr",N({className:P("dropdown-divider",n)},r,{ref:e}))});tI.propTypes={className:d.string};tI.displayName="CDropdownDivider";var nI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"h6":i,o=A(t,["children","className","component"]);return x.createElement(s,N({className:P("dropdown-header",r)},o,{ref:e}),n)});nI.propTypes={children:d.node,className:d.string,component:d.elementType};nI.displayName="CDropdownHeader";var id=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"a":i,o=A(t,["children","className","component"]);return x.createElement(Zn,N({className:P("dropdown-item",r),component:s},o,{ref:e}),n)});id.propTypes={children:d.node,className:d.string,component:d.elementType};id.displayName="CDropdownItem";var rI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"span":i,o=A(t,["children","className","component"]);return x.createElement(s,N({className:P("dropdown-item-text",r)},o,{ref:e}),n)});rI.propTypes={children:d.node,className:d.string,component:d.elementType};rI.displayName="CDropdownItemPlain";var Gz=function(t){var e=[];return typeof t=="object"&&Object.keys(t).map(function(n){e.push("dropdown-menu".concat(n==="xs"?"":"-".concat(n),"-").concat(t[n]))}),typeof t=="string"&&e.push("dropdown-menu-".concat(t)),e},g0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"ul":i,o=A(t,["children","className","component"]),a=b.useContext(p0),l=a.alignment,c=a.container,u=a.dark,h=a.dropdownMenuRef,f=a.popper,p=a.portal,m=a.visible,g=kt(e,h);return x.createElement(Xn,{container:c,portal:p??!1},x.createElement(s,N({className:P("dropdown-menu",{"dropdown-menu-dark":u,show:m},l&&Gz(l),r),ref:g,role:"menu","aria-hidden":!m},!f&&{"data-coreui-popper":"static"},o),s==="ul"?x.Children.map(n,function(w,v){if(x.isValidElement(w))return x.createElement("li",{key:v},x.cloneElement(w))}):n))});g0.propTypes={children:d.node,className:d.string,component:d.elementType};g0.displayName="CDropdownMenu";var v0=function(t){var e=t.children,n=t.caret,r=n===void 0?!0:n,i=t.custom,s=t.className,o=t.split,a=t.trigger,l=a===void 0?"click":a,c=A(t,["children","caret","custom","className","split","trigger"]),u=b.useContext(p0),h=u.dropdownToggleRef,f=u.variant,p=u.visible,m=u.setVisible,g=N(N({},(l==="click"||l.includes("click"))&&{onClick:function(y){y.preventDefault(),m(!p)}}),(l==="focus"||l.includes("focus"))&&{onFocus:function(){return m(!0)},onBlur:function(){return m(!1)}}),w=N({className:P({"dropdown-toggle":r,"dropdown-toggle-split":o,"nav-link":f==="nav-item"},s),"aria-expanded":p},!c.disabled&&N({},g)),v=function(){return i&&x.isValidElement(e)?x.createElement(x.Fragment,null,x.cloneElement(e,N(N({"aria-expanded":p},!c.disabled&&N({},g)),{ref:h}))):f==="nav-item"?x.createElement("a",N({href:"#"},w,{ref:h}),e):x.createElement(Tr,N({type:"button"},w,{tabIndex:0},c,{ref:h}),e,o&&x.createElement("span",{className:"visually-hidden"},"Toggle Dropdown"))};return x.createElement(v,null)};v0.propTypes={caret:d.bool,children:d.node,className:d.string,custom:d.bool,split:d.bool,trigger:c0};v0.displayName="CDropdownToggle";var y0=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.position,o=A(t,["children","className","position"]);return x.createElement("div",N({className:P("footer",(n={},n["footer-".concat(s)]=s,n),i)},o,{ref:e}),r)});y0.propTypes={children:d.node,className:d.string,position:d.oneOf(["fixed","sticky"])};y0.displayName="CFooter";var yf=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.validated,s=A(t,["children","className","validated"]);return x.createElement("form",N({className:P({"was-validated":i},r)||void 0},s,{ref:e}),n)});yf.propTypes={children:d.node,className:d.string,validated:d.bool};yf.displayName="CForm";var al=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.component,o=s===void 0?"div":s,a=t.invalid,l=t.tooltip,c=t.valid,u=A(t,["children","className","component","invalid","tooltip","valid"]);return x.createElement(o,N({className:P((n={},n["invalid-".concat(l?"tooltip":"feedback")]=a,n["valid-".concat(l?"tooltip":"feedback")]=c,n),i)},u,{ref:e}),r)});al.propTypes={children:d.node,className:d.string,component:d.elementType,invalid:d.bool,tooltip:d.bool,valid:d.bool};al.displayName="CFormFeedback";var ua=function(t){var e=t.describedby,n=t.feedback,r=t.feedbackInvalid,i=t.feedbackValid,s=t.invalid,o=t.tooltipFeedback,a=t.valid;return x.createElement(x.Fragment,null,n&&(a||s)&&x.createElement(al,N({},s&&{id:e},{invalid:s,tooltip:o,valid:a}),n),r&&x.createElement(al,{id:e,invalid:!0,tooltip:o},r),i&&x.createElement(al,{valid:!0,tooltip:o},i))};ua.propTypes={describedby:d.string,feedback:d.oneOfType([d.node,d.string]),feedbackValid:d.oneOfType([d.node,d.string]),feedbackInvalid:d.oneOfType([d.node,d.string]),invalid:d.bool,tooltipFeedback:d.bool,valid:d.bool};ua.displayName="CFormControlValidation";var yi=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.customClassName,s=A(t,["children","className","customClassName"]);return x.createElement("label",N({className:i??P("form-label",r)},s,{ref:e}),n)});yi.propTypes={children:d.node,className:d.string,customClassName:d.string};yi.displayName="CFormLabel";var iI=b.forwardRef(function(t,e){var n=t.className,r=t.button,i=t.feedback,s=t.feedbackInvalid,o=t.feedbackValid,a=t.floatingLabel,l=t.tooltipFeedback,c=t.hitArea,u=t.id,h=t.indeterminate,f=t.inline,p=t.invalid,m=t.label,g=t.reverse,w=t.type,v=w===void 0?"checkbox":w,y=t.valid,E=A(t,["className","button","feedback","feedbackInvalid","feedbackValid","floatingLabel","tooltipFeedback","hitArea","id","indeterminate","inline","invalid","label","reverse","type","valid"]),C=b.useRef(null),S=kt(e,C);b.useEffect(function(){C.current&&h&&(C.current.indeterminate=h)},[h,C.current]);var _=function(){return x.createElement("input",N({type:v,className:P(r?"btn-check":"form-check-input",{"is-invalid":p,"is-valid":y,"me-2":c}),id:u},E,{ref:S}))},k=function(){return x.createElement(ua,{describedby:E["aria-describedby"],feedback:i,feedbackInvalid:s,feedbackValid:o,floatingLabel:a,invalid:p,tooltipFeedback:l,valid:y})},T=function(){var O;return x.createElement(yi,N({customClassName:P(r?P("btn",r.variant?"btn-".concat(r.variant,"-").concat(r.color):"btn-".concat(r.color),(O={},O["btn-".concat(r.size)]=r.size,O),"".concat(r.shape)):"form-check-label")},u&&{htmlFor:u}),m)},R=function(){return r?x.createElement(x.Fragment,null,x.createElement(_,null),m&&x.createElement(T,null),x.createElement(k,null)):m?c?x.createElement(x.Fragment,null,x.createElement(_,null),x.createElement(yi,N({customClassName:P("form-check-label stretched-link",n)},u&&{htmlFor:u}),m),x.createElement(k,null)):x.createElement("div",{className:P("form-check",{"form-check-inline":f,"form-check-reverse":g,"is-invalid":p,"is-valid":y},n)},x.createElement(_,null),x.createElement(T,null),x.createElement(k,null)):x.createElement(_,null)};return x.createElement(R,null)});iI.propTypes=N({button:d.object,className:d.string,hitArea:d.oneOf(["full"]),id:d.string,indeterminate:d.bool,inline:d.bool,label:d.oneOfType([d.string,d.node]),reverse:d.bool,type:d.oneOf(["checkbox","radio"])},ua.propTypes);iI.displayName="CFormCheck";var w0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("form-floating",r)},i,{ref:e}),n)});w0.propTypes={children:d.node,className:d.string};w0.displayName="CFormFloating";var sd=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"div":i,o=A(t,["children","className","component"]);return x.createElement(s,N({className:P("form-text",r)},o,{ref:e}),n)});sd.propTypes={children:d.node,className:d.string,component:d.elementType};sd.displayName="CFormText";var Ti=function(t){var e=t.children,n=t.describedby,r=t.feedback,i=t.feedbackInvalid,s=t.feedbackValid,o=t.floatingClassName,a=t.floatingLabel,l=t.id,c=t.invalid,u=t.label,h=t.text,f=t.tooltipFeedback,p=t.valid,m=function(){return x.createElement(ua,{describedby:n,feedback:r,feedbackInvalid:i,feedbackValid:s,floatingLabel:a,invalid:c,tooltipFeedback:f,valid:p})};return a?x.createElement(w0,{className:o},e,x.createElement(yi,{htmlFor:l},u||a),h&&x.createElement(sd,{id:n},h),x.createElement(m,null)):x.createElement(x.Fragment,null,u&&x.createElement(yi,{htmlFor:l},u),e,h&&x.createElement(sd,{id:n},h),x.createElement(m,null))};Ti.propTypes=N({children:d.node,floatingClassName:d.string,floatingLabel:d.oneOfType([d.node,d.string]),label:d.oneOfType([d.node,d.string]),text:d.oneOfType([d.node,d.string])},ua.propTypes);Ti.displayName="CFormControlWrapper";var zo=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.delay,o=s===void 0?!1:s,a=t.feedback,l=t.feedbackInvalid,c=t.feedbackValid,u=t.floatingClassName,h=t.floatingLabel,f=t.id,p=t.invalid,m=t.label,g=t.onChange,w=t.plainText,v=t.size,y=t.text,E=t.tooltipFeedback,C=t.type,S=C===void 0?"text":C,_=t.valid,k=A(t,["children","className","delay","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","onChange","plainText","size","text","tooltipFeedback","type","valid"]),T=b.useState(),R=T[0],O=T[1];return b.useEffect(function(){var D=setTimeout(function(){return R&&g&&g(R)},typeof o=="number"?o:500);return function(){return clearTimeout(D)}},[R]),x.createElement(Ti,{describedby:k["aria-describedby"],feedback:a,feedbackInvalid:l,feedbackValid:c,floatingClassName:u,floatingLabel:h,id:f,invalid:p,label:m,text:y,tooltipFeedback:E,valid:_},x.createElement("input",N({className:P(w?"form-control-plaintext":"form-control",(n={},n["form-control-".concat(v)]=v,n["form-control-color"]=S==="color",n["is-invalid"]=p,n["is-valid"]=_,n),i),id:f,type:S,onChange:function(D){return o?O(D):g&&g(D)}},k,{ref:e}),r))});zo.propTypes=N({className:d.string,id:d.string,delay:d.oneOfType([d.bool,d.number]),plainText:d.bool,size:d.oneOf(["sm","lg"]),type:d.oneOfType([d.oneOf(["color","file","text"]),d.string])},Ti.propTypes);zo.displayName="CFormInput";var sI=b.forwardRef(function(t,e){var n=t.className,r=t.label,i=A(t,["className","label"]);return x.createElement(x.Fragment,null,r&&x.createElement(yi,{htmlFor:i.id},r),x.createElement("input",N({type:"range",className:P("form-range",n)},i,{ref:e})))});sI.propTypes={className:d.string,label:d.oneOfType([d.node,d.string])};sI.displayName="CFormRange";var oI=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.feedback,o=t.feedbackInvalid,a=t.feedbackValid,l=t.floatingClassName,c=t.floatingLabel,u=t.htmlSize,h=t.id,f=t.invalid,p=t.label,m=t.options,g=t.size,w=t.text,v=t.tooltipFeedback,y=t.valid,E=A(t,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return x.createElement(Ti,{describedby:E["aria-describedby"],feedback:s,feedbackInvalid:o,feedbackValid:a,floatingClassName:l,floatingLabel:c,id:h,invalid:f,label:p,text:w,tooltipFeedback:v,valid:y},x.createElement("select",N({id:h,className:P("form-select",(n={},n["form-select-".concat(g)]=g,n["is-invalid"]=f,n["is-valid"]=y,n),i),size:u},E,{ref:e}),m?m.map(function(C,S){return x.createElement("option",N({},typeof C=="object"&&C.disabled&&{disabled:C.disabled},typeof C=="object"&&C.value!==void 0&&{value:C.value},{key:S}),typeof C=="string"?C:C.label)}):r))});oI.propTypes=N({className:d.string,htmlSize:d.number,options:d.array},Ti.propTypes);oI.displayName="CFormSelect";var aI=b.forwardRef(function(t,e){var n,r=t.className,i=t.id,s=t.invalid,o=t.label,a=t.reverse,l=t.size,c=t.type,u=c===void 0?"checkbox":c,h=t.valid,f=A(t,["className","id","invalid","label","reverse","size","type","valid"]);return x.createElement("div",{className:P("form-check form-switch",(n={"form-check-reverse":a},n["form-switch-".concat(l)]=l,n["is-invalid"]=s,n["is-valid"]=h,n),r)},x.createElement("input",N({type:u,className:P("form-check-input",{"is-invalid":s,"is-valid":h}),id:i},f,{ref:e})),o&&x.createElement(yi,N({customClassName:"form-check-label"},i&&{htmlFor:i}),o))});aI.propTypes={className:d.string,id:d.string,invalid:d.bool,label:d.oneOfType([d.string,d.node]),reverse:d.bool,size:d.oneOf(["lg","xl"]),type:d.oneOf(["checkbox","radio"]),valid:d.bool};aI.displayName="CFormSwitch";var lI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.feedback,s=t.feedbackInvalid,o=t.feedbackValid,a=t.floatingClassName,l=t.floatingLabel,c=t.id,u=t.invalid,h=t.label,f=t.plainText,p=t.text,m=t.tooltipFeedback,g=t.valid,w=A(t,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return x.createElement(Ti,{describedby:w["aria-describedby"],feedback:i,feedbackInvalid:s,feedbackValid:o,floatingClassName:a,floatingLabel:l,id:c,invalid:u,label:h,text:p,tooltipFeedback:m,valid:g},x.createElement("textarea",N({className:P(f?"form-control-plaintext":"form-control",{"is-invalid":u,"is-valid":g},r),id:c},w,{ref:e}),n))});lI.propTypes=N({className:d.string,id:d.string,plainText:d.bool},Ti.propTypes);lI.displayName="CFormTextarea";var cI=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.size,o=A(t,["children","className","size"]);return x.createElement("div",N({className:P("input-group",(n={},n["input-group-".concat(s)]=s,n),i)},o,{ref:e}),r)});cI.propTypes={children:d.node,className:d.string,size:d.oneOf(["sm","lg"])};cI.displayName="CInputGroup";var uI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=i===void 0?"span":i,o=A(t,["children","className","component"]);return x.createElement(s,N({className:P("input-group-text",r)},o,{ref:e}),n)});uI.propTypes={children:d.node,className:d.string,component:d.elementType};uI.displayName="CInputGroupText";var Yz=["xxl","xl","lg","md","sm","xs"],hr=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]),s=[];return Yz.forEach(function(o){var a=i[o];delete i[o];var l=o==="xs"?"":"-".concat(o);(typeof a=="number"||typeof a=="string")&&s.push("col".concat(l,"-").concat(a)),typeof a=="boolean"&&s.push("col".concat(l)),a&&typeof a=="object"&&((typeof a.span=="number"||typeof a.span=="string")&&s.push("col".concat(l,"-").concat(a.span)),typeof a.span=="boolean"&&s.push("col".concat(l)),(typeof a.order=="number"||typeof a.order=="string")&&s.push("order".concat(l,"-").concat(a.order)),typeof a.offset=="number"&&s.push("offset".concat(l,"-").concat(a.offset)))}),x.createElement("div",N({className:P(s.length>0?s:"col",r)},i,{ref:e}),n)}),nx=d.oneOfType([d.bool,d.number,d.string,d.oneOf(["auto"])]),Os=d.oneOfType([nx,d.shape({span:nx,offset:d.oneOfType([d.number,d.string]),order:d.oneOfType([d.oneOf(["first","last"]),d.number,d.string])})]);hr.propTypes={children:d.node,className:d.string,xs:Os,sm:Os,md:Os,lg:Os,xl:Os,xxl:Os};hr.displayName="CCol";var Qz=["xxl","xl","lg","md","sm","fluid"],b0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]),s=[];return Qz.forEach(function(o){var a=i[o];delete i[o],a&&s.push("container-".concat(o))}),x.createElement("div",N({className:P(s.length>0?s:"container",r)},i,{ref:e}),n)});b0.propTypes={children:d.node,className:d.string,sm:d.bool,md:d.bool,lg:d.bool,xl:d.bool,xxl:d.bool,fluid:d.bool};b0.displayName="CContainer";var Xz=["xxl","xl","lg","md","sm","xs"],wf=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]),s=[];return Xz.forEach(function(o){var a=i[o];delete i[o];var l=o==="xs"?"":"-".concat(o);typeof a=="object"&&(a.cols&&s.push("row-cols".concat(l,"-").concat(a.cols)),typeof a.gutter=="number"&&s.push("g".concat(l,"-").concat(a.gutter)),typeof a.gutterX=="number"&&s.push("gx".concat(l,"-").concat(a.gutterX)),typeof a.gutterY=="number"&&s.push("gy".concat(l,"-").concat(a.gutterY)))}),x.createElement("div",{className:P("row",s,r),ref:e},n)}),Ps=d.shape({cols:d.oneOfType([d.oneOf(["auto"]),d.number,d.string]),gutter:d.oneOfType([d.string,d.number]),gutterX:d.oneOfType([d.string,d.number]),gutterY:d.oneOfType([d.string,d.number])});wf.propTypes={children:d.node,className:d.string,xs:Ps,sm:Ps,md:Ps,lg:Ps,xl:Ps,xxl:Ps};wf.displayName="CRow";var bf=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.container,o=t.position,a=A(t,["children","className","container","position"]);return x.createElement("div",N({className:P("header",(n={},n["header-".concat(o)]=o,n),i)},a,{ref:e}),s?x.createElement("div",{className:typeof s=="string"?"container-".concat(s):"container"},r):x.createElement(x.Fragment,null,r))});bf.propTypes={children:d.node,className:d.string,container:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl","fluid"])]),position:d.oneOf(["fixed","sticky"])};bf.displayName="CHeader";var x0=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"a":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("header-brand",s)},o,{ref:e}),n)});x0.propTypes={children:d.node,className:d.string,component:d.elementType};x0.displayName="CHeaderBrand";var hI=b.forwardRef(function(t,e){var n=t.className,r=A(t,["className"]);return x.createElement("div",N({className:P("header-divider",n)},r,{ref:e}))});hI.propTypes={className:d.string};hI.displayName="CHeaderDivider";var E0=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"ul":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("header-nav",s),role:"navigation"},o,{ref:e}),n)});E0.propTypes={children:d.node,className:d.string,component:d.elementType};E0.displayName="CHeaderNav";var dI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("span",N({className:P("header-text",r)},i,{ref:e}),n)});dI.propTypes={children:d.node,className:d.string};dI.displayName="CHeaderText";var C0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("button",N({type:"button",className:P("header-toggler",r)},i,{ref:e}),n??x.createElement("span",{className:"header-toggler-icon"}))});C0.propTypes={children:d.node,className:d.string};C0.displayName="CHeaderToggler";var fI=b.forwardRef(function(t,e){var n,r=t.align,i=t.className,s=t.fluid,o=t.rounded,a=t.thumbnail,l=A(t,["align","className","fluid","rounded","thumbnail"]);return x.createElement("img",N({className:P((n={},n["float-".concat(r)]=r&&(r==="start"||r==="end"),n["d-block mx-auto"]=r&&r==="center",n["img-fluid"]=s,n.rounded=o,n["img-thumbnail"]=a,n),i)||void 0},l,{ref:e}))});fI.propTypes={align:d.oneOf(["start","center","end"]),className:d.string,fluid:d.bool,rounded:d.bool,thumbnail:d.bool};fI.displayName="CImage";var pI=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.component,o=s===void 0?"ul":s,a=t.flush,l=t.layout;return x.createElement(o,{className:P("list-group",(n={"list-group-flush":a},n["list-group-".concat(l)]=l,n),i),ref:e},r)});pI.propTypes={children:d.node,className:d.string,component:d.elementType,flush:d.bool,layout:d.oneOf(["horizontal","horizontal-sm","horizontal-md","horizontal-lg","horizontal-xl","horizontal-xxl"])};pI.displayName="CListGroup";var mI=b.forwardRef(function(t,e){var n,r=t.children,i=t.active,s=t.className,o=t.disabled,a=t.color,l=t.component,c=l===void 0?"li":l,u=A(t,["children","active","className","disabled","color","component"]),h=c==="a"||c==="button"?Zn:c;return u=N(N(N(N({},(c==="a"||c==="button")&&{active:i,disabled:o,component:c,ref:e}),i&&{"aria-current":!0}),o&&{"aria-disabled":!0}),u),x.createElement(h,N({className:P("list-group-item",(n={},n["list-group-item-".concat(a)]=a,n["list-group-item-action"]=c==="a"||c==="button",n.active=i,n.disabled=o,n),s)},u),r)});mI.propTypes={active:d.bool,children:d.node,className:d.string,color:Ne,component:d.elementType,disabled:d.bool};mI.displayName="CListGroupItem";var S0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("modal-content",r)},i,{ref:e}),n)});S0.propTypes={children:d.node,className:d.string};S0.displayName="CModalContent";var _0=b.forwardRef(function(t,e){var n,r=t.children,i=t.alignment,s=t.className,o=t.fullscreen,a=t.scrollable,l=t.size,c=A(t,["children","alignment","className","fullscreen","scrollable","size"]);return x.createElement("div",N({className:P("modal-dialog",(n={"modal-dialog-centered":i==="center"},n[typeof o=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(o,"-down")]=o,n["modal-dialog-scrollable"]=a,n["modal-".concat(l)]=l,n),s)},c,{ref:e}),r)});_0.propTypes={alignment:d.oneOf(["top","center"]),children:d.node,className:d.string,fullscreen:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:d.bool,size:d.oneOf(["sm","lg","xl"])};_0.displayName="CModalDialog";var gI=b.createContext({}),vI=b.forwardRef(function(t,e){var n=t.children,r=t.alignment,i=t.backdrop,s=i===void 0?!0:i,o=t.className,a=t.duration,l=a===void 0?150:a,c=t.focus,u=c===void 0?!0:c,h=t.fullscreen,f=t.keyboard,p=f===void 0?!0:f,m=t.onClose,g=t.onClosePrevented,w=t.onShow,v=t.portal,y=v===void 0?!0:v,E=t.scrollable,C=t.size,S=t.transition,_=S===void 0?!0:S,k=t.unmountOnClose,T=k===void 0?!0:k,R=t.visible,O=A(t,["children","alignment","backdrop","className","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),D=b.useRef(null),j=b.useRef(null),V=b.useRef(null),X=kt(e,j),G=b.useState(R),W=G[0],Q=G[1],L=b.useState(!1),B=L[0],K=L[1],ie={visible:W,setVisible:Q};b.useEffect(function(){Q(R)},[R]),b.useEffect(function(){var se;return W?(D.current=document.activeElement,document.addEventListener("mouseup",Oe),document.addEventListener("keydown",me)):(se=D.current)===null||se===void 0||se.focus(),function(){document.removeEventListener("mouseup",Oe),document.removeEventListener("keydown",me)}},[W]);var oe=function(){return s==="static"?K(!0):(Q(!1),m&&m())};b.useLayoutEffect(function(){g&&g(),setTimeout(function(){return K(!1)},l)},[B]),b.useLayoutEffect(function(){return W?(document.body.classList.add("modal-open"),s&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var se;u&&((se=j.current)===null||se===void 0||se.focus())},_?l:0)):(document.body.classList.remove("modal-open"),s&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),s&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[W]);var Oe=function(se){j.current&&j.current==se.target&&oe()},me=function(se){se.key==="Escape"&&p&&oe()};return x.createElement(x.Fragment,null,x.createElement(Jn,{in:W,mountOnEnter:!0,nodeRef:j,onEnter:w,onExit:m,unmountOnExit:T,timeout:_?l:0},function(se){return x.createElement(Xn,{portal:y},x.createElement(gI.Provider,{value:ie},x.createElement("div",N({className:P("modal",{"modal-static":B,fade:_,show:se==="entered"},o),tabIndex:-1},W?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:N({},se!=="exited"&&{display:"block"})},O,{ref:X}),x.createElement(_0,{alignment:r,fullscreen:h,scrollable:E,size:C},x.createElement(S0,{ref:V},n)))))}),s&&x.createElement(Xn,{portal:y},x.createElement(Dc,{visible:W})))});vI.propTypes={alignment:d.oneOf(["top","center"]),backdrop:d.oneOfType([d.bool,d.oneOf(["static"])]),children:d.node,className:d.string,duration:d.number,focus:d.bool,fullscreen:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:d.bool,onClose:d.func,onClosePrevented:d.func,onShow:d.func,portal:d.bool,scrollable:d.bool,size:d.oneOf(["sm","lg","xl"]),transition:d.bool,unmountOnClose:d.bool,visible:d.bool};vI.displayName="CModal";var yI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("modal-body",r)},i,{ref:e}),n)});yI.propTypes={children:d.node,className:d.string};yI.displayName="CModalBody";var wI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("modal-footer",r)},i,{ref:e}),n)});wI.propTypes={children:d.node,className:d.string};wI.displayName="CModalFooter";var bI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.closeButton,s=i===void 0?!0:i,o=A(t,["children","className","closeButton"]),a=b.useContext(gI).setVisible;return x.createElement("div",N({className:P("modal-header",r)},o,{ref:e}),n,s&&x.createElement(ca,{onClick:function(){return a(!1)}}))});bI.propTypes={children:d.node,className:d.string,closeButton:d.bool};bI.displayName="CModalHeader";var xI=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"h5":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("modal-title",s)},o,{ref:e}),n)});xI.propTypes={children:d.node,className:d.string,component:d.elementType};xI.displayName="CModalTitle";var EI=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.component,o=s===void 0?"ul":s,a=t.layout,l=t.variant,c=A(t,["children","className","component","layout","variant"]);return x.createElement(o,N({className:P("nav",(n={},n["nav-".concat(a)]=a,n["nav-".concat(l)]=l,n),i),role:"navigation"},c,{ref:e}),r)});EI.propTypes={children:d.node,className:d.string,component:d.elementType,layout:d.oneOf(["fill","justified"]),variant:d.oneOf(["tabs","pills"])};EI.displayName="CNav";var CI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("ul",N({className:P("nav-group-items",r)},i,{ref:e}),n)});CI.propTypes={children:d.node,className:d.string};CI.displayName="CNavGroupItems";var T0=b.createContext({}),xf=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]),s=b.useState(""),o=s[0],a=s[1],l={visibleGroup:o,setVisibleGroup:a};return x.createElement("ul",N({className:P("sidebar-nav",r),ref:e},i),x.createElement(T0.Provider,{value:l},x.Children.map(n,function(c,u){if(x.isValidElement(c))return x.cloneElement(c,{key:u,idx:"".concat(u)})})))});xf.propTypes={children:d.node,className:d.string};xf.displayName="CSidebarNav";var rx=function(t,e){var n=t.toString().split("."),r=e.toString().split(".");return r.every(function(i,s){return i===n[s]})},SI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.compact,s=t.idx,o=t.toggler,a=t.visible,l=A(t,["children","className","compact","idx","toggler","visible"]),c=b.useState(),u=c[0],h=c[1],f=b.useRef(null),p=b.useContext(T0),m=p.visibleGroup,g=p.setVisibleGroup,w=b.useState(!!(a||s&&m&&rx(m,s))),v=w[0],y=w[1];b.useEffect(function(){y(!!(s&&m&&rx(m,s)))},[m]);var E=function(D){D.preventDefault(),g(v?s!=null&&s.toString().includes(".")?s.slice(0,s.lastIndexOf(".")):"":s),y(!v)},C={height:0},S=function(){f.current&&h(f.current.scrollHeight)},_=function(){h("auto")},k=function(){f.current&&h(f.current.scrollHeight)},T=function(){var D;(D=f.current)===null||D===void 0||D.offsetHeight,h(0)},R=function(){h(0)},O={entering:{display:"block",height:u},entered:{display:"block",height:u},exiting:{display:"block",height:u},exited:{height:u}};return x.createElement("li",N({className:P("nav-group",{show:v},r)},l,{ref:e}),o&&x.createElement("a",{className:"nav-link nav-group-toggle",onClick:function(D){return E(D)}},o),x.createElement(Jn,{in:v,nodeRef:f,onEntering:S,onEntered:_,onExit:k,onExiting:T,onExited:R,timeout:300},function(D){return x.createElement("ul",{className:P("nav-group-items",{compact:i}),style:N(N({},C),O[D]),ref:f},x.Children.map(n,function(j,V){if(x.isValidElement(j))return x.cloneElement(j,{key:V,idx:"".concat(s,".").concat(V)})}))}))});SI.propTypes={children:d.node,className:d.string,compact:d.bool,idx:d.string,toggler:d.oneOfType([d.string,d.node]),visible:d.bool};SI.displayName="CNavGroup";var k0=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.idx,s=A(t,["children","className","idx"]),o=b.useRef(null),a=kt(e,o),l=b.useContext(T0).setVisibleGroup;return b.useEffect(function(){var c;s.active=(c=o.current)===null||c===void 0?void 0:c.classList.contains("active"),i&&s.active&&l(i)},[s.active,r]),x.createElement(Zn,N({className:P("nav-link",r)},s,{ref:a}),n)});k0.propTypes={children:d.node,className:d.string,idx:d.string};k0.displayName="CNavLink";var ln=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("li",{className:P("nav-item",r),ref:e},i.href||i.to?x.createElement(k0,N({className:r},i),n):n)});ln.propTypes={children:d.node,className:d.string};ln.displayName="CNavItem";var _I=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("li",N({className:P("nav-title",r)},i,{ref:e}),n)});_I.propTypes={children:d.node,className:d.string};_I.displayName="CNavTitle";var TI=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=t.colorScheme,a=t.component,l=a===void 0?"nav":a,c=t.container,u=t.expand,h=t.placement,f=A(t,["children","className","color","colorScheme","component","container","expand","placement"]);return x.createElement(l,N({className:P("navbar",(n={},n["bg-".concat(s)]=s,n["navbar-".concat(o)]=o,n[typeof u=="boolean"?"navbar-expand":"navbar-expand-".concat(u)]=u,n),h,i)},f,{ref:e}),c?x.createElement("div",{className:typeof c=="string"?"container-".concat(c):"container"},r):x.createElement(x.Fragment,null,r))});TI.propTypes={children:d.node,className:d.string,color:Ne,colorScheme:d.oneOf(["dark","light"]),component:d.elementType,container:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl","fluid"])]),expand:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),placement:d.oneOf(["fixed-top","fixed-bottom","sticky-top"])};TI.displayName="CNavbar";var kI=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=t.className,s=A(t,["children","component","className"]),o=r??(s.href?"a":"span");return x.createElement(o,N({className:P("navbar-brand",i)},s,{ref:e}),n)});kI.propTypes={children:d.node,className:d.string,component:d.elementType};kI.displayName="CNavbarBrand";var NI=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"ul":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("navbar-nav",s),role:"navigation"},o,{ref:e}),n)});NI.propTypes={children:d.node,className:d.string,component:d.elementType};NI.displayName="CNavbarNav";var II=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("span",N({className:P("navbar-text",r)},i,{ref:e}),n)});II.propTypes={children:d.node,className:d.string};II.displayName="CNavbarText";var RI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("button",N({type:"button",className:P("navbar-toggler",r)},i,{ref:e}),n??x.createElement("span",{className:"navbar-toggler-icon"}))});RI.propTypes={children:d.node,className:d.string};RI.displayName="CNavbarToggler";var OI=b.forwardRef(function(t,e){var n=t.children,r=t.backdrop,i=r===void 0?!0:r,s=t.className,o=t.keyboard,a=o===void 0?!0:o,l=t.onHide,c=t.onShow,u=t.placement,h=t.portal,f=h===void 0?!1:h,p=t.responsive,m=p===void 0?!0:p,g=t.scroll,w=g===void 0?!1:g,v=t.visible,y=v===void 0?!1:v,E=A(t,["children","backdrop","className","keyboard","onHide","onShow","placement","portal","responsive","scroll","visible"]),C=b.useState(y),S=C[0],_=C[1],k=b.useRef(null),T=kt(e,k);b.useEffect(function(){_(y)},[y]),b.useEffect(function(){if(S&&!w){document.body.style.overflow="hidden",document.body.style.paddingRight="0px";return}w||(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))},[S]);var R=function(){_(!1)},O=function(){i!=="static"&&_(!1)},D=function(j){if(j.key==="Escape"&&a)return R()};return x.createElement(x.Fragment,null,x.createElement(Jn,{in:S,nodeRef:k,onEnter:c,onEntered:function(){var j;return(j=k.current)===null||j===void 0?void 0:j.focus()},onExit:l,timeout:300},function(j){var V;return x.createElement(Xn,{portal:f},x.createElement("div",N({className:P((V={},V["offcanvas".concat(typeof m=="string"?"-"+m:"")]=m,V["offcanvas-".concat(u)]=u,V.showing=j==="entering",V.show=j==="entered",V["show hiding"]=j==="exiting",V),s),role:"dialog",tabIndex:-1,onKeyDown:D},E,{ref:T}),n))}),i&&x.createElement(Xn,{portal:f},x.createElement(Dc,{className:"offcanvas-backdrop",onClick:O,visible:S})))});OI.propTypes={backdrop:d.oneOfType([d.bool,d.oneOf(["static"])]),children:d.node,className:d.string,keyboard:d.bool,onHide:d.func,onShow:d.func,placement:d.oneOf(["start","end","top","bottom"]).isRequired,portal:d.bool,responsive:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),scroll:d.bool,visible:d.bool};OI.displayName="COffcanvas";var PI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("offcanvas-body",r)},i,{ref:e}),n)});PI.propTypes={children:d.node,className:d.string};PI.displayName="COffcanvasBody";var AI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("offcanvas-header",r)},i,{ref:e}),n)});AI.propTypes={children:d.node,className:d.string};AI.displayName="COffcanvasHeader";var DI=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=r===void 0?"h5":r,s=t.className,o=A(t,["children","component","className"]);return x.createElement(i,N({className:P("offcanvas-title",s)},o,{ref:e}),n)});DI.propTypes={children:d.node,className:d.string,component:d.elementType};DI.displayName="COffcanvasTitle";var MI=b.forwardRef(function(t,e){var n,r=t.children,i=t.align,s=t.className,o=t.size,a=A(t,["children","align","className","size"]);return x.createElement("nav",N({ref:e},a),x.createElement("ul",{className:P("pagination",(n={},n["justify-content-".concat(i)]=i,n["pagination-".concat(o)]=o,n),s)},r))});MI.propTypes={align:d.oneOf(["start","center","end"]),children:d.node,className:d.string,size:d.oneOf(["sm","lg"])};MI.displayName="CPagination";var LI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.component,s=A(t,["children","className","component"]),o=i??(s.active?"span":"a");return x.createElement("li",N({className:P("page-item",{active:s.active,disabled:s.disabled},r)},s.active&&{"aria-current":"page"}),o==="a"?x.createElement(Zn,N({className:"page-link",component:o},s,{ref:e}),n):x.createElement(o,{className:"page-link",ref:e},n))});LI.propTypes={children:d.node,className:d.string,component:d.elementType};LI.displayName="CPaginationItem";var Jz=["xxl","xl","lg","md","sm","xs"],FI=b.forwardRef(function(t,e){var n,r=t.children,i=t.animation,s=t.className,o=t.color,a=t.component,l=a===void 0?"span":a,c=t.size,u=A(t,["children","animation","className","color","component","size"]),h=[];return Jz.forEach(function(f){var p=u[f];delete u[f];var m=f==="xs"?"":"-".concat(f);typeof p=="number"&&h.push("col".concat(m,"-").concat(p)),typeof p=="boolean"&&h.push("col".concat(m))}),x.createElement(l,N({className:P(i?"placeholder-".concat(i):"placeholder",(n={},n["bg-".concat(o)]=o,n["placeholder-".concat(c)]=c,n),h,s)},u,{ref:e}),r)});FI.propTypes={animation:d.oneOf(["glow","wave"]),children:d.node,className:d.string,color:Ne,component:d.elementType,size:d.oneOf(["xs","sm","lg"])};FI.displayName="CPlaceholder";var N0=b.createContext({}),$I=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("progress-stacked",r),ref:e},i),x.createElement(N0.Provider,{value:{stacked:!0}},n))});$I.propTypes={children:d.node,className:d.string};$I.displayName="CProgressStacked";var I0=b.forwardRef(function(t,e){var n,r=t.children,i=t.animated,s=t.className,o=t.color,a=t.value,l=a===void 0?0:a,c=t.variant,u=A(t,["children","animated","className","color","value","variant"]),h=b.useContext(N0).stacked;return x.createElement("div",N({className:P("progress-bar",(n={},n["bg-".concat(o)]=o,n["progress-bar-".concat(c)]=c,n["progress-bar-animated"]=i,n),s)},!h&&{style:{width:"".concat(l,"%")}},u,{ref:e}),r)});I0.propTypes={animated:d.bool,children:d.node,className:d.string,color:Ne,value:d.number,variant:d.oneOf(["striped"])};I0.displayName="CProgressBar";var Ef=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.height,s=t.progressBarClassName,o=t.thin,a=t.value,l=t.white,c=A(t,["children","className","height","progressBarClassName","thin","value","white"]),u=b.useContext(N0).stacked;return x.createElement("div",N({className:P("progress",{"progress-thin":o,"progress-white":l},r)},a!==void 0&&{role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100},{style:N(N({},i?{height:"".concat(i,"px")}:{}),u?{width:"".concat(a,"%")}:{}),ref:e}),x.Children.toArray(n).some(function(h){return h.type&&h.type.displayName==="CProgressBar"})?x.Children.map(n,function(h){if(x.isValidElement(h)&&h.type.displayName==="CProgressBar")return x.cloneElement(h,N(N({},a&&{value:a}),c))}):x.createElement(I0,N({},s&&{className:s},{value:a},c),n))});Ef.propTypes={children:d.node,className:d.string,height:d.number,progressBarClassName:d.string,thin:d.bool,value:d.number,white:d.bool};Ef.displayName="CProgress";var jI=b.forwardRef(function(t,e){var n=t.children,r=t.animation,i=r===void 0?!0:r,s=t.className,o=t.container,a=t.content,l=t.delay,c=l===void 0?0:l,u=t.fallbackPlacements,h=u===void 0?["top","right","bottom","left"]:u,f=t.offset,p=f===void 0?[0,8]:f,m=t.onHide;t.onShow;var g=t.placement,w=g===void 0?"top":g,v=t.title,y=t.trigger,E=y===void 0?"click":y,C=t.visible,S=A(t,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","title","trigger","visible"]),_=b.useRef(null),k=b.useRef(null),T=kt(e,_),R=b.useRef("popover".concat(Math.floor(Math.random()*1e6))),O=o0(),D=O.initPopper,j=O.destroyPopper,V=b.useState(C),X=V[0],G=V[1],W=typeof c=="number"?{show:c,hide:c}:c,Q={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:h}},{name:"offset",options:{offset:p}}],placement:ON(w,k.current)};b.useEffect(function(){G(C)},[C]);var L=function(B){if(B){setTimeout(function(){return G(!0)},W.show);return}setTimeout(function(){return G(!1)},W.hide)};return x.createElement(x.Fragment,null,x.cloneElement(n,N(N(N(N(N({},X&&{"aria-describedby":R.current}),{ref:k}),(E==="click"||E.includes("click"))&&{onClick:function(){return L(!X)}}),(E==="focus"||E.includes("focus"))&&{onFocus:function(){return L(!0)},onBlur:function(){return L(!1)}}),(E==="hover"||E.includes("hover"))&&{onMouseEnter:function(){return L(!0)},onMouseLeave:function(){return L(!1)}})),x.createElement(Xn,{container:o,portal:!0},x.createElement(Jn,{in:X,mountOnEnter:!0,nodeRef:_,onEnter:function(){k.current&&_.current&&D(k.current,_.current,Q)},onEntering:function(){k.current&&_.current&&(_.current.style.display="initial")},onExit:m,onExited:function(){j()},timeout:{enter:0,exit:_.current?s0(_.current)+50:200},unmountOnExit:!0},function(B){return x.createElement("div",N({className:P("popover","bs-popover-auto",{fade:i,show:B==="entered"},s),id:R.current,ref:T,role:"tooltip",style:{display:"none"}},S),x.createElement("div",{className:"popover-arrow"}),x.createElement("div",{className:"popover-header"},v),x.createElement("div",{className:"popover-body"},a))})))});jI.propTypes={animation:d.bool,children:d.node,className:d.string,container:d.any,content:d.oneOfType([d.string,d.node]),delay:d.oneOfType([d.number,d.shape({show:d.number.isRequired,hide:d.number.isRequired})]),fallbackPlacements:DN,offset:d.any,onHide:d.func,onShow:d.func,placement:d.oneOf(["auto","top","right","bottom","left"]),title:d.oneOfType([d.string,d.node]),trigger:c0,visible:d.bool};jI.displayName="CPopover";var Ap=function(t){return!!getComputedStyle(t).getPropertyValue("--cui-is-mobile")},Cf=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.narrow,o=t.onHide,a=t.onShow,l=t.onVisibleChange,c=t.overlaid,u=t.position,h=t.size,f=t.unfoldable,p=t.visible,m=A(t,["children","className","narrow","onHide","onShow","onVisibleChange","overlaid","position","size","unfoldable","visible"]),g=b.useRef(null),w=kt(e,g),v=b.useState(!1),y=v[0],E=v[1],C=b.useState(p),S=C[0],_=C[1],k=b.useState(),T=k[0],R=k[1];b.useEffect(function(){g.current&&E(Ap(g.current)),_(p)},[p]),b.useEffect(function(){T!==void 0&&l&&l(T),!T&&o&&o(),T&&a&&a()},[T]),b.useEffect(function(){y&&p&&_(!1)},[y]),b.useEffect(function(){var G,W;return g.current&&E(Ap(g.current)),g.current&&R(Js(g.current)),window.addEventListener("resize",D),window.addEventListener("mouseup",V),window.addEventListener("keyup",j),(G=g.current)===null||G===void 0||G.addEventListener("mouseup",X),(W=g.current)===null||W===void 0||W.addEventListener("transitionend",function(){g.current&&R(Js(g.current))}),function(){var Q,L;window.removeEventListener("resize",D),window.removeEventListener("mouseup",V),window.removeEventListener("keyup",j),(Q=g.current)===null||Q===void 0||Q.removeEventListener("mouseup",X),(L=g.current)===null||L===void 0||L.removeEventListener("transitionend",function(){g.current&&R(Js(g.current))})}});var O=function(){_(!1)},D=function(){g.current&&E(Ap(g.current)),g.current&&R(Js(g.current))},j=function(G){y&&g.current&&!g.current.contains(G.target)&&O()},V=function(G){y&&g.current&&!g.current.contains(G.target)&&O()},X=function(G){var W=G.target;W&&W.classList.contains("nav-link")&&!W.classList.contains("nav-group-toggle")&&y&&O()};return x.createElement(x.Fragment,null,x.createElement("div",N({className:P("sidebar",(n={"sidebar-narrow":s,"sidebar-overlaid":c},n["sidebar-".concat(u)]=u,n["sidebar-".concat(h)]=h,n["sidebar-narrow-unfoldable"]=f,n.show=S===!0&&y,n.hide=S===!1&&!y,n),i)},m,{ref:w}),r),typeof window<"u"&&y&&Dd.createPortal(x.createElement(Dc,{className:"sidebar-backdrop",visible:S}),document.body))});Cf.propTypes={children:d.node,className:d.string,narrow:d.bool,onHide:d.func,onShow:d.func,onVisibleChange:d.func,overlaid:d.bool,position:d.oneOf(["fixed","sticky"]),size:d.oneOf(["sm","lg","xl"]),unfoldable:d.bool,visible:d.bool};Cf.displayName="CSidebar";var zI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("sidebar-brand",r),ref:e},i),n)});zI.propTypes={children:d.node,className:d.string};zI.displayName="CSidebarBrand";var VI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("sidebar-footer",r),ref:e},i),n)});VI.propTypes={children:d.node,className:d.string};VI.displayName="CSidebarFooter";var BI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("button",N({className:P("sidebar-toggler",r),ref:e},i),n)});BI.propTypes={children:d.node,className:d.string};BI.displayName="CSidebarToggler";var UI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("sidebar-header",r),ref:e},i),n)});UI.propTypes={children:d.node,className:d.string};UI.displayName="CSidebarHeader";var ki=b.forwardRef(function(t,e){var n,r=t.className,i=t.color,s=t.component,o=s===void 0?"div":s,a=t.size,l=t.variant,c=l===void 0?"border":l,u=t.visuallyHiddenLabel,h=u===void 0?"Loading...":u,f=A(t,["className","color","component","size","variant","visuallyHiddenLabel"]);return x.createElement(o,N({className:P("spinner-".concat(c),(n={},n["spinner-".concat(c,"-").concat(a)]=a,n["text-".concat(i)]=i,n),r),role:"status"},f,{ref:e}),x.createElement("span",{className:"visually-hidden"},h))});ki.propTypes={className:d.string,color:Ne,component:d.string,size:d.oneOf(["sm"]),variant:d.oneOf(["border","grow"]),visuallyHiddenLabel:d.string};ki.displayName="CSpinner";var Mc=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=A(t,["children","className","color"]);return x.createElement("thead",N({className:P((n={},n["table-".concat(s)]=s,n),i)||void 0},o,{ref:e}),r)});Mc.propTypes={children:d.node,className:d.string,color:Ne};Mc.displayName="CTableHead";var mo=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=A(t,["children","className","color"]);return x.createElement("th",N({className:P((n={},n["table-".concat(s)]=s,n),i)||void 0},o,{ref:e}),r)});mo.propTypes={children:d.node,className:d.string,color:Ne};mo.displayName="CTableHeaderCell";var Sf=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=A(t,["children","className","color"]);return x.createElement("tbody",N({className:P((n={},n["table-".concat(s)]=s,n),i)||void 0},o,{ref:e}),r)});Sf.propTypes={children:d.node,className:d.string,color:Ne};Sf.displayName="CTableBody";var ts=b.forwardRef(function(t,e){var n,r=t.children,i=t.active,s=t.align,o=t.className,a=t.color,l=A(t,["children","active","align","className","color"]),c=l.scope?"th":"td";return x.createElement(c,N({className:P((n={},n["align-".concat(s)]=s,n["table-active"]=i,n["table-".concat(a)]=a,n),o)||void 0},l,{ref:e}),r)});ts.propTypes={active:d.bool,align:d.oneOf(["bottom","middle","top"]),children:d.node,className:d.string,color:Ne};ts.displayName="CTableDataCell";var ns=b.forwardRef(function(t,e){var n,r=t.children,i=t.active,s=t.align,o=t.className,a=t.color,l=A(t,["children","active","align","className","color"]);return x.createElement("tr",N({className:P((n={},n["align-".concat(s)]=s,n["table-active"]=i,n["table-".concat(a)]=a,n),o)||void 0},l,{ref:e}),r)});ns.propTypes={active:d.bool,align:d.oneOf(["bottom","middle","top"]),children:d.node,className:d.string,color:Ne};ns.displayName="CTableRow";var _f=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.color,o=A(t,["children","className","color"]);return x.createElement("tfoot",N({className:P((n={},n["table-".concat(s)]=s,n),i)||void 0},o,{ref:e}),r)});_f.propTypes={children:d.node,className:d.string,color:Ne};_f.displayName="CTableFoot";var R0=b.forwardRef(function(t,e){var n=t.children,r=A(t,["children"]);return x.createElement("caption",N({},r,{ref:e}),n)});R0.propTypes={children:d.node};R0.displayName="CTableCaption";var O0=function(t){var e=t.children,n=t.responsive,r=A(t,["children","responsive"]);return n?x.createElement("div",N({className:typeof n=="boolean"?"table-responsive":"table-responsive-".concat(n)},r),e):x.createElement(x.Fragment,null,e)};O0.propTypes={children:d.node,responsive:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])])};O0.displayName="CTableResponsiveWrapper";var ix=function(t){return t.replace(/[-_.]/g," ").replace(/ +/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},Zz=function(t){var e;return typeof t=="object"?(e=t.label)!==null&&e!==void 0?e:ix(t.key):ix(t)},eV=function(t,e){return t?t.map(function(n){return typeof n=="object"?n.key:n}):e&&tV(e)},tV=function(t){return Object.keys(t[0]||{}).filter(function(e){return e.charAt(0)!=="_"})},P0=b.forwardRef(function(t,e){var n,r=t.children,i=t.align,s=t.borderColor,o=t.bordered,a=t.borderless,l=t.caption,c=t.captionTop,u=t.className,h=t.color,f=t.columns,p=t.footer,m=t.hover,g=t.items,w=t.responsive,v=t.small,y=t.striped,E=t.stripedColumns,C=t.tableFootProps,S=t.tableHeadProps,_=A(t,["children","align","borderColor","bordered","borderless","caption","captionTop","className","color","columns","footer","hover","items","responsive","small","striped","stripedColumns","tableFootProps","tableHeadProps"]),k=b.useMemo(function(){return eV(f,g)},[f,g]);return x.createElement(O0,{responsive:w},x.createElement("table",N({className:P("table",(n={},n["align-".concat(i)]=i,n["border-".concat(s)]=s,n["caption-top"]=c||l==="top",n["table-bordered"]=o,n["table-borderless"]=a,n["table-".concat(h)]=h,n["table-hover"]=m,n["table-sm"]=v,n["table-striped"]=y,n["table-striped-columns"]=E,n),u)},_,{ref:e}),(l&&l!=="top"||c)&&x.createElement(R0,null,l||c),f&&x.createElement(Mc,N({},S),x.createElement(ns,null,f.map(function(T,R){return x.createElement(mo,N({},T._props&&N({},T._props),T._style&&{style:N({},T._style)},{key:R}),Zz(T))}))),g&&x.createElement(Sf,null,g.map(function(T,R){return x.createElement(ns,N({},T._props&&N({},T._props),{key:R}),k&&k.map(function(O,D){return T[O]!==void 0?x.createElement(ts,N({},T._cellProps&&N(N({},T._cellProps.all&&N({},T._cellProps.all)),T._cellProps[O]&&N({},T._cellProps[O])),{key:D}),T[O]):null}))})),r,p&&x.createElement(_f,N({},C),x.createElement(ns,null,p.map(function(T,R){return x.createElement(ts,N({},typeof T=="object"&&T._props&&N({},T._props),{key:R}),typeof T=="object"?T.label:T)})))))});P0.propTypes={align:d.oneOf(["bottom","middle","top"]),borderColor:d.string,bordered:d.bool,borderless:d.bool,caption:d.oneOfType([d.string,d.oneOf(["top"])]),captionTop:d.string,children:d.node,className:d.string,color:Ne,columns:d.array,footer:d.array,hover:d.bool,items:d.array,responsive:d.oneOfType([d.bool,d.oneOf(["sm","md","lg","xl","xxl"])]),small:d.bool,striped:d.bool,stripedColumns:d.bool,tableFootProps:d.shape(N({},_f.propTypes)),tableHeadProps:d.shape(N({},Mc.propTypes))};P0.displayName="CTable";var HI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("tab-content",r)},i,{ref:e}),n)});HI.propTypes={children:d.node,className:d.string};HI.displayName="CTabContent";var WI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.onHide,s=t.onShow,o=t.visible,a=A(t,["children","className","onHide","onShow","visible"]),l=b.useRef(),c=kt(e,l);return x.createElement(Jn,{in:o,nodeRef:l,onEnter:s,onExit:i,timeout:150},function(u){return x.createElement("div",N({className:P("tab-pane","fade",{active:o,show:u==="entered"},r)},a,{ref:c}),n)})});WI.propTypes={children:d.node,className:d.string,onHide:d.func,onShow:d.func,visible:d.bool};WI.displayName="CTabPane";var qI=b.createContext({}),KI=b.forwardRef(function(t,e){var n=t.children,r=t.animation,i=r===void 0?!0:r,s=t.autohide,o=s===void 0?!0:s,a=t.className,l=t.color,c=t.delay,u=c===void 0?5e3:c,h=t.index,f=t.key,p=t.visible,m=p===void 0?!1:p,g=t.onClose,w=t.onShow,v=A(t,["children","animation","autohide","className","color","delay","index","key","visible","onClose","onShow"]),y=b.useRef(),E=kt(e,y),C=b.useState(!1),S=C[0],_=C[1],k=b.useRef();b.useEffect(function(){_(m)},[m]);var T={visible:S,setVisible:_};b.useEffect(function(){return function(){return clearTimeout(k.current)}},[]),b.useEffect(function(){R()},[S]);var R=function(){o&&(clearTimeout(k.current),k.current=window.setTimeout(function(){_(!1)},u))};return x.createElement(Jn,{in:S,nodeRef:y,onEnter:function(){return w&&w(h??null)},onExited:function(){return g&&g(h??null)},timeout:250,unmountOnExit:!0},function(O){var D;return x.createElement(qI.Provider,{value:T},x.createElement("div",N({className:P("toast",(D={fade:i},D["bg-".concat(l)]=l,D["border-0"]=l,D["show showing"]=O==="entering"||O==="exiting",D.show=O==="entered",D),a),"aria-live":"assertive","aria-atomic":"true",role:"alert",onMouseEnter:function(){return clearTimeout(k.current)},onMouseLeave:function(){return R()}},v,{key:f,ref:E}),n))})});KI.propTypes={animation:d.bool,autohide:d.bool,children:d.node,className:d.string,color:Ne,delay:d.number,index:d.number,key:d.number,onClose:d.func,onShow:d.func,visible:d.bool};KI.displayName="CToast";var GI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=A(t,["children","className"]);return x.createElement("div",N({className:P("toast-body",r)},i,{ref:e}),n)});GI.propTypes={children:d.node,className:d.string};GI.displayName="CToastBody";var A0=b.forwardRef(function(t,e){var n=t.children,r=t.component,i=A(t,["children","component"]),s=b.useContext(qI).setVisible;return r?x.createElement(r,N({onClick:function(){return s(!1)}},i,{ref:e}),n):x.createElement(ca,N({onClick:function(){return s(!1)}},i,{ref:e}))});A0.propTypes=N(N({},ca.propTypes),{component:d.elementType});A0.displayName="CToastClose";var YI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.closeButton,s=A(t,["children","className","closeButton"]);return x.createElement("div",N({className:P("toast-header",r)},s,{ref:e}),n,i&&x.createElement(A0,null))});YI.propTypes={children:d.node,className:d.string,closeButton:d.bool};YI.displayName="CToastHeader";var QI=b.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.placement,s=t.push,o=A(t,["children","className","placement","push"]),a=b.useState([]),l=a[0],c=a[1],u=b.useRef(0);b.useEffect(function(){u.current++,s&&h(s)},[s]);var h=function(f){c(function(p){return Vb(Vb([],p,!0),[x.cloneElement(f,{index:u.current,key:u.current,onClose:function(m){return c(function(g){return g.filter(function(w){return w.props.index!==m})})}})],!1)})};return x.createElement(Xn,{portal:typeof i=="string"},l.length>0||n?x.createElement("div",N({className:P("toaster toast-container p-3",{"position-fixed":i,"top-0":i&&i.includes("top"),"top-50 translate-middle-y":i&&i.includes("middle"),"bottom-0":i&&i.includes("bottom"),"start-0":i&&i.includes("start"),"start-50 translate-middle-x":i&&i.includes("center"),"end-0":i&&i.includes("end")},r)},o,{ref:e}),n,l.map(function(f){return x.cloneElement(f,{visible:!0})})):null)});QI.propTypes={children:d.node,className:d.string,placement:d.oneOfType([d.string,d.oneOf(["top-start","top-center","top-end","middle-start","middle-center","middle-end","bottom-start","bottom-center","bottom-end"])]),push:d.any};QI.displayName="CToaster";var XI=b.forwardRef(function(t,e){var n=t.children,r=t.animation,i=r===void 0?!0:r,s=t.className,o=t.container,a=t.content,l=t.delay,c=l===void 0?0:l,u=t.fallbackPlacements,h=u===void 0?["top","right","bottom","left"]:u,f=t.offset,p=f===void 0?[0,6]:f,m=t.onHide;t.onShow;var g=t.placement,w=g===void 0?"top":g,v=t.trigger,y=v===void 0?["hover","focus"]:v,E=t.visible,C=A(t,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","trigger","visible"]),S=b.useRef(null),_=b.useRef(null),k=kt(e,S),T=b.useRef("tooltip".concat(Math.floor(Math.random()*1e6))),R=o0(),O=R.initPopper,D=R.destroyPopper,j=b.useState(E),V=j[0],X=j[1],G=typeof c=="number"?{show:c,hide:c}:c,W={modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"flip",options:{fallbackPlacements:h}},{name:"offset",options:{offset:p}}],placement:ON(w,_.current)};b.useEffect(function(){X(E)},[E]);var Q=function(L){if(L){setTimeout(function(){return X(!0)},G.show);return}setTimeout(function(){return X(!1)},G.hide)};return x.createElement(x.Fragment,null,x.cloneElement(n,N(N(N(N(N({},V&&{"aria-describedby":T.current}),{ref:_}),(y==="click"||y.includes("click"))&&{onClick:function(){return Q(!V)}}),(y==="focus"||y.includes("focus"))&&{onFocus:function(){return Q(!0)},onBlur:function(){return Q(!1)}}),(y==="hover"||y.includes("hover"))&&{onMouseEnter:function(){return Q(!0)},onMouseLeave:function(){return Q(!1)}})),x.createElement(Xn,{container:o,portal:!0},x.createElement(Jn,{in:V,mountOnEnter:!0,nodeRef:S,onEnter:function(){_.current&&S.current&&O(_.current,S.current,W)},onEntering:function(){_.current&&S.current&&(S.current.style.display="initial")},onExit:m,onExited:function(){D()},timeout:{enter:0,exit:S.current?s0(S.current)+50:200},unmountOnExit:!0},function(L){return x.createElement("div",N({className:P("tooltip","bs-tooltip-auto",{fade:i,show:L==="entered"},s),id:T.current,ref:k,role:"tooltip",style:{display:"none"}},C),x.createElement("div",{className:"tooltip-arrow"}),x.createElement("div",{className:"tooltip-inner"},a))})))});XI.propTypes={animation:d.bool,children:d.node,container:d.any,content:d.oneOfType([d.string,d.node]),delay:d.oneOfType([d.number,d.shape({show:d.number.isRequired,hide:d.number.isRequired})]),fallbackPlacements:DN,offset:d.any,onHide:d.func,onShow:d.func,placement:d.oneOf(["auto","top","right","bottom","left"]),trigger:c0,visible:d.bool};XI.displayName="CTooltip";var Kr=b.forwardRef(function(t,e){var n,r=t.action,i=t.chart,s=t.className,o=t.color,a=t.title,l=t.value,c=A(t,["action","chart","className","color","title","value"]);return x.createElement(yn,N({className:P((n={},n["bg-".concat(o)]=o,n["text-high-emphasis-inverse"]=o,n),s)},c,{ref:e}),x.createElement(wn,{className:"pb-0 d-flex justify-content-between align-items-start"},x.createElement("div",null,l&&x.createElement("div",{className:"fs-4 fw-semibold"},l),a&&x.createElement("div",null,a)),r),i)});Kr.propTypes={action:d.node,chart:d.oneOfType([d.string,d.node]),className:d.string,color:Ne,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};Kr.displayName="CWidgetStatsA";var JI=b.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.inverse,s=t.progress,o=t.text,a=t.title,l=t.value,c=A(t,["className","color","inverse","progress","text","title","value"]);return x.createElement(yn,N({className:n,color:r},i&&{textColor:"high-emphasis-inverse"},c,{ref:e}),x.createElement(wn,null,l&&x.createElement("div",{className:"fs-4 fw-semibold"},l),a&&x.createElement("div",null,a),x.createElement(Ef,N({className:"my-2",height:4},i&&{white:!0},s)),o&&x.createElement("small",{className:i?"text-medium-emphasis-inverse":"text-medium-emphasis"},o)))});JI.propTypes={className:d.string,color:Ne,inverse:d.bool,progress:d.object,text:d.string,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};JI.displayName="CWidgetCWidgetStatsB";var ZI=b.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.icon,s=t.inverse,o=t.progress,a=t.title,l=t.value,c=A(t,["className","color","icon","inverse","progress","title","value"]);return x.createElement(yn,N({className:n,color:r},s&&{textColor:"high-emphasis-inverse"},c,{ref:e}),x.createElement(wn,null,i&&x.createElement("div",{className:"text-medium-emphasis".concat(s?"-inverse":""," text-end mb-4")},i),l&&x.createElement("div",{className:"text-high-emphasis".concat(s?"-inverse":""," fs-4 fw-semibold")},l),a&&x.createElement("div",{className:s?"text-medium-emphasis-inverse":"text-medium-emphasis"},a),x.createElement(Ef,N({className:"mt-3 mb-0",height:4},s&&{white:!0},o))))});ZI.propTypes={className:d.string,color:Ne,icon:d.oneOfType([d.string,d.node]),inverse:d.bool,progress:d.object,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};ZI.displayName="CWidgetStatsCWidgetStatsC";var e2=b.forwardRef(function(t,e){var n,r=t.className,i=t.chart,s=t.color,o=t.icon,a=t.values,l=A(t,["className","chart","color","icon","values"]);return x.createElement(yn,N({className:r},l,{ref:e}),x.createElement(vf,{className:P("position-relative d-flex justify-content-center align-items-center",(n={},n["bg-".concat(s)]=s,n))},o,i),x.createElement(wn,{className:"row text-center"},a&&a.map(function(c,u){return x.createElement(x.Fragment,{key:u},u%2!==0&&x.createElement("div",{className:"vr"}),x.createElement(hr,null,x.createElement("div",{className:"fs-5 fw-semibold"},c.value),x.createElement("div",{className:"text-uppercase text-medium-emphasis small"},c.title)))})))});e2.propTypes={chart:d.oneOfType([d.string,d.node]),className:d.string,color:Ne,icon:d.oneOfType([d.string,d.node]),values:d.arrayOf(d.any)};e2.displayName="CWidgetStatsD";var t2=b.forwardRef(function(t,e){var n=t.chart,r=t.className,i=t.title,s=t.value,o=A(t,["chart","className","title","value"]);return x.createElement(yn,N({className:P(r)},o,{ref:e}),x.createElement(wn,{className:"text-center"},i&&x.createElement("div",{className:"text-medium-emphasis small text-uppercase fw-semibold"},i),s&&x.createElement("div",{className:"fs-6 fw-semibold py-3"},s),n))});t2.propTypes={children:d.node,chart:d.oneOfType([d.string,d.node]),className:d.string,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};t2.displayName="CWidgetStatsE";var n2=b.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.footer,s=t.icon,o=t.padding,a=o===void 0?!0:o,l=t.title,c=t.value,u=A(t,["className","color","footer","icon","padding","title","value"]);return x.createElement(yn,N({className:n},u,{ref:e}),x.createElement(wn,{className:"d-flex align-items-center ".concat(a===!1&&"p-0")},x.createElement("div",{className:"me-3 text-white bg-".concat(r," ").concat(a?"p-3":"p-4")},s),x.createElement("div",null,x.createElement("div",{className:"fs-6 fw-semibold text-".concat(r)},c),x.createElement("div",{className:"text-medium-emphasis text-uppercase fw-semibold small"},l))),i&&x.createElement(f0,null,i))});n2.propTypes={className:d.string,color:Ne,footer:d.oneOfType([d.string,d.node]),icon:d.oneOfType([d.string,d.node]),padding:d.bool,title:d.oneOfType([d.string,d.node]),value:d.oneOfType([d.string,d.node,d.number])};n2.displayName="CWidgetStatsF";function nV(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(null),[o,a]=b.useState(!1),{login:l}=_s(),c=Qo();async function u(h){h.preventDefault(),s(null),a(!0);try{await l(t,n),c("/dashboard")}catch(f){s(f.message)}finally{a(!1)}}return I.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:I.jsx(yn,{style:{width:"24rem"},children:I.jsxs(wn,{children:[I.jsx("h3",{className:"mb-4",children:"Login"}),i&&I.jsx("div",{className:"text-danger mb-3",children:i}),I.jsxs(yf,{onSubmit:u,children:[I.jsx(zo,{type:"email",placeholder:"Email",value:t,onChange:h=>e(h.target.value),required:!0,className:"mb-3"}),I.jsx(zo,{type:"password",placeholder:"Password",value:n,onChange:h=>r(h.target.value),required:!0,className:"mb-3"}),I.jsx(Tr,{type:"submit",color:"primary",className:"w-100",disabled:o,children:o?I.jsx(ki,{size:"sm"}):"Entrar"})]})]})})})}function rV(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState("client"),[o,a]=b.useState(null),[l,c]=b.useState(!1),u=Qo();async function h(f){f.preventDefault(),a(null),c(!0);try{const{user:p}=await JM(eh,t,n);await xj(Yk(hi,"users",p.uid),{role:i}),u("/login")}catch(p){a(p.message)}finally{c(!1)}}return I.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:I.jsx(yn,{style:{width:"24rem"},children:I.jsxs(wn,{children:[I.jsx("h3",{className:"mb-4",children:"Registar"}),o&&I.jsx("div",{className:"text-danger mb-3",children:o}),I.jsxs(yf,{onSubmit:h,children:[I.jsx(zo,{type:"email",placeholder:"Email",value:t,onChange:f=>e(f.target.value),required:!0,className:"mb-3"}),I.jsx(zo,{type:"password",placeholder:"Password",value:n,onChange:f=>r(f.target.value),required:!0,className:"mb-3"}),I.jsxs("select",{className:"form-select mb-3",value:i,onChange:f=>s(f.target.value),children:[I.jsx("option",{value:"client",children:"Cliente"}),I.jsx("option",{value:"trainer",children:"Trainer"}),I.jsx("option",{value:"admin",children:"Admin"})]}),I.jsx(Tr,{type:"submit",color:"primary",className:"w-100",disabled:l,children:l?I.jsx(ki,{size:"sm"}):"Registar"})]})]})})})}var Zl=function(){return Zl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zl.apply(this,arguments)};function r2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s2={exports:{}},Dp,sx;function iV(){if(sx)return Dp;sx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dp=t,Dp}var Mp,ox;function sV(){if(ox)return Mp;ox=1;var t=iV();function e(){}function n(){}return n.resetWarningCache=e,Mp=function(){function r(o,a,l,c,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Mp}s2.exports=sV()();var oV=s2.exports,Be=i2(oV),o2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(o2);var aV=o2.exports,od=i2(aV),lV=function(t){return t.replace(/([-_][a-z0-9])/gi,function(e){return e.toUpperCase()}).replace(/-/gi,"")},Qe=b.forwardRef(function(t,e){var n,r=t.className,i=t.content,s=t.customClassName,o=t.height,a=t.icon,l=t.name,c=t.size,u=t.title,h=t.use,f=t.width,p=r2(t,["className","content","customClassName","height","icon","name","size","title","use","width"]),m=b.useState(0),g=m[0],w=m[1],v=a||i||l;i&&process&&process.env,l&&process&&process.env,b.useMemo(function(){return w(g+1)},[v,JSON.stringify(v)]);var y=u?"<title>".concat(u,"</title>"):"",E=b.useMemo(function(){var T=v&&typeof v=="string"&&v.includes("-")?lV(v):v;if(Array.isArray(v))return v;if(typeof v=="string"&&x.icons)return x[T]},[g]),C=b.useMemo(function(){return Array.isArray(E)?E[1]||E[0]:E},[g]),S=function(){return Array.isArray(E)&&E.length>1?E[0]:"64 64"}(),_=function(){return p.viewBox||"0 0 ".concat(S)}(),k=s?od(s):od("icon",(n={},n["icon-".concat(c)]=c,n["icon-custom-size"]=o||f,n),r);return x.createElement(x.Fragment,null,h?x.createElement("svg",Zl({xmlns:"http://www.w3.org/2000/svg",className:k},o&&{height:o},f&&{width:f},{role:"img","aria-hidden":"true"},p,{ref:e}),x.createElement("use",{href:h})):x.createElement("svg",Zl({xmlns:"http://www.w3.org/2000/svg",viewBox:_,className:k},o&&{height:o},f&&{width:f},{role:"img","aria-hidden":"true",dangerouslySetInnerHTML:{__html:y+C}},p,{ref:e})),u&&x.createElement("span",{className:"visually-hidden"},u))});Qe.propTypes={className:Be.string,content:Be.oneOfType([Be.array,Be.string]),customClassName:Be.string,height:Be.number,icon:Be.oneOfType([Be.array,Be.string]),name:Be.string,size:Be.oneOf(["custom","custom-size","sm","lg","xl","xxl","3xl","4xl","5xl","6xl","7xl","8xl","9xl"]),title:Be.string,use:Be.string,viewBox:Be.string,width:Be.number};Qe.displayName="CIcon";var a2=b.forwardRef(function(t,e){var n,r=t.children,i=t.className,s=t.customClassName,o=t.height,a=t.size,l=t.title,c=t.width,u=r2(t,["children","className","customClassName","height","size","title","width"]),h=s?od(s):od("icon",(n={},n["icon-".concat(a)]=a,n["icon-custom-size"]=o||c,n),i);return x.createElement(x.Fragment,null,b.Children.map(r,function(f){if(x.isValidElement(f))return x.cloneElement(f,Zl({"aria-hidden":!0,className:h,focusable:"false",ref:e,role:"img"},u))}),l&&x.createElement("span",{className:"visually-hidden"},l))});a2.propTypes={className:Be.string,customClassName:Be.string,height:Be.number,size:Be.oneOf(["custom","custom-size","sm","lg","xl","xxl","3xl","4xl","5xl","6xl","7xl","8xl","9xl"]),title:Be.string,width:Be.number};a2.displayName="CIconSvg";var cV=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M450.27,348.569,406.6,267.945V184c0-83.813-68.187-152-152-152s-152,68.187-152,152v83.945L58.928,348.568A24,24,0,0,0,80.031,384h86.935c-.238,2.636-.367,5.3-.367,8a88,88,0,0,0,176,0c0-2.7-.129-5.364-.367-8h86.935a24,24,0,0,0,21.1-35.431ZM310.6,392a56,56,0,1,1-111.419-8H310.018A56.14,56.14,0,0,1,310.6,392ZM93.462,352,134.6,276.055V184a120,120,0,0,1,240,0v92.055L415.736,352Z' class='ci-primary'/>"],D0=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M472,96H384V40H352V96H160V40H128V96H40a24.028,24.028,0,0,0-24,24V456a24.028,24.028,0,0,0,24,24H472a24.028,24.028,0,0,0,24-24V120A24.028,24.028,0,0,0,472,96Zm-8,352H48V128h80v40h32V128H352v40h32V128h80Z' class='ci-primary'/><rect width='32' height='32' x='112' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='112' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='112' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"],uV=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='272 434.744 272 209.176 240 209.176 240 434.744 188.118 382.862 165.49 405.489 256 496 346.51 405.489 323.882 382.862 272 434.744' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M400,161.176c0-79.4-64.6-144-144-144s-144,64.6-144,144a96,96,0,0,0,0,192h80v-32H112a64,64,0,0,1,0-128h32v-32a112,112,0,0,1,224,0v32h32a64,64,0,0,1,0,128H320v32h80a96,96,0,0,0,0-192Z' class='ci-primary'/>"],hV=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M296,240H216a46.222,46.222,0,1,1,0-92.444H344v-32H276V56H244v59.556H216A78.222,78.222,0,0,0,216,272h80a46.274,46.274,0,0,1,46.222,46.222v3.556A46.274,46.274,0,0,1,296,368H160.593v32H244v56h32V400h20a78.31,78.31,0,0,0,78.222-78.222v-3.556A78.31,78.31,0,0,0,296,240Z' class='ci-primary'/>"],dV=["512 512","<rect width='352' height='32' x='80' y='96' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='352' height='32' x='80' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='352' height='32' x='80' y='384' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"],fV=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M462.541,316.3l-64.344-42.1,24.774-45.418A79.124,79.124,0,0,0,432.093,192V120A103.941,103.941,0,0,0,257.484,43.523L279.232,67a71.989,71.989,0,0,1,120.861,53v72a46.809,46.809,0,0,1-5.215,21.452L355.962,284.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421V432h-72v32h104V378.494A74.061,74.061,0,0,0,462.541,316.3Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M318.541,348.3l-64.343-42.1,24.773-45.418A79.124,79.124,0,0,0,288.093,224V152A104.212,104.212,0,0,0,184.04,47.866C126.723,47.866,80.093,94.581,80.093,152v72a78,78,0,0,0,9.015,36.775l24.908,45.664L50.047,348.3A74.022,74.022,0,0,0,16.5,410.4L16,496H352.093V410.494A74.061,74.061,0,0,0,318.541,348.3ZM320.093,464H48.186l.31-53.506a42.158,42.158,0,0,1,19.073-35.421l88.682-58.029L117.2,245.452A46.838,46.838,0,0,1,112.093,224V152a72,72,0,1,1,144,0v72a46.809,46.809,0,0,1-5.215,21.452L211.962,316.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421Z' class='ci-primary'/>"],go=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M425.706,142.294A240,240,0,0,0,16,312v88H160V368H48V312c0-114.691,93.309-208,208-208s208,93.309,208,208v56H352v32H496V312A238.432,238.432,0,0,0,425.706,142.294Z' class='ci-primary'/><rect width='32' height='32' x='80' y='264' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='240' y='128' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='136' y='168' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='400' y='264' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M297.222,335.1l69.2-144.173-28.85-13.848L268.389,321.214A64.141,64.141,0,1,0,297.222,335.1ZM256,416a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,416Z' class='ci-primary'/>"],M0=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M411.6,343.656l-72.823-47.334,27.455-50.334A80.23,80.23,0,0,0,376,207.681V128a112,112,0,0,0-224,0v79.681a80.236,80.236,0,0,0,9.768,38.308l27.455,50.333L116.4,343.656A79.725,79.725,0,0,0,80,410.732V496H448V410.732A79.727,79.727,0,0,0,411.6,343.656ZM416,464H112V410.732a47.836,47.836,0,0,1,21.841-40.246l97.66-63.479-41.64-76.341A48.146,48.146,0,0,1,184,207.681V128a80,80,0,0,1,160,0v79.681a48.146,48.146,0,0,1-5.861,22.985L296.5,307.007l97.662,63.479h0A47.836,47.836,0,0,1,416,410.732Z' class='ci-primary'/>"];function Ig({children:t}){const{role:e,logout:n}=_s(),r=Qo();async function i(){await n(),r("/login")}return I.jsxs("div",{className:"d-flex",children:[I.jsx(Cf,{unfoldable:!0,children:I.jsxs(xf,{children:[e==="admin"&&I.jsxs(I.Fragment,{children:[I.jsxs(ln,{component:Ds,to:"/admin",children:[I.jsx(Qe,{icon:go})," Dashboard Admin"]}),I.jsxs(ln,{component:Ds,to:"/admin/users",children:[I.jsx(Qe,{icon:M0})," Utilizadores"]})]}),e==="trainer"&&I.jsxs(I.Fragment,{children:[I.jsxs(ln,{component:Ds,to:"/trainer",children:[I.jsx(Qe,{icon:go})," Dashboard Trainer"]}),I.jsxs(ln,{component:Ds,to:"/trainer/schedule",children:[I.jsx(Qe,{icon:D0})," Agenda"]})]}),e==="client"&&I.jsxs(ln,{component:Ds,to:"/dashboard",children:[I.jsx(Qe,{icon:go})," Meu Dashboard"]})]})}),I.jsxs("div",{className:"flex-grow-1",children:[I.jsxs(bf,{className:"px-3 d-flex justify-content-between align-items-center",children:[I.jsx("h4",{children:"Fitness Pro"}),I.jsx(Tr,{color:"secondary",size:"sm",onClick:i,children:"Logout"})]}),I.jsx(b0,{className:"mt-4",children:t})]})]})}function pV(){return I.jsxs(Ig,{children:[I.jsx("h1",{children:"Bem-vindo ao teu Dashboard"}),I.jsx("p",{children:"Aqui podes ver as tuas sessões, progresso e muito mais."})]})}function mV(){const{user:t}=_s(),[e,n]=b.useState(!0),[r,i]=b.useState(0),[s,o]=b.useState(0);return b.useEffect(()=>{async function a(){if(!t)return;n(!0);const l=await po(sN(fo(hi,"sessions"),oN("trainerId","==",t.uid)));i(l.size);const c=new Set(l.docs.map(u=>u.data().clientId));o(c.size),n(!1)}a()},[t]),e?I.jsx(Ig,{children:I.jsx("div",{className:"text-center mt-5",children:I.jsx(ki,{})})}):I.jsxs(Ig,{children:[I.jsx("h2",{className:"mb-4",children:"Dashboard Trainer"}),I.jsxs(wf,{className:"mb-4",children:[I.jsx(hr,{sm:6,lg:3,children:I.jsx(Kr,{color:"gradient-primary",title:"Sessões",value:r})}),I.jsx(hr,{sm:6,lg:3,children:I.jsx(Kr,{color:"gradient-success",title:"Clientes",value:s})})]}),I.jsx(yn,{children:I.jsxs(wn,{children:[I.jsx("h5",{className:"mb-3",children:"Visão Geral"}),I.jsx("p",{children:"Mais funcionalidades de treino virão em breve."})]})})]})}function gV({visible:t=!0}){const{role:e}=_s();return I.jsx(Cf,{unfoldable:!0,visible:t,className:"vh-100",children:I.jsxs(xf,{className:"ps-3",children:[e==="client"&&I.jsxs(ln,{component:ba,to:"/dashboard",children:[I.jsx(Qe,{icon:go,className:"me-2"}),"Meu Dashboard"]}),e==="trainer"&&I.jsxs(I.Fragment,{children:[I.jsxs(ln,{component:ba,to:"/trainer",children:[I.jsx(Qe,{icon:go,className:"me-2"}),"Dashboard Trainer"]}),I.jsxs(ln,{component:ba,to:"/trainer/schedule",children:[I.jsx(Qe,{icon:D0,className:"me-2"}),"Agenda"]})]}),e==="admin"&&I.jsxs(I.Fragment,{children:[I.jsxs(ln,{component:ba,to:"/admin",children:[I.jsx(Qe,{icon:go,className:"me-2"}),"Dashboard Admin"]}),I.jsxs(ln,{component:ba,to:"/admin/users",children:[I.jsx(Qe,{icon:M0,className:"me-2"}),"Utilizadores"]})]})]})})}function vV(){const{user:t}=_s(),[e,n]=b.useState([]);return b.useEffect(()=>{if(!t)return;async function r(){const i=sN(fo(hi,"notifications"),oN("userId","==",t.uid)),s=await po(i);n(s.docs.map(o=>({id:o.id,...o.data()})))}r()},[t]),{notifications:e}}function yV({onToggleSidebar:t}){var a;const{user:e,logout:n}=_s(),{notifications:r}=vV(),i=Qo(),s=r.filter(l=>!l.read).length,o=async()=>{await n(),i("/login")};return I.jsxs(bf,{className:"d-flex justify-content-between align-items-center px-3",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(C0,{onClick:t,className:"me-3",children:I.jsx(Qe,{icon:dV,size:"lg"})}),I.jsx(x0,{children:"Fitness Pro"})]}),I.jsxs(E0,{className:"d-flex align-items-center",children:[I.jsxs(Tr,{color:"light",className:"position-relative me-3",children:[I.jsx(Qe,{icon:cV,size:"lg"}),s>0&&I.jsx(d0,{color:"danger",shape:"pill",className:"position-absolute top-0 start-100 translate-middle",children:s})]}),I.jsxs(m0,{children:[I.jsx(v0,{className:"text-decoration-none",children:I.jsx(h0,{status:"success",children:((a=e==null?void 0:e.email)==null?void 0:a[0].toUpperCase())||"U"})}),I.jsxs(g0,{children:[I.jsx(id,{header:!0,children:e==null?void 0:e.email}),I.jsx(id,{onClick:o,children:"Logout"})]})]})]})]})}function wV(){const t=new Date().getFullYear();return I.jsx(y0,{className:"py-3 text-center",children:I.jsxs("div",{children:["© ",t," Fitness Pro. Todos os direitos reservados."]})})}function ll({children:t}){const[e,n]=b.useState(!0),r=()=>{n(!e)};return I.jsxs("div",{className:"c-app",children:[I.jsx(gV,{visible:e}),I.jsxs("div",{className:`c-wrapper ${e?"c-sidebar-show":""}`,children:[I.jsx(yV,{onToggleSidebar:r}),I.jsx("div",{className:"c-body",children:I.jsx("main",{children:t})}),I.jsx(wV,{})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Lc(t){return t+.5|0}const Gr=(t,e,n)=>Math.max(Math.min(t,n),e);function Va(t){return Gr(Lc(t*2.55),0,255)}function di(t){return Gr(Lc(t*255),0,255)}function sr(t){return Gr(Lc(t/2.55)/100,0,1)}function ax(t){return Gr(Lc(t*100),0,100)}const nn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rg=[..."0123456789ABCDEF"],bV=t=>Rg[t&15],xV=t=>Rg[(t&240)>>4]+Rg[t&15],yu=t=>(t&240)>>4===(t&15),EV=t=>yu(t.r)&&yu(t.g)&&yu(t.b)&&yu(t.a);function CV(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&nn[t[1]]*17,g:255&nn[t[2]]*17,b:255&nn[t[3]]*17,a:e===5?nn[t[4]]*17:255}:(e===7||e===9)&&(n={r:nn[t[1]]<<4|nn[t[2]],g:nn[t[3]]<<4|nn[t[4]],b:nn[t[5]]<<4|nn[t[6]],a:e===9?nn[t[7]]<<4|nn[t[8]]:255})),n}const SV=(t,e)=>t<255?e(t):"";function _V(t){var e=EV(t)?bV:xV;return t?"#"+e(t.r)+e(t.g)+e(t.b)+SV(t.a,e):void 0}const TV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function l2(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function kV(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function NV(t,e,n){const r=l2(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function IV(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function L0(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=IV(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function F0(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(di)}function $0(t,e,n){return F0(l2,t,e,n)}function RV(t,e,n){return F0(NV,t,e,n)}function OV(t,e,n){return F0(kV,t,e,n)}function c2(t){return(t%360+360)%360}function PV(t){const e=TV.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Va(+e[5]):di(+e[5]));const i=c2(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=RV(i,s,o):e[1]==="hsv"?r=OV(i,s,o):r=$0(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function AV(t,e){var n=L0(t);n[0]=c2(n[0]+e),n=$0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function DV(t){if(!t)return;const e=L0(t),n=e[0],r=ax(e[1]),i=ax(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${sr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const lx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function MV(){const t={},e=Object.keys(cx),n=Object.keys(lx);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,lx[s]);s=parseInt(cx[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let wu;function LV(t){wu||(wu=MV(),wu.transparent=[0,0,0,0]);const e=wu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const FV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $V(t){const e=FV.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Va(o):Gr(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Va(r):Gr(r,0,255)),i=255&(e[4]?Va(i):Gr(i,0,255)),s=255&(e[6]?Va(s):Gr(s,0,255)),{r,g:i,b:s,a:n}}}function jV(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${sr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Lp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,As=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function zV(t,e,n){const r=As(sr(t.r)),i=As(sr(t.g)),s=As(sr(t.b));return{r:di(Lp(r+n*(As(sr(e.r))-r))),g:di(Lp(i+n*(As(sr(e.g))-i))),b:di(Lp(s+n*(As(sr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function bu(t,e,n){if(t){let r=L0(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=$0(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function u2(t,e){return t&&Object.assign(e||{},t)}function ux(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=di(t[3]))):(e=u2(t,{r:0,g:0,b:0,a:1}),e.a=di(e.a)),e}function VV(t){return t.charAt(0)==="r"?$V(t):PV(t)}class ec{constructor(e){if(e instanceof ec)return e;const n=typeof e;let r;n==="object"?r=ux(e):n==="string"&&(r=CV(e)||LV(e)||VV(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=u2(this._rgb);return e&&(e.a=sr(e.a)),e}set rgb(e){this._rgb=ux(e)}rgbString(){return this._valid?jV(this._rgb):void 0}hexString(){return this._valid?_V(this._rgb):void 0}hslString(){return this._valid?DV(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=zV(this._rgb,e._rgb,n)),this}clone(){return new ec(this.rgb)}alpha(e){return this._rgb.a=di(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Lc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return bu(this._rgb,2,e),this}darken(e){return bu(this._rgb,2,-e),this}saturate(e){return bu(this._rgb,1,e),this}desaturate(e){return bu(this._rgb,1,-e),this}rotate(e){return AV(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function er(){}const BV=(()=>{let t=0;return()=>t++})();function ve(t){return t==null}function Re(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function he(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function je(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ht(t,e){return je(t)?t:e}function le(t,e){return typeof t>"u"?e:t}const UV=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ge(t,e,n,r){let i,s,o;if(Re(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(he(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function ad(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ld(t){if(Re(t))return t.map(ld);if(he(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=ld(t[n[i]]);return e}return t}function h2(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function HV(t,e,n,r){if(!h2(t))return;const i=e[t],s=n[t];he(i)&&he(s)?tc(i,s,r):e[t]=ld(s)}function tc(t,e,n){const r=Re(e)?e:[e],i=r.length;if(!he(t))return t;n=n||{};const s=n.merger||HV;let o;for(let a=0;a<i;++a){if(o=r[a],!he(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function cl(t,e){return tc(t,e,{merger:WV})}function WV(t,e,n){if(!h2(t))return;const r=e[t],i=n[t];he(r)&&he(i)?cl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ld(i))}const hx={"":t=>t,x:t=>t.x,y:t=>t.y};function qV(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function KV(t){const e=qV(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function cd(t,e){return(hx[e]||(hx[e]=KV(e)))(t)}function j0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ud=t=>typeof t<"u",wi=t=>typeof t=="function",dx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function GV(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ge=Math.PI,Qt=2*Ge,YV=Qt+Ge,hd=Number.POSITIVE_INFINITY,QV=Ge/180,Gt=Ge/2,Pi=Ge/4,fx=Ge*2/3,Yr=Math.log10,Vo=Math.sign;function ul(t,e,n){return Math.abs(t-e)<n}function px(t){const e=Math.round(t);t=ul(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Yr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function XV(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function JV(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function nc(t){return!JV(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ZV(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function d2(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Qr(t){return t*(Ge/180)}function z0(t){return t*(180/Ge)}function mx(t){if(!je(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function e5(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ge&&(s+=Qt),{angle:s,distance:i}}function Og(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function t5(t,e){return(t-e+YV)%Qt-Ge}function qt(t){return(t%Qt+Qt)%Qt}function f2(t,e,n,r){const i=qt(t),s=qt(e),o=qt(n),a=qt(s-i),l=qt(o-i),c=qt(i-s),u=qt(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function un(t,e,n){return Math.max(e,Math.min(n,t))}function n5(t){return un(t,-32768,32767)}function Zs(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function V0(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Yi=(t,e,n,r)=>V0(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),r5=(t,e,n)=>V0(t,n,r=>t[r][e]>=n);function i5(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const p2=["push","pop","shift","splice","unshift"];function s5(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),p2.forEach(n=>{const r="_onData"+j0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function gx(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(p2.forEach(s=>{delete t[s]}),delete t._chartjs)}function o5(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const m2=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function g2(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,m2.call(window,()=>{r=!1,t.apply(e,n)}))}}function a5(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const B0=t=>t==="start"?"left":t==="end"?"right":"center",mt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,l5=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function c5(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(i=Math.min(Yi(l,u,h).lo,n?r:Yi(e,u,o.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(w=>!ve(w[a.axis]));i-=Math.max(0,g)}i=un(i,0,r-1)}if(m){let g=Math.max(Yi(l,o.axis,f,!0).hi+1,n?0:Yi(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const w=l.slice(g-1).findIndex(v=>!ve(v[a.axis]));g+=Math.max(0,w)}s=un(g,i,r)-i}else s=r-i}return{start:i,count:s}}function u5(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const xu=t=>t===0||t===1,vx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Qt/n)),yx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Qt/n)+1,hl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Gt)+1,easeOutSine:t=>Math.sin(t*Gt),easeInOutSine:t=>-.5*(Math.cos(Ge*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>xu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>xu(t)?t:vx(t,.075,.3),easeOutElastic:t=>xu(t)?t:yx(t,.075,.3),easeInOutElastic(t){return xu(t)?t:t<.5?.5*vx(t*2,.1125,.45):.5+.5*yx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hl.easeInBounce(t*2)*.5:hl.easeOutBounce(t*2-1)*.5+.5};function U0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wx(t){return U0(t)?t:new ec(t)}function Fp(t){return U0(t)?t:new ec(t).saturate(.5).darken(.1).hexString()}const h5=["x","y","borderWidth","radius","tension"],d5=["color","borderColor","backgroundColor"];function f5(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:d5},numbers:{type:"number",properties:h5}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function p5(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bx=new Map;function m5(t,e){e=e||{};const n=t+JSON.stringify(e);let r=bx.get(n);return r||(r=new Intl.NumberFormat(t,e),bx.set(n,r)),r}function H0(t,e,n){return m5(e,n).format(t)}const v2={values(t){return Re(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=g5(t,n)}const o=Yr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),H0(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Yr(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?v2.numeric.call(this,t,e,n):""}};function g5(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Tf={formatters:v2};function v5(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ys=Object.create(null),Pg=Object.create(null);function dl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function $p(t,e,n){return typeof e=="string"?tc(dl(t,e),n):tc(dl(t,""),e)}class y5{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Fp(i.backgroundColor),this.hoverBorderColor=(r,i)=>Fp(i.borderColor),this.hoverColor=(r,i)=>Fp(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return $p(this,e,n)}get(e){return dl(this,e)}describe(e,n){return $p(Pg,e,n)}override(e,n){return $p(ys,e,n)}route(e,n,r,i){const s=dl(this,e),o=dl(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return he(l)?Object.assign({},c,l):le(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var ze=new y5({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[f5,p5,v5]);function w5(t){return!t||ve(t.size)||ve(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function dd(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function b5(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Re(h))o=dd(t,i,s,o,h);else if(Re(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!Re(f)&&(o=dd(t,i,s,o,f));t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return o}function Ai(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function xx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ag(t,e,n,r){y2(t,e,n,r,null)}function y2(t,e,n,r,i){let s,o,a,l,c,u,h,f;const p=e.pointStyle,m=e.rotation,g=e.radius;let w=(m||0)*QV;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,g,0,0,Qt):t.arc(n,r,g,0,Qt),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(w)*u,r-Math.cos(w)*g),w+=fx,t.lineTo(n+Math.sin(w)*u,r-Math.cos(w)*g),w+=fx,t.lineTo(n+Math.sin(w)*u,r-Math.cos(w)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(w+Pi)*l,h=Math.cos(w+Pi)*(i?i/2-c:l),a=Math.sin(w+Pi)*l,f=Math.sin(w+Pi)*(i?i/2-c:l),t.arc(n-h,r-a,c,w-Ge,w-Gt),t.arc(n+f,r-o,c,w-Gt,w),t.arc(n+h,r+a,c,w,w+Gt),t.arc(n-f,r+o,c,w+Gt,w+Ge),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}w+=Pi;case"rectRot":h=Math.cos(w)*(i?i/2:g),o=Math.cos(w)*g,a=Math.sin(w)*g,f=Math.sin(w)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+f,r-o),t.lineTo(n+h,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":w+=Pi;case"cross":h=Math.cos(w)*(i?i/2:g),o=Math.cos(w)*g,a=Math.sin(w)*g,f=Math.sin(w)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":h=Math.cos(w)*(i?i/2:g),o=Math.cos(w)*g,a=Math.sin(w)*g,f=Math.sin(w)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),w+=Pi,h=Math.cos(w)*(i?i/2:g),o=Math.cos(w)*g,a=Math.sin(w)*g,f=Math.sin(w)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(w)*g,a=Math.sin(w)*g,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(i?i/2:g),r+Math.sin(w)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function dr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function kf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Nf(t){t.restore()}function x5(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function E5(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function C5(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ve(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function S5(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function _5(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ws(t,e,n,r,i,s={}){const o=Re(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,C5(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&_5(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ve(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),S5(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function fd(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ge,Ge,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Ge,Gt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Gt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Gt,!0),t.lineTo(n+o.topLeft,r)}const T5=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,k5=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function N5(t,e){const n=(""+t).match(T5);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const I5=t=>+t||0;function w2(t,e){const n={},r=he(e),i=r?Object.keys(e):e,s=he(t)?r?o=>le(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=I5(s(o));return n}function R5(t){return w2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vo(t){return w2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Tt(t){const e=R5(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Je(t,e){t=t||{},e=e||ze.font;let n=le(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=le(t.style,e.style);r&&!(""+r).match(k5)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:le(t.family,e.family),lineHeight:N5(le(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:le(t.weight,e.weight),string:""};return i.string=w5(i),i}function Eu(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Re(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function O5(t,e,n){const{min:r,max:i}=t,s=UV(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Ni(t,e){return Object.assign(Object.create(t),e)}function W0(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=C2("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>W0([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return x2(a,l,()=>j5(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Cx(a).includes(l)},ownKeys(a){return Cx(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Bo(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:b2(t,r),setContext:s=>Bo(t,s,n,r),override:s=>Bo(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return x2(s,o,()=>A5(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function b2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:wi(n)?n:()=>n,isIndexable:wi(r)?r:()=>r}}const P5=(t,e)=>t?t+j0(e):e,q0=(t,e)=>he(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function x2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function A5(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return wi(a)&&o.isScriptable(e)&&(a=D5(e,a,t,n)),Re(a)&&a.length&&(a=M5(e,a,t,o.isIndexable)),q0(e,a)&&(a=Bo(a,i,s&&s[e],o)),a}function D5(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),q0(t,l)&&(l=K0(i._scopes,i,t,l)),l}function M5(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(he(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=K0(c,i,t,u);e.push(Bo(h,s,o&&o[t],a))}}return e}function E2(t,e,n){return wi(t)?t(e,n):t}const L5=(t,e)=>t===!0?e:typeof t=="string"?cd(e,t):void 0;function F5(t,e,n,r,i){for(const s of e){const o=L5(n,s);if(o){t.add(o);const a=E2(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function K0(t,e,n,r){const i=e._rootScopes,s=E2(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=Ex(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=Ex(a,o,s,l,r),l===null)?!1:W0(Array.from(a),[""],i,s,()=>$5(e,n,r))}function Ex(t,e,n,r,i){for(;n;)n=F5(t,e,n,r,i);return n}function $5(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Re(i)&&he(n)?n:i||{}}function j5(t,e,n,r){let i;for(const s of e)if(i=C2(P5(s,t),n),typeof i<"u")return q0(t,i)?K0(n,r,t,i):i}function C2(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Cx(t){let e=t._keys;return e||(e=t._keys=z5(t._scopes)),e}function z5(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const V5=Number.EPSILON||1e-14,Uo=(t,e)=>e<t.length&&!t[e].skip&&t[e],S2=t=>t==="x"?"y":"x";function B5(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Og(s,i),l=Og(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,f=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function U5(t,e,n){const r=t.length;let i,s,o,a,l,c=Uo(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Uo(t,u+1),!(!l||!c)){if(ul(e[u],0,V5)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function H5(t,e,n="x"){const r=S2(n),i=t.length;let s,o,a,l=Uo(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Uo(t,c+1),!a)continue;const u=a[n],h=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=h+s*e[c])}}function W5(t,e="x"){const n=S2(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Uo(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=Uo(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Vo(i[o-1])!==Vo(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}U5(t,i,s),H5(t,s,e)}function Cu(t,e,n){return Math.max(Math.min(t,n),e)}function q5(t,e){let n,r,i,s,o,a=dr(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&dr(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Cu(i.cp1x,e.left,e.right),i.cp1y=Cu(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Cu(i.cp2x,e.left,e.right),i.cp2y=Cu(i.cp2y,e.top,e.bottom)))}function K5(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")W5(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=B5(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&q5(t,n)}function G0(){return typeof window<"u"&&typeof document<"u"}function Y0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function pd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const If=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function G5(t,e){return If(t).getPropertyValue(e)}const Y5=["top","right","bottom","left"];function rs(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Y5[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Q5=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function X5(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(Q5(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Vi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=If(n),s=i.boxSizing==="border-box",o=rs(i,"padding"),a=rs(i,"border","width"),{x:l,y:c,box:u}=X5(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:m}=e;return s&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/p*n.width/r),y:Math.round((c-f)/m*n.height/r)}}function J5(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Y0(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=If(s),l=rs(a,"border","width"),c=rs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=pd(a.maxWidth,s,"clientWidth"),i=pd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||hd,maxHeight:i||hd}}const Su=t=>Math.round(t*10)/10;function Z5(t,e,n,r){const i=If(t),s=rs(i,"margin"),o=pd(i.maxWidth,t,"clientWidth")||hd,a=pd(i.maxHeight,t,"clientHeight")||hd,l=J5(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=rs(i,"border","width"),p=rs(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Su(Math.min(c,o,l.maxWidth)),u=Su(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Su(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Su(Math.floor(u*r))),{width:c,height:u}}function Sx(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const eB=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};G0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function _x(t,e){const n=G5(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Bi(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function tB(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function nB(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Bi(t,i,n),a=Bi(i,s,n),l=Bi(s,e,n),c=Bi(o,a,n),u=Bi(a,l,n);return Bi(c,u,n)}const rB=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},iB=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function yo(t,e,n){return t?rB(e,n):iB()}function _2(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function T2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function k2(t){return t==="angle"?{between:f2,compare:t5,normalize:qt}:{between:Zs,compare:(e,n)=>e-n,normalize:e=>e}}function Tx({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function sB(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=k2(r),l=e.length;let{start:c,end:u,loop:h}=t,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function N2(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=k2(r),{start:u,end:h,loop:f,style:p}=sB(t,e,n),m=[];let g=!1,w=null,v,y,E;const C=()=>l(i,E,v)&&a(i,E)!==0,S=()=>a(s,v)===0||l(s,E,v),_=()=>g||C(),k=()=>!g||S();for(let T=u,R=u;T<=h;++T)y=e[T%o],!y.skip&&(v=c(y[r]),v!==E&&(g=l(v,i,s),w===null&&_()&&(w=a(v,i)===0?T:R),w!==null&&k()&&(m.push(Tx({start:w,end:T,loop:f,count:o,style:p})),w=null),R=T,E=v));return w!==null&&m.push(Tx({start:w,end:h,loop:f,count:o,style:p})),m}function I2(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=N2(r[i],t.points,e);s.length&&n.push(...s)}return n}function oB(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function aB(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function lB(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=oB(n,i,s,r);if(r===!0)return kx(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return kx(t,aB(n,o,l,c),n,e)}function kx(t,e,n,r){return!r||!r.setContext||!n?e:cB(t,e,n,r)}function cB(t,e,n,r){const i=t._chart.getContext(),s=Nx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,f=h;function p(m,g,w,v){const y=a?-1:1;if(m!==g){for(m+=l;n[m%l].skip;)m-=y;for(;n[g%l].skip;)g+=y;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:w,style:v}),u=v,h=g%l)}}for(const m of e){h=a?h:m.start;let g=n[h%l],w;for(f=h+1;f<=m.end;f++){const v=n[f%l];w=Nx(r.setContext(Ni(i,{type:"segment",p0:g,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),uB(w,u)&&p(h,f-1,m.loop,u),g=v,u=w}h<f-1&&p(h,f-1,m.loop,u)}return c}function Nx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function uB(t,e){if(!e)return!1;const n=[],r=function(i,s){return U0(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function _u(t,e,n){return t.options.clip?t[n]:e[n]}function hB(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:_u(n,e,"left"),right:_u(n,e,"right"),top:_u(r,e,"top"),bottom:_u(r,e,"bottom")}:e}function R2(t,e){const n=e._clip;if(n.disabled)return!1;const r=hB(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class dB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=m2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tr=new dB;const Ix="transparent",fB={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=wx(t||Ix),i=r.valid&&wx(e||Ix);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class pB{constructor(e,n,r,i){const s=n[r];i=Eu([e.to,i,s,e.from]);const o=Eu([e.from,s,i]);this._active=!0,this._fn=e.fn||fB[e.type||typeof o],this._easing=hl[e.easing]||hl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Eu([e.to,n,i,e.from]),this._from=Eu([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class O2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!he(e))return;const n=Object.keys(ze.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!he(s))return;const o={};for(const a of n)o[a]=s[a];(Re(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=gB(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&mB(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const f=r.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=h=new pB(f,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return tr.add(this._chart,r),!0}}function mB(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function gB(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Rx(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function vB(t,e,n){if(n===!1)return!1;const r=Rx(t,n),i=Rx(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function yB(t){let e,n,r,i;return he(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function P2(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Ox(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],je(c)&&(s||e===0||Vo(e)===Vo(c))&&(e+=c)}return!u&&!r.all?0:e}function wB(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function jp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function bB(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function xB(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function EB(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Px(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Ax(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=bB(s,o,r),h=e.length;let f;for(let p=0;p<h;++p){const m=e[p],{[l]:g,[c]:w}=m,v=m._stacks||(m._stacks={});f=v[c]=EB(i,u,g),f[a]=w,f._top=Px(f,o,!0,r.type),f._bottom=Px(f,o,!1,r.type);const y=f._visualValues||(f._visualValues={});y[a]=w}}function zp(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function CB(t,e){return Ni(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function SB(t,e,n){return Ni(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Sa(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Vp=t=>t==="reset"||t==="none",Dx=(t,e)=>e?t:Object.assign({},t),_B=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:P2(n,!0),values:null};class fl{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=jp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Sa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,s=n.xAxisID=le(r.xAxisID,zp(e,"x")),o=n.yAxisID=le(r.yAxisID,zp(e,"y")),a=n.rAxisID=le(r.rAxisID,zp(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&gx(this._data,this),e._stacked&&Sa(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(he(n)){const i=this._cachedMeta;this._data=wB(n,i)}else if(r!==n){if(r){gx(r,this);const i=this._cachedMeta;Sa(i),i._parsed=[]}n&&Object.isExtensible(n)&&s5(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=jp(n.vScale,n),n.stack!==r.stack&&(i=!0,Sa(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(Ax(this,n._parsed),n._stacked=jp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{Re(i[e])?f=this.parseArrayData(r,i,e,n):he(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=h=f[u],l&&(p()&&(l=!1),c=h);r._sorted=l}o&&Ax(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let f,p,m;for(f=0,p=i;f<p;++f)m=f+r,h[f]={[a]:u||s.parse(c[m],m),[l]:o.parse(n[m],m)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+r,p=n[f],c[u]={x:s.parse(cd(p,a),f),y:o.parse(cd(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:P2(i,!0),values:n._stacks[e.axis]._visualValues};return Ox(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Ox(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=_B(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=xB(a);let f,p;function m(){p=i[f];const g=p[a.axis];return!je(p[e.axis])||u>g||h<g}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],je(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=yB(le(this.options.clip,vB(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=SB(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=CB(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&ud(r);if(a)return Dx(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(ze.elements[e]),m=()=>this.getContext(r,i,n),g=c.resolveNamedOptions(f,p,m,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(Dx(g,l))),g}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,r,n))}const c=new O2(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Vp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Vp(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Vp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Sa(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}J(fl,"defaults",{}),J(fl,"datasetElementType",null),J(fl,"dataElementType",null);class nh extends fl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=c5(n,i,o);this._drawStart=a,this._drawCount=l,u5(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,w=nc(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",y=n+r,E=e.length;let C=n>0&&this.getParsed(n-1);for(let S=0;S<E;++S){const _=e[S],k=v?_:{};if(S<n||S>=y){k.skip=!0;continue}const T=this.getParsed(S),R=ve(T[p]),O=k[f]=o.getPixelForValue(T[f],S),D=k[p]=s||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],S);k.skip=isNaN(O)||isNaN(D)||R,k.stop=S>0&&Math.abs(T[f]-C[f])>w,g&&(k.parsed=T,k.raw=c.data[S]),h&&(k.options=u||this.resolveDataElementOptions(S,_.active?"active":i)),v||this.updateElement(_,S,k,i),C=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}J(nh,"id","line"),J(nh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),J(nh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Di(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Q0{constructor(e){J(this,"options");this.options=e||{}}static override(e){Object.assign(Q0.prototype,e)}init(){}formats(){return Di()}parse(){return Di()}format(){return Di()}add(){return Di()}diff(){return Di()}startOf(){return Di()}endOf(){return Di()}}var TB={_date:Q0};function kB(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?r5:Yi;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(s,e,n-h),p=c(s,e,n+h);return{lo:f.lo,hi:p.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(g=>!ve(g[h.axis]));u.lo-=Math.max(0,p);const m=f.slice(u.hi).findIndex(g=>!ve(g[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function Fc(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:f}=kB(s[a],e,o,i);for(let p=h;p<=f;++p){const m=u[p];m.skip||r(m,c,p)}}}function NB(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Bp(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Fc(t,n,e,function(a,l,c){!i&&!dr(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function IB(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=e5(o,{x:e.x,y:e.y});f2(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Fc(t,n,e,s),i}function RB(t,e,n,r,i,s){let o=[];const a=NB(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(e.x,e.y,i);if(r&&!p)return;const m=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(m))&&!p)return;const w=a(e,m);w<l?(o=[{element:u,datasetIndex:h,index:f}],l=w):w===l&&o.push({element:u,datasetIndex:h,index:f})}return Fc(t,n,e,c),o}function Up(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?IB(t,e,n,i):RB(t,e,n,r,i,s)}function Mx(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Fc(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var OB={evaluateInteractionItems:Fc,modes:{index(t,e,n,r){const i=Vi(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Bp(t,i,s,r,o):Up(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Vi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Bp(t,i,s,r,o):Up(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Vi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Bp(t,i,s,r,o)},nearest(t,e,n,r){const i=Vi(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Up(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Vi(e,t);return Mx(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Vi(e,t);return Mx(t,i,"y",n.intersect,r)}}};const A2=["left","top","right","bottom"];function _a(t,e){return t.filter(n=>n.pos===e)}function Lx(t,e){return t.filter(n=>A2.indexOf(n.pos)===-1&&n.box.axis===e)}function Ta(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function PB(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function AB(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!A2.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function DB(t,e){const n=AB(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function MB(t){const e=PB(t),n=Ta(e.filter(c=>c.box.fullSize),!0),r=Ta(_a(e,"left"),!0),i=Ta(_a(e,"right")),s=Ta(_a(e,"top"),!0),o=Ta(_a(e,"bottom")),a=Lx(e,"x"),l=Lx(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:_a(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Fx(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function D2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function LB(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!he(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&D2(o,s.getPadding());const a=Math.max(0,e.outerWidth-Fx(o,t,"left","right")),l=Math.max(0,e.outerHeight-Fx(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function FB(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function $B(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Ba(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,$B(a.horizontal,e));const{same:h,other:f}=LB(e,n,a,r);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Ba(i,e,n,r)||u}function Tu(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function $x(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;ud(c.start)&&(o=c.start),l.fullSize?Tu(l,i.left,o,n.outerWidth-i.right-i.left,f):Tu(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;ud(c.start)&&(s=c.start),l.fullSize?Tu(l,s,i.top,f,n.outerHeight-i.bottom-i.top):Tu(l,s,e.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var hn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Tt(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=MB(t.boxes),l=a.vertical,c=a.horizontal;ge(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,w)=>w.box.options&&w.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);D2(f,Tt(r));const p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),m=DB(l.concat(c),h);Ba(a.fullSize,p,h,m),Ba(l,p,h,m),Ba(c,p,h,m)&&Ba(l,p,h,m),FB(p),$x(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,$x(a.rightAndBottom,p,h,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ge(a.chartArea,g=>{const w=g.box;Object.assign(w,t.chartArea),w.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class M2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class jB extends M2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rh="$chartjs",zB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jx=t=>t===null||t==="";function VB(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[rh]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",jx(i)){const s=_x(t,"width");s!==void 0&&(t.width=s)}if(jx(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=_x(t,"height");s!==void 0&&(t.height=s)}return t}const L2=eB?{passive:!0}:!1;function BB(t,e,n){t&&t.addEventListener(e,n,L2)}function UB(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,L2)}function HB(t,e){const n=zB[t.type]||t.type,{x:r,y:i}=Vi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function md(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function WB(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||md(a.addedNodes,r),o=o&&!md(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function qB(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||md(a.removedNodes,r),o=o&&!md(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const rc=new Map;let zx=0;function F2(){const t=window.devicePixelRatio;t!==zx&&(zx=t,rc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function KB(t,e){rc.size||window.addEventListener("resize",F2),rc.set(t,e)}function GB(t){rc.delete(t),rc.size||window.removeEventListener("resize",F2)}function YB(t,e,n){const r=t.canvas,i=r&&Y0(r);if(!i)return;const s=g2((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),KB(t,s),o}function Hp(t,e,n){n&&n.disconnect(),e==="resize"&&GB(t)}function QB(t,e,n){const r=t.canvas,i=g2(s=>{t.ctx!==null&&n(HB(s,t))},t);return BB(r,e,i),i}class XB extends M2{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(VB(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[rh])return!1;const r=n[rh].initial;["height","width"].forEach(s=>{const o=r[s];ve(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[rh],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:WB,detach:qB,resize:YB}[n]||QB;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Hp,detach:Hp,resize:Hp}[n]||UB)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return Z5(e,n,r,i)}isAttached(e){const n=e&&Y0(e);return!!(n&&n.isConnected)}}function JB(t){return!G0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?jB:XB}var Au;let Ts=(Au=class{constructor(){J(this,"x");J(this,"y");J(this,"active",!1);J(this,"options");J(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return nc(this.x)&&nc(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},J(Au,"defaults",{}),J(Au,"defaultRoutes"),Au);function ZB(t,e){const n=t.options.ticks,r=e6(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?n6(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return r6(e,c,s,o/i),c;const u=t6(s,e,i);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(ku(e,c,u,ve(p)?0:a-p,a),h=0,f=o-1;h<f;h++)ku(e,c,u,s[h],s[h+1]);return ku(e,c,u,l,ve(p)?e.length:l+p),c}return ku(e,c,u),c}function e6(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function t6(t,e,n){const r=i6(t),i=e.length/n;if(!r)return Math.max(i,1);const s=XV(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function n6(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function r6(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function ku(t,e,n,r,i){const s=le(r,0),o=Math.min(le(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function i6(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const s6=t=>t==="left"?"right":t==="right"?"left":t,Vx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Bx=(t,e)=>Math.min(e||t,t);function Ux(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function o6(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function a6(t,e){ge(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ka(t){return t.drawTicks?t.tickLength:0}function Hx(t,e){if(!t.display)return 0;const n=Je(t.font,e),r=Tt(t.padding);return(Re(t.text)?t.text.length:1)*n.lineHeight+r.height}function l6(t,e){return Ni(t,{scale:e,type:"scale"})}function c6(t,e,n){return Ni(t,{tick:n,index:e,type:"tick"})}function u6(t,e,n){let r=B0(t);return(n&&e!=="right"||!n&&e==="right")&&(r=s6(r)),r}function h6(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,p,m;const g=o-i,w=a-s;if(t.isHorizontal()){if(p=mt(r,s,a),he(n)){const v=Object.keys(n)[0],y=n[v];m=u[v].getPixelForValue(y)+g-e}else n==="center"?m=(c.bottom+c.top)/2+g-e:m=Vx(t,n,e);f=a-s}else{if(he(n)){const v=Object.keys(n)[0],y=n[v];p=u[v].getPixelForValue(y)-w+e}else n==="center"?p=(c.left+c.right)/2-w+e:p=Vx(t,n,e);m=mt(r,o,i),h=n==="left"?-Gt:Gt}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class ks extends Ts{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Ht(e,Number.POSITIVE_INFINITY),n=Ht(n,Number.NEGATIVE_INFINITY),r=Ht(r,Number.POSITIVE_INFINITY),i=Ht(i,Number.NEGATIVE_INFINITY),{min:Ht(e,r),max:Ht(n,i),minDefined:je(e),maxDefined:je(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Ht(n,Ht(r,n)),max:Ht(r,Ht(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=O5(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ux(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=ZB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=xe(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Bx(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=un(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),h+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-ka(e.grid)-n.padding-Hx(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=z0(Math.min(Math.asin(un((u.highest.height+6)/a,-1,1)),Math.asin(un(l/c,-1,1))-Math.asin(un(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Hx(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ka(s)+l):(e.height=this.maxHeight,e.width=ka(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,m=Qr(this.labelRotation),g=Math.cos(m),w=Math.sin(m);if(a){const v=r.mirror?0:w*h.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=r.mirror?0:g*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(c,u,w,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=r*n.height):(f=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ve(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ux(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Bx(n,r));let c=0,u=0,h,f,p,m,g,w,v,y,E,C,S;for(h=0;h<n;h+=l){if(m=e[h].label,g=this._resolveTickFontOptions(h),i.font=w=g.string,v=s[w]=s[w]||{data:{},gc:[]},y=g.lineHeight,E=C=0,!ve(m)&&!Re(m))E=dd(i,v.data,v.gc,E,m),C=y;else if(Re(m))for(f=0,p=m.length;f<p;++f)S=m[f],!ve(S)&&!Re(S)&&(E=dd(i,v.data,v.gc,E,S),C+=y);o.push(E),a.push(C),c=Math.max(E,c),u=Math.max(C,u)}a6(s,n);const _=o.indexOf(c),k=a.indexOf(u),T=R=>({width:o[R]||0,height:a[R]||0});return{first:T(0),last:T(n-1),widest:T(_),highest:T(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return n5(this._alignToPixels?Ai(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=c6(this.getContext(),e,r))}return this.$context||(this.$context=l6(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Qr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=ka(s),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,w=g/2,v=function(W){return Ai(r,W,g)};let y,E,C,S,_,k,T,R,O,D,j,V;if(o==="top")y=v(this.bottom),k=this.bottom-f,R=y-w,D=v(e.top)+w,V=e.bottom;else if(o==="bottom")y=v(this.top),D=e.top,V=v(e.bottom)-w,k=y+w,R=this.top+f;else if(o==="left")y=v(this.right),_=this.right-f,T=y-w,O=v(e.left)+w,j=e.right;else if(o==="right")y=v(this.left),O=e.left,j=v(e.right)-w,_=y+w,T=this.left+f;else if(n==="x"){if(o==="center")y=v((e.top+e.bottom)/2+.5);else if(he(o)){const W=Object.keys(o)[0],Q=o[W];y=v(this.chart.scales[W].getPixelForValue(Q))}D=e.top,V=e.bottom,k=y+w,R=k+f}else if(n==="y"){if(o==="center")y=v((e.left+e.right)/2);else if(he(o)){const W=Object.keys(o)[0],Q=o[W];y=v(this.chart.scales[W].getPixelForValue(Q))}_=y-w,T=_-f,O=e.left,j=e.right}const X=le(i.ticks.maxTicksLimit,h),G=Math.max(1,Math.ceil(h/X));for(E=0;E<h;E+=G){const W=this.getContext(E),Q=s.setContext(W),L=a.setContext(W),B=Q.lineWidth,K=Q.color,ie=L.dash||[],oe=L.dashOffset,Oe=Q.tickWidth,me=Q.tickColor,se=Q.tickBorderDash||[],be=Q.tickBorderDashOffset;C=o6(this,E,l),C!==void 0&&(S=Ai(r,C,B),c?_=T=O=j=S:k=R=D=V=S,p.push({tx1:_,ty1:k,tx2:T,ty2:R,x1:O,y1:D,x2:j,y2:V,width:B,color:K,borderDash:ie,borderDashOffset:oe,tickWidth:Oe,tickColor:me,tickBorderDash:se,tickBorderDashOffset:be}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=ka(r.grid),p=f+u,m=h?-u:p,g=-Qr(this.labelRotation),w=[];let v,y,E,C,S,_,k,T,R,O,D,j,V="middle";if(i==="top")_=this.bottom-m,k=this._getXAxisLabelAlignment();else if(i==="bottom")_=this.top+m,k=this._getXAxisLabelAlignment();else if(i==="left"){const G=this._getYAxisLabelAlignment(f);k=G.textAlign,S=G.x}else if(i==="right"){const G=this._getYAxisLabelAlignment(f);k=G.textAlign,S=G.x}else if(n==="x"){if(i==="center")_=(e.top+e.bottom)/2+p;else if(he(i)){const G=Object.keys(i)[0],W=i[G];_=this.chart.scales[G].getPixelForValue(W)+p}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-p;else if(he(i)){const G=Object.keys(i)[0],W=i[G];S=this.chart.scales[G].getPixelForValue(W)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const X=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){E=a[v],C=E.label;const G=s.setContext(this.getContext(v));T=this.getPixelForTick(v)+s.labelOffset,R=this._resolveTickFontOptions(v),O=R.lineHeight,D=Re(C)?C.length:1;const W=D/2,Q=G.color,L=G.textStrokeColor,B=G.textStrokeWidth;let K=k;o?(S=T,k==="inner"&&(v===y-1?K=this.options.reverse?"left":"right":v===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?c==="near"||g!==0?j=-D*O+O/2:c==="center"?j=-X.highest.height/2-W*O+O:j=-X.highest.height+O/2:c==="near"||g!==0?j=O/2:c==="center"?j=X.highest.height/2-W*O:j=X.highest.height-D*O,h&&(j*=-1),g!==0&&!G.showLabelBackdrop&&(S+=O/2*Math.sin(g))):(_=T,j=(1-D)*O/2);let ie;if(G.showLabelBackdrop){const oe=Tt(G.backdropPadding),Oe=X.heights[v],me=X.widths[v];let se=j-oe.top,be=0-oe.left;switch(V){case"middle":se-=Oe/2;break;case"bottom":se-=Oe;break}switch(k){case"center":be-=me/2;break;case"right":be-=me;break;case"inner":v===y-1?be-=me:v>0&&(be-=me/2);break}ie={left:be,top:se,width:me+oe.width,height:Oe+oe.height,color:G.backdropColor}}w.push({label:C,font:R,textOffset:j,options:{rotation:g,color:Q,strokeColor:L,strokeWidth:B,textAlign:K,textBaseline:V,translation:[S,_],backdrop:ie}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Qr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Ai(e,this.left,o)-o/2,u=Ai(e,this.right,a)+a/2,h=f=l):(h=Ai(e,this.top,o)-o/2,f=Ai(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&kf(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ws(r,c,0,u,l,a)}i&&Nf(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Je(r.font),o=Tt(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||he(n)?(l+=o.bottom,Re(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=h6(this,l,n,a);ws(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:u6(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=le(e.grid&&e.grid.z,-1),i=le(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ks.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Je(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Nu{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;p6(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,d6(e,o,r),this.override&&ze.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in ze[i]&&(delete ze[i][r],this.override&&delete ys[r])}}function d6(t,e,n){const r=tc(Object.create(null),[n?ze.get(n):{},ze.get(e),t.defaults]);ze.set(e,r),t.defaultRoutes&&f6(e,t.defaultRoutes),t.descriptors&&ze.describe(e,t.descriptors)}function f6(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ze.route(s,i,l,a)})}function p6(t){return"id"in t&&"defaults"in t}class m6{constructor(){this.controllers=new Nu(fl,"datasets",!0),this.elements=new Nu(Ts,"elements"),this.plugins=new Nu(Object,"plugins"),this.scales=new Nu(ks,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):ge(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=j0(e);xe(r["before"+i],[],r),n[e](r),xe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var $n=new m6;class g6{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(xe(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=le(r.options&&r.options.plugins,{}),s=v6(r);return i===!1&&!n?[]:w6(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function v6(t){const e={},n=[],r=Object.keys($n.plugins.items);for(let s=0;s<r.length;s++)n.push($n.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function y6(t,e){return!e&&t===!1?null:t===!0?{}:t}function w6(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=y6(r[l],i);c!==null&&s.push({plugin:a,options:b6(t.config,{plugin:a,local:n[l]},c,o)})}return s}function b6(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dg(t,e){const n=ze.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function x6(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function E6(t,e){return t===e?"_index_":"_value_"}function Wx(t){if(t==="x"||t==="y"||t==="r")return t}function C6(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Mg(t,...e){if(Wx(t))return t;for(const n of e){const r=n.axis||C6(n.position)||t.length>1&&Wx(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function qx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function S6(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return qx(t,"x",n[0])||qx(t,"y",n[0])}return{}}function _6(t,e){const n=ys[t.type]||{scales:{}},r=e.scales||{},i=Dg(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!he(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Mg(o,a,S6(o,t),ze.scales[a.type]),c=E6(l,i),u=n.scales||{};s[o]=cl(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Dg(a,e),u=(ys[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=x6(h,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),cl(s[p],[{axis:f},r[p],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];cl(a,[ze.scales[a.type],ze.scale])}),s}function $2(t){const e=t.options||(t.options={});e.plugins=le(e.plugins,{}),e.scales=_6(t,e)}function j2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function T6(t){return t=t||{},t.data=j2(t.data),$2(t),t}const Kx=new Map,z2=new Set;function Iu(t,e){let n=Kx.get(t);return n||(n=e(),Kx.set(t,n),z2.add(n)),n}const Na=(t,e,n)=>{const r=cd(e,n);r!==void 0&&t.add(r)};class k6{constructor(e){this._config=T6(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=j2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Iu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Iu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Iu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Iu(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Na(l,e,h))),u.forEach(h=>Na(l,i,h)),u.forEach(h=>Na(l,ys[s]||{},h)),u.forEach(h=>Na(l,ze,h)),u.forEach(h=>Na(l,Pg,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),z2.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ys[n]||{},ze.datasets[n]||{},{type:n},ze,Pg]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Gx(this._resolverCache,e,i);let l=o;if(I6(o,n)){s.$shared=!1,r=wi(r)?r():r;const c=this.createResolver(e,r,a);l=Bo(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=Gx(this._resolverCache,e,r);return he(n)?Bo(s,n,void 0,i):s}}function Gx(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:W0(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const N6=t=>he(t)&&Object.getOwnPropertyNames(t).some(e=>wi(t[e]));function I6(t,e){const{isScriptable:n,isIndexable:r}=b2(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(wi(a)||N6(a))||o&&Re(a))return!0}return!1}var R6="4.5.0";const O6=["top","bottom","left","right","chartArea"];function Yx(t,e){return t==="top"||t==="bottom"||O6.indexOf(t)===-1&&e==="x"}function Qx(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Xx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xe(n&&n.onComplete,[t],e)}function P6(t){const e=t.chart,n=e.options.animation;xe(n&&n.onProgress,[t],e)}function V2(t){return G0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ih={},Jx=t=>{const e=V2(t);return Object.values(ih).filter(n=>n.canvas===e).pop()};function A6(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function D6(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Dr;let Rf=(Dr=class{static register(...e){$n.add(...e),Zx()}static unregister(...e){$n.remove(...e),Zx()}constructor(e,n){const r=this.config=new k6(n),i=V2(e),s=Jx(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||JB(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=BV(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new g6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=a5(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ih[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}tr.listen(this,"complete",Xx),tr.listen(this,"progress",P6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ve(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return $n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Sx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xx(this.canvas,this.ctx),this}stop(){return tr.stop(this),this}resize(e,n){tr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Sx(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),xe(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ge(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Mg(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ge(s,o=>{const a=o.options,l=a.id,c=Mg(l,a),u=le(a.type,o.dtype);(a.position===void 0||Yx(a.position,c)!==Yx(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const f=$n.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),ge(i,(o,a)=>{o||delete r[a]}),ge(r,o=>{hn.configure(this,o,o.options),hn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Qx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Dg(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=$n.getController(a),{datasetElementType:c,dataElementType:u}=ze.datasets[a];Object.assign(l,{dataElementType:$n.getElement(u),datasetElementType:c&&$n.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ge(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||ge(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Qx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ge(this.scales,e=>{hn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!dx(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;A6(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!dx(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;hn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ge(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,wi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tr.has(this)?this.attached&&!tr.running(this)&&tr.start(this):(this.draw(),Xx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=R2(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&kf(n,i),e.controller.draw(),i&&Nf(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return dr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=OB.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ni(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);ud(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),tr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ih[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ge(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ge(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ge(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ad(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=GV(e),c=D6(e,this._lastEvent,r,l);r&&(this._lastEvent=null,xe(s.onHover,[e,a,this],this),l&&xe(s.onClick,[e,a,this],this));const u=!ad(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},J(Dr,"defaults",ze),J(Dr,"instances",ih),J(Dr,"overrides",ys),J(Dr,"registry",$n),J(Dr,"version",R6),J(Dr,"getChart",Jx),Dr);function Zx(){return ge(Rf.instances,t=>t._plugins.invalidate())}function B2(t,e,n=e){t.lineCap=le(n.borderCapStyle,e.borderCapStyle),t.setLineDash(le(n.borderDash,e.borderDash)),t.lineDashOffset=le(n.borderDashOffset,e.borderDashOffset),t.lineJoin=le(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=le(n.borderWidth,e.borderWidth),t.strokeStyle=le(n.borderColor,e.borderColor)}function M6(t,e,n){t.lineTo(n.x,n.y)}function L6(t){return t.stepped?x5:t.tension||t.cubicInterpolationMode==="monotone"?E5:M6}function U2(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function F6(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=U2(i,n,r),u=L6(s);let{move:h=!0,reverse:f}=r||{},p,m,g;for(p=0;p<=c;++p)m=i[(a+(f?c-p:p))%o],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):u(t,g,m,f,s.stepped),g=m);return l&&(m=i[(a+(f?c:0))%o],u(t,g,m,f,s.stepped)),!!l}function $6(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=U2(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,f,p,m,g,w,v;const y=C=>(o+(c?a-C:C))%s,E=()=>{g!==w&&(t.lineTo(u,w),t.lineTo(u,g),t.lineTo(u,v))};for(l&&(p=i[y(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[y(f)],p.skip)continue;const C=p.x,S=p.y,_=C|0;_===m?(S<g?g=S:S>w&&(w=S),u=(h*u+C)/++h):(E(),t.lineTo(C,S),m=_,h=0,g=w=S),v=S}E()}function Lg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?$6:F6}function j6(t){return t.stepped?tB:t.tension||t.cubicInterpolationMode==="monotone"?nB:Bi}function z6(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),B2(t,e.options),t.stroke(i)}function V6(t,e,n,r){const{segments:i,options:s}=e,o=Lg(e);for(const a of i)B2(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const B6=typeof Path2D=="function";function U6(t,e,n,r){B6&&!e.options.segment?z6(t,e,n,r):V6(t,e,n,r)}class Xr extends Ts{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;K5(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=lB(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=I2(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=j6(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=s[h],m=s[f];if(p===m){a.push(p);continue}const g=Math.abs((i-p[n])/(m[n]-p[n])),w=l(p,m,g,r.stepped);w[n]=e[n],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Lg(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Lg(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),U6(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}J(Xr,"id","line"),J(Xr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),J(Xr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),J(Xr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function eE(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class sh extends Ts{constructor(n){super();J(this,"parsed");J(this,"skip");J(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return eE(this,n,"x",r)}inYRange(n,r){return eE(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!dr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Ag(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}J(sh,"id","point"),J(sh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),J(sh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function H6(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=Of(l,c,i);const u=Fg(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=I2(e,u);for(const f of h){const p=Fg(n,s[f.start],s[f.end],f.loop),m=N2(a,i,p);for(const g of m)o.push({source:g,target:f,start:{[n]:tE(u,p,"start",Math.max)},end:{[n]:tE(u,p,"end",Math.min)}})}}return o}function Fg(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=qt(i),s=qt(s)),{property:t,start:i,end:s}}function W6(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Of(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function Of(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function tE(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function H2(t,e){let n=[],r=!1;return Re(t)?(r=!0,n=t):n=W6(t,e),n.length?new Xr({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function nE(t){return t&&t.fill!==!1}function q6(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!je(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function K6(t,e,n){const r=X6(t);if(he(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return je(i)&&Math.floor(i)===i?G6(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function G6(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Y6(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:he(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Q6(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:he(t)?r=t.value:r=e.getBaseValue(),r}function X6(t){const e=t.options,n=e.fill;let r=le(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function J6(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=Z6(e,n);a.push(H2({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)e9(i,o[u],a)}return new Xr({points:i,options:{}})}function Z6(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function e9(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=t9(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function t9(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][n],f=o[u.end][n];if(Zs(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:r}}class W2{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Qt},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function n9(t){const{chart:e,fill:n,line:r}=t;if(je(n))return r9(e,n);if(n==="stack")return J6(t);if(n==="shape")return!0;const i=i9(t);return i instanceof W2?i:H2(i,r)}function r9(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function i9(t){return(t.scale||{}).getPointPositionForValue?o9(t):s9(t)}function s9(t){const{scale:e={},fill:n}=t,r=Y6(n,e);if(je(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function o9(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=Q6(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new W2({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function Wp(t,e,n){const r=n9(e),{chart:i,index:s,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=u||{},m=i.getDatasetMeta(s),g=R2(i,m);r&&o.points.length&&(kf(t,n),a9(t,{line:o,target:r,above:f,below:p,area:n,scale:a,axis:l,clip:g}),Nf(t))}function a9(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=s;s!==i&&(c==="x"?(rE(t,r,o.top),qp(t,{line:n,target:r,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),rE(t,r,o.bottom)):c==="y"&&(iE(t,r,o.left),qp(t,{line:n,target:r,color:s,scale:a,property:c,clip:l}),t.restore(),t.save(),iE(t,r,o.right),u=i)),qp(t,{line:n,target:r,color:u,scale:a,property:c,clip:l}),t.restore()}function rE(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],h=i[Of(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function iE(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],h=i[Of(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function qp(t,e){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=e,l=H6(n,r,i);for(const{source:c,target:u,start:h,end:f}of l){const{style:{backgroundColor:p=s}={}}=c,m=r!==!0;t.save(),t.fillStyle=p,l9(t,o,a,m&&Fg(i,h,f)),t.beginPath();const g=!!n.pathSegment(t,c);let w;if(m){g?t.closePath():sE(t,r,f,i);const v=!!r.pathSegment(t,u,{move:g,reverse:!0});w=g&&v,w||sE(t,r,h,i)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function l9(t,e,n,r){const i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,c,u,h;s==="x"?(l=o,c=i.top,u=a,h=i.bottom):(l=i.left,c=o,u=i.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(l,c,u-l,h-c),t.clip()}}function sE(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var c9={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Xr&&(l={visible:t.isDatasetVisible(o),index:o,fill:K6(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=q6(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&Wp(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;nE(s)&&Wp(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!nE(r)||n.drawTime!=="beforeDatasetDraw"||Wp(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const oE=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},u9=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class aE extends Ts{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=xe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Je(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=oE(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,g)=>{const w=r+n/2+s.measureText(m.text).width;(g===0||c[c.length-1]+w+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,p+=u,f++),l[g]={left:0,top:p,row:f,width:w,height:i},c[c.length-1]+=w+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((w,v)=>{const{itemWidth:y,itemHeight:E}=h9(r,n,s,w,i);v>0&&p+E+2*a>u&&(h+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[v]={left:m,top:p,col:g,width:y,height:E},f=Math.max(f,y),p+=E+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=yo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=mt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=mt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=mt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=mt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;kf(e,this),this._draw(),Nf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=ze.color,l=yo(e.rtl,this.left,this.width),c=Je(o.font),{padding:u}=o,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:w}=oE(o,h),v=function(_,k,T){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const R=le(T.lineWidth,1);if(i.fillStyle=le(T.fillStyle,a),i.lineCap=le(T.lineCap,"butt"),i.lineDashOffset=le(T.lineDashOffset,0),i.lineJoin=le(T.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=le(T.strokeStyle,a),i.setLineDash(le(T.lineDash,[])),o.usePointStyle){const O={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:R},D=l.xPlus(_,m/2),j=k+f;y2(i,O,D,j,o.pointStyleWidth&&m)}else{const O=k+Math.max((h-g)/2,0),D=l.leftForLtr(_,m),j=vo(T.borderRadius);i.beginPath(),Object.values(j).some(V=>V!==0)?fd(i,{x:D,y:O,w:m,h:g,radius:j}):i.rect(D,O,m,g),i.fill(),R!==0&&i.stroke()}i.restore()},y=function(_,k,T){ws(i,T.text,_,k+w/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},E=this.isHorizontal(),C=this._computeTitleHeight();E?p={x:mt(s,this.left+u,this.right-r[0]),y:this.top+u+C,line:0}:p={x:this.left+u,y:mt(s,this.top+C+u,this.bottom-n[0].height),line:0},_2(this.ctx,e.textDirection);const S=w+u;this.legendItems.forEach((_,k)=>{i.strokeStyle=_.fontColor,i.fillStyle=_.fontColor;const T=i.measureText(_.text).width,R=l.textAlign(_.textAlign||(_.textAlign=o.textAlign)),O=m+f+T;let D=p.x,j=p.y;l.setWidth(this.width),E?k>0&&D+O+u>this.right&&(j=p.y+=S,p.line++,D=p.x=mt(s,this.left+u,this.right-r[p.line])):k>0&&j+S>this.bottom&&(D=p.x=D+n[p.line].width+u,p.line++,j=p.y=mt(s,this.top+C+u,this.bottom-n[p.line].height));const V=l.x(D);if(v(V,j,_),D=l5(R,D+m+f,E?D+O:this.right,e.rtl),y(l.x(D),j,_),E)p.x+=O+u;else if(typeof _.text!="string"){const X=c.lineHeight;p.y+=q2(_,X)+u}else p.y+=S}),T2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Je(n.font),i=Tt(n.padding);if(!n.display)return;const s=yo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=mt(e.align,h,this.right-f);else{const m=this.columnSizes.reduce((g,w)=>Math.max(g,w.height),0);u=c+mt(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=mt(a,h,h+f);o.textAlign=s.textAlign(B0(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,ws(o,n.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,n=Je(e.font),r=Tt(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Zs(e,this.left,this.right)&&Zs(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Zs(e,i.left,i.left+i.width)&&Zs(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!p9(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=u9(i,r);i&&!s&&xe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&xe(n.onHover,[e,r,this],this)}else r&&xe(n.onClick,[e,r,this],this)}}function h9(t,e,n,r,i){const s=d9(r,t,e,n),o=f9(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function d9(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function f9(t,e,n){let r=t;return typeof e.text!="string"&&(r=q2(e,n)),r}function q2(t,e){const n=t.text?t.text.length:0;return e*n}function p9(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var m9={id:"legend",_element:aE,start(t,e,n){const r=t.legend=new aE({ctx:t.ctx,options:n,chart:t});hn.configure(t,r,n),hn.addBox(t,r)},stop(t){hn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;hn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Tt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class K2 extends Ts{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Re(r.text)?r.text.length:1;this._padding=Tt(r.padding);const s=i*Je(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=mt(a,r,s),h=n+e,c=s-r):(o.position==="left"?(u=r+e,h=mt(a,i,n),l=Ge*-.5):(u=s-e,h=mt(a,n,i),l=Ge*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Je(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ws(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:B0(n.align),textBaseline:"middle",translation:[o,a]})}}function g9(t,e){const n=new K2({ctx:t.ctx,options:e,chart:t});hn.configure(t,n,e),hn.addBox(t,n),t.titleBlock=n}var v9={id:"title",_element:K2,start(t,e,n){g9(t,n)},stop(t){const e=t.titleBlock;hn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;hn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ua={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Og(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Ln(t,e){return e&&(Re(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function nr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function y9(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function lE(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Je(e.bodyFont),c=Je(e.titleFont),u=Je(e.footerFont),h=s.length,f=i.length,p=r.length,m=Tt(e.padding);let g=m.height,w=0,v=r.reduce((C,S)=>C+S.before.length+S.lines.length+S.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*C+(v-p)*l.lineHeight+(v-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const E=function(C){w=Math.max(w,n.measureText(C).width+y)};return n.save(),n.font=c.string,ge(t.title,E),n.font=l.string,ge(t.beforeBody.concat(t.afterBody),E),y=e.displayColors?o+2+e.boxPadding:0,ge(r,C=>{ge(C.before,E),ge(C.lines,E),ge(C.after,E)}),y=0,n.font=u.string,ge(t.footer,E),n.restore(),w+=m.width,{width:w,height:g}}function w9(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function b9(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function x9(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),b9(c,t,e,n)&&(c="center"),c}function cE(t,e,n){const r=n.yAlign||e.yAlign||w9(t,n);return{xAlign:n.xAlign||e.xAlign||x9(t,e,n,r),yAlign:r}}function E9(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function C9(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function uE(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=vo(o);let m=E9(e,a);const g=C9(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+i:a==="right"&&(m+=Math.max(h,p)+i),{x:un(m,0,r.width-e.width),y:un(g,0,r.height-e.height)}}function Ru(t,e,n){const r=Tt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function hE(t){return Ln([],nr(t))}function S9(t,e,n){return Ni(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function dE(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const G2={beforeTitle:er,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:er,beforeBody:er,beforeLabel:er,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ve(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:er,afterBody:er,beforeFooter:er,footer:er,afterFooter:er};function Dt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?G2[e].call(n,r):i}class $g extends Ts{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new O2(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=S9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Dt(r,"beforeTitle",this,e),s=Dt(r,"title",this,e),o=Dt(r,"afterTitle",this,e);let a=[];return a=Ln(a,nr(i)),a=Ln(a,nr(s)),a=Ln(a,nr(o)),a}getBeforeBody(e,n){return hE(Dt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return ge(e,s=>{const o={before:[],lines:[],after:[]},a=dE(r,s);Ln(o.before,nr(Dt(a,"beforeLabel",this,s))),Ln(o.lines,Dt(a,"label",this,s)),Ln(o.after,nr(Dt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return hE(Dt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Dt(r,"beforeFooter",this,e),s=Dt(r,"footer",this,e),o=Dt(r,"afterFooter",this,e);let a=[];return a=Ln(a,nr(i)),a=Ln(a,nr(s)),a=Ln(a,nr(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(y9(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),ge(a,u=>{const h=dE(e.callbacks,u);i.push(Dt(h,"labelColor",this,u)),s.push(Dt(h,"labelPointStyle",this,u)),o.push(Dt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Ua[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=lE(this,r),c=Object.assign({},a,l),u=cE(this.chart,r,c),h=uE(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=vo(a),{x:f,y:p}=e,{width:m,height:g}=n;let w,v,y,E,C,S;return s==="center"?(C=p+g/2,i==="left"?(w=f,v=w-o,E=C+o,S=C-o):(w=f+m,v=w+o,E=C-o,S=C+o),y=w):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+m-Math.max(c,h)-o:v=this.caretX,s==="top"?(E=p,C=E-o,w=v-o,y=v+o):(E=p+g,C=E+o,w=v+o,y=v-o),S=E),{x1:w,x2:v,x3:y,y1:E,y2:C,y3:S}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=yo(r.rtl,this.x,this.width);for(e.x=Ru(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Je(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Je(s.bodyFont),h=Ru(this,"left",s),f=i.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+p;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(f,c)+c/2,v=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ag(e,g,w,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ag(e,g,w,v)}else{e.lineWidth=he(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(f,c),w=i.leftForLtr(i.xPlus(f,1),c-2),v=vo(o.borderRadius);Object.values(v).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,fd(e,{x:g,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),fd(e,{x:w,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(w,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Je(r.bodyFont);let f=h.lineHeight,p=0;const m=yo(r.rtl,this.x,this.width),g=function(T){n.fillText(T,m.x(e.x+p),e.y+f/2),e.y+=f+s},w=m.textAlign(o);let v,y,E,C,S,_,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Ru(this,w,r),n.fillStyle=r.bodyColor,ge(this.beforeBody,g),p=a&&w!=="right"?o==="center"?c/2+u:c+2+u:0,C=0,_=i.length;C<_;++C){for(v=i[C],y=this.labelTextColors[C],n.fillStyle=y,ge(v.before,g),E=v.lines,a&&E.length&&(this._drawColorBox(n,e,C,m,r),f=Math.max(h.lineHeight,l)),S=0,k=E.length;S<k;++S)g(E[S]),f=h.lineHeight;ge(v.after,g)}p=0,f=h.lineHeight,ge(this.afterBody,g),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=yo(r.rtl,this.x,this.width);for(e.x=Ru(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Je(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=vo(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Ua[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=lE(this,e),l=Object.assign({},o,this._size),c=cE(n,e,l),u=uE(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Tt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),_2(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),T2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!ad(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!ad(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Ua[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}J($g,"positioners",Ua);var _9={id:"tooltip",_element:$g,positioners:Ua,afterInit(t,e,n){n&&(t.tooltip=new $g({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:G2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const T9=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function k9(t,e,n,r){const i=t.indexOf(e);if(i===-1)return T9(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const N9=(t,e)=>t===null?null:un(Math.round(t),0,e);function fE(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class jg extends ks{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ve(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:k9(r,e,le(n,e),this._addedLabels),N9(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return fE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}J(jg,"id","category"),J(jg,"defaults",{ticks:{callback:fE}});function I9(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=s||1,m=u-1,{min:g,max:w}=e,v=!ve(o),y=!ve(a),E=!ve(c),C=(w-g)/(h+1);let S=px((w-g)/m/p)*p,_,k,T,R;if(S<1e-14&&!v&&!y)return[{value:g},{value:w}];R=Math.ceil(w/S)-Math.floor(g/S),R>m&&(S=px(R*S/m/p)*p),ve(l)||(_=Math.pow(10,l),S=Math.ceil(S*_)/_),i==="ticks"?(k=Math.floor(g/S)*S,T=Math.ceil(w/S)*S):(k=g,T=w),v&&y&&s&&ZV((a-o)/s,S/1e3)?(R=Math.round(Math.min((a-o)/S,u)),S=(a-o)/R,k=o,T=a):E?(k=v?o:k,T=y?a:T,R=c-1,S=(T-k)/R):(R=(T-k)/S,ul(R,Math.round(R),S/1e3)?R=Math.round(R):R=Math.ceil(R));const O=Math.max(mx(S),mx(k));_=Math.pow(10,ve(l)?O:l),k=Math.round(k*_)/_,T=Math.round(T*_)/_;let D=0;for(v&&(f&&k!==o?(n.push({value:o}),k<o&&D++,ul(Math.round((k+D*S)*_)/_,o,pE(o,C,t))&&D++):k<o&&D++);D<R;++D){const j=Math.round((k+D*S)*_)/_;if(y&&j>a)break;n.push({value:j})}return y&&f&&T!==a?n.length&&ul(n[n.length-1].value,a,pE(a,C,t))?n[n.length-1].value=a:n.push({value:a}):(!y||T===a)&&n.push({value:T}),n}function pE(t,e,{horizontal:n,minRotation:r}){const i=Qr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class gd extends ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ve(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Vo(i),c=Vo(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=I9(i,s);return e.bounds==="ticks"&&d2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return H0(e,this.chart.options.locale,this.options.ticks.format)}}class zg extends gd{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=je(e)?e:0,this.max=je(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Qr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}J(zg,"id","linear"),J(zg,"defaults",{ticks:{callback:Tf.formatters.numeric}});const ic=t=>Math.floor(Yr(t)),Mi=(t,e)=>Math.pow(10,ic(t)+e);function mE(t){return t/Math.pow(10,ic(t))===1}function gE(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function R9(t,e){const n=e-t;let r=ic(n);for(;gE(t,e,r)>10;)r++;for(;gE(t,e,r)<10;)r--;return Math.min(r,ic(t))}function O9(t,{min:e,max:n}){e=Ht(t.min,e);const r=[],i=ic(e);let s=R9(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),f=Ht(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:mE(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+u+h*Math.pow(10,s))*o)/o;const p=Ht(t.max,f);return r.push({value:p,major:mE(p),significand:h}),r}class vE extends ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=gd.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return je(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=je(e)?Math.max(0,e):null,this.max=je(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!je(this._userMin)&&(this.min=e===Mi(this.min,0)?Mi(this.min,-1):Mi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Mi(r,-1)),o(Mi(i,1)))),r<=0&&s(Mi(i,-1)),i<=0&&o(Mi(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=O9(n,this);return e.bounds==="ticks"&&d2(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":H0(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Yr(e),this._valueRange=Yr(this.max)-Yr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Yr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}J(vE,"id","logarithmic"),J(vE,"defaults",{ticks:{callback:Tf.formatters.logarithmic,major:{enabled:!0}}});function Vg(t){const e=t.ticks;if(e.display&&t.display){const n=Tt(e.backdropPadding);return le(e.font&&e.font.size,ze.font.size)+n.height}return 0}function P9(t,e,n){return n=Re(n)?n:[n],{w:b5(t,e.string,n),h:n.length*e.lineHeight}}function yE(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function A9(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ge/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),h=Je(c.font),f=P9(t.ctx,h,t._pointLabels[l]);r[l]=f;const p=qt(t.getIndexAngle(l)+a),m=Math.round(z0(p)),g=yE(m,u.x,f.w,0,180),w=yE(m,u.y,f.h,90,270);D9(n,e,p,g,w)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=F9(t,r,i)}function D9(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function M9(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(z0(qt(l.angle+Gt))),u=z9(l.y,a.h,c),h=$9(c),f=j9(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function L9(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(dr({x:n,y:r},e)||dr({x:n,y:s},e)||dr({x:i,y:r},e)||dr({x:i,y:s},e))}function F9(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Vg(s)/2,additionalAngle:o?Ge/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const h=M9(t,u,l);r.push(h),a==="auto"&&(h.visible=L9(h,c),h.visible&&(c=h))}return r}function $9(t){return t===0||t===180?"center":t<180?"left":"right"}function j9(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function z9(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function V9(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ve(a)){const l=vo(e.borderRadius),c=Tt(e.backdropPadding);t.fillStyle=a;const u=r-c.left,h=i-c.top,f=s-r+c.width,p=o-i+c.height;Object.values(l).some(m=>m!==0)?(t.beginPath(),fd(t,{x:u,y:h,w:f,h:p,radius:l}),t.fill()):t.fillRect(u,h,f,p)}}function B9(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));V9(n,o,s);const a=Je(o.font),{x:l,y:c,textAlign:u}=s;ws(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Y2(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Qt);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function U9(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),Y2(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function H9(t,e,n){return Ni(t,{label:n,index:e,type:"pointLabel"})}class Ou extends gd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Tt(Vg(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=je(e)&&!isNaN(e)?e:0,this.max=je(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Vg(this.options))}generateTickLabels(e){gd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=xe(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?A9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=Qt/(this._pointLabels.length||1),r=this.options.startAngle||0;return qt(e*n+Qr(r))}getDistanceFromCenterForValue(e){if(ve(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ve(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return H9(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-Gt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Y2(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&B9(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=i.setContext(f),m=s.setContext(f);U9(this,p,l,o,m)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Je(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Tt(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}ws(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}J(Ou,"id","radialLinear"),J(Ou,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),J(Ou,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),J(Ou,"descriptors",{angleLines:{_fallback:"grid"}});const Pf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Lt=Object.keys(Pf);function wE(t,e){return t-e}function bE(t,e){if(ve(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),je(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(nc(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function xE(t,e,n,r){const i=Lt.length;for(let s=Lt.indexOf(t);s<i-1;++s){const o=Pf[Lt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Lt[s]}return Lt[i-1]}function W9(t,e,n,r,i){for(let s=Lt.length-1;s>=Lt.indexOf(n);s--){const o=Lt[s];if(Pf[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Lt[n?Lt.indexOf(n):0]}function q9(t){for(let e=Lt.indexOf(t)+1,n=Lt.length;e<n;++e)if(Pf[Lt[e]].common)return Lt[e]}function EE(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=V0(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function K9(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function CE(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:K9(t,r,i,n)}class vd extends ks{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new TB._date(e.adapters.date);i.init(n),cl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:bE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=je(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=je(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=i5(i,s,o);return this._unit=n.unit||(r.autoSkip?xE(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):W9(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:q9(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),CE(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=un(n,0,o),r=un(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||xE(s.minUnit,n,r,this._getLabelCapacity(n)),a=le(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=nc(l)||l===!0,u={};let h=n,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+e.add(f,a,o),p++)EE(u,f,m);return(f===r||i.bounds==="ticks"||p===1)&&EE(u,f,m),Object.keys(u).sort(wE).map(g=>+g)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return xe(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=r[n],p=c&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Qr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,CE(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(bE(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return o5(e.sort(wE))}}J(vd,"id","time"),J(vd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Pu(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Yi(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Yi(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class SE extends vd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Pu(n,this.min),this._tableRange=Pu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Pu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Pu(this._table,r*this._tableRange+this._minPos,!0)}}J(SE,"id","timeseries"),J(SE,"defaults",vd.defaults);const Q2="label";function _E(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function G9(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function X2(t,e){t.labels=e}function J2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Q2;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Y9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q2;const n={labels:[],datasets:[]};return X2(n,t.labels),J2(n,t.datasets,e),n}function Q9(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,p=b.useRef(null),m=b.useRef(null),g=()=>{p.current&&(m.current=new Rf(p.current,{type:o,data:Y9(a,s),options:l&&{...l},plugins:c}),_E(e,m.current))},w=()=>{_E(e,null),m.current&&(m.current.destroy(),m.current=null)};return b.useEffect(()=>{!i&&m.current&&l&&G9(m.current,l)},[i,l]),b.useEffect(()=>{!i&&m.current&&X2(m.current.config.data,a.labels)},[i,a.labels]),b.useEffect(()=>{!i&&m.current&&a.datasets&&J2(m.current.config.data,a.datasets,s)},[i,a.datasets]),b.useEffect(()=>{m.current&&(i?(w(),setTimeout(g)):m.current.update(h))},[i,l,a.labels,a.datasets,h]),b.useEffect(()=>{m.current&&(w(),setTimeout(g))},[o]),b.useEffect(()=>(g(),()=>w()),[]),x.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},u)}const X9=b.forwardRef(Q9);function J9(t,e){return Rf.register(e),b.forwardRef((n,r)=>x.createElement(X9,{...n,ref:r,type:t}))}const Z9=J9("line",nh);function eU(){const[t,e]=b.useState({usersCount:0,sessionsCount:0,trainersCount:0,revenue:0,conversionRate:0}),[n,r]=b.useState({labels:[],data:[]}),[i,s]=b.useState(!0),[o,a]=b.useState(null);return b.useEffect(()=>{async function l(){s(!0);try{const[c,u,h]=await Promise.all([po(fo(hi,"users")),po(fo(hi,"sessions")),po(fo(hi,"payments"))]),f=c.size,p=u.size,m=c.docs.filter(C=>C.data().role==="trainer").length,g=h.docs.reduce((C,S)=>C+(S.data().amount||0),0),w=f>0?parseFloat((p/f*100).toFixed(2)):0;e({usersCount:f,sessionsCount:p,trainersCount:m,revenue:g,conversionRate:w});const v=new Date,y=Array.from({length:6},(C,S)=>{const _=new Date(v);return _.setMonth(v.getMonth()-(5-S)),_.toLocaleString("default",{month:"short"})}),E=y.map((C,S)=>Math.floor(p/6*(S+1)));r({labels:y,data:E})}catch(c){console.error(c),a(c)}finally{s(!1)}}l()},[]),{stats:t,monthly:n,loading:i,error:o}}Rf.register(jg,zg,sh,Xr,c9,v9,_9,m9);function tU(){const{stats:t,monthly:e,loading:n,error:r}=eU(),[i,s]=b.useState("light"),o=()=>{const m=i==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",m),s(m)},a=()=>{const m=`Mês,Sessões
${e.labels.map((v,y)=>`${v},${e.data[y]}`).join(`
`)}`,g=new Blob([m],{type:"text/csv"}),w=document.createElement("a");w.href=URL.createObjectURL(g),w.download="sessoes.csv",w.click()};if(n)return I.jsx(ll,{children:I.jsx("div",{className:"text-center mt-5",children:I.jsx(ki,{})})});if(r)return I.jsx(ll,{children:I.jsxs("div",{className:"text-center text-danger mt-5",children:["Erro: ",r.message]})});const{usersCount:l,sessionsCount:c,trainersCount:u,revenue:h}=t,{labels:f,data:p}=e;return I.jsxs(ll,{children:[I.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[I.jsx("h1",{className:"h4",children:"Dashboard"}),I.jsxs("div",{children:[I.jsx(Tr,{color:"secondary",variant:"outline",className:"me-2",onClick:o,children:i==="light"?"Modo Escuro":"Modo Claro"}),I.jsxs(Tr,{color:"primary",onClick:a,children:[I.jsx(Qe,{icon:uV,className:"me-2"})," Exportar CSV"]})]})]}),(c===0||h===0)&&I.jsx(u0,{color:"warning",className:"mb-4",children:"Atenção: Há sessões ou receita a zero – verifica os dados."}),I.jsxs(wf,{className:"mb-4",children:[I.jsx(hr,{sm:6,lg:3,children:I.jsx(Kr,{icon:I.jsx(Qe,{icon:fV,size:"xl"}),color:"primary",title:"Utilizadores",value:l.toLocaleString()})}),I.jsx(hr,{sm:6,lg:3,children:I.jsx(Kr,{icon:I.jsx(Qe,{icon:M0,size:"xl"}),color:"info",title:"Trainers",value:u.toLocaleString()})}),I.jsx(hr,{sm:6,lg:3,children:I.jsx(Kr,{icon:I.jsx(Qe,{icon:hV,size:"xl"}),color:"success",title:"Receita",value:`$${h.toLocaleString()}`})}),I.jsx(hr,{sm:6,lg:3,children:I.jsx(Kr,{icon:I.jsx(Qe,{icon:D0,size:"xl"}),color:"warning",title:"Sessões",value:c.toLocaleString()})})]}),I.jsxs(yn,{className:"mb-4",children:[I.jsx(vf,{children:"Sessões (últimos 6 meses)"}),I.jsx(wn,{children:I.jsx(Z9,{data:{labels:f,datasets:[{data:p,label:"Sessões",backgroundColor:"rgba(13,110,253,0.1)",borderColor:"#0b5ed7",fill:!0,tension:.4}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:m=>`${m.raw} sessões`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:10}}}}})})]})]})}function nU(){const[t,e]=b.useState(!0),[n,r]=b.useState([]);return b.useEffect(()=>{async function i(){const s=await po(fo(hi,"users"));r(s.docs.map(o=>({id:o.id,email:o.data().email,role:o.data().role}))),e(!1)}i()},[]),t?I.jsx(ll,{children:I.jsx("div",{className:"text-center mt-5",children:I.jsx(ki,{})})}):I.jsxs(ll,{children:[I.jsx("h2",{className:"mb-4",children:"Gestão de Utilizadores"}),I.jsx("div",{className:"table-responsive",children:I.jsxs(P0,{hover:!0,children:[I.jsx(Mc,{color:"light",children:I.jsxs(ns,{children:[I.jsx(mo,{children:"ID"}),I.jsx(mo,{children:"Email"}),I.jsx(mo,{children:"Role"})]})}),I.jsx(Sf,{children:n.map(i=>I.jsxs(ns,{children:[I.jsx(ts,{children:i.id}),I.jsx(ts,{children:i.email||"-"}),I.jsx(ts,{children:i.role})]},i.id))})]})})]})}function Kp({requiredRole:t}){const{user:e,role:n,loading:r}=_s();return r?I.jsx("div",{className:"vh-100 d-flex justify-content-center align-items-center",children:I.jsx(ki,{})}):e?t&&n!==t?I.jsx(Bm,{to:"/dashboard",replace:!0}):I.jsx(vA,{}):I.jsx(Bm,{to:"/login",replace:!0})}function rU(){return I.jsxs(wA,{children:[I.jsx(En,{path:"/",element:I.jsx(Bm,{to:"/login",replace:!0})}),I.jsx(En,{path:"/login",element:I.jsx(nV,{})}),I.jsx(En,{path:"/register",element:I.jsx(rV,{})}),I.jsx(En,{element:I.jsx(Kp,{}),children:I.jsx(En,{path:"/dashboard",element:I.jsx(pV,{})})}),I.jsx(En,{element:I.jsx(Kp,{requiredRole:"trainer"}),children:I.jsx(En,{path:"/trainer",element:I.jsx(mV,{})})}),I.jsxs(En,{element:I.jsx(Kp,{requiredRole:"admin"}),children:[I.jsx(En,{path:"/admin",element:I.jsx(tU,{})}),I.jsx(En,{path:"/admin/users",element:I.jsx(nU,{})})]})]})}Gp.createRoot(document.getElementById("root")).render(I.jsx(x.StrictMode,{children:I.jsx(kA,{children:I.jsx(_j,{children:I.jsx(rU,{})})})}));
