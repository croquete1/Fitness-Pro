const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Login-D0PA8Q6d.js","./vendor-KvGhzpsN.js","./vendor_chakra-DWgCqBcA.js","./vendor_firebase-Bf_rMZqC.js","./Register-CSS6jLOr.js","./Home-B8jK683K.js","./Profile-LN0NqtCm.js","./LayoutAdmin-CZevBgEy.js","./Header-CN4ajz3D.js","./LayoutTrainer-BNYOemzz.js","./LayoutCliente-Ayzc6Keo.js","./Settings-BflyGh-O.js","./DashboardCliente-Igk9FkPn.js","./DashboardTrainer-ECKTpEZQ.js","./DashboardAdmin-CKqKcvLq.js"])))=>i.map(i=>d[i]);
import{r as s,B as e,H as v,I as L,J as h,N as j,L as S,E as A}from"./vendor-KvGhzpsN.js";import{i as D,g as O,a as I,o as b,b as w,d as z}from"./vendor_firebase-Bf_rMZqC.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function a(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(t){if(t.ep)return;t.ep=!0;const r=a(t);fetch(t.href,r)}})();const C="modulepreload",T=function(c,i){return new URL(c,i).href},y={},m=function(i,a,u){let t=Promise.resolve();if(a&&a.length>0){let _=function(l){return Promise.all(l.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const o=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),d=n?.nonce||n?.getAttribute("nonce");t=_(a.map(l=>{if(l=T(l,u),l in y)return;y[l]=!0;const p=l.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(!!u)for(let x=o.length-1;x>=0;x--){const E=o[x];if(E.href===l&&(!p||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${g}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":C,p||(f.as="script"),f.crossOrigin="",f.href=l,d&&f.setAttribute("nonce",d),document.head.appendChild(f),p)return new Promise((x,E)=>{f.addEventListener("load",x),f.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=o,window.dispatchEvent(n),!n.defaultPrevented)throw o}return t.then(o=>{for(const n of o||[])n.status==="rejected"&&r(n.reason);return i().catch(r)})},N={apiKey:"AIzaSyAcGGE37ZiTFcz8mo1pSECvDCDOXdzbSHY",authDomain:"fitnesspro-36d8b.firebaseapp.com",projectId:"fitnesspro-36d8b",storageBucket:"fitnesspro-36d8b.firebasestorage.app",messagingSenderId:"881881913799",appId:"1:881881913799:web:08399068acd96e83f0e1e2",measurementId:"G-G3XJ0741CW"},P=D(N),R=O(P),V=I(P),B=s.lazy(()=>m(()=>import("./Login-D0PA8Q6d.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),U=s.lazy(()=>m(()=>import("./Register-CSS6jLOr.js"),__vite__mapDeps([4,1,2,3]),import.meta.url)),$=s.lazy(()=>m(()=>import("./Home-B8jK683K.js"),__vite__mapDeps([5,1,2]),import.meta.url)),G=s.lazy(()=>m(()=>import("./Profile-LN0NqtCm.js"),__vite__mapDeps([6,1,7,2,8,9,10,3]),import.meta.url)),M=s.lazy(()=>m(()=>import("./Settings-BflyGh-O.js"),__vite__mapDeps([11,1,2,7,8,9,10,3]),import.meta.url)),k=s.lazy(()=>m(()=>import("./DashboardCliente-Igk9FkPn.js"),__vite__mapDeps([12,1,10,2,8]),import.meta.url)),q=s.lazy(()=>m(()=>import("./DashboardTrainer-ECKTpEZQ.js"),__vite__mapDeps([13,1,9,2,8]),import.meta.url)),F=s.lazy(()=>m(()=>import("./DashboardAdmin-CKqKcvLq.js"),__vite__mapDeps([14,1,7,2,8]),import.meta.url));function H(){const[c,i]=s.useState(null),[a,u]=s.useState(""),[t,r]=s.useState(!0);if(s.useEffect(()=>{const n=b(R,async d=>{if(d){i(d);const _=await w(z(V,"users",d.uid));u(_.exists()?_.data().role:"")}else i(null),u("");r(!1)});return()=>n()},[]),t)return null;const o=()=>c?a==="cliente"?e.jsx(k,{user:c}):a==="trainer"?e.jsx(q,{user:c}):a==="admin"?e.jsx(F,{user:c}):e.jsx(j,{to:"/"}):e.jsx(j,{to:"/"});return e.jsx(v,{children:e.jsx(s.Suspense,{fallback:e.jsx("div",{children:"Carregando..."}),children:e.jsxs(L,{children:[e.jsx(h,{path:"/",element:e.jsx(B,{})}),e.jsx(h,{path:"/register",element:e.jsx(U,{})}),e.jsx(h,{path:"/home",element:e.jsx($,{})}),e.jsx(h,{path:"/profile",element:e.jsx(G,{})}),e.jsx(h,{path:"/settings",element:e.jsx(M,{})}),e.jsx(h,{path:"/dashboard",element:o()}),e.jsx(h,{path:"*",element:e.jsx(j,{to:"/"})})]})})})}const J=s.createContext();function K({children:c}){const[i,a]=s.useState(null),[u,t]=s.useState(null),[r,o]=s.useState(!0);return s.useEffect(()=>{const n=b(R,async d=>{if(d){a(d);const _=await fetchUserProfile(d.uid);t(_.role)}else a(null),t(null);o(!1)});return()=>n()},[]),e.jsx(J.Provider,{value:{user:i,role:u,loading:r},children:c})}S.createRoot(document.getElementById("root")).render(e.jsx(A.StrictMode,{children:e.jsx(v,{basename:"/",children:e.jsx(K,{children:e.jsx(H,{})})})}));export{R as a,V as d};
