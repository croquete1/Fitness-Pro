import{r as o,u as x,j as e,F as f,s as j,a as b}from"./index-DJ8sexXN.js";import{u as w,S as y,F as i,a as u,I as c}from"./use-toast-BXgmuXfu.js";import{B as S,H as E}from"./heading-iMxg-re2.js";import{B as v}from"./button-BLaV3_SP.js";function P(){const[a,d]=o.useState(""),[r,m]=o.useState(""),[g,n]=o.useState(!1),l=w(),h=x(),p=async s=>{if(s.preventDefault(),console.log("🔔 handleSubmit",{email:a}),!a||!r){l({title:"Preenche todos os campos.",status:"warning",isClosable:!0});return}n(!0);try{console.log("🔐 signInWithEmailAndPassword…");const t=await j(b,a,r);console.log("✅ login OK, uid=",t.user.uid),h("/dashboard",{replace:!0})}catch(t){console.error("❌ erro no login",t),l({title:"Erro no login",description:t.message,status:"error",isClosable:!0})}finally{n(!1)}};return e.jsx(f,{minH:"100vh",align:"center",justify:"center",bg:"gray.50",children:e.jsxs(S,{bg:"white",p:8,rounded:"md",shadow:"lg",w:"full",maxW:"md",children:[e.jsx(E,{mb:6,textAlign:"center",children:"Iniciar Sessão"}),e.jsx("form",{onSubmit:p,children:e.jsxs(y,{spacing:4,children:[e.jsxs(i,{children:[e.jsx(u,{children:"Email"}),e.jsx(c,{type:"email",placeholder:"email@exemplo.com",value:a,onChange:s=>d(s.target.value),autoFocus:!0,required:!0})]}),e.jsxs(i,{children:[e.jsx(u,{children:"Password"}),e.jsx(c,{type:"password",placeholder:"••••••••",value:r,onChange:s=>m(s.target.value),required:!0})]}),e.jsx(v,{colorScheme:"blue",type:"submit",isLoading:g,loadingText:"Entrando…",w:"full",children:"Entrar"})]})})]})})}export{P as default};
