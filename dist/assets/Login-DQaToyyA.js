import{j as r,r as b,u as G,L as J,s as K,a as Q}from"./index-kkmpThPk.js";import{f,c as x,u as j,a as m,S as X,o as S,b as Y,r as w,d as tt,B as et,H as st,T as I}from"./text-BCtmYr87.js";import{c as C,d as R,u as q,a as ot,F as nt,S as rt,b as N,I as T,B as at}from"./stack-CMcmAi-G.js";const it=(s,t)=>s.find(n=>n.id===t);function k(s,t){const n=M(s,t),o=n?s[n].findIndex(e=>e.id===t):-1;return{position:n,index:o}}function M(s,t){for(const[n,o]of Object.entries(s))if(it(o,t))return n}const B={path:r.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[r.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),r.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),r.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},g=f((s,t)=>{const{as:n,viewBox:o,color:e="currentColor",focusable:a=!1,children:l,className:i,__css:d,...c}=s,u=x("chakra-icon",i),p=j("Icon",s),$={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:e,...d,...p},_={ref:t,focusable:a,className:u,__css:$},U=o??B.viewBox;if(n&&typeof n!="string")return r.jsx(m.svg,{as:n,..._,...c});const V=l??B.path;return r.jsx(m.svg,{verticalAlign:"middle",viewBox:U,..._,...c,children:V})});g.displayName="Icon";function lt(s){return r.jsx(g,{viewBox:"0 0 24 24",...s,children:r.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function ct(s){return r.jsx(g,{viewBox:"0 0 24 24",...s,children:r.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function L(s){return r.jsx(g,{viewBox:"0 0 24 24",...s,children:r.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const[dt,A]=C({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[ut,v]=C({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),E={info:{icon:ct,colorScheme:"blue"},warning:{icon:L,colorScheme:"orange"},success:{icon:lt,colorScheme:"green"},error:{icon:L,colorScheme:"red"},loading:{icon:X,colorScheme:"blue"}};function mt(s){return E[s].colorScheme}function ht(s){return E[s].icon}const F=f(function(t,n){const{status:o="info",addRole:e=!0,...a}=S(t),l=t.colorScheme??mt(o),i=Y("Alert",{...t,colorScheme:l}),d=R({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...i.container});return r.jsx(dt,{value:{status:o},children:r.jsx(ut,{value:i,children:r.jsx(m.div,{"data-status":o,role:e?"alert":void 0,ref:n,...a,className:x("chakra-alert",t.className),__css:d})})})});F.displayName="Alert";function Z(s){const{status:t}=A(),n=ht(t),o=v(),e=t==="loading"?o.spinner:o.icon;return r.jsx(m.span,{display:"inherit","data-status":t,...s,className:x("chakra-alert__icon",s.className),__css:e,children:s.children||r.jsx(n,{h:"100%",w:"100%"})})}Z.displayName="AlertIcon";const O=f(function(t,n){const o=v(),{status:e}=A();return r.jsx(m.div,{ref:n,"data-status":e,...t,className:x("chakra-alert__title",t.className),__css:o.title})});O.displayName="AlertTitle";const D=f(function(t,n){const{status:o}=A(),e=v(),a=R({display:"inline",...e.description});return r.jsx(m.div,{ref:n,"data-status":o,...t,className:x("chakra-alert__desc",t.className),__css:a})});D.displayName="AlertDescription";function ft(s){return r.jsx(g,{focusable:"false","aria-hidden":!0,...s,children:r.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const H=f(function(t,n){const o=j("CloseButton",t),{children:e,isDisabled:a,__css:l,...i}=S(t),d={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return r.jsx(m.button,{type:"button","aria-label":"Close",ref:n,disabled:a,__css:{...d,...o,...l},...i,children:e||r.jsx(ft,{width:"1em",height:"1em"})})});H.displayName="CloseButton";const xt=s=>{const{status:t,variant:n="solid",id:o,title:e,isClosable:a,onClose:l,description:i,colorScheme:d,icon:c}=s,u=o?{root:`toast-${o}`,title:`toast-${o}-title`,description:`toast-${o}-description`}:void 0;return r.jsxs(F,{addRole:!1,status:t,variant:n,id:u?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:d,children:[r.jsx(Z,{children:c}),r.jsxs(m.div,{flex:"1",maxWidth:"100%",children:[e&&r.jsx(O,{id:u?.title,children:e}),i&&r.jsx(D,{id:u?.description,display:"block",children:i})]}),a&&r.jsx(H,{size:"sm",onClick:l,position:"absolute",insetEnd:1,top:1})]})};function W(s={}){const{render:t,toastComponent:n=xt}=s;return e=>typeof t=="function"?t({...e,...s}):r.jsx(n,{...e,...s})}const pt={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},h=gt(pt);function gt(s){let t=s;const n=new Set,o=e=>{t=e(t),n.forEach(a=>a())};return{getState:()=>t,subscribe:e=>(n.add(e),()=>{o(()=>s),n.delete(e)}),removeToast:(e,a)=>{o(l=>({...l,[a]:l[a].filter(i=>i.id!=e)}))},notify:(e,a)=>{const l=bt(e,a),{position:i,id:d}=l;return o(c=>{const p=i.includes("top")?[l,...c[i]??[]]:[...c[i]??[],l];return{...c,[i]:p}}),d},update:(e,a)=>{e&&o(l=>{const i={...l},{position:d,index:c}=k(i,e);return d&&c!==-1&&(i[d][c]={...i[d][c],...a,message:W(a)}),i})},closeAll:({positions:e}={})=>{o(a=>(e??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((d,c)=>(d[c]=a[c].map(u=>({...u,requestClose:!0})),d),{...a}))},close:e=>{o(a=>{const l=M(a,e);return l?{...a,[l]:a[l].map(i=>i.id==e?{...i,requestClose:!0}:i)}:a})},isActive:e=>!!k(h.getState(),e).position}}let P=0;function bt(s,t={}){P+=1;const n=t.id??P,o=t.position??"bottom";return{id:n,message:s,position:o,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:()=>h.removeToast(String(n),o),status:t.status,requestClose:!1,containerStyle:t.containerStyle}}const[wt,yt]=C({name:"ToastOptionsContext",strict:!1}),y=f(function(t,n){const o=j("FormLabel",t),e=S(t),{className:a,children:l,requiredIndicator:i=r.jsx(z,{}),optionalIndicator:d=null,...c}=e,u=q(),p=u?.getLabelProps(c,n)??{ref:n,...c};return r.jsxs(m.label,{...p,className:x("chakra-form__label",e.className),__css:{display:"block",textAlign:"start",...o},children:[l,u?.isRequired?i:d]})});y.displayName="FormLabel";const z=f(function(t,n){const o=q(),e=ot();if(!o?.isRequired)return null;const a=x("chakra-form__required-indicator",t.className);return r.jsx(m.span,{...o?.getRequiredIndicatorProps(t,n),__css:e.requiredIndicator,className:a})});z.displayName="RequiredIndicator";function jt(s,t){const n=s??"bottom";return{"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[n]?.[t]??n}function St(s,t){const n=e=>({...t,...e,position:jt(e?.position??t?.position,s)}),o=e=>{const a=n(e),l=W(a);return h.notify(l,a)};return o.update=(e,a)=>{h.update(e,n(a))},o.promise=(e,a)=>{const l=o({...a.loading,status:"loading",duration:null});e.then(i=>o.update(l,{status:"success",duration:5e3,...w(a.success,i)})).catch(i=>o.update(l,{status:"error",duration:5e3,...w(a.error,i)}))},o.closeAll=h.closeAll,o.close=h.close,o.isActive=h.isActive,o}function Ct(s){const{theme:t}=tt(),n=yt();return b.useMemo(()=>St(t.direction,{...n,...s}),[s,t.direction,n])}function It(){const[s,t]=b.useState(""),[n,o]=b.useState(""),[e,a]=b.useState(!1),l=Ct(),i=G(),d=async c=>{if(c.preventDefault(),!s||!n){l({title:"Preenche email e password",status:"warning",isClosable:!0});return}a(!0);try{await K(Q,s,n),l({title:"Sessão iniciada!",status:"success",isClosable:!0}),i("/dashboard",{replace:!0})}catch(u){l({title:"Erro ao iniciar sessão",description:u.message,status:"error",isClosable:!0})}finally{a(!1)}};return r.jsx(nt,{minH:"100vh",align:"center",justify:"center",bg:"gray.50",children:r.jsxs(et,{bg:"white",p:8,rounded:"md",shadow:"lg",w:"full",maxW:"md",children:[r.jsx(st,{mb:6,textAlign:"center",color:"brand.500",children:"Iniciar Sessão"}),r.jsx("form",{onSubmit:d,children:r.jsxs(rt,{spacing:4,children:[r.jsxs(N,{children:[r.jsx(y,{children:"Email"}),r.jsx(T,{type:"email",placeholder:"exemplo@email.com",value:s,onChange:c=>t(c.target.value),autoFocus:!0})]}),r.jsxs(N,{children:[r.jsx(y,{children:"Password"}),r.jsx(T,{type:"password",placeholder:"••••••••",value:n,onChange:c=>o(c.target.value)})]}),r.jsx(at,{colorScheme:"blue",type:"submit",isLoading:e,loadingText:"Entrando…",w:"full",children:"Entrar"})]})}),r.jsxs(I,{textAlign:"center",fontSize:"sm",mt:4,children:["Não tens conta?"," ",r.jsx(I,{as:J,to:"/register",color:"blue.500",children:"Regista-te"})]})]})})}export{It as default};
