var nN=Object.defineProperty;var iN=(n,t,e)=>t in n?nN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var gt=(n,t,e)=>iN(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();function Sg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fv={exports:{}},qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function rN(){if(pw)return qu;pw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return qu.Fragment=t,qu.jsx=e,qu.jsxs=e,qu}var gw;function sN(){return gw||(gw=1,fv.exports=rN()),fv.exports}var J=sN(),dv={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function aN(){if(mw)return kt;mw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function x(F,rt,ht){this.props=F,this.context=rt,this.refs=A,this.updater=ht||E}x.prototype.isReactComponent={},x.prototype.setState=function(F,rt){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,rt,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=x.prototype;function P(F,rt,ht){this.props=F,this.context=rt,this.refs=A,this.updater=ht||E}var V=P.prototype=new O;V.constructor=P,S(V,x.prototype),V.isPureReactComponent=!0;var $=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function D(F,rt,ht,it,dt,Tt){return ht=Tt.ref,{$$typeof:n,type:F,key:rt,ref:ht!==void 0?ht:null,props:Tt}}function R(F,rt){return D(F.type,rt,void 0,void 0,void 0,F.props)}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function N(F){var rt={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ht){return rt[ht]})}var L=/\/+/g;function j(F,rt){return typeof F=="object"&&F!==null&&F.key!=null?N(""+F.key):rt.toString(36)}function k(){}function wt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(k,k):(F.status="pending",F.then(function(rt){F.status==="pending"&&(F.status="fulfilled",F.value=rt)},function(rt){F.status==="pending"&&(F.status="rejected",F.reason=rt)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function _t(F,rt,ht,it,dt){var Tt=typeof F;(Tt==="undefined"||Tt==="boolean")&&(F=null);var yt=!1;if(F===null)yt=!0;else switch(Tt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(F.$$typeof){case n:case t:yt=!0;break;case g:return yt=F._init,_t(yt(F._payload),rt,ht,it,dt)}}if(yt)return dt=dt(F),yt=it===""?"."+j(F,0):it,$(dt)?(ht="",yt!=null&&(ht=yt.replace(L,"$&/")+"/"),_t(dt,rt,ht,"",function(cn){return cn})):dt!=null&&(I(dt)&&(dt=R(dt,ht+(dt.key==null||F&&F.key===dt.key?"":(""+dt.key).replace(L,"$&/")+"/")+yt)),rt.push(dt)),1;yt=0;var me=it===""?".":it+":";if($(F))for(var Ut=0;Ut<F.length;Ut++)it=F[Ut],Tt=me+j(it,Ut),yt+=_t(it,rt,ht,Tt,dt);else if(Ut=_(F),typeof Ut=="function")for(F=Ut.call(F),Ut=0;!(it=F.next()).done;)it=it.value,Tt=me+j(it,Ut++),yt+=_t(it,rt,ht,Tt,dt);else if(Tt==="object"){if(typeof F.then=="function")return _t(wt(F),rt,ht,it,dt);throw rt=String(F),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return yt}function W(F,rt,ht){if(F==null)return F;var it=[],dt=0;return _t(F,it,"","",function(Tt){return rt.call(ht,Tt,dt++)}),it}function nt(F){if(F._status===-1){var rt=F._result;rt=rt(),rt.then(function(ht){(F._status===0||F._status===-1)&&(F._status=1,F._result=ht)},function(ht){(F._status===0||F._status===-1)&&(F._status=2,F._result=ht)}),F._status===-1&&(F._status=0,F._result=rt)}if(F._status===1)return F._result.default;throw F._result}var ft=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function bt(){}return kt.Children={map:W,forEach:function(F,rt,ht){W(F,function(){rt.apply(this,arguments)},ht)},count:function(F){var rt=0;return W(F,function(){rt++}),rt},toArray:function(F){return W(F,function(rt){return rt})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},kt.Component=x,kt.Fragment=e,kt.Profiler=r,kt.PureComponent=P,kt.StrictMode=i,kt.Suspense=h,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,kt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return H.H.useMemoCache(F)}},kt.cache=function(F){return function(){return F.apply(null,arguments)}},kt.cloneElement=function(F,rt,ht){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var it=S({},F.props),dt=F.key,Tt=void 0;if(rt!=null)for(yt in rt.ref!==void 0&&(Tt=void 0),rt.key!==void 0&&(dt=""+rt.key),rt)!Y.call(rt,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&rt.ref===void 0||(it[yt]=rt[yt]);var yt=arguments.length-2;if(yt===1)it.children=ht;else if(1<yt){for(var me=Array(yt),Ut=0;Ut<yt;Ut++)me[Ut]=arguments[Ut+2];it.children=me}return D(F.type,dt,void 0,void 0,Tt,it)},kt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},kt.createElement=function(F,rt,ht){var it,dt={},Tt=null;if(rt!=null)for(it in rt.key!==void 0&&(Tt=""+rt.key),rt)Y.call(rt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(dt[it]=rt[it]);var yt=arguments.length-2;if(yt===1)dt.children=ht;else if(1<yt){for(var me=Array(yt),Ut=0;Ut<yt;Ut++)me[Ut]=arguments[Ut+2];dt.children=me}if(F&&F.defaultProps)for(it in yt=F.defaultProps,yt)dt[it]===void 0&&(dt[it]=yt[it]);return D(F,Tt,void 0,void 0,null,dt)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(F){return{$$typeof:u,render:F}},kt.isValidElement=I,kt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:nt}},kt.memo=function(F,rt){return{$$typeof:d,type:F,compare:rt===void 0?null:rt}},kt.startTransition=function(F){var rt=H.T,ht={};H.T=ht;try{var it=F(),dt=H.S;dt!==null&&dt(ht,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(bt,ft)}catch(Tt){ft(Tt)}finally{H.T=rt}},kt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},kt.use=function(F){return H.H.use(F)},kt.useActionState=function(F,rt,ht){return H.H.useActionState(F,rt,ht)},kt.useCallback=function(F,rt){return H.H.useCallback(F,rt)},kt.useContext=function(F){return H.H.useContext(F)},kt.useDebugValue=function(){},kt.useDeferredValue=function(F,rt){return H.H.useDeferredValue(F,rt)},kt.useEffect=function(F,rt,ht){var it=H.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(F,rt)},kt.useId=function(){return H.H.useId()},kt.useImperativeHandle=function(F,rt,ht){return H.H.useImperativeHandle(F,rt,ht)},kt.useInsertionEffect=function(F,rt){return H.H.useInsertionEffect(F,rt)},kt.useLayoutEffect=function(F,rt){return H.H.useLayoutEffect(F,rt)},kt.useMemo=function(F,rt){return H.H.useMemo(F,rt)},kt.useOptimistic=function(F,rt){return H.H.useOptimistic(F,rt)},kt.useReducer=function(F,rt,ht){return H.H.useReducer(F,rt,ht)},kt.useRef=function(F){return H.H.useRef(F)},kt.useState=function(F){return H.H.useState(F)},kt.useSyncExternalStore=function(F,rt,ht){return H.H.useSyncExternalStore(F,rt,ht)},kt.useTransition=function(){return H.H.useTransition()},kt.version="19.1.0",kt}var yw;function wg(){return yw||(yw=1,dv.exports=aN()),dv.exports}var B=wg();const ut=Sg(B);var pv={exports:{}},Gu={},gv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function oN(){return vw||(vw=1,function(n){function t(W,nt){var ft=W.length;W.push(nt);t:for(;0<ft;){var bt=ft-1>>>1,F=W[bt];if(0<r(F,nt))W[bt]=nt,W[ft]=F,ft=bt;else break t}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var nt=W[0],ft=W.pop();if(ft!==nt){W[0]=ft;t:for(var bt=0,F=W.length,rt=F>>>1;bt<rt;){var ht=2*(bt+1)-1,it=W[ht],dt=ht+1,Tt=W[dt];if(0>r(it,ft))dt<F&&0>r(Tt,it)?(W[bt]=Tt,W[dt]=ft,bt=dt):(W[bt]=it,W[ht]=ft,bt=ht);else if(dt<F&&0>r(Tt,ft))W[bt]=Tt,W[dt]=ft,bt=dt;else break t}}return nt}function r(W,nt){var ft=W.sortIndex-nt.sortIndex;return ft!==0?ft:W.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],d=[],g=1,y=null,_=3,E=!1,S=!1,A=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(W){for(var nt=e(d);nt!==null;){if(nt.callback===null)i(d);else if(nt.startTime<=W)i(d),nt.sortIndex=nt.expirationTime,t(h,nt);else break;nt=e(d)}}function H(W){if(A=!1,$(W),!S)if(e(h)!==null)S=!0,Y||(Y=!0,j());else{var nt=e(d);nt!==null&&_t(H,nt.startTime-W)}}var Y=!1,D=-1,R=5,I=-1;function N(){return x?!0:!(n.unstable_now()-I<R)}function L(){if(x=!1,Y){var W=n.unstable_now();I=W;var nt=!0;try{t:{S=!1,A&&(A=!1,P(D),D=-1),E=!0;var ft=_;try{e:{for($(W),y=e(h);y!==null&&!(y.expirationTime>W&&N());){var bt=y.callback;if(typeof bt=="function"){y.callback=null,_=y.priorityLevel;var F=bt(y.expirationTime<=W);if(W=n.unstable_now(),typeof F=="function"){y.callback=F,$(W),nt=!0;break e}y===e(h)&&i(h),$(W)}else i(h);y=e(h)}if(y!==null)nt=!0;else{var rt=e(d);rt!==null&&_t(H,rt.startTime-W),nt=!1}}break t}finally{y=null,_=ft,E=!1}nt=void 0}}finally{nt?j():Y=!1}}}var j;if(typeof V=="function")j=function(){V(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,wt=k.port2;k.port1.onmessage=L,j=function(){wt.postMessage(null)}}else j=function(){O(L,0)};function _t(W,nt){D=O(function(){W(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(W){switch(_){case 1:case 2:case 3:var nt=3;break;default:nt=_}var ft=_;_=nt;try{return W()}finally{_=ft}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(W,nt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=_;_=W;try{return nt()}finally{_=ft}},n.unstable_scheduleCallback=function(W,nt,ft){var bt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?bt+ft:bt):ft=bt,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ft+F,W={id:g++,callback:nt,priorityLevel:W,startTime:ft,expirationTime:F,sortIndex:-1},ft>bt?(W.sortIndex=ft,t(d,W),e(h)===null&&W===e(d)&&(A?(P(D),D=-1):A=!0,_t(H,ft-bt))):(W.sortIndex=F,t(h,W),S||E||(S=!0,Y||(Y=!0,j()))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var nt=_;return function(){var ft=_;_=nt;try{return W.apply(this,arguments)}finally{_=ft}}}}(mv)),mv}var _w;function lN(){return _w||(_w=1,gv.exports=oN()),gv.exports}var yv={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function cN(){if(bw)return Tn;bw=1;var n=wg();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tn.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,g)},Tn.flushSync=function(h){var d=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=g,i.d.f()}},Tn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Tn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Tn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,y=u(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:E}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Tn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=u(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Tn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=u(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Tn.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=u(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Tn.requestFormReset=function(h){i.d.r(h)},Tn.unstable_batchedUpdates=function(h,d){return h(d)},Tn.useFormState=function(h,d,g){return l.H.useFormState(h,d,g)},Tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tn.version="19.1.0",Tn}var Ew;function WR(){if(Ew)return yv.exports;Ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),yv.exports=cN(),yv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function uN(){if(Tw)return Gu;Tw=1;var n=lN(),t=wg(),e=WR();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,f=o;;){var m=c.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===c)return u(m),s;if(v===f)return u(m),o;v=v.sibling}throw Error(i(188))}if(c.return!==f.return)c=m,f=v;else{for(var w=!1,C=m.child;C;){if(C===c){w=!0,c=m,f=v;break}if(C===f){w=!0,f=m,c=v;break}C=C.sibling}if(!w){for(C=v.child;C;){if(C===c){w=!0,c=v,f=m;break}if(C===f){w=!0,f=v,c=m;break}C=C.sibling}if(!w)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function d(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=d(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function wt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case x:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case Y:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case V:return(s.displayName||"Context")+".Provider";case P:return(s._context.displayName||"Context")+".Consumer";case $:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return o=s.displayName||null,o!==null?o:wt(s.type)||"Memo";case R:o=s._payload,s=s._init;try{return wt(s(o))}catch{}}return null}var _t=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},bt=[],F=-1;function rt(s){return{current:s}}function ht(s){0>F||(s.current=bt[F],bt[F]=null,F--)}function it(s,o){F++,bt[F]=s.current,s.current=o}var dt=rt(null),Tt=rt(null),yt=rt(null),me=rt(null);function Ut(s,o){switch(it(yt,o),it(Tt,s),it(dt,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?FS(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=FS(o),s=HS(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ht(dt),it(dt,s)}function cn(){ht(dt),ht(Tt),ht(yt)}function Dn(s){s.memoizedState!==null&&it(me,s);var o=dt.current,c=HS(o,s.type);o!==c&&(it(Tt,s),it(dt,c))}function Je(s){Tt.current===s&&(ht(dt),ht(Tt)),me.current===s&&(ht(me),Bu._currentValue=ft)}var si=Object.prototype.hasOwnProperty,Yn=n.unstable_scheduleCallback,xi=n.unstable_cancelCallback,zt=n.unstable_shouldYield,Ve=n.unstable_requestPaint,un=n.unstable_now,zc=n.unstable_getCurrentPriorityLevel,xa=n.unstable_ImmediatePriority,zn=n.unstable_UserBlockingPriority,ai=n.unstable_NormalPriority,qo=n.unstable_LowPriority,Ar=n.unstable_IdlePriority,xr=n.log,Ra=n.unstable_setDisableYieldValue,ye=null,Qt=null;function _n(s){if(typeof xr=="function"&&Ra(s),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ye,s)}catch{}}var bn=Math.clz32?Math.clz32:Ca,Sf=Math.log,pm=Math.LN2;function Ca(s){return s>>>=0,s===0?32:31-(Sf(s)/pm|0)|0}var Oa=256,Ia=4194304;function Ri(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Go(s,o,c){var f=s.pendingLanes;if(f===0)return 0;var m=0,v=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var C=f&134217727;return C!==0?(f=C&~v,f!==0?m=Ri(f):(w&=C,w!==0?m=Ri(w):c||(c=C&~s,c!==0&&(m=Ri(c))))):(C=f&~v,C!==0?m=Ri(C):w!==0?m=Ri(w):c||(c=f&~s,c!==0&&(m=Ri(c)))),m===0?0:o!==0&&o!==m&&(o&v)===0&&(v=m&-m,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:m}function Ma(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Bc(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jc(){var s=Oa;return Oa<<=1,(Oa&4194048)===0&&(Oa=256),s}function Fc(){var s=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),s}function Rr(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Cr(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Hc(s,o,c,f,m,v){var w=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var C=s.entanglements,U=s.expirationTimes,Q=s.hiddenUpdates;for(c=w&~c;0<c;){var st=31-bn(c),lt=1<<st;C[st]=0,U[st]=-1;var Z=Q[st];if(Z!==null)for(Q[st]=null,st=0;st<Z.length;st++){var tt=Z[st];tt!==null&&(tt.lane&=-536870913)}c&=~lt}f!==0&&$i(s,f,0),v!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=v&~(w&~o))}function $i(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var f=31-bn(o);s.entangledLanes|=o,s.entanglements[f]=s.entanglements[f]|1073741824|c&4194090}function $c(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-bn(c),m=1<<f;m&o|s[f]&o&&(s[f]|=o),c&=~m}}function ws(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Wo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function As(){var s=nt.p;return s!==0?s:(s=window.event,s===void 0?32:lw(s.type))}function wf(s,o){var c=nt.p;try{return nt.p=s,o()}finally{nt.p=c}}var Ee=Math.random().toString(36).slice(2),Ge="__reactFiber$"+Ee,Ue="__reactProps$"+Ee,oi="__reactContainer$"+Ee,qc="__reactEvents$"+Ee,gm="__reactListeners$"+Ee,xs="__reactHandles$"+Ee,Af="__reactResources$"+Ee,Da="__reactMarker$"+Ee;function Rs(s){delete s[Ge],delete s[Ue],delete s[qc],delete s[gm],delete s[xs]}function Or(s){var o=s[Ge];if(o)return o;for(var c=s.parentNode;c;){if(o=c[oi]||c[Ge]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=WS(s);s!==null;){if(c=s[Ge])return c;s=WS(s)}return o}s=c,c=s.parentNode}return null}function qi(s){if(s=s[Ge]||s[oi]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Gi(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Nn(s){var o=s[Af];return o||(o=s[Af]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Me(s){s[Da]=!0}var Gc=new Set,Yo={};function Ci(s,o){Ir(s,o),Ir(s+"Capture",o)}function Ir(s,o){for(Yo[s]=o,s=0;s<o.length;s++)Gc.add(o[s])}var xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rf={},Na={};function Cf(s){return si.call(Na,s)?!0:si.call(Rf,s)?!1:xf.test(s)?Na[s]=!0:(Rf[s]=!0,!1)}function Cs(s,o,c){if(Cf(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function Wi(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function hn(s,o,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+f)}}var Pa,Of;function Mr(s){if(Pa===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Pa=o&&o[1]||"",Of=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pa+s+Of}var Ko=!1;function Xo(s,o){if(!s||Ko)return"";Ko=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(tt){var Z=tt}Reflect.construct(s,[],lt)}else{try{lt.call()}catch(tt){Z=tt}s.call(lt.prototype)}}else{try{throw Error()}catch(tt){Z=tt}(lt=s())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(tt){if(tt&&Z&&typeof tt.stack=="string")return[tt.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),w=v[0],C=v[1];if(w&&C){var U=w.split(`
`),Q=C.split(`
`);for(m=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(f===U.length||m===Q.length)for(f=U.length-1,m=Q.length-1;1<=f&&0<=m&&U[f]!==Q[m];)m--;for(;1<=f&&0<=m;f--,m--)if(U[f]!==Q[m]){if(f!==1||m!==1)do if(f--,m--,0>m||U[f]!==Q[m]){var st=`
`+U[f].replace(" at new "," at ");return s.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",s.displayName)),st}while(1<=f&&0<=m);break}}}finally{Ko=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Mr(c):""}function Wc(s){switch(s.tag){case 26:case 27:case 5:return Mr(s.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return Xo(s.type,!1);case 11:return Xo(s.type.render,!1);case 1:return Xo(s.type,!0);case 31:return Mr("Activity");default:return""}}function Qo(s){try{var o="";do o+=Wc(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Yc(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function mm(s){var o=Yc(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(w){f=""+w,v.call(this,w)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Zo(s){s._valueTracker||(s._valueTracker=mm(s))}function Kc(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Yc(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function ka(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ym=/[\n"\\]/g;function ze(s){return s.replace(ym,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Kn(s,o,c,f,m,v,w,C){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),o!=null?w==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Pn(o)):s.value!==""+Pn(o)&&(s.value=""+Pn(o)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),o!=null?Os(s,w,Pn(o)):c!=null?Os(s,w,Pn(c)):f!=null&&s.removeAttribute("value"),m==null&&v!=null&&(s.defaultChecked=!!v),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Pn(C):s.removeAttribute("name")}function La(s,o,c,f,m,v,w,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;c=c!=null?""+Pn(c):"",o=o!=null?""+Pn(o):c,C||o===s.value||(s.value=o),s.defaultValue=o}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=C?s.checked:!!f,s.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function Os(s,o,c){o==="number"&&ka(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Dr(s,o,c,f){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Pn(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function ae(s,o,c){if(o!=null&&(o=""+Pn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Pn(c):""}function Va(s,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(i(92));if(_t(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=Pn(o),s.defaultValue=c,f=s.textContent,f===c&&f!==""&&f!==null&&(s.value=f)}function li(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function If(s,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":f?s.setProperty(o,c):typeof c!="number"||c===0||Ua.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Xc(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var m in o)f=o[m],o.hasOwnProperty(m)&&c[m]!==f&&If(s,m,f)}else for(var v in o)o.hasOwnProperty(v)&&If(s,v,o[v])}function Qc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_m=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jo(s){return _m.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Nr=null;function ci(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pr=null,kr=null;function Zc(s){var o=qi(s);if(o&&(s=o.stateNode)){var c=s[Ue]||null;t:switch(s=o.stateNode,o.type){case"input":if(Kn(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ze(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var m=f[Ue]||null;if(!m)throw Error(i(90));Kn(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===s.form&&Kc(f)}break t;case"textarea":ae(s,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Dr(s,!!c.multiple,o,!1)}}}var Yi=!1;function Mf(s,o,c){if(Yi)return s(o,c);Yi=!0;try{var f=s(o);return f}finally{if(Yi=!1,(Pr!==null||kr!==null)&&(wd(),Pr&&(o=Pr,s=kr,kr=Pr=null,Zc(o),s)))for(o=0;o<s.length;o++)Zc(s[o])}}function za(s,o){var c=s.stateNode;if(c===null)return null;var f=c[Ue]||null;if(f===null)return null;c=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Oi)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){ui=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{ui=!1}var Ki=null,Is=null,Lr=null;function Jc(){if(Lr)return Lr;var s,o=Is,c=o.length,f,m="value"in Ki?Ki.value:Ki.textContent,v=m.length;for(s=0;s<c&&o[s]===m[s];s++);var w=c-s;for(f=1;f<=w&&o[c-f]===m[v-f];f++);return Lr=m.slice(s,1<f?1-f:void 0)}function Xi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Qi(){return!0}function tu(){return!1}function tn(s){function o(c,f,m,v,w){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(c=s[C],this[C]=c?c(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Qi:tu,this.isPropagationStopped=tu,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),o}var ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=tn(ee),ja=g({},ee,{view:0,detail:0}),Df=tn(ja),el,nl,Zi,Fa=g({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Zi&&(Zi&&s.type==="mousemove"?(el=s.screenX-Zi.screenX,nl=s.screenY-Zi.screenY):nl=el=0,Zi=s),el)},movementY:function(s){return"movementY"in s?s.movementY:nl}}),hi=tn(Fa),Nf=g({},Fa,{dataTransfer:0}),bm=tn(Nf),Ha=g({},ja,{relatedTarget:0}),il=tn(Ha),eu=g({},ee,{animationName:0,elapsedTime:0,pseudoElement:0}),rl=tn(eu),Pf=g({},ee,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sl=tn(Pf),Em=g({},ee,{data:0}),nu=tn(Em),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Lf[s])?!!o[s]:!1}function qa(){return iu}var Vf=g({},ja,{key:function(s){if(s.key){var o=$a[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Xi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?kf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(s){return s.type==="keypress"?Xi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),al=tn(Vf),Uf=g({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=tn(Uf),Vr=g({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),zf=tn(Vr),Bf=g({},ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),jf=tn(Bf),Ff=g({},Fa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ol=tn(Ff),kn=g({},ee,{newState:0,oldState:0}),Hf=tn(kn),$f=[9,13,27,32],Ji=Oi&&"CompositionEvent"in window,p=null;Oi&&"documentMode"in document&&(p=document.documentMode);var b=Oi&&"TextEvent"in window&&!p,T=Oi&&(!Ji||p&&8<p&&11>=p),M=" ",K=!1;function et(s,o){switch(s){case"keyup":return $f.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wt=!1;function We(s,o){switch(s){case"compositionend":return pt(o);case"keypress":return o.which!==32?null:(K=!0,M);case"textInput":return s=o.data,s===M&&K?null:s;default:return null}}function Yt(s,o){if(Wt)return s==="compositionend"||!Ji&&et(s,o)?(s=Jc(),Lr=Is=Ki=null,Wt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ye(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!en[s.type]:o==="textarea"}function Ur(s,o,c,f){Pr?kr?kr.push(f):kr=[f]:Pr=f,o=Id(o,"onChange"),0<o.length&&(c=new tl("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var fn=null,tr=null;function su(s){VS(s,0)}function qf(s){var o=Gi(s);if(Kc(o))return s}function rE(s,o){if(s==="change")return o}var sE=!1;if(Oi){var Tm;if(Oi){var Sm="oninput"in document;if(!Sm){var aE=document.createElement("div");aE.setAttribute("oninput","return;"),Sm=typeof aE.oninput=="function"}Tm=Sm}else Tm=!1;sE=Tm&&(!document.documentMode||9<document.documentMode)}function oE(){fn&&(fn.detachEvent("onpropertychange",lE),tr=fn=null)}function lE(s){if(s.propertyName==="value"&&qf(tr)){var o=[];Ur(o,tr,s,ci(s)),Mf(su,o)}}function DM(s,o,c){s==="focusin"?(oE(),fn=o,tr=c,fn.attachEvent("onpropertychange",lE)):s==="focusout"&&oE()}function NM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qf(tr)}function PM(s,o){if(s==="click")return qf(o)}function kM(s,o){if(s==="input"||s==="change")return qf(o)}function LM(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Xn=typeof Object.is=="function"?Object.is:LM;function au(s,o){if(Xn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!si.call(o,m)||!Xn(s[m],o[m]))return!1}return!0}function cE(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function uE(s,o){var c=cE(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=cE(c)}}function hE(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?hE(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function fE(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ka(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=ka(s.document)}return o}function wm(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var VM=Oi&&"documentMode"in document&&11>=document.documentMode,ll=null,Am=null,ou=null,xm=!1;function dE(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xm||ll==null||ll!==ka(f)||(f=ll,"selectionStart"in f&&wm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ou&&au(ou,f)||(ou=f,f=Id(Am,"onSelect"),0<f.length&&(o=new tl("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=ll)))}function Ga(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var cl={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},Rm={},pE={};Oi&&(pE=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Wa(s){if(Rm[s])return Rm[s];if(!cl[s])return s;var o=cl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in pE)return Rm[s]=o[c];return s}var gE=Wa("animationend"),mE=Wa("animationiteration"),yE=Wa("animationstart"),UM=Wa("transitionrun"),zM=Wa("transitionstart"),BM=Wa("transitioncancel"),vE=Wa("transitionend"),_E=new Map,Cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cm.push("scrollEnd");function Ii(s,o){_E.set(s,o),Ci(o,[s])}var bE=new WeakMap;function fi(s,o){if(typeof s=="object"&&s!==null){var c=bE.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Qo(o)},bE.set(s,o),o)}return{value:s,source:o,stack:Qo(o)}}var di=[],ul=0,Om=0;function Gf(){for(var s=ul,o=Om=ul=0;o<s;){var c=di[o];di[o++]=null;var f=di[o];di[o++]=null;var m=di[o];di[o++]=null;var v=di[o];if(di[o++]=null,f!==null&&m!==null){var w=f.pending;w===null?m.next=m:(m.next=w.next,w.next=m),f.pending=m}v!==0&&EE(c,m,v)}}function Wf(s,o,c,f){di[ul++]=s,di[ul++]=o,di[ul++]=c,di[ul++]=f,Om|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Im(s,o,c,f){return Wf(s,o,c,f),Yf(s)}function hl(s,o){return Wf(s,null,null,o),Yf(s)}function EE(s,o,c){s.lanes|=c;var f=s.alternate;f!==null&&(f.lanes|=c);for(var m=!1,v=s.return;v!==null;)v.childLanes|=c,f=v.alternate,f!==null&&(f.childLanes|=c),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(m=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,m&&o!==null&&(m=31-bn(c),s=v.hiddenUpdates,f=s[m],f===null?s[m]=[o]:f.push(o),o.lane=c|536870912),v):null}function Yf(s){if(50<Du)throw Du=0,Ly=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var fl={};function jM(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,o,c,f){return new jM(s,o,c,f)}function Mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zr(s,o){var c=s.alternate;return c===null?(c=Qn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function TE(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Kf(s,o,c,f,m,v){var w=0;if(f=s,typeof s=="function")Mm(s)&&(w=1);else if(typeof s=="string")w=HD(s,c,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case I:return s=Qn(31,c,o,m),s.elementType=I,s.lanes=v,s;case S:return Ya(c.children,m,v,o);case A:w=8,m|=24;break;case x:return s=Qn(12,c,o,m|2),s.elementType=x,s.lanes=v,s;case H:return s=Qn(13,c,o,m),s.elementType=H,s.lanes=v,s;case Y:return s=Qn(19,c,o,m),s.elementType=Y,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:case V:w=10;break t;case P:w=9;break t;case $:w=11;break t;case D:w=14;break t;case R:w=16,f=null;break t}w=29,c=Error(i(130,s===null?"null":typeof s,"")),f=null}return o=Qn(w,c,o,m),o.elementType=s,o.type=f,o.lanes=v,o}function Ya(s,o,c,f){return s=Qn(7,s,f,o),s.lanes=c,s}function Dm(s,o,c){return s=Qn(6,s,null,o),s.lanes=c,s}function Nm(s,o,c){return o=Qn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var dl=[],pl=0,Xf=null,Qf=0,pi=[],gi=0,Ka=null,Br=1,jr="";function Xa(s,o){dl[pl++]=Qf,dl[pl++]=Xf,Xf=s,Qf=o}function SE(s,o,c){pi[gi++]=Br,pi[gi++]=jr,pi[gi++]=Ka,Ka=s;var f=Br;s=jr;var m=32-bn(f)-1;f&=~(1<<m),c+=1;var v=32-bn(o)+m;if(30<v){var w=m-m%5;v=(f&(1<<w)-1).toString(32),f>>=w,m-=w,Br=1<<32-bn(o)+m|c<<m|f,jr=v+s}else Br=1<<v|c<<m|f,jr=s}function Pm(s){s.return!==null&&(Xa(s,1),SE(s,1,0))}function km(s){for(;s===Xf;)Xf=dl[--pl],dl[pl]=null,Qf=dl[--pl],dl[pl]=null;for(;s===Ka;)Ka=pi[--gi],pi[gi]=null,jr=pi[--gi],pi[gi]=null,Br=pi[--gi],pi[gi]=null}var Ln=null,Ce=null,te=!1,Qa=null,er=!1,Lm=Error(i(519));function Za(s){var o=Error(i(418,""));throw uu(fi(o,s)),Lm}function wE(s){var o=s.stateNode,c=s.type,f=s.memoizedProps;switch(o[Ge]=s,o[Ue]=f,c){case"dialog":jt("cancel",o),jt("close",o);break;case"iframe":case"object":case"embed":jt("load",o);break;case"video":case"audio":for(c=0;c<Pu.length;c++)jt(Pu[c],o);break;case"source":jt("error",o);break;case"img":case"image":case"link":jt("error",o),jt("load",o);break;case"details":jt("toggle",o);break;case"input":jt("invalid",o),La(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Zo(o);break;case"select":jt("invalid",o);break;case"textarea":jt("invalid",o),Va(o,f.value,f.defaultValue,f.children),Zo(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||jS(o.textContent,c)?(f.popover!=null&&(jt("beforetoggle",o),jt("toggle",o)),f.onScroll!=null&&jt("scroll",o),f.onScrollEnd!=null&&jt("scrollend",o),f.onClick!=null&&(o.onclick=Md),o=!0):o=!1,o||Za(s)}function AE(s){for(Ln=s.return;Ln;)switch(Ln.tag){case 5:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Ln=Ln.return}}function lu(s){if(s!==Ln)return!1;if(!te)return AE(s),te=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Zy(s.type,s.memoizedProps)),c=!c),c&&Ce&&Za(s),AE(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){Ce=Di(s.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}Ce=null}}else o===27?(o=Ce,Gs(s.type)?(s=nv,nv=null,Ce=s):Ce=o):Ce=Ln?Di(s.stateNode.nextSibling):null;return!0}function cu(){Ce=Ln=null,te=!1}function xE(){var s=Qa;return s!==null&&(Fn===null?Fn=s:Fn.push.apply(Fn,s),Qa=null),s}function uu(s){Qa===null?Qa=[s]:Qa.push(s)}var Vm=rt(null),Ja=null,Fr=null;function Ms(s,o,c){it(Vm,o._currentValue),o._currentValue=c}function Hr(s){s._currentValue=Vm.current,ht(Vm)}function Um(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function zm(s,o,c,f){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var v=m.dependencies;if(v!==null){var w=m.child;v=v.firstContext;t:for(;v!==null;){var C=v;v=m;for(var U=0;U<o.length;U++)if(C.context===o[U]){v.lanes|=c,C=v.alternate,C!==null&&(C.lanes|=c),Um(v.return,c,s),f||(w=null);break t}v=C.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=c,v=w.alternate,v!==null&&(v.lanes|=c),Um(w,c,s),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function hu(s,o,c,f){s=null;for(var m=o,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var C=m.type;Xn(m.pendingProps.value,w.value)||(s!==null?s.push(C):s=[C])}}else if(m===me.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Bu):s=[Bu])}m=m.return}s!==null&&zm(o,s,c,f),o.flags|=262144}function Zf(s){for(s=s.firstContext;s!==null;){if(!Xn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function to(s){Ja=s,Fr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function En(s){return RE(Ja,s)}function Jf(s,o){return Ja===null&&to(s),RE(s,o)}function RE(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Fr===null){if(s===null)throw Error(i(308));Fr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Fr=Fr.next=o;return c}var FM=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,f){s.push(f)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},HM=n.unstable_scheduleCallback,$M=n.unstable_NormalPriority,Ke={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bm(){return{controller:new FM,data:new Map,refCount:0}}function fu(s){s.refCount--,s.refCount===0&&HM($M,function(){s.controller.abort()})}var du=null,jm=0,gl=0,ml=null;function qM(s,o){if(du===null){var c=du=[];jm=0,gl=Hy(),ml={status:"pending",value:void 0,then:function(f){c.push(f)}}}return jm++,o.then(CE,CE),o}function CE(){if(--jm===0&&du!==null){ml!==null&&(ml.status="fulfilled");var s=du;du=null,gl=0,ml=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function GM(s,o){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){f.status="fulfilled",f.value=o;for(var m=0;m<c.length;m++)(0,c[m])(o)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var OE=W.S;W.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&qM(s,o),OE!==null&&OE(s,o)};var eo=rt(null);function Fm(){var s=eo.current;return s!==null?s:de.pooledCache}function td(s,o){o===null?it(eo,eo.current):it(eo,o.pool)}function IE(){var s=Fm();return s===null?null:{parent:Ke._currentValue,pool:s}}var pu=Error(i(460)),ME=Error(i(474)),ed=Error(i(542)),Hm={then:function(){}};function DE(s){return s=s.status,s==="fulfilled"||s==="rejected"}function nd(){}function NE(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(nd,nd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,kE(s),s;default:if(typeof o.status=="string")o.then(nd,nd);else{if(s=de,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(f){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=f}},function(f){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,kE(s),s}throw gu=o,pu}}var gu=null;function PE(){if(gu===null)throw Error(i(459));var s=gu;return gu=null,s}function kE(s){if(s===pu||s===ed)throw Error(i(483))}var Ds=!1;function $m(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ns(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ps(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ie&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,o=Yf(s),EE(s,null,c),o}return Wf(s,f,o,c),Yf(s)}function mu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,$c(s,c)}}function Gm(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?m=v=w:v=v.next=w,c=c.next}while(c!==null);v===null?m=v=o:v=v.next=o}else m=v=o;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var Wm=!1;function yu(){if(Wm){var s=ml;if(s!==null)throw s}}function vu(s,o,c,f){Wm=!1;var m=s.updateQueue;Ds=!1;var v=m.firstBaseUpdate,w=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var U=C,Q=U.next;U.next=null,w===null?v=Q:w.next=Q,w=U;var st=s.alternate;st!==null&&(st=st.updateQueue,C=st.lastBaseUpdate,C!==w&&(C===null?st.firstBaseUpdate=Q:C.next=Q,st.lastBaseUpdate=U))}if(v!==null){var lt=m.baseState;w=0,st=Q=U=null,C=v;do{var Z=C.lane&-536870913,tt=Z!==C.lane;if(tt?(Kt&Z)===Z:(f&Z)===Z){Z!==0&&Z===gl&&(Wm=!0),st!==null&&(st=st.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var It=s,xt=C;Z=o;var ce=c;switch(xt.tag){case 1:if(It=xt.payload,typeof It=="function"){lt=It.call(ce,lt,Z);break t}lt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=xt.payload,Z=typeof It=="function"?It.call(ce,lt,Z):It,Z==null)break t;lt=g({},lt,Z);break t;case 2:Ds=!0}}Z=C.callback,Z!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[Z]:tt.push(Z))}else tt={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},st===null?(Q=st=tt,U=lt):st=st.next=tt,w|=Z;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;tt=C,C=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);st===null&&(U=lt),m.baseState=U,m.firstBaseUpdate=Q,m.lastBaseUpdate=st,v===null&&(m.shared.lanes=0),Fs|=w,s.lanes=w,s.memoizedState=lt}}function LE(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function VE(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)LE(c[s],o)}var yl=rt(null),id=rt(0);function UE(s,o){s=Xr,it(id,s),it(yl,o),Xr=s|o.baseLanes}function Ym(){it(id,Xr),it(yl,yl.current)}function Km(){Xr=id.current,ht(yl),ht(id)}var ks=0,Lt=null,oe=null,Be=null,rd=!1,vl=!1,no=!1,sd=0,_u=0,_l=null,WM=0;function De(){throw Error(i(321))}function Xm(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Xn(s[c],o[c]))return!1;return!0}function Qm(s,o,c,f,m,v){return ks=v,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=s===null||s.memoizedState===null?ET:TT,no=!1,v=c(f,m),no=!1,vl&&(v=BE(o,c,f,m)),zE(s),v}function zE(s){W.H=hd;var o=oe!==null&&oe.next!==null;if(ks=0,Be=oe=Lt=null,rd=!1,_u=0,_l=null,o)throw Error(i(300));s===null||nn||(s=s.dependencies,s!==null&&Zf(s)&&(nn=!0))}function BE(s,o,c,f){Lt=s;var m=0;do{if(vl&&(_l=null),_u=0,vl=!1,25<=m)throw Error(i(301));if(m+=1,Be=oe=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=tD,v=o(c,f)}while(vl);return v}function YM(){var s=W.H,o=s.useState()[0];return o=typeof o.then=="function"?bu(o):o,s=s.useState()[0],(oe!==null?oe.memoizedState:null)!==s&&(Lt.flags|=1024),o}function Zm(){var s=sd!==0;return sd=0,s}function Jm(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function ty(s){if(rd){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}rd=!1}ks=0,Be=oe=Lt=null,vl=!1,_u=sd=0,_l=null}function Bn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Lt.memoizedState=Be=s:Be=Be.next=s,Be}function je(){if(oe===null){var s=Lt.alternate;s=s!==null?s.memoizedState:null}else s=oe.next;var o=Be===null?Lt.memoizedState:Be.next;if(o!==null)Be=o,oe=s;else{if(s===null)throw Lt.alternate===null?Error(i(467)):Error(i(310));oe=s,s={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Be===null?Lt.memoizedState=Be=s:Be=Be.next=s}return Be}function ey(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(s){var o=_u;return _u+=1,_l===null&&(_l=[]),s=NE(_l,s,o),o=Lt,(Be===null?o.memoizedState:Be.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?ET:TT),s}function ad(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bu(s);if(s.$$typeof===V)return En(s)}throw Error(i(438,String(s)))}function ny(s){var o=null,c=Lt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=Lt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=ey(),Lt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),f=0;f<s;f++)c[f]=N;return o.index++,c}function $r(s,o){return typeof o=="function"?o(s):o}function od(s){var o=je();return iy(o,oe,s)}function iy(s,o,c){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var m=s.baseQueue,v=f.pending;if(v!==null){if(m!==null){var w=m.next;m.next=v.next,v.next=w}o.baseQueue=m=v,f.pending=null}if(v=s.baseState,m===null)s.memoizedState=v;else{o=m.next;var C=w=null,U=null,Q=o,st=!1;do{var lt=Q.lane&-536870913;if(lt!==Q.lane?(Kt&lt)===lt:(ks&lt)===lt){var Z=Q.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),lt===gl&&(st=!0);else if((ks&Z)===Z){Q=Q.next,Z===gl&&(st=!0);continue}else lt={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(C=U=lt,w=v):U=U.next=lt,Lt.lanes|=Z,Fs|=Z;lt=Q.action,no&&c(v,lt),v=Q.hasEagerState?Q.eagerState:c(v,lt)}else Z={lane:lt,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(C=U=Z,w=v):U=U.next=Z,Lt.lanes|=lt,Fs|=lt;Q=Q.next}while(Q!==null&&Q!==o);if(U===null?w=v:U.next=C,!Xn(v,s.memoizedState)&&(nn=!0,st&&(c=ml,c!==null)))throw c;s.memoizedState=v,s.baseState=w,s.baseQueue=U,f.lastRenderedState=v}return m===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function ry(s){var o=je(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var f=c.dispatch,m=c.pending,v=o.memoizedState;if(m!==null){c.pending=null;var w=m=m.next;do v=s(v,w.action),w=w.next;while(w!==m);Xn(v,o.memoizedState)||(nn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,f]}function jE(s,o,c){var f=Lt,m=je(),v=te;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=o();var w=!Xn((oe||m).memoizedState,c);w&&(m.memoizedState=c,nn=!0),m=m.queue;var C=$E.bind(null,f,m,s);if(Eu(2048,8,C,[s]),m.getSnapshot!==o||w||Be!==null&&Be.memoizedState.tag&1){if(f.flags|=2048,bl(9,ld(),HE.bind(null,f,m,c,o),null),de===null)throw Error(i(349));v||(ks&124)!==0||FE(f,o,c)}return c}function FE(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Lt.updateQueue,o===null?(o=ey(),Lt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function HE(s,o,c,f){o.value=c,o.getSnapshot=f,qE(o)&&GE(s)}function $E(s,o,c){return c(function(){qE(o)&&GE(s)})}function qE(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Xn(s,c)}catch{return!0}}function GE(s){var o=hl(s,2);o!==null&&ni(o,s,2)}function sy(s){var o=Bn();if(typeof s=="function"){var c=s;if(s=c(),no){_n(!0);try{c()}finally{_n(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:s},o}function WE(s,o,c,f){return s.baseState=c,iy(s,oe,typeof f=="function"?f:$r)}function KM(s,o,c,f,m){if(ud(s))throw Error(i(485));if(s=o.action,s!==null){var v={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};W.T!==null?c(!0):v.isTransition=!1,f(v),c=o.pending,c===null?(v.next=o.pending=v,YE(o,v)):(v.next=c.next,o.pending=c.next=v)}}function YE(s,o){var c=o.action,f=o.payload,m=s.state;if(o.isTransition){var v=W.T,w={};W.T=w;try{var C=c(m,f),U=W.S;U!==null&&U(w,C),KE(s,o,C)}catch(Q){ay(s,o,Q)}finally{W.T=v}}else try{v=c(m,f),KE(s,o,v)}catch(Q){ay(s,o,Q)}}function KE(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){XE(s,o,f)},function(f){return ay(s,o,f)}):XE(s,o,c)}function XE(s,o,c){o.status="fulfilled",o.value=c,QE(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,YE(s,c)))}function ay(s,o,c){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,QE(o),o=o.next;while(o!==f)}s.action=null}function QE(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function ZE(s,o){return o}function JE(s,o){if(te){var c=de.formState;if(c!==null){t:{var f=Lt;if(te){if(Ce){e:{for(var m=Ce,v=er;m.nodeType!==8;){if(!v){m=null;break e}if(m=Di(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Ce=Di(m.nextSibling),f=m.data==="F!";break t}}Za(f)}f=!1}f&&(o=c[0])}}return c=Bn(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZE,lastRenderedState:o},c.queue=f,c=vT.bind(null,Lt,f),f.dispatch=c,f=sy(!1),v=hy.bind(null,Lt,!1,f.queue),f=Bn(),m={state:o,dispatch:null,action:s,pending:null},f.queue=m,c=KM.bind(null,Lt,m,v,c),m.dispatch=c,f.memoizedState=s,[o,c,!1]}function tT(s){var o=je();return eT(o,oe,s)}function eT(s,o,c){if(o=iy(s,o,ZE)[0],s=od($r)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=bu(o)}catch(w){throw w===pu?ed:w}else f=o;o=je();var m=o.queue,v=m.dispatch;return c!==o.memoizedState&&(Lt.flags|=2048,bl(9,ld(),XM.bind(null,m,c),null)),[f,v,s]}function XM(s,o){s.action=o}function nT(s){var o=je(),c=oe;if(c!==null)return eT(o,c,s);je(),o=o.memoizedState,c=je();var f=c.queue.dispatch;return c.memoizedState=s,[o,f,!1]}function bl(s,o,c,f){return s={tag:s,create:c,deps:f,inst:o,next:null},o=Lt.updateQueue,o===null&&(o=ey(),Lt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s),s}function ld(){return{destroy:void 0,resource:void 0}}function iT(){return je().memoizedState}function cd(s,o,c,f){var m=Bn();f=f===void 0?null:f,Lt.flags|=s,m.memoizedState=bl(1|o,ld(),c,f)}function Eu(s,o,c,f){var m=je();f=f===void 0?null:f;var v=m.memoizedState.inst;oe!==null&&f!==null&&Xm(f,oe.memoizedState.deps)?m.memoizedState=bl(o,v,c,f):(Lt.flags|=s,m.memoizedState=bl(1|o,v,c,f))}function rT(s,o){cd(8390656,8,s,o)}function sT(s,o){Eu(2048,8,s,o)}function aT(s,o){return Eu(4,2,s,o)}function oT(s,o){return Eu(4,4,s,o)}function lT(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function cT(s,o,c){c=c!=null?c.concat([s]):null,Eu(4,4,lT.bind(null,o,s),c)}function oy(){}function uT(s,o){var c=je();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&Xm(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function hT(s,o){var c=je();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&Xm(o,f[1]))return f[0];if(f=s(),no){_n(!0);try{s()}finally{_n(!1)}}return c.memoizedState=[f,o],f}function ly(s,o,c){return c===void 0||(ks&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=pS(),Lt.lanes|=s,Fs|=s,c)}function fT(s,o,c,f){return Xn(c,o)?c:yl.current!==null?(s=ly(s,c,f),Xn(s,o)||(nn=!0),s):(ks&42)===0?(nn=!0,s.memoizedState=c):(s=pS(),Lt.lanes|=s,Fs|=s,o)}function dT(s,o,c,f,m){var v=nt.p;nt.p=v!==0&&8>v?v:8;var w=W.T,C={};W.T=C,hy(s,!1,o,c);try{var U=m(),Q=W.S;if(Q!==null&&Q(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var st=GM(U,f);Tu(s,o,st,ei(s))}else Tu(s,o,f,ei(s))}catch(lt){Tu(s,o,{then:function(){},status:"rejected",reason:lt},ei())}finally{nt.p=v,W.T=w}}function QM(){}function cy(s,o,c,f){if(s.tag!==5)throw Error(i(476));var m=pT(s).queue;dT(s,m,o,ft,c===null?QM:function(){return gT(s),c(f)})}function pT(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:ft},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function gT(s){var o=pT(s).next.queue;Tu(s,o,{},ei())}function uy(){return En(Bu)}function mT(){return je().memoizedState}function yT(){return je().memoizedState}function ZM(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=ei();s=Ns(c);var f=Ps(o,s,c);f!==null&&(ni(f,o,c),mu(f,o,c)),o={cache:Bm()},s.payload=o;return}o=o.return}}function JM(s,o,c){var f=ei();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},ud(s)?_T(o,c):(c=Im(s,o,c,f),c!==null&&(ni(c,s,f),bT(c,o,f)))}function vT(s,o,c){var f=ei();Tu(s,o,c,f)}function Tu(s,o,c,f){var m={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(ud(s))_T(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var w=o.lastRenderedState,C=v(w,c);if(m.hasEagerState=!0,m.eagerState=C,Xn(C,w))return Wf(s,o,m,0),de===null&&Gf(),!1}catch{}finally{}if(c=Im(s,o,m,f),c!==null)return ni(c,s,f),bT(c,o,f),!0}return!1}function hy(s,o,c,f){if(f={lane:2,revertLane:Hy(),action:f,hasEagerState:!1,eagerState:null,next:null},ud(s)){if(o)throw Error(i(479))}else o=Im(s,c,f,2),o!==null&&ni(o,s,2)}function ud(s){var o=s.alternate;return s===Lt||o!==null&&o===Lt}function _T(s,o){vl=rd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function bT(s,o,c){if((c&4194048)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,$c(s,c)}}var hd={readContext:En,use:ad,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De},ET={readContext:En,use:ad,useCallback:function(s,o){return Bn().memoizedState=[s,o===void 0?null:o],s},useContext:En,useEffect:rT,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,cd(4194308,4,lT.bind(null,o,s),c)},useLayoutEffect:function(s,o){return cd(4194308,4,s,o)},useInsertionEffect:function(s,o){cd(4,2,s,o)},useMemo:function(s,o){var c=Bn();o=o===void 0?null:o;var f=s();if(no){_n(!0);try{s()}finally{_n(!1)}}return c.memoizedState=[f,o],f},useReducer:function(s,o,c){var f=Bn();if(c!==void 0){var m=c(o);if(no){_n(!0);try{c(o)}finally{_n(!1)}}}else m=o;return f.memoizedState=f.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},f.queue=s,s=s.dispatch=JM.bind(null,Lt,s),[f.memoizedState,s]},useRef:function(s){var o=Bn();return s={current:s},o.memoizedState=s},useState:function(s){s=sy(s);var o=s.queue,c=vT.bind(null,Lt,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:oy,useDeferredValue:function(s,o){var c=Bn();return ly(c,s,o)},useTransition:function(){var s=sy(!1);return s=dT.bind(null,Lt,s.queue,!0,!1),Bn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var f=Lt,m=Bn();if(te){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),de===null)throw Error(i(349));(Kt&124)!==0||FE(f,o,c)}m.memoizedState=c;var v={value:c,getSnapshot:o};return m.queue=v,rT($E.bind(null,f,v,s),[s]),f.flags|=2048,bl(9,ld(),HE.bind(null,f,v,c,o),null),c},useId:function(){var s=Bn(),o=de.identifierPrefix;if(te){var c=jr,f=Br;c=(f&~(1<<32-bn(f)-1)).toString(32)+c,o=""+o+"R"+c,c=sd++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=WM++,o=""+o+"r"+c.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:uy,useFormState:JE,useActionState:JE,useOptimistic:function(s){var o=Bn();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=hy.bind(null,Lt,!0,c),c.dispatch=o,[s,o]},useMemoCache:ny,useCacheRefresh:function(){return Bn().memoizedState=ZM.bind(null,Lt)}},TT={readContext:En,use:ad,useCallback:uT,useContext:En,useEffect:sT,useImperativeHandle:cT,useInsertionEffect:aT,useLayoutEffect:oT,useMemo:hT,useReducer:od,useRef:iT,useState:function(){return od($r)},useDebugValue:oy,useDeferredValue:function(s,o){var c=je();return fT(c,oe.memoizedState,s,o)},useTransition:function(){var s=od($r)[0],o=je().memoizedState;return[typeof s=="boolean"?s:bu(s),o]},useSyncExternalStore:jE,useId:mT,useHostTransitionStatus:uy,useFormState:tT,useActionState:tT,useOptimistic:function(s,o){var c=je();return WE(c,oe,s,o)},useMemoCache:ny,useCacheRefresh:yT},tD={readContext:En,use:ad,useCallback:uT,useContext:En,useEffect:sT,useImperativeHandle:cT,useInsertionEffect:aT,useLayoutEffect:oT,useMemo:hT,useReducer:ry,useRef:iT,useState:function(){return ry($r)},useDebugValue:oy,useDeferredValue:function(s,o){var c=je();return oe===null?ly(c,s,o):fT(c,oe.memoizedState,s,o)},useTransition:function(){var s=ry($r)[0],o=je().memoizedState;return[typeof s=="boolean"?s:bu(s),o]},useSyncExternalStore:jE,useId:mT,useHostTransitionStatus:uy,useFormState:nT,useActionState:nT,useOptimistic:function(s,o){var c=je();return oe!==null?WE(c,oe,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:ny,useCacheRefresh:yT},El=null,Su=0;function fd(s){var o=Su;return Su+=1,El===null&&(El=[]),NE(El,s,o)}function wu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function dd(s,o){throw o.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function ST(s){var o=s._init;return o(s._payload)}function wT(s){function o(G,q){if(s){var X=G.deletions;X===null?(G.deletions=[q],G.flags|=16):X.push(q)}}function c(G,q){if(!s)return null;for(;q!==null;)o(G,q),q=q.sibling;return null}function f(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function m(G,q){return G=zr(G,q),G.index=0,G.sibling=null,G}function v(G,q,X){return G.index=X,s?(X=G.alternate,X!==null?(X=X.index,X<q?(G.flags|=67108866,q):X):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function w(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function C(G,q,X,at){return q===null||q.tag!==6?(q=Dm(X,G.mode,at),q.return=G,q):(q=m(q,X),q.return=G,q)}function U(G,q,X,at){var Et=X.type;return Et===S?st(G,q,X.props.children,at,X.key):q!==null&&(q.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&ST(Et)===q.type)?(q=m(q,X.props),wu(q,X),q.return=G,q):(q=Kf(X.type,X.key,X.props,null,G.mode,at),wu(q,X),q.return=G,q)}function Q(G,q,X,at){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=Nm(X,G.mode,at),q.return=G,q):(q=m(q,X.children||[]),q.return=G,q)}function st(G,q,X,at,Et){return q===null||q.tag!==7?(q=Ya(X,G.mode,at,Et),q.return=G,q):(q=m(q,X),q.return=G,q)}function lt(G,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Dm(""+q,G.mode,X),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return X=Kf(q.type,q.key,q.props,null,G.mode,X),wu(X,q),X.return=G,X;case E:return q=Nm(q,G.mode,X),q.return=G,q;case R:var at=q._init;return q=at(q._payload),lt(G,q,X)}if(_t(q)||j(q))return q=Ya(q,G.mode,X,null),q.return=G,q;if(typeof q.then=="function")return lt(G,fd(q),X);if(q.$$typeof===V)return lt(G,Jf(G,q),X);dd(G,q)}return null}function Z(G,q,X,at){var Et=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Et!==null?null:C(G,q,""+X,at);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===Et?U(G,q,X,at):null;case E:return X.key===Et?Q(G,q,X,at):null;case R:return Et=X._init,X=Et(X._payload),Z(G,q,X,at)}if(_t(X)||j(X))return Et!==null?null:st(G,q,X,at,null);if(typeof X.then=="function")return Z(G,q,fd(X),at);if(X.$$typeof===V)return Z(G,q,Jf(G,X),at);dd(G,X)}return null}function tt(G,q,X,at,Et){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return G=G.get(X)||null,C(q,G,""+at,Et);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case _:return G=G.get(at.key===null?X:at.key)||null,U(q,G,at,Et);case E:return G=G.get(at.key===null?X:at.key)||null,Q(q,G,at,Et);case R:var Vt=at._init;return at=Vt(at._payload),tt(G,q,X,at,Et)}if(_t(at)||j(at))return G=G.get(X)||null,st(q,G,at,Et,null);if(typeof at.then=="function")return tt(G,q,X,fd(at),Et);if(at.$$typeof===V)return tt(G,q,X,Jf(q,at),Et);dd(q,at)}return null}function It(G,q,X,at){for(var Et=null,Vt=null,St=q,Rt=q=0,sn=null;St!==null&&Rt<X.length;Rt++){St.index>Rt?(sn=St,St=null):sn=St.sibling;var Zt=Z(G,St,X[Rt],at);if(Zt===null){St===null&&(St=sn);break}s&&St&&Zt.alternate===null&&o(G,St),q=v(Zt,q,Rt),Vt===null?Et=Zt:Vt.sibling=Zt,Vt=Zt,St=sn}if(Rt===X.length)return c(G,St),te&&Xa(G,Rt),Et;if(St===null){for(;Rt<X.length;Rt++)St=lt(G,X[Rt],at),St!==null&&(q=v(St,q,Rt),Vt===null?Et=St:Vt.sibling=St,Vt=St);return te&&Xa(G,Rt),Et}for(St=f(St);Rt<X.length;Rt++)sn=tt(St,G,Rt,X[Rt],at),sn!==null&&(s&&sn.alternate!==null&&St.delete(sn.key===null?Rt:sn.key),q=v(sn,q,Rt),Vt===null?Et=sn:Vt.sibling=sn,Vt=sn);return s&&St.forEach(function(Qs){return o(G,Qs)}),te&&Xa(G,Rt),Et}function xt(G,q,X,at){if(X==null)throw Error(i(151));for(var Et=null,Vt=null,St=q,Rt=q=0,sn=null,Zt=X.next();St!==null&&!Zt.done;Rt++,Zt=X.next()){St.index>Rt?(sn=St,St=null):sn=St.sibling;var Qs=Z(G,St,Zt.value,at);if(Qs===null){St===null&&(St=sn);break}s&&St&&Qs.alternate===null&&o(G,St),q=v(Qs,q,Rt),Vt===null?Et=Qs:Vt.sibling=Qs,Vt=Qs,St=sn}if(Zt.done)return c(G,St),te&&Xa(G,Rt),Et;if(St===null){for(;!Zt.done;Rt++,Zt=X.next())Zt=lt(G,Zt.value,at),Zt!==null&&(q=v(Zt,q,Rt),Vt===null?Et=Zt:Vt.sibling=Zt,Vt=Zt);return te&&Xa(G,Rt),Et}for(St=f(St);!Zt.done;Rt++,Zt=X.next())Zt=tt(St,G,Rt,Zt.value,at),Zt!==null&&(s&&Zt.alternate!==null&&St.delete(Zt.key===null?Rt:Zt.key),q=v(Zt,q,Rt),Vt===null?Et=Zt:Vt.sibling=Zt,Vt=Zt);return s&&St.forEach(function(eN){return o(G,eN)}),te&&Xa(G,Rt),Et}function ce(G,q,X,at){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:t:{for(var Et=X.key;q!==null;){if(q.key===Et){if(Et=X.type,Et===S){if(q.tag===7){c(G,q.sibling),at=m(q,X.props.children),at.return=G,G=at;break t}}else if(q.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&ST(Et)===q.type){c(G,q.sibling),at=m(q,X.props),wu(at,X),at.return=G,G=at;break t}c(G,q);break}else o(G,q);q=q.sibling}X.type===S?(at=Ya(X.props.children,G.mode,at,X.key),at.return=G,G=at):(at=Kf(X.type,X.key,X.props,null,G.mode,at),wu(at,X),at.return=G,G=at)}return w(G);case E:t:{for(Et=X.key;q!==null;){if(q.key===Et)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){c(G,q.sibling),at=m(q,X.children||[]),at.return=G,G=at;break t}else{c(G,q);break}else o(G,q);q=q.sibling}at=Nm(X,G.mode,at),at.return=G,G=at}return w(G);case R:return Et=X._init,X=Et(X._payload),ce(G,q,X,at)}if(_t(X))return It(G,q,X,at);if(j(X)){if(Et=j(X),typeof Et!="function")throw Error(i(150));return X=Et.call(X),xt(G,q,X,at)}if(typeof X.then=="function")return ce(G,q,fd(X),at);if(X.$$typeof===V)return ce(G,q,Jf(G,X),at);dd(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(c(G,q.sibling),at=m(q,X),at.return=G,G=at):(c(G,q),at=Dm(X,G.mode,at),at.return=G,G=at),w(G)):c(G,q)}return function(G,q,X,at){try{Su=0;var Et=ce(G,q,X,at);return El=null,Et}catch(St){if(St===pu||St===ed)throw St;var Vt=Qn(29,St,null,G.mode);return Vt.lanes=at,Vt.return=G,Vt}finally{}}}var Tl=wT(!0),AT=wT(!1),mi=rt(null),nr=null;function Ls(s){var o=s.alternate;it(Xe,Xe.current&1),it(mi,s),nr===null&&(o===null||yl.current!==null||o.memoizedState!==null)&&(nr=s)}function xT(s){if(s.tag===22){if(it(Xe,Xe.current),it(mi,s),nr===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(nr=s)}}else Vs()}function Vs(){it(Xe,Xe.current),it(mi,mi.current)}function qr(s){ht(mi),nr===s&&(nr=null),ht(Xe)}var Xe=rt(0);function pd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||ev(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function fy(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:g({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var dy={enqueueSetState:function(s,o,c){s=s._reactInternals;var f=ei(),m=Ns(f);m.payload=o,c!=null&&(m.callback=c),o=Ps(s,m,f),o!==null&&(ni(o,s,f),mu(o,s,f))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=ei(),m=Ns(f);m.tag=1,m.payload=o,c!=null&&(m.callback=c),o=Ps(s,m,f),o!==null&&(ni(o,s,f),mu(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ei(),f=Ns(c);f.tag=2,o!=null&&(f.callback=o),o=Ps(s,f,c),o!==null&&(ni(o,s,c),mu(o,s,c))}};function RT(s,o,c,f,m,v,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,w):o.prototype&&o.prototype.isPureReactComponent?!au(c,f)||!au(m,v):!0}function CT(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&dy.enqueueReplaceState(o,o.state,null)}function io(s,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(s=s.defaultProps){c===o&&(c=g({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}var gd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function OT(s){gd(s)}function IT(s){console.error(s)}function MT(s){gd(s)}function md(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function DT(s,o,c){try{var f=s.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function py(s,o,c){return c=Ns(c),c.tag=3,c.payload={element:null},c.callback=function(){md(s,o)},c}function NT(s){return s=Ns(s),s.tag=3,s}function PT(s,o,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var v=f.value;s.payload=function(){return m(v)},s.callback=function(){DT(o,c,f)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){DT(o,c,f),typeof m!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function eD(s,o,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&hu(o,c,m,!0),c=mi.current,c!==null){switch(c.tag){case 13:return nr===null?Uy():c.alternate===null&&Oe===0&&(Oe=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===Hm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),By(s,f,m)),!1;case 22:return c.flags|=65536,f===Hm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),By(s,f,m)),!1}throw Error(i(435,c.tag))}return By(s,f,m),Uy(),!1}if(te)return o=mi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,f!==Lm&&(s=Error(i(422),{cause:f}),uu(fi(s,c)))):(f!==Lm&&(o=Error(i(423),{cause:f}),uu(fi(o,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,f=fi(f,c),m=py(s.stateNode,f,m),Gm(s,m),Oe!==4&&(Oe=2)),!1;var v=Error(i(520),{cause:f});if(v=fi(v,c),Mu===null?Mu=[v]:Mu.push(v),Oe!==4&&(Oe=2),o===null)return!0;f=fi(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=py(c.stateNode,f,s),Gm(c,s),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hs===null||!Hs.has(v))))return c.flags|=65536,m&=-m,c.lanes|=m,m=NT(m),PT(m,s,c,f),Gm(c,m),!1}c=c.return}while(c!==null);return!1}var kT=Error(i(461)),nn=!1;function dn(s,o,c,f){o.child=s===null?AT(o,null,c,f):Tl(o,s.child,c,f)}function LT(s,o,c,f,m){c=c.render;var v=o.ref;if("ref"in f){var w={};for(var C in f)C!=="ref"&&(w[C]=f[C])}else w=f;return to(o),f=Qm(s,o,c,w,v,m),C=Zm(),s!==null&&!nn?(Jm(s,o,m),Gr(s,o,m)):(te&&C&&Pm(o),o.flags|=1,dn(s,o,f,m),o.child)}function VT(s,o,c,f,m){if(s===null){var v=c.type;return typeof v=="function"&&!Mm(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,UT(s,o,v,f,m)):(s=Kf(c.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!Ty(s,m)){var w=v.memoizedProps;if(c=c.compare,c=c!==null?c:au,c(w,f)&&s.ref===o.ref)return Gr(s,o,m)}return o.flags|=1,s=zr(v,f),s.ref=o.ref,s.return=o,o.child=s}function UT(s,o,c,f,m){if(s!==null){var v=s.memoizedProps;if(au(v,f)&&s.ref===o.ref)if(nn=!1,o.pendingProps=f=v,Ty(s,m))(s.flags&131072)!==0&&(nn=!0);else return o.lanes=s.lanes,Gr(s,o,m)}return gy(s,o,c,f,m)}function zT(s,o,c){var f=o.pendingProps,m=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=v!==null?v.baseLanes|c:c,s!==null){for(m=o.child=s.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;o.childLanes=v&~f}else o.childLanes=0,o.child=null;return BT(s,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&td(o,v!==null?v.cachePool:null),v!==null?UE(o,v):Ym(),xT(o);else return o.lanes=o.childLanes=536870912,BT(s,o,v!==null?v.baseLanes|c:c,c)}else v!==null?(td(o,v.cachePool),UE(o,v),Vs(),o.memoizedState=null):(s!==null&&td(o,null),Ym(),Vs());return dn(s,o,m,c),o.child}function BT(s,o,c,f){var m=Fm();return m=m===null?null:{parent:Ke._currentValue,pool:m},o.memoizedState={baseLanes:c,cachePool:m},s!==null&&td(o,null),Ym(),xT(o),s!==null&&hu(s,o,f,!0),null}function yd(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function gy(s,o,c,f,m){return to(o),c=Qm(s,o,c,f,void 0,m),f=Zm(),s!==null&&!nn?(Jm(s,o,m),Gr(s,o,m)):(te&&f&&Pm(o),o.flags|=1,dn(s,o,c,m),o.child)}function jT(s,o,c,f,m,v){return to(o),o.updateQueue=null,c=BE(o,f,c,m),zE(s),f=Zm(),s!==null&&!nn?(Jm(s,o,v),Gr(s,o,v)):(te&&f&&Pm(o),o.flags|=1,dn(s,o,c,v),o.child)}function FT(s,o,c,f,m){if(to(o),o.stateNode===null){var v=fl,w=c.contextType;typeof w=="object"&&w!==null&&(v=En(w)),v=new c(f,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=dy,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=f,v.state=o.memoizedState,v.refs={},$m(o),w=c.contextType,v.context=typeof w=="object"&&w!==null?En(w):fl,v.state=o.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(fy(o,c,w,f),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&dy.enqueueReplaceState(v,v.state,null),vu(o,f,v,m),yu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(s===null){v=o.stateNode;var C=o.memoizedProps,U=io(c,C);v.props=U;var Q=v.context,st=c.contextType;w=fl,typeof st=="object"&&st!==null&&(w=En(st));var lt=c.getDerivedStateFromProps;st=typeof lt=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,st||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||Q!==w)&&CT(o,v,f,w),Ds=!1;var Z=o.memoizedState;v.state=Z,vu(o,f,v,m),yu(),Q=o.memoizedState,C||Z!==Q||Ds?(typeof lt=="function"&&(fy(o,c,lt,f),Q=o.memoizedState),(U=Ds||RT(o,c,U,f,Z,Q,w))?(st||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Q),v.props=f,v.state=Q,v.context=w,f=U):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{v=o.stateNode,qm(s,o),w=o.memoizedProps,st=io(c,w),v.props=st,lt=o.pendingProps,Z=v.context,Q=c.contextType,U=fl,typeof Q=="object"&&Q!==null&&(U=En(Q)),C=c.getDerivedStateFromProps,(Q=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==lt||Z!==U)&&CT(o,v,f,U),Ds=!1,Z=o.memoizedState,v.state=Z,vu(o,f,v,m),yu();var tt=o.memoizedState;w!==lt||Z!==tt||Ds||s!==null&&s.dependencies!==null&&Zf(s.dependencies)?(typeof C=="function"&&(fy(o,c,C,f),tt=o.memoizedState),(st=Ds||RT(o,c,st,f,Z,tt,U)||s!==null&&s.dependencies!==null&&Zf(s.dependencies))?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,tt,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,tt,U)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=tt),v.props=f,v.state=tt,v.context=U,f=st):(typeof v.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),f=!1)}return v=f,yd(s,o),f=(o.flags&128)!==0,v||f?(v=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,s!==null&&f?(o.child=Tl(o,s.child,null,m),o.child=Tl(o,null,c,m)):dn(s,o,c,m),o.memoizedState=v.state,s=o.child):s=Gr(s,o,m),s}function HT(s,o,c,f){return cu(),o.flags|=256,dn(s,o,c,f),o.child}var my={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yy(s){return{baseLanes:s,cachePool:IE()}}function vy(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=yi),s}function $T(s,o,c){var f=o.pendingProps,m=!1,v=(o.flags&128)!==0,w;if((w=v)||(w=s!==null&&s.memoizedState===null?!1:(Xe.current&2)!==0),w&&(m=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,s===null){if(te){if(m?Ls(o):Vs(),te){var C=Ce,U;if(U=C){t:{for(U=C,C=er;U.nodeType!==8;){if(!C){C=null;break t}if(U=Di(U.nextSibling),U===null){C=null;break t}}C=U}C!==null?(o.memoizedState={dehydrated:C,treeContext:Ka!==null?{id:Br,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},U=Qn(18,null,null,0),U.stateNode=C,U.return=o,o.child=U,Ln=o,Ce=null,U=!0):U=!1}U||Za(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ev(C)?o.lanes=32:o.lanes=536870912,null;qr(o)}return C=f.children,f=f.fallback,m?(Vs(),m=o.mode,C=vd({mode:"hidden",children:C},m),f=Ya(f,m,c,null),C.return=o,f.return=o,C.sibling=f,o.child=C,m=o.child,m.memoizedState=yy(c),m.childLanes=vy(s,w,c),o.memoizedState=my,f):(Ls(o),_y(o,C))}if(U=s.memoizedState,U!==null&&(C=U.dehydrated,C!==null)){if(v)o.flags&256?(Ls(o),o.flags&=-257,o=by(s,o,c)):o.memoizedState!==null?(Vs(),o.child=s.child,o.flags|=128,o=null):(Vs(),m=f.fallback,C=o.mode,f=vd({mode:"visible",children:f.children},C),m=Ya(m,C,c,null),m.flags|=2,f.return=o,m.return=o,f.sibling=m,o.child=f,Tl(o,s.child,null,c),f=o.child,f.memoizedState=yy(c),f.childLanes=vy(s,w,c),o.memoizedState=my,o=m);else if(Ls(o),ev(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var Q=w.dgst;w=Q,f=Error(i(419)),f.stack="",f.digest=w,uu({value:f,source:null,stack:null}),o=by(s,o,c)}else if(nn||hu(s,o,c,!1),w=(c&s.childLanes)!==0,nn||w){if(w=de,w!==null&&(f=c&-c,f=(f&42)!==0?1:ws(f),f=(f&(w.suspendedLanes|c))!==0?0:f,f!==0&&f!==U.retryLane))throw U.retryLane=f,hl(s,f),ni(w,s,f),kT;C.data==="$?"||Uy(),o=by(s,o,c)}else C.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=U.treeContext,Ce=Di(C.nextSibling),Ln=o,te=!0,Qa=null,er=!1,s!==null&&(pi[gi++]=Br,pi[gi++]=jr,pi[gi++]=Ka,Br=s.id,jr=s.overflow,Ka=o),o=_y(o,f.children),o.flags|=4096);return o}return m?(Vs(),m=f.fallback,C=o.mode,U=s.child,Q=U.sibling,f=zr(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,Q!==null?m=zr(Q,m):(m=Ya(m,C,c,null),m.flags|=2),m.return=o,f.return=o,f.sibling=m,o.child=f,f=m,m=o.child,C=s.child.memoizedState,C===null?C=yy(c):(U=C.cachePool,U!==null?(Q=Ke._currentValue,U=U.parent!==Q?{parent:Q,pool:Q}:U):U=IE(),C={baseLanes:C.baseLanes|c,cachePool:U}),m.memoizedState=C,m.childLanes=vy(s,w,c),o.memoizedState=my,f):(Ls(o),c=s.child,s=c.sibling,c=zr(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,s!==null&&(w=o.deletions,w===null?(o.deletions=[s],o.flags|=16):w.push(s)),o.child=c,o.memoizedState=null,c)}function _y(s,o){return o=vd({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function vd(s,o){return s=Qn(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function by(s,o,c){return Tl(o,s.child,null,c),s=_y(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function qT(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Um(s.return,o,c)}function Ey(s,o,c,f,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=m)}function GT(s,o,c){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(dn(s,o,f.children,c),f=Xe.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qT(s,c,o);else if(s.tag===19)qT(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(it(Xe,f),m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&pd(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Ey(o,!1,m,c,v);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&pd(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Ey(o,!0,c,null,v);break;case"together":Ey(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Gr(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Fs|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(hu(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=zr(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=zr(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Ty(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Zf(s)))}function nD(s,o,c){switch(o.tag){case 3:Ut(o,o.stateNode.containerInfo),Ms(o,Ke,s.memoizedState.cache),cu();break;case 27:case 5:Dn(o);break;case 4:Ut(o,o.stateNode.containerInfo);break;case 10:Ms(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ls(o),o.flags|=128,null):(c&o.child.childLanes)!==0?$T(s,o,c):(Ls(o),s=Gr(s,o,c),s!==null?s.sibling:null);Ls(o);break;case 19:var m=(s.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(hu(s,o,c,!1),f=(c&o.childLanes)!==0),m){if(f)return GT(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(Xe,Xe.current),f)break;return null;case 22:case 23:return o.lanes=0,zT(s,o,c);case 24:Ms(o,Ke,s.memoizedState.cache)}return Gr(s,o,c)}function WT(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)nn=!0;else{if(!Ty(s,c)&&(o.flags&128)===0)return nn=!1,nD(s,o,c);nn=(s.flags&131072)!==0}else nn=!1,te&&(o.flags&1048576)!==0&&SE(o,Qf,o.index);switch(o.lanes=0,o.tag){case 16:t:{s=o.pendingProps;var f=o.elementType,m=f._init;if(f=m(f._payload),o.type=f,typeof f=="function")Mm(f)?(s=io(f,s),o.tag=1,o=FT(null,o,f,s,c)):(o.tag=0,o=gy(null,o,f,s,c));else{if(f!=null){if(m=f.$$typeof,m===$){o.tag=11,o=LT(null,o,f,s,c);break t}else if(m===D){o.tag=14,o=VT(null,o,f,s,c);break t}}throw o=wt(f)||f,Error(i(306,o,""))}}return o;case 0:return gy(s,o,o.type,o.pendingProps,c);case 1:return f=o.type,m=io(f,o.pendingProps),FT(s,o,f,m,c);case 3:t:{if(Ut(o,o.stateNode.containerInfo),s===null)throw Error(i(387));f=o.pendingProps;var v=o.memoizedState;m=v.element,qm(s,o),vu(o,f,null,c);var w=o.memoizedState;if(f=w.cache,Ms(o,Ke,f),f!==v.cache&&zm(o,[Ke],c,!0),yu(),f=w.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=HT(s,o,f,c);break t}else if(f!==m){m=fi(Error(i(424)),o),uu(m),o=HT(s,o,f,c);break t}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ce=Di(s.firstChild),Ln=o,te=!0,Qa=null,er=!0,c=AT(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(cu(),f===m){o=Gr(s,o,c);break t}dn(s,o,f,c)}o=o.child}return o;case 26:return yd(s,o),s===null?(c=QS(o.type,null,o.pendingProps,null))?o.memoizedState=c:te||(c=o.type,s=o.pendingProps,f=Dd(yt.current).createElement(c),f[Ge]=o,f[Ue]=s,gn(f,c,s),Me(f),o.stateNode=f):o.memoizedState=QS(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Dn(o),s===null&&te&&(f=o.stateNode=YS(o.type,o.pendingProps,yt.current),Ln=o,er=!0,m=Ce,Gs(o.type)?(nv=m,Ce=Di(f.firstChild)):Ce=m),dn(s,o,o.pendingProps.children,c),yd(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&te&&((m=f=Ce)&&(f=ID(f,o.type,o.pendingProps,er),f!==null?(o.stateNode=f,Ln=o,Ce=Di(f.firstChild),er=!1,m=!0):m=!1),m||Za(o)),Dn(o),m=o.type,v=o.pendingProps,w=s!==null?s.memoizedProps:null,f=v.children,Zy(m,v)?f=null:w!==null&&Zy(m,w)&&(o.flags|=32),o.memoizedState!==null&&(m=Qm(s,o,YM,null,null,c),Bu._currentValue=m),yd(s,o),dn(s,o,f,c),o.child;case 6:return s===null&&te&&((s=c=Ce)&&(c=MD(c,o.pendingProps,er),c!==null?(o.stateNode=c,Ln=o,Ce=null,s=!0):s=!1),s||Za(o)),null;case 13:return $T(s,o,c);case 4:return Ut(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Tl(o,null,f,c):dn(s,o,f,c),o.child;case 11:return LT(s,o,o.type,o.pendingProps,c);case 7:return dn(s,o,o.pendingProps,c),o.child;case 8:return dn(s,o,o.pendingProps.children,c),o.child;case 12:return dn(s,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,Ms(o,o.type,f.value),dn(s,o,f.children,c),o.child;case 9:return m=o.type._context,f=o.pendingProps.children,to(o),m=En(m),f=f(m),o.flags|=1,dn(s,o,f,c),o.child;case 14:return VT(s,o,o.type,o.pendingProps,c);case 15:return UT(s,o,o.type,o.pendingProps,c);case 19:return GT(s,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},s===null?(c=vd(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=zr(s.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return zT(s,o,c);case 24:return to(o),f=En(Ke),s===null?(m=Fm(),m===null&&(m=de,v=Bm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=c),m=v),o.memoizedState={parent:f,cache:m},$m(o),Ms(o,Ke,m)):((s.lanes&c)!==0&&(qm(s,o),vu(o,null,null,c),yu()),m=s.memoizedState,v=o.memoizedState,m.parent!==f?(m={parent:f,cache:f},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Ms(o,Ke,f)):(f=v.cache,Ms(o,Ke,f),f!==m.cache&&zm(o,[Ke],c,!0))),dn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Wr(s){s.flags|=4}function YT(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!nw(o)){if(o=mi.current,o!==null&&((Kt&4194048)===Kt?nr!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||o!==nr))throw gu=Hm,ME;s.flags|=8192}}function _d(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Fc():536870912,s.lanes|=o,xl|=o)}function Au(s,o){if(!te)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function xe(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function iD(s,o,c){var f=o.pendingProps;switch(km(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(o),null;case 1:return xe(o),null;case 3:return c=o.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Hr(Ke),cn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(lu(o)?Wr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xE())),xe(o),null;case 26:return c=o.memoizedState,s===null?(Wr(o),c!==null?(xe(o),YT(o,c)):(xe(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Wr(o),xe(o),YT(o,c)):(xe(o),o.flags&=-16777217):(s.memoizedProps!==f&&Wr(o),xe(o),o.flags&=-16777217),null;case 27:Je(o),c=yt.current;var m=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Wr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return xe(o),null}s=dt.current,lu(o)?wE(o):(s=YS(m,f,c),o.stateNode=s,Wr(o))}return xe(o),null;case 5:if(Je(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Wr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return xe(o),null}if(s=dt.current,lu(o))wE(o);else{switch(m=Dd(yt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?m.createElement(c,{is:f.is}):m.createElement(c)}}s[Ge]=o,s[Ue]=f;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=s;t:switch(gn(s,c,f),c){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Wr(o)}}return xe(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==f&&Wr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(s=yt.current,lu(o)){if(s=o.stateNode,c=o.memoizedProps,f=null,m=Ln,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}s[Ge]=o,s=!!(s.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||jS(s.nodeValue,c)),s||Za(o)}else s=Dd(s).createTextNode(f),s[Ge]=o,o.stateNode=s}return xe(o),null;case 13:if(f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=lu(o),f!==null&&f.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ge]=o}else cu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xe(o),m=!1}else m=xE(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(qr(o),o):(qr(o),null)}if(qr(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,s=s!==null&&s.memoizedState!==null,c){f=o.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==m&&(f.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),_d(o,o.updateQueue),xe(o),null;case 4:return cn(),s===null&&Wy(o.stateNode.containerInfo),xe(o),null;case 10:return Hr(o.type),xe(o),null;case 19:if(ht(Xe),m=o.memoizedState,m===null)return xe(o),null;if(f=(o.flags&128)!==0,v=m.rendering,v===null)if(f)Au(m,!1);else{if(Oe!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(v=pd(s),v!==null){for(o.flags|=128,Au(m,!1),s=v.updateQueue,o.updateQueue=s,_d(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)TE(c,s),c=c.sibling;return it(Xe,Xe.current&1|2),o.child}s=s.sibling}m.tail!==null&&un()>Td&&(o.flags|=128,f=!0,Au(m,!1),o.lanes=4194304)}else{if(!f)if(s=pd(v),s!==null){if(o.flags|=128,f=!0,s=s.updateQueue,o.updateQueue=s,_d(o,s),Au(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!te)return xe(o),null}else 2*un()-m.renderingStartTime>Td&&c!==536870912&&(o.flags|=128,f=!0,Au(m,!1),o.lanes=4194304);m.isBackwards?(v.sibling=o.child,o.child=v):(s=m.last,s!==null?s.sibling=v:o.child=v,m.last=v)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=un(),o.sibling=null,s=Xe.current,it(Xe,f?s&1|2:s&1),o):(xe(o),null);case 22:case 23:return qr(o),Km(),f=o.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(xe(o),o.subtreeFlags&6&&(o.flags|=8192)):xe(o),c=o.updateQueue,c!==null&&_d(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),s!==null&&ht(eo),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Hr(Ke),xe(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function rD(s,o){switch(km(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Hr(Ke),cn(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Je(o),null;case 13:if(qr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));cu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ht(Xe),null;case 4:return cn(),null;case 10:return Hr(o.type),null;case 22:case 23:return qr(o),Km(),s!==null&&ht(eo),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Hr(Ke),null;case 25:return null;default:return null}}function KT(s,o){switch(km(o),o.tag){case 3:Hr(Ke),cn();break;case 26:case 27:case 5:Je(o);break;case 4:cn();break;case 13:qr(o);break;case 19:ht(Xe);break;case 10:Hr(o.type);break;case 22:case 23:qr(o),Km(),s!==null&&ht(eo);break;case 24:Hr(Ke)}}function xu(s,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&s)===s){f=void 0;var v=c.create,w=c.inst;f=v(),w.destroy=f}c=c.next}while(c!==m)}}catch(C){fe(o,o.return,C)}}function Us(s,o,c){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&s)===s){var w=f.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,m=o;var U=c,Q=C;try{Q()}catch(st){fe(m,U,st)}}}f=f.next}while(f!==v)}}catch(st){fe(o,o.return,st)}}function XT(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{VE(o,c)}catch(f){fe(s,s.return,f)}}}function QT(s,o,c){c.props=io(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(f){fe(s,o,f)}}function Ru(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof c=="function"?s.refCleanup=c(f):c.current=f}}catch(m){fe(s,o,m)}}function ir(s,o){var c=s.ref,f=s.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){fe(s,o,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){fe(s,o,m)}else c.current=null}function ZT(s){var o=s.type,c=s.memoizedProps,f=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break t;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){fe(s,s.return,m)}}function Sy(s,o,c){try{var f=s.stateNode;AD(f,s.type,c,o),f[Ue]=o}catch(m){fe(s,s.return,m)}}function JT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Gs(s.type)||s.tag===4}function wy(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||JT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Gs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ay(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Md));else if(f!==4&&(f===27&&Gs(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(Ay(s,o,c),s=s.sibling;s!==null;)Ay(s,o,c),s=s.sibling}function bd(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(f===27&&Gs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(bd(s,o,c),s=s.sibling;s!==null;)bd(s,o,c),s=s.sibling}function tS(s){var o=s.stateNode,c=s.memoizedProps;try{for(var f=s.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);gn(o,f,c),o[Ge]=s,o[Ue]=c}catch(v){fe(s,s.return,v)}}var Yr=!1,Ne=!1,xy=!1,eS=typeof WeakSet=="function"?WeakSet:Set,rn=null;function sD(s,o){if(s=s.containerInfo,Xy=Ud,s=fE(s),wm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break t}var w=0,C=-1,U=-1,Q=0,st=0,lt=s,Z=null;e:for(;;){for(var tt;lt!==c||m!==0&&lt.nodeType!==3||(C=w+m),lt!==v||f!==0&&lt.nodeType!==3||(U=w+f),lt.nodeType===3&&(w+=lt.nodeValue.length),(tt=lt.firstChild)!==null;)Z=lt,lt=tt;for(;;){if(lt===s)break e;if(Z===c&&++Q===m&&(C=w),Z===v&&++st===f&&(U=w),(tt=lt.nextSibling)!==null)break;lt=Z,Z=lt.parentNode}lt=tt}c=C===-1||U===-1?null:{start:C,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(Qy={focusedElem:s,selectionRange:c},Ud=!1,rn=o;rn!==null;)if(o=rn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,rn=s;else for(;rn!==null;){switch(o=rn,v=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,c=o,m=v.memoizedProps,v=v.memoizedState,f=c.stateNode;try{var It=io(c.type,m,c.elementType===c.type);s=f.getSnapshotBeforeUpdate(It,v),f.__reactInternalSnapshotBeforeUpdate=s}catch(xt){fe(c,c.return,xt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)tv(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":tv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,rn=s;break}rn=o.return}}function nS(s,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:zs(s,c),f&4&&xu(5,c);break;case 1:if(zs(s,c),f&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(w){fe(c,c.return,w)}else{var m=io(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(m,o,s.__reactInternalSnapshotBeforeUpdate)}catch(w){fe(c,c.return,w)}}f&64&&XT(c),f&512&&Ru(c,c.return);break;case 3:if(zs(s,c),f&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{VE(s,o)}catch(w){fe(c,c.return,w)}}break;case 27:o===null&&f&4&&tS(c);case 26:case 5:zs(s,c),o===null&&f&4&&ZT(c),f&512&&Ru(c,c.return);break;case 12:zs(s,c);break;case 13:zs(s,c),f&4&&sS(s,c),f&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=pD.bind(null,c),DD(s,c))));break;case 22:if(f=c.memoizedState!==null||Yr,!f){o=o!==null&&o.memoizedState!==null||Ne,m=Yr;var v=Ne;Yr=f,(Ne=o)&&!v?Bs(s,c,(c.subtreeFlags&8772)!==0):zs(s,c),Yr=m,Ne=v}break;case 30:break;default:zs(s,c)}}function iS(s){var o=s.alternate;o!==null&&(s.alternate=null,iS(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Rs(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Te=null,jn=!1;function Kr(s,o,c){for(c=c.child;c!==null;)rS(s,o,c),c=c.sibling}function rS(s,o,c){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ye,c)}catch{}switch(c.tag){case 26:Ne||ir(c,o),Kr(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ne||ir(c,o);var f=Te,m=jn;Gs(c.type)&&(Te=c.stateNode,jn=!1),Kr(s,o,c),Lu(c.stateNode),Te=f,jn=m;break;case 5:Ne||ir(c,o);case 6:if(f=Te,m=jn,Te=null,Kr(s,o,c),Te=f,jn=m,Te!==null)if(jn)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(c.stateNode)}catch(v){fe(c,o,v)}else try{Te.removeChild(c.stateNode)}catch(v){fe(c,o,v)}break;case 18:Te!==null&&(jn?(s=Te,GS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),$u(s)):GS(Te,c.stateNode));break;case 4:f=Te,m=jn,Te=c.stateNode.containerInfo,jn=!0,Kr(s,o,c),Te=f,jn=m;break;case 0:case 11:case 14:case 15:Ne||Us(2,c,o),Ne||Us(4,c,o),Kr(s,o,c);break;case 1:Ne||(ir(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&QT(c,o,f)),Kr(s,o,c);break;case 21:Kr(s,o,c);break;case 22:Ne=(f=Ne)||c.memoizedState!==null,Kr(s,o,c),Ne=f;break;default:Kr(s,o,c)}}function sS(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$u(s)}catch(c){fe(o,o.return,c)}}function aD(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new eS),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new eS),o;default:throw Error(i(435,s.tag))}}function Ry(s,o){var c=aD(s);o.forEach(function(f){var m=gD.bind(null,s,f);c.has(f)||(c.add(f),f.then(m,m))})}function Zn(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],v=s,w=o,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(Gs(C.type)){Te=C.stateNode,jn=!1;break t}break;case 5:Te=C.stateNode,jn=!1;break t;case 3:case 4:Te=C.stateNode.containerInfo,jn=!0;break t}C=C.return}if(Te===null)throw Error(i(160));rS(v,w,m),Te=null,jn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)aS(o,s),o=o.sibling}var Mi=null;function aS(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zn(o,s),Jn(s),f&4&&(Us(3,s,s.return),xu(3,s),Us(5,s,s.return));break;case 1:Zn(o,s),Jn(s),f&512&&(Ne||c===null||ir(c,c.return)),f&64&&Yr&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=Mi;if(Zn(o,s),Jn(s),f&512&&(Ne||c===null||ir(c,c.return)),f&4){var v=c!==null?c.memoizedState:null;if(f=s.memoizedState,c===null)if(f===null)if(s.stateNode===null){t:{f=s.type,c=s.memoizedProps,m=m.ownerDocument||m;e:switch(f){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Da]||v[Ge]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(f),m.head.insertBefore(v,m.querySelector("head > title"))),gn(v,f,c),v[Ge]=s,Me(v),f=v;break t;case"link":var w=tw("link","href",m).get(f+(c.href||""));if(w){for(var C=0;C<w.length;C++)if(v=w[C],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(C,1);break e}}v=m.createElement(f),gn(v,f,c),m.head.appendChild(v);break;case"meta":if(w=tw("meta","content",m).get(f+(c.content||""))){for(C=0;C<w.length;C++)if(v=w[C],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(C,1);break e}}v=m.createElement(f),gn(v,f,c),m.head.appendChild(v);break;default:throw Error(i(468,f))}v[Ge]=s,Me(v),f=v}s.stateNode=f}else ew(m,s.type,s.stateNode);else s.stateNode=JS(m,f,s.memoizedProps);else v!==f?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,f===null?ew(m,s.type,s.stateNode):JS(m,f,s.memoizedProps)):f===null&&s.stateNode!==null&&Sy(s,s.memoizedProps,c.memoizedProps)}break;case 27:Zn(o,s),Jn(s),f&512&&(Ne||c===null||ir(c,c.return)),c!==null&&f&4&&Sy(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Zn(o,s),Jn(s),f&512&&(Ne||c===null||ir(c,c.return)),s.flags&32){m=s.stateNode;try{li(m,"")}catch(tt){fe(s,s.return,tt)}}f&4&&s.stateNode!=null&&(m=s.memoizedProps,Sy(s,m,c!==null?c.memoizedProps:m)),f&1024&&(xy=!0);break;case 6:if(Zn(o,s),Jn(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,c=s.stateNode;try{c.nodeValue=f}catch(tt){fe(s,s.return,tt)}}break;case 3:if(kd=null,m=Mi,Mi=Nd(o.containerInfo),Zn(o,s),Mi=m,Jn(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{$u(o.containerInfo)}catch(tt){fe(s,s.return,tt)}xy&&(xy=!1,oS(s));break;case 4:f=Mi,Mi=Nd(s.stateNode.containerInfo),Zn(o,s),Jn(s),Mi=f;break;case 12:Zn(o,s),Jn(s);break;case 13:Zn(o,s),Jn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ny=un()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Ry(s,f)));break;case 22:m=s.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,Q=Yr,st=Ne;if(Yr=Q||m,Ne=st||U,Zn(o,s),Ne=st,Yr=Q,Jn(s),f&8192)t:for(o=s.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(c===null||U||Yr||Ne||ro(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){U=c=o;try{if(v=U.stateNode,m)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=U.stateNode;var lt=U.memoizedProps.style,Z=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(tt){fe(U,U.return,tt)}}}else if(o.tag===6){if(c===null){U=o;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(tt){fe(U,U.return,tt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=s.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Ry(s,c))));break;case 19:Zn(o,s),Jn(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Ry(s,f)));break;case 30:break;case 21:break;default:Zn(o,s),Jn(s)}}function Jn(s){var o=s.flags;if(o&2){try{for(var c,f=s.return;f!==null;){if(JT(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,v=wy(s);bd(s,v,m);break;case 5:var w=c.stateNode;c.flags&32&&(li(w,""),c.flags&=-33);var C=wy(s);bd(s,C,w);break;case 3:case 4:var U=c.stateNode.containerInfo,Q=wy(s);Ay(s,Q,U);break;default:throw Error(i(161))}}catch(st){fe(s,s.return,st)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function oS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;oS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function zs(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)nS(s,o.alternate,o),o=o.sibling}function ro(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Us(4,o,o.return),ro(o);break;case 1:ir(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&QT(o,o.return,c),ro(o);break;case 27:Lu(o.stateNode);case 26:case 5:ir(o,o.return),ro(o);break;case 22:o.memoizedState===null&&ro(o);break;case 30:ro(o);break;default:ro(o)}s=s.sibling}}function Bs(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,m=s,v=o,w=v.flags;switch(v.tag){case 0:case 11:case 15:Bs(m,v,c),xu(4,v);break;case 1:if(Bs(m,v,c),f=v,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){fe(f,f.return,Q)}if(f=v,m=f.updateQueue,m!==null){var C=f.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)LE(U[m],C)}catch(Q){fe(f,f.return,Q)}}c&&w&64&&XT(v),Ru(v,v.return);break;case 27:tS(v);case 26:case 5:Bs(m,v,c),c&&f===null&&w&4&&ZT(v),Ru(v,v.return);break;case 12:Bs(m,v,c);break;case 13:Bs(m,v,c),c&&w&4&&sS(m,v);break;case 22:v.memoizedState===null&&Bs(m,v,c),Ru(v,v.return);break;case 30:break;default:Bs(m,v,c)}o=o.sibling}}function Cy(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&fu(c))}function Oy(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&fu(s))}function rr(s,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lS(s,o,c,f),o=o.sibling}function lS(s,o,c,f){var m=o.flags;switch(o.tag){case 0:case 11:case 15:rr(s,o,c,f),m&2048&&xu(9,o);break;case 1:rr(s,o,c,f);break;case 3:rr(s,o,c,f),m&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&fu(s)));break;case 12:if(m&2048){rr(s,o,c,f),s=o.stateNode;try{var v=o.memoizedProps,w=v.id,C=v.onPostCommit;typeof C=="function"&&C(w,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){fe(o,o.return,U)}}else rr(s,o,c,f);break;case 13:rr(s,o,c,f);break;case 23:break;case 22:v=o.stateNode,w=o.alternate,o.memoizedState!==null?v._visibility&2?rr(s,o,c,f):Cu(s,o):v._visibility&2?rr(s,o,c,f):(v._visibility|=2,Sl(s,o,c,f,(o.subtreeFlags&10256)!==0)),m&2048&&Cy(w,o);break;case 24:rr(s,o,c,f),m&2048&&Oy(o.alternate,o);break;default:rr(s,o,c,f)}}function Sl(s,o,c,f,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=s,w=o,C=c,U=f,Q=w.flags;switch(w.tag){case 0:case 11:case 15:Sl(v,w,C,U,m),xu(8,w);break;case 23:break;case 22:var st=w.stateNode;w.memoizedState!==null?st._visibility&2?Sl(v,w,C,U,m):Cu(v,w):(st._visibility|=2,Sl(v,w,C,U,m)),m&&Q&2048&&Cy(w.alternate,w);break;case 24:Sl(v,w,C,U,m),m&&Q&2048&&Oy(w.alternate,w);break;default:Sl(v,w,C,U,m)}o=o.sibling}}function Cu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,f=o,m=f.flags;switch(f.tag){case 22:Cu(c,f),m&2048&&Cy(f.alternate,f);break;case 24:Cu(c,f),m&2048&&Oy(f.alternate,f);break;default:Cu(c,f)}o=o.sibling}}var Ou=8192;function wl(s){if(s.subtreeFlags&Ou)for(s=s.child;s!==null;)cS(s),s=s.sibling}function cS(s){switch(s.tag){case 26:wl(s),s.flags&Ou&&s.memoizedState!==null&&qD(Mi,s.memoizedState,s.memoizedProps);break;case 5:wl(s);break;case 3:case 4:var o=Mi;Mi=Nd(s.stateNode.containerInfo),wl(s),Mi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Ou,Ou=16777216,wl(s),Ou=o):wl(s));break;default:wl(s)}}function uS(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Iu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];rn=f,fS(f,s)}uS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hS(s),s=s.sibling}function hS(s){switch(s.tag){case 0:case 11:case 15:Iu(s),s.flags&2048&&Us(9,s,s.return);break;case 3:Iu(s);break;case 12:Iu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Ed(s)):Iu(s);break;default:Iu(s)}}function Ed(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];rn=f,fS(f,s)}uS(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Us(8,o,o.return),Ed(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ed(o));break;default:Ed(o)}s=s.sibling}}function fS(s,o){for(;rn!==null;){var c=rn;switch(c.tag){case 0:case 11:case 15:Us(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:fu(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,rn=f;else t:for(c=s;rn!==null;){f=rn;var m=f.sibling,v=f.return;if(iS(f),f===c){rn=null;break t}if(m!==null){m.return=v,rn=m;break t}rn=v}}}var oD={getCacheForType:function(s){var o=En(Ke),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},lD=typeof WeakMap=="function"?WeakMap:Map,ie=0,de=null,Bt=null,Kt=0,re=0,ti=null,js=!1,Al=!1,Iy=!1,Xr=0,Oe=0,Fs=0,so=0,My=0,yi=0,xl=0,Mu=null,Fn=null,Dy=!1,Ny=0,Td=1/0,Sd=null,Hs=null,pn=0,$s=null,Rl=null,Cl=0,Py=0,ky=null,dS=null,Du=0,Ly=null;function ei(){if((ie&2)!==0&&Kt!==0)return Kt&-Kt;if(W.T!==null){var s=gl;return s!==0?s:Hy()}return As()}function pS(){yi===0&&(yi=(Kt&536870912)===0||te?jc():536870912);var s=mi.current;return s!==null&&(s.flags|=32),yi}function ni(s,o,c){(s===de&&(re===2||re===9)||s.cancelPendingCommit!==null)&&(Ol(s,0),qs(s,Kt,yi,!1)),Cr(s,c),((ie&2)===0||s!==de)&&(s===de&&((ie&2)===0&&(so|=c),Oe===4&&qs(s,Kt,yi,!1)),sr(s))}function gS(s,o,c){if((ie&6)!==0)throw Error(i(327));var f=!c&&(o&124)===0&&(o&s.expiredLanes)===0||Ma(s,o),m=f?hD(s,o):zy(s,o,!0),v=f;do{if(m===0){Al&&!f&&qs(s,o,0,!1);break}else{if(c=s.current.alternate,v&&!cD(c)){m=zy(s,o,!1),v=!1;continue}if(m===2){if(v=o,s.errorRecoveryDisabledLanes&v)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;t:{var C=s;m=Mu;var U=C.current.memoizedState.isDehydrated;if(U&&(Ol(C,w).flags|=256),w=zy(C,w,!1),w!==2){if(Iy&&!U){C.errorRecoveryDisabledLanes|=v,so|=v,m=4;break t}v=Fn,Fn=m,v!==null&&(Fn===null?Fn=v:Fn.push.apply(Fn,v))}m=w}if(v=!1,m!==2)continue}}if(m===1){Ol(s,0),qs(s,o,0,!0);break}t:{switch(f=s,v=m,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:qs(f,o,yi,!js);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=Ny+300-un(),10<m)){if(qs(f,o,yi,!js),Go(f,0,!0)!==0)break t;f.timeoutHandle=$S(mS.bind(null,f,c,Fn,Sd,Dy,o,yi,so,xl,js,v,2,-0,0),m);break t}mS(f,c,Fn,Sd,Dy,o,yi,so,xl,js,v,0,-0,0)}}break}while(!0);sr(s)}function mS(s,o,c,f,m,v,w,C,U,Q,st,lt,Z,tt){if(s.timeoutHandle=-1,lt=o.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:$D},cS(o),lt=GD(),lt!==null)){s.cancelPendingCommit=lt(SS.bind(null,s,o,v,c,f,m,w,C,U,st,1,Z,tt)),qs(s,v,w,!Q);return}SS(s,o,v,c,f,m,w,C,U)}function cD(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],v=m.getSnapshot;m=m.value;try{if(!Xn(v(),m))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qs(s,o,c,f){o&=~My,o&=~so,s.suspendedLanes|=o,s.pingedLanes&=~o,f&&(s.warmLanes|=o),f=s.expirationTimes;for(var m=o;0<m;){var v=31-bn(m),w=1<<v;f[v]=-1,m&=~w}c!==0&&$i(s,c,o)}function wd(){return(ie&6)===0?(Nu(0),!1):!0}function Vy(){if(Bt!==null){if(re===0)var s=Bt.return;else s=Bt,Fr=Ja=null,ty(s),El=null,Su=0,s=Bt;for(;s!==null;)KT(s.alternate,s),s=s.return;Bt=null}}function Ol(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,RD(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Vy(),de=s,Bt=c=zr(s.current,null),Kt=o,re=0,ti=null,js=!1,Al=Ma(s,o),Iy=!1,xl=yi=My=so=Fs=Oe=0,Fn=Mu=null,Dy=!1,(o&8)!==0&&(o|=o&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=o;0<f;){var m=31-bn(f),v=1<<m;o|=s[m],f&=~v}return Xr=o,Gf(),c}function yS(s,o){Lt=null,W.H=hd,o===pu||o===ed?(o=PE(),re=3):o===ME?(o=PE(),re=4):re=o===kT?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ti=o,Bt===null&&(Oe=1,md(s,fi(o,s.current)))}function vS(){var s=W.H;return W.H=hd,s===null?hd:s}function _S(){var s=W.A;return W.A=oD,s}function Uy(){Oe=4,js||(Kt&4194048)!==Kt&&mi.current!==null||(Al=!0),(Fs&134217727)===0&&(so&134217727)===0||de===null||qs(de,Kt,yi,!1)}function zy(s,o,c){var f=ie;ie|=2;var m=vS(),v=_S();(de!==s||Kt!==o)&&(Sd=null,Ol(s,o)),o=!1;var w=Oe;t:do try{if(re!==0&&Bt!==null){var C=Bt,U=ti;switch(re){case 8:Vy(),w=6;break t;case 3:case 2:case 9:case 6:mi.current===null&&(o=!0);var Q=re;if(re=0,ti=null,Il(s,C,U,Q),c&&Al){w=0;break t}break;default:Q=re,re=0,ti=null,Il(s,C,U,Q)}}uD(),w=Oe;break}catch(st){yS(s,st)}while(!0);return o&&s.shellSuspendCounter++,Fr=Ja=null,ie=f,W.H=m,W.A=v,Bt===null&&(de=null,Kt=0,Gf()),w}function uD(){for(;Bt!==null;)bS(Bt)}function hD(s,o){var c=ie;ie|=2;var f=vS(),m=_S();de!==s||Kt!==o?(Sd=null,Td=un()+500,Ol(s,o)):Al=Ma(s,o);t:do try{if(re!==0&&Bt!==null){o=Bt;var v=ti;e:switch(re){case 1:re=0,ti=null,Il(s,o,v,1);break;case 2:case 9:if(DE(v)){re=0,ti=null,ES(o);break}o=function(){re!==2&&re!==9||de!==s||(re=7),sr(s)},v.then(o,o);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:DE(v)?(re=0,ti=null,ES(o)):(re=0,ti=null,Il(s,o,v,7));break;case 5:var w=null;switch(Bt.tag){case 26:w=Bt.memoizedState;case 5:case 27:var C=Bt;if(!w||nw(w)){re=0,ti=null;var U=C.sibling;if(U!==null)Bt=U;else{var Q=C.return;Q!==null?(Bt=Q,Ad(Q)):Bt=null}break e}}re=0,ti=null,Il(s,o,v,5);break;case 6:re=0,ti=null,Il(s,o,v,6);break;case 8:Vy(),Oe=6;break t;default:throw Error(i(462))}}fD();break}catch(st){yS(s,st)}while(!0);return Fr=Ja=null,W.H=f,W.A=m,ie=c,Bt!==null?0:(de=null,Kt=0,Gf(),Oe)}function fD(){for(;Bt!==null&&!zt();)bS(Bt)}function bS(s){var o=WT(s.alternate,s,Xr);s.memoizedProps=s.pendingProps,o===null?Ad(s):Bt=o}function ES(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=jT(c,o,o.pendingProps,o.type,void 0,Kt);break;case 11:o=jT(c,o,o.pendingProps,o.type.render,o.ref,Kt);break;case 5:ty(o);default:KT(c,o),o=Bt=TE(o,Xr),o=WT(c,o,Xr)}s.memoizedProps=s.pendingProps,o===null?Ad(s):Bt=o}function Il(s,o,c,f){Fr=Ja=null,ty(o),El=null,Su=0;var m=o.return;try{if(eD(s,m,o,c,Kt)){Oe=1,md(s,fi(c,s.current)),Bt=null;return}}catch(v){if(m!==null)throw Bt=m,v;Oe=1,md(s,fi(c,s.current)),Bt=null;return}o.flags&32768?(te||f===1?s=!0:Al||(Kt&536870912)!==0?s=!1:(js=s=!0,(f===2||f===9||f===3||f===6)&&(f=mi.current,f!==null&&f.tag===13&&(f.flags|=16384))),TS(o,s)):Ad(o)}function Ad(s){var o=s;do{if((o.flags&32768)!==0){TS(o,js);return}s=o.return;var c=iD(o.alternate,o,Xr);if(c!==null){Bt=c;return}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);Oe===0&&(Oe=5)}function TS(s,o){do{var c=rD(s.alternate,s);if(c!==null){c.flags&=32767,Bt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Bt=s;return}Bt=s=c}while(s!==null);Oe=6,Bt=null}function SS(s,o,c,f,m,v,w,C,U){s.cancelPendingCommit=null;do xd();while(pn!==0);if((ie&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Om,Hc(s,c,v,w,C,U),s===de&&(Bt=de=null,Kt=0),Rl=o,$s=s,Cl=c,Py=v,ky=m,dS=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,mD(ai,function(){return CS(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,m=nt.p,nt.p=2,w=ie,ie|=4;try{sD(s,o,c)}finally{ie=w,nt.p=m,W.T=f}}pn=1,wS(),AS(),xS()}}function wS(){if(pn===1){pn=0;var s=$s,o=Rl,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var f=nt.p;nt.p=2;var m=ie;ie|=4;try{aS(o,s);var v=Qy,w=fE(s.containerInfo),C=v.focusedElem,U=v.selectionRange;if(w!==C&&C&&C.ownerDocument&&hE(C.ownerDocument.documentElement,C)){if(U!==null&&wm(C)){var Q=U.start,st=U.end;if(st===void 0&&(st=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(st,C.value.length);else{var lt=C.ownerDocument||document,Z=lt&&lt.defaultView||window;if(Z.getSelection){var tt=Z.getSelection(),It=C.textContent.length,xt=Math.min(U.start,It),ce=U.end===void 0?xt:Math.min(U.end,It);!tt.extend&&xt>ce&&(w=ce,ce=xt,xt=w);var G=uE(C,xt),q=uE(C,ce);if(G&&q&&(tt.rangeCount!==1||tt.anchorNode!==G.node||tt.anchorOffset!==G.offset||tt.focusNode!==q.node||tt.focusOffset!==q.offset)){var X=lt.createRange();X.setStart(G.node,G.offset),tt.removeAllRanges(),xt>ce?(tt.addRange(X),tt.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),tt.addRange(X))}}}}for(lt=[],tt=C;tt=tt.parentNode;)tt.nodeType===1&&lt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<lt.length;C++){var at=lt[C];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Ud=!!Xy,Qy=Xy=null}finally{ie=m,nt.p=f,W.T=c}}s.current=o,pn=2}}function AS(){if(pn===2){pn=0;var s=$s,o=Rl,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var f=nt.p;nt.p=2;var m=ie;ie|=4;try{nS(s,o.alternate,o)}finally{ie=m,nt.p=f,W.T=c}}pn=3}}function xS(){if(pn===4||pn===3){pn=0,Ve();var s=$s,o=Rl,c=Cl,f=dS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?pn=5:(pn=0,Rl=$s=null,RS(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Hs=null),Wo(c),o=o.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ye,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=W.T,m=nt.p,nt.p=2,W.T=null;try{for(var v=s.onRecoverableError,w=0;w<f.length;w++){var C=f[w];v(C.value,{componentStack:C.stack})}}finally{W.T=o,nt.p=m}}(Cl&3)!==0&&xd(),sr(s),m=s.pendingLanes,(c&4194090)!==0&&(m&42)!==0?s===Ly?Du++:(Du=0,Ly=s):Du=0,Nu(0)}}function RS(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,fu(o)))}function xd(s){return wS(),AS(),xS(),CS()}function CS(){if(pn!==5)return!1;var s=$s,o=Py;Py=0;var c=Wo(Cl),f=W.T,m=nt.p;try{nt.p=32>c?32:c,W.T=null,c=ky,ky=null;var v=$s,w=Cl;if(pn=0,Rl=$s=null,Cl=0,(ie&6)!==0)throw Error(i(331));var C=ie;if(ie|=4,hS(v.current),lS(v,v.current,w,c),ie=C,Nu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ye,v)}catch{}return!0}finally{nt.p=m,W.T=f,RS(s,o)}}function OS(s,o,c){o=fi(c,o),o=py(s.stateNode,o,2),s=Ps(s,o,2),s!==null&&(Cr(s,2),sr(s))}function fe(s,o,c){if(s.tag===3)OS(s,s,c);else for(;o!==null;){if(o.tag===3){OS(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))){s=fi(c,s),c=NT(2),f=Ps(o,c,2),f!==null&&(PT(c,f,o,s),Cr(f,2),sr(f));break}}o=o.return}}function By(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new lD;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(c)||(Iy=!0,m.add(c),s=dD.bind(null,s,o,c),o.then(s,s))}function dD(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,de===s&&(Kt&c)===c&&(Oe===4||Oe===3&&(Kt&62914560)===Kt&&300>un()-Ny?(ie&2)===0&&Ol(s,0):My|=c,xl===Kt&&(xl=0)),sr(s)}function IS(s,o){o===0&&(o=Fc()),s=hl(s,o),s!==null&&(Cr(s,o),sr(s))}function pD(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),IS(s,c)}function gD(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),IS(s,c)}function mD(s,o){return Yn(s,o)}var Rd=null,Ml=null,jy=!1,Cd=!1,Fy=!1,ao=0;function sr(s){s!==Ml&&s.next===null&&(Ml===null?Rd=Ml=s:Ml=Ml.next=s),Cd=!0,jy||(jy=!0,vD())}function Nu(s,o){if(!Fy&&Cd){Fy=!0;do for(var c=!1,f=Rd;f!==null;){if(s!==0){var m=f.pendingLanes;if(m===0)var v=0;else{var w=f.suspendedLanes,C=f.pingedLanes;v=(1<<31-bn(42|s)+1)-1,v&=m&~(w&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,PS(f,v))}else v=Kt,v=Go(f,f===de?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Ma(f,v)||(c=!0,PS(f,v));f=f.next}while(c);Fy=!1}}function yD(){MS()}function MS(){Cd=jy=!1;var s=0;ao!==0&&(xD()&&(s=ao),ao=0);for(var o=un(),c=null,f=Rd;f!==null;){var m=f.next,v=DS(f,o);v===0?(f.next=null,c===null?Rd=m:c.next=m,m===null&&(Ml=c)):(c=f,(s!==0||(v&3)!==0)&&(Cd=!0)),f=m}Nu(s)}function DS(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var w=31-bn(v),C=1<<w,U=m[w];U===-1?((C&c)===0||(C&f)!==0)&&(m[w]=Bc(C,o)):U<=o&&(s.expiredLanes|=C),v&=~C}if(o=de,c=Kt,c=Go(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,c===0||s===o&&(re===2||re===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&xi(f),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Ma(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(f!==null&&xi(f),Wo(c)){case 2:case 8:c=zn;break;case 32:c=ai;break;case 268435456:c=Ar;break;default:c=ai}return f=NS.bind(null,s),c=Yn(c,f),s.callbackPriority=o,s.callbackNode=c,o}return f!==null&&f!==null&&xi(f),s.callbackPriority=2,s.callbackNode=null,2}function NS(s,o){if(pn!==0&&pn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(xd()&&s.callbackNode!==c)return null;var f=Kt;return f=Go(s,s===de?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(gS(s,f,o),DS(s,un()),s.callbackNode!=null&&s.callbackNode===c?NS.bind(null,s):null)}function PS(s,o){if(xd())return null;gS(s,o,!0)}function vD(){CD(function(){(ie&6)!==0?Yn(xa,yD):MS()})}function Hy(){return ao===0&&(ao=jc()),ao}function kS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Jo(""+s)}function LS(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function _D(s,o,c,f,m){if(o==="submit"&&c&&c.stateNode===m){var v=kS((m[Ue]||null).action),w=f.submitter;w&&(o=(o=w[Ue]||null)?kS(o.formAction):w.getAttribute("formAction"),o!==null&&(v=o,w=null));var C=new tl("action","action",null,f,m);s.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ao!==0){var U=w?LS(m,w):new FormData(m);cy(c,{pending:!0,data:U,method:m.method,action:v},null,U)}}else typeof v=="function"&&(C.preventDefault(),U=w?LS(m,w):new FormData(m),cy(c,{pending:!0,data:U,method:m.method,action:v},v,U))},currentTarget:m}]})}}for(var $y=0;$y<Cm.length;$y++){var qy=Cm[$y],bD=qy.toLowerCase(),ED=qy[0].toUpperCase()+qy.slice(1);Ii(bD,"on"+ED)}Ii(gE,"onAnimationEnd"),Ii(mE,"onAnimationIteration"),Ii(yE,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(UM,"onTransitionRun"),Ii(zM,"onTransitionStart"),Ii(BM,"onTransitionCancel"),Ii(vE,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function VS(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],m=f.event;f=f.listeners;t:{var v=void 0;if(o)for(var w=f.length-1;0<=w;w--){var C=f[w],U=C.instance,Q=C.currentTarget;if(C=C.listener,U!==v&&m.isPropagationStopped())break t;v=C,m.currentTarget=Q;try{v(m)}catch(st){gd(st)}m.currentTarget=null,v=U}else for(w=0;w<f.length;w++){if(C=f[w],U=C.instance,Q=C.currentTarget,C=C.listener,U!==v&&m.isPropagationStopped())break t;v=C,m.currentTarget=Q;try{v(m)}catch(st){gd(st)}m.currentTarget=null,v=U}}}}function jt(s,o){var c=o[qc];c===void 0&&(c=o[qc]=new Set);var f=s+"__bubble";c.has(f)||(US(o,s,2,!1),c.add(f))}function Gy(s,o,c){var f=0;o&&(f|=4),US(c,s,f,o)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Wy(s){if(!s[Od]){s[Od]=!0,Gc.forEach(function(c){c!=="selectionchange"&&(TD.has(c)||Gy(c,!1,s),Gy(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Od]||(o[Od]=!0,Gy("selectionchange",!1,o))}}function US(s,o,c,f){switch(lw(o)){case 2:var m=KD;break;case 8:m=XD;break;default:m=ov}c=m.bind(null,o,c,s),m=void 0,!ui||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function Yy(s,o,c,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var C=f.stateNode.containerInfo;if(C===m)break;if(w===4)for(w=f.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;C!==null;){if(w=Or(C),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){f=v=w;continue t}C=C.parentNode}}f=f.return}Mf(function(){var Q=v,st=ci(c),lt=[];t:{var Z=_E.get(s);if(Z!==void 0){var tt=tl,It=s;switch(s){case"keypress":if(Xi(c)===0)break t;case"keydown":case"keyup":tt=al;break;case"focusin":It="focus",tt=il;break;case"focusout":It="blur",tt=il;break;case"beforeblur":case"afterblur":tt=il;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=zf;break;case gE:case mE:case yE:tt=rl;break;case vE:tt=jf;break;case"scroll":case"scrollend":tt=Df;break;case"wheel":tt=ol;break;case"copy":case"cut":case"paste":tt=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=ru;break;case"toggle":case"beforetoggle":tt=Hf}var xt=(o&4)!==0,ce=!xt&&(s==="scroll"||s==="scrollend"),G=xt?Z!==null?Z+"Capture":null:Z;xt=[];for(var q=Q,X;q!==null;){var at=q;if(X=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||X===null||G===null||(at=za(q,G),at!=null&&xt.push(ku(q,at,X))),ce)break;q=q.return}0<xt.length&&(Z=new tt(Z,It,null,c,st),lt.push({event:Z,listeners:xt}))}}if((o&7)===0){t:{if(Z=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Z&&c!==Nr&&(It=c.relatedTarget||c.fromElement)&&(Or(It)||It[oi]))break t;if((tt||Z)&&(Z=st.window===st?st:(Z=st.ownerDocument)?Z.defaultView||Z.parentWindow:window,tt?(It=c.relatedTarget||c.toElement,tt=Q,It=It?Or(It):null,It!==null&&(ce=a(It),xt=It.tag,It!==ce||xt!==5&&xt!==27&&xt!==6)&&(It=null)):(tt=null,It=Q),tt!==It)){if(xt=hi,at="onMouseLeave",G="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(xt=ru,at="onPointerLeave",G="onPointerEnter",q="pointer"),ce=tt==null?Z:Gi(tt),X=It==null?Z:Gi(It),Z=new xt(at,q+"leave",tt,c,st),Z.target=ce,Z.relatedTarget=X,at=null,Or(st)===Q&&(xt=new xt(G,q+"enter",It,c,st),xt.target=X,xt.relatedTarget=ce,at=xt),ce=at,tt&&It)e:{for(xt=tt,G=It,q=0,X=xt;X;X=Dl(X))q++;for(X=0,at=G;at;at=Dl(at))X++;for(;0<q-X;)xt=Dl(xt),q--;for(;0<X-q;)G=Dl(G),X--;for(;q--;){if(xt===G||G!==null&&xt===G.alternate)break e;xt=Dl(xt),G=Dl(G)}xt=null}else xt=null;tt!==null&&zS(lt,Z,tt,xt,!1),It!==null&&ce!==null&&zS(lt,ce,It,xt,!0)}}t:{if(Z=Q?Gi(Q):window,tt=Z.nodeName&&Z.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Z.type==="file")var Et=rE;else if(Ye(Z))if(sE)Et=kM;else{Et=NM;var Vt=DM}else tt=Z.nodeName,!tt||tt.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Qc(Q.elementType)&&(Et=rE):Et=PM;if(Et&&(Et=Et(s,Q))){Ur(lt,Et,c,st);break t}Vt&&Vt(s,Z,Q),s==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&Os(Z,"number",Z.value)}switch(Vt=Q?Gi(Q):window,s){case"focusin":(Ye(Vt)||Vt.contentEditable==="true")&&(ll=Vt,Am=Q,ou=null);break;case"focusout":ou=Am=ll=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,dE(lt,c,st);break;case"selectionchange":if(VM)break;case"keydown":case"keyup":dE(lt,c,st)}var St;if(Ji)t:{switch(s){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else Wt?et(s,c)&&(Rt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Rt="onCompositionStart");Rt&&(T&&c.locale!=="ko"&&(Wt||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Wt&&(St=Jc()):(Ki=st,Is="value"in Ki?Ki.value:Ki.textContent,Wt=!0)),Vt=Id(Q,Rt),0<Vt.length&&(Rt=new nu(Rt,s,null,c,st),lt.push({event:Rt,listeners:Vt}),St?Rt.data=St:(St=pt(c),St!==null&&(Rt.data=St)))),(St=b?We(s,c):Yt(s,c))&&(Rt=Id(Q,"onBeforeInput"),0<Rt.length&&(Vt=new nu("onBeforeInput","beforeinput",null,c,st),lt.push({event:Vt,listeners:Rt}),Vt.data=St)),_D(lt,s,Q,c,st)}VS(lt,o)})}function ku(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Id(s,o){for(var c=o+"Capture",f=[];s!==null;){var m=s,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=za(s,c),m!=null&&f.unshift(ku(s,m,v)),m=za(s,o),m!=null&&f.push(ku(s,m,v))),s.tag===3)return f;s=s.return}return[]}function Dl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function zS(s,o,c,f,m){for(var v=o._reactName,w=[];c!==null&&c!==f;){var C=c,U=C.alternate,Q=C.stateNode;if(C=C.tag,U!==null&&U===f)break;C!==5&&C!==26&&C!==27||Q===null||(U=Q,m?(Q=za(c,v),Q!=null&&w.unshift(ku(c,Q,U))):m||(Q=za(c,v),Q!=null&&w.push(ku(c,Q,U)))),c=c.return}w.length!==0&&s.push({event:o,listeners:w})}var SD=/\r\n?/g,wD=/\u0000|\uFFFD/g;function BS(s){return(typeof s=="string"?s:""+s).replace(SD,`
`).replace(wD,"")}function jS(s,o){return o=BS(o),BS(s)===o}function Md(){}function le(s,o,c,f,m,v){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||li(s,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&li(s,""+f);break;case"className":Wi(s,"class",f);break;case"tabIndex":Wi(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(s,c,f);break;case"style":Xc(s,f,v);break;case"data":if(o!=="object"){Wi(s,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=Jo(""+f),s.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&le(s,o,"name",m.name,m,null),le(s,o,"formEncType",m.formEncType,m,null),le(s,o,"formMethod",m.formMethod,m,null),le(s,o,"formTarget",m.formTarget,m,null)):(le(s,o,"encType",m.encType,m,null),le(s,o,"method",m.method,m,null),le(s,o,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(c);break}f=Jo(""+f),s.setAttribute(c,f);break;case"onClick":f!=null&&(s.onclick=Md);break;case"onScroll":f!=null&&jt("scroll",s);break;case"onScrollEnd":f!=null&&jt("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}c=Jo(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""+f):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":f===!0?s.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(c,f):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(c,f):s.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(c):s.setAttribute(c,f);break;case"popover":jt("beforetoggle",s),jt("toggle",s),Cs(s,"popover",f);break;case"xlinkActuate":hn(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":hn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":hn(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":hn(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":hn(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":hn(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":hn(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":hn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":hn(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Cs(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=vm.get(c)||c,Cs(s,c,f))}}function Ky(s,o,c,f,m,v){switch(c){case"style":Xc(s,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof f=="string"?li(s,f):(typeof f=="number"||typeof f=="bigint")&&li(s,""+f);break;case"onScroll":f!=null&&jt("scroll",s);break;case"onScrollEnd":f!=null&&jt("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Md);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),o=c.slice(2,m?c.length-7:void 0),v=s[Ue]||null,v=v!=null?v[c]:null,typeof v=="function"&&s.removeEventListener(o,v,m),typeof f=="function")){typeof v!="function"&&v!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,f,m);break t}c in s?s[c]=f:f===!0?s.setAttribute(c,""):Cs(s,c,f)}}}function gn(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",s),jt("load",s);var f=!1,m=!1,v;for(v in c)if(c.hasOwnProperty(v)){var w=c[v];if(w!=null)switch(v){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:le(s,o,v,w,c,null)}}m&&le(s,o,"srcSet",c.srcSet,c,null),f&&le(s,o,"src",c.src,c,null);return;case"input":jt("invalid",s);var C=v=w=m=null,U=null,Q=null;for(f in c)if(c.hasOwnProperty(f)){var st=c[f];if(st!=null)switch(f){case"name":m=st;break;case"type":w=st;break;case"checked":U=st;break;case"defaultChecked":Q=st;break;case"value":v=st;break;case"defaultValue":C=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,o));break;default:le(s,o,f,st,c,null)}}La(s,v,C,U,Q,w,m,!1),Zo(s);return;case"select":jt("invalid",s),f=w=v=null;for(m in c)if(c.hasOwnProperty(m)&&(C=c[m],C!=null))switch(m){case"value":v=C;break;case"defaultValue":w=C;break;case"multiple":f=C;default:le(s,o,m,C,c,null)}o=v,c=w,s.multiple=!!f,o!=null?Dr(s,!!f,o,!1):c!=null&&Dr(s,!!f,c,!0);return;case"textarea":jt("invalid",s),v=m=f=null;for(w in c)if(c.hasOwnProperty(w)&&(C=c[w],C!=null))switch(w){case"value":f=C;break;case"defaultValue":m=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:le(s,o,w,C,c,null)}Va(s,f,m,v),Zo(s);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(f=c[U],f!=null))switch(U){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:le(s,o,U,f,c,null)}return;case"dialog":jt("beforetoggle",s),jt("toggle",s),jt("cancel",s),jt("close",s);break;case"iframe":case"object":jt("load",s);break;case"video":case"audio":for(f=0;f<Pu.length;f++)jt(Pu[f],s);break;case"image":jt("error",s),jt("load",s);break;case"details":jt("toggle",s);break;case"embed":case"source":case"link":jt("error",s),jt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(f=c[Q],f!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:le(s,o,Q,f,c,null)}return;default:if(Qc(o)){for(st in c)c.hasOwnProperty(st)&&(f=c[st],f!==void 0&&Ky(s,o,st,f,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(f=c[C],f!=null&&le(s,o,C,f,c,null))}function AD(s,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,w=null,C=null,U=null,Q=null,st=null;for(tt in c){var lt=c[tt];if(c.hasOwnProperty(tt)&&lt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":U=lt;default:f.hasOwnProperty(tt)||le(s,o,tt,null,f,lt)}}for(var Z in f){var tt=f[Z];if(lt=c[Z],f.hasOwnProperty(Z)&&(tt!=null||lt!=null))switch(Z){case"type":v=tt;break;case"name":m=tt;break;case"checked":Q=tt;break;case"defaultChecked":st=tt;break;case"value":w=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,o));break;default:tt!==lt&&le(s,o,Z,tt,f,lt)}}Kn(s,w,C,U,Q,st,v,m);return;case"select":tt=w=C=Z=null;for(v in c)if(U=c[v],c.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":tt=U;default:f.hasOwnProperty(v)||le(s,o,v,null,f,U)}for(m in f)if(v=f[m],U=c[m],f.hasOwnProperty(m)&&(v!=null||U!=null))switch(m){case"value":Z=v;break;case"defaultValue":C=v;break;case"multiple":w=v;default:v!==U&&le(s,o,m,v,f,U)}o=C,c=w,f=tt,Z!=null?Dr(s,!!c,Z,!1):!!f!=!!c&&(o!=null?Dr(s,!!c,o,!0):Dr(s,!!c,c?[]:"",!1));return;case"textarea":tt=Z=null;for(C in c)if(m=c[C],c.hasOwnProperty(C)&&m!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:le(s,o,C,null,f,m)}for(w in f)if(m=f[w],v=c[w],f.hasOwnProperty(w)&&(m!=null||v!=null))switch(w){case"value":Z=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&le(s,o,w,m,f,v)}ae(s,Z,tt);return;case"option":for(var It in c)if(Z=c[It],c.hasOwnProperty(It)&&Z!=null&&!f.hasOwnProperty(It))switch(It){case"selected":s.selected=!1;break;default:le(s,o,It,null,f,Z)}for(U in f)if(Z=f[U],tt=c[U],f.hasOwnProperty(U)&&Z!==tt&&(Z!=null||tt!=null))switch(U){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:le(s,o,U,Z,f,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in c)Z=c[xt],c.hasOwnProperty(xt)&&Z!=null&&!f.hasOwnProperty(xt)&&le(s,o,xt,null,f,Z);for(Q in f)if(Z=f[Q],tt=c[Q],f.hasOwnProperty(Q)&&Z!==tt&&(Z!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,o));break;default:le(s,o,Q,Z,f,tt)}return;default:if(Qc(o)){for(var ce in c)Z=c[ce],c.hasOwnProperty(ce)&&Z!==void 0&&!f.hasOwnProperty(ce)&&Ky(s,o,ce,void 0,f,Z);for(st in f)Z=f[st],tt=c[st],!f.hasOwnProperty(st)||Z===tt||Z===void 0&&tt===void 0||Ky(s,o,st,Z,f,tt);return}}for(var G in c)Z=c[G],c.hasOwnProperty(G)&&Z!=null&&!f.hasOwnProperty(G)&&le(s,o,G,null,f,Z);for(lt in f)Z=f[lt],tt=c[lt],!f.hasOwnProperty(lt)||Z===tt||Z==null&&tt==null||le(s,o,lt,Z,f,tt)}var Xy=null,Qy=null;function Dd(s){return s.nodeType===9?s:s.ownerDocument}function FS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HS(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Zy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jy=null;function xD(){var s=window.event;return s&&s.type==="popstate"?s===Jy?!1:(Jy=s,!0):(Jy=null,!1)}var $S=typeof setTimeout=="function"?setTimeout:void 0,RD=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,CD=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(s){return qS.resolve(null).then(s).catch(OD)}:$S;function OD(s){setTimeout(function(){throw s})}function Gs(s){return s==="head"}function GS(s,o){var c=o,f=0,m=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<f&&8>f){c=f;var w=s.ownerDocument;if(c&1&&Lu(w.documentElement),c&2&&Lu(w.body),c&4)for(c=w.head,Lu(c),w=c.firstChild;w;){var C=w.nextSibling,U=w.nodeName;w[Da]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=C}}if(m===0){s.removeChild(v),$u(o);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:f=c.charCodeAt(0)-48;else f=0;c=v}while(c);$u(o)}function tv(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":tv(c),Rs(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function ID(s,o,c,f){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Da])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Di(s.nextSibling),s===null)break}return null}function MD(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Di(s.nextSibling),s===null))return null;return s}function ev(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function DD(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Di(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var nv=null;function WS(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function YS(s,o,c){switch(o=Dd(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Lu(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Rs(s)}var vi=new Map,KS=new Set;function Nd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qr=nt.d;nt.d={f:ND,r:PD,D:kD,C:LD,L:VD,m:UD,X:BD,S:zD,M:jD};function ND(){var s=Qr.f(),o=wd();return s||o}function PD(s){var o=qi(s);o!==null&&o.tag===5&&o.type==="form"?gT(o):Qr.r(s)}var Nl=typeof document>"u"?null:document;function XS(s,o,c){var f=Nl;if(f&&typeof o=="string"&&o){var m=ze(o);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),KS.has(m)||(KS.add(m),s={rel:s,crossOrigin:c,href:o},f.querySelector(m)===null&&(o=f.createElement("link"),gn(o,"link",s),Me(o),f.head.appendChild(o)))}}function kD(s){Qr.D(s),XS("dns-prefetch",s,null)}function LD(s,o){Qr.C(s,o),XS("preconnect",s,o)}function VD(s,o,c){Qr.L(s,o,c);var f=Nl;if(f&&s&&o){var m='link[rel="preload"][as="'+ze(o)+'"]';o==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+ze(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+ze(c.imageSizes)+'"]')):m+='[href="'+ze(s)+'"]';var v=m;switch(o){case"style":v=Pl(s);break;case"script":v=kl(s)}vi.has(v)||(s=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),vi.set(v,s),f.querySelector(m)!==null||o==="style"&&f.querySelector(Vu(v))||o==="script"&&f.querySelector(Uu(v))||(o=f.createElement("link"),gn(o,"link",s),Me(o),f.head.appendChild(o)))}}function UD(s,o){Qr.m(s,o);var c=Nl;if(c&&s){var f=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+ze(f)+'"][href="'+ze(s)+'"]',v=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=kl(s)}if(!vi.has(v)&&(s=g({rel:"modulepreload",href:s},o),vi.set(v,s),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Uu(v)))return}f=c.createElement("link"),gn(f,"link",s),Me(f),c.head.appendChild(f)}}}function zD(s,o,c){Qr.S(s,o,c);var f=Nl;if(f&&s){var m=Nn(f).hoistableStyles,v=Pl(s);o=o||"default";var w=m.get(v);if(!w){var C={loading:0,preload:null};if(w=f.querySelector(Vu(v)))C.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},c),(c=vi.get(v))&&iv(s,c);var U=w=f.createElement("link");Me(U),gn(U,"link",s),U._p=new Promise(function(Q,st){U.onload=Q,U.onerror=st}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Pd(w,o,f)}w={type:"stylesheet",instance:w,count:1,state:C},m.set(v,w)}}}function BD(s,o){Qr.X(s,o);var c=Nl;if(c&&s){var f=Nn(c).hoistableScripts,m=kl(s),v=f.get(m);v||(v=c.querySelector(Uu(m)),v||(s=g({src:s,async:!0},o),(o=vi.get(m))&&rv(s,o),v=c.createElement("script"),Me(v),gn(v,"link",s),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function jD(s,o){Qr.M(s,o);var c=Nl;if(c&&s){var f=Nn(c).hoistableScripts,m=kl(s),v=f.get(m);v||(v=c.querySelector(Uu(m)),v||(s=g({src:s,async:!0,type:"module"},o),(o=vi.get(m))&&rv(s,o),v=c.createElement("script"),Me(v),gn(v,"link",s),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function QS(s,o,c,f){var m=(m=yt.current)?Nd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Pl(c.href),c=Nn(m).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Pl(c.href);var v=Nn(m).hoistableStyles,w=v.get(s);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,w),(v=m.querySelector(Vu(s)))&&!v._p&&(w.instance=v,w.state.loading=5),vi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},vi.set(s,c),v||FD(m,s,c,w.state))),o&&f===null)throw Error(i(528,""));return w}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=kl(c),c=Nn(m).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Pl(s){return'href="'+ze(s)+'"'}function Vu(s){return'link[rel="stylesheet"]['+s+"]"}function ZS(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function FD(s,o,c,f){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=s.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),gn(o,"link",c),Me(o),s.head.appendChild(o))}function kl(s){return'[src="'+ze(s)+'"]'}function Uu(s){return"script[async]"+s}function JS(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=s.querySelector('style[data-href~="'+ze(c.href)+'"]');if(f)return o.instance=f,Me(f),f;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Me(f),gn(f,"style",m),Pd(f,c.precedence,s),o.instance=f;case"stylesheet":m=Pl(c.href);var v=s.querySelector(Vu(m));if(v)return o.state.loading|=4,o.instance=v,Me(v),v;f=ZS(c),(m=vi.get(m))&&iv(f,m),v=(s.ownerDocument||s).createElement("link"),Me(v);var w=v;return w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),gn(v,"link",f),o.state.loading|=4,Pd(v,c.precedence,s),o.instance=v;case"script":return v=kl(c.src),(m=s.querySelector(Uu(v)))?(o.instance=m,Me(m),m):(f=c,(m=vi.get(v))&&(f=g({},c),rv(f,m)),s=s.ownerDocument||s,m=s.createElement("script"),Me(m),gn(m,"link",f),s.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Pd(f,c.precedence,s));return o.instance}function Pd(s,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,v=m,w=0;w<f.length;w++){var C=f[w];if(C.dataset.precedence===o)v=C;else if(v!==m)break}v?v.parentNode.insertBefore(s,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function iv(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function rv(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var kd=null;function tw(s,o,c){if(kd===null){var f=new Map,m=kd=new Map;m.set(c,f)}else m=kd,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(s))return f;for(f.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var v=c[m];if(!(v[Da]||v[Ge]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(o)||"";w=s+w;var C=f.get(w);C?C.push(v):f.set(w,[v])}}return f}function ew(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function HD(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function nw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var zu=null;function $D(){}function qD(s,o,c){if(zu===null)throw Error(i(475));var f=zu;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Pl(c.href),v=s.querySelector(Vu(m));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Ld.bind(f),s.then(f,f)),o.state.loading|=4,o.instance=v,Me(v);return}v=s.ownerDocument||s,c=ZS(c),(m=vi.get(m))&&iv(c,m),v=v.createElement("link"),Me(v);var w=v;w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),gn(v,"link",c),o.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Ld.bind(f),s.addEventListener("load",o),s.addEventListener("error",o))}}function GD(){if(zu===null)throw Error(i(475));var s=zu;return s.stylesheets&&s.count===0&&sv(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&sv(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Ld(){if(this.count--,this.count===0){if(this.stylesheets)sv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vd=null;function sv(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vd=new Map,o.forEach(WD,s),Vd=null,Ld.call(s))}function WD(s,o){if(!(o.state.loading&4)){var c=Vd.get(s);if(c)var f=c.get(null);else{c=new Map,Vd.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var w=m[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),f=w)}f&&c.set(null,f)}m=o.instance,w=m.getAttribute("data-precedence"),v=c.get(w)||f,v===f&&c.set(null,m),c.set(w,m),this.count++,f=Ld.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),v?v.parentNode.insertBefore(m,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),o.state.loading|=4}}var Bu={$$typeof:V,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function YD(s,o,c,f,m,v,w,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function iw(s,o,c,f,m,v,w,C,U,Q,st,lt){return s=new YD(s,o,c,w,C,U,Q,lt),o=1,v===!0&&(o|=24),v=Qn(3,null,null,o),s.current=v,v.stateNode=s,o=Bm(),o.refCount++,s.pooledCache=o,o.refCount++,v.memoizedState={element:f,isDehydrated:c,cache:o},$m(v),s}function rw(s){return s?(s=fl,s):fl}function sw(s,o,c,f,m,v){m=rw(m),f.context===null?f.context=m:f.pendingContext=m,f=Ns(o),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=Ps(s,f,o),c!==null&&(ni(c,s,o),mu(c,s,o))}function aw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function av(s,o){aw(s,o),(s=s.alternate)&&aw(s,o)}function ow(s){if(s.tag===13){var o=hl(s,67108864);o!==null&&ni(o,s,67108864),av(s,67108864)}}var Ud=!0;function KD(s,o,c,f){var m=W.T;W.T=null;var v=nt.p;try{nt.p=2,ov(s,o,c,f)}finally{nt.p=v,W.T=m}}function XD(s,o,c,f){var m=W.T;W.T=null;var v=nt.p;try{nt.p=8,ov(s,o,c,f)}finally{nt.p=v,W.T=m}}function ov(s,o,c,f){if(Ud){var m=lv(f);if(m===null)Yy(s,o,f,zd,c),cw(s,f);else if(ZD(m,s,o,c,f))f.stopPropagation();else if(cw(s,f),o&4&&-1<QD.indexOf(s)){for(;m!==null;){var v=qi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=Ri(v.pendingLanes);if(w!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var U=1<<31-bn(w);C.entanglements[1]|=U,w&=~U}sr(v),(ie&6)===0&&(Td=un()+500,Nu(0))}}break;case 13:C=hl(v,2),C!==null&&ni(C,v,2),wd(),av(v,2)}if(v=lv(f),v===null&&Yy(s,o,f,zd,c),v===m)break;m=v}m!==null&&f.stopPropagation()}else Yy(s,o,f,null,c)}}function lv(s){return s=ci(s),cv(s)}var zd=null;function cv(s){if(zd=null,s=Or(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return zd=s,null}function lw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zc()){case xa:return 2;case zn:return 8;case ai:case qo:return 32;case Ar:return 268435456;default:return 32}default:return 32}}var uv=!1,Ws=null,Ys=null,Ks=null,ju=new Map,Fu=new Map,Xs=[],QD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cw(s,o){switch(s){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":ju.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(o.pointerId)}}function Hu(s,o,c,f,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=qi(o),o!==null&&ow(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function ZD(s,o,c,f,m){switch(o){case"focusin":return Ws=Hu(Ws,s,o,c,f,m),!0;case"dragenter":return Ys=Hu(Ys,s,o,c,f,m),!0;case"mouseover":return Ks=Hu(Ks,s,o,c,f,m),!0;case"pointerover":var v=m.pointerId;return ju.set(v,Hu(ju.get(v)||null,s,o,c,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Fu.set(v,Hu(Fu.get(v)||null,s,o,c,f,m)),!0}return!1}function uw(s){var o=Or(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,wf(s.priority,function(){if(c.tag===13){var f=ei();f=ws(f);var m=hl(c,f);m!==null&&ni(m,c,f),av(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Bd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=lv(s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Nr=f,c.target.dispatchEvent(f),Nr=null}else return o=qi(c),o!==null&&ow(o),s.blockedOn=c,!1;o.shift()}return!0}function hw(s,o,c){Bd(s)&&c.delete(o)}function JD(){uv=!1,Ws!==null&&Bd(Ws)&&(Ws=null),Ys!==null&&Bd(Ys)&&(Ys=null),Ks!==null&&Bd(Ks)&&(Ks=null),ju.forEach(hw),Fu.forEach(hw)}function jd(s,o){s.blockedOn===o&&(s.blockedOn=null,uv||(uv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,JD)))}var Fd=null;function fw(s){Fd!==s&&(Fd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fd===s&&(Fd=null);for(var o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],m=s[o+2];if(typeof f!="function"){if(cv(f||c)===null)continue;break}var v=qi(c);v!==null&&(s.splice(o,3),o-=3,cy(v,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function $u(s){function o(U){return jd(U,s)}Ws!==null&&jd(Ws,s),Ys!==null&&jd(Ys,s),Ks!==null&&jd(Ks,s),ju.forEach(o),Fu.forEach(o);for(var c=0;c<Xs.length;c++){var f=Xs[c];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Xs.length&&(c=Xs[0],c.blockedOn===null);)uw(c),c.blockedOn===null&&Xs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],v=c[f+1],w=m[Ue]||null;if(typeof v=="function")w||fw(c);else if(w){var C=null;if(v&&v.hasAttribute("formAction")){if(m=v,w=v[Ue]||null)C=w.formAction;else if(cv(m)!==null)continue}else C=w.action;typeof C=="function"?c[f+1]=C:(c.splice(f,3),f-=3),fw(c)}}}function hv(s){this._internalRoot=s}Hd.prototype.render=hv.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,f=ei();sw(c,f,s,o,null,null)},Hd.prototype.unmount=hv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;sw(s.current,2,null,s,null,null),wd(),o[oi]=null}};function Hd(s){this._internalRoot=s}Hd.prototype.unstable_scheduleHydration=function(s){if(s){var o=As();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Xs.length&&o!==0&&o<Xs[c].priority;c++);Xs.splice(c,0,s),c===0&&uw(s)}};var dw=t.version;if(dw!=="19.1.0")throw Error(i(527,dw,"19.1.0"));nt.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var tN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{ye=$d.inject(tN),Qt=$d}catch{}}return Gu.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,f="",m=OT,v=IT,w=MT,C=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=iw(s,1,!1,null,null,c,f,m,v,w,C,null),s[oi]=o.current,Wy(s),new hv(o)},Gu.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var f=!1,m="",v=OT,w=IT,C=MT,U=null,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(U=c.unstable_transitionCallbacks),c.formState!==void 0&&(Q=c.formState)),o=iw(s,1,!0,o,c??null,f,m,v,w,C,U,Q),o.context=rw(null),c=o.current,f=ei(),f=ws(f),m=Ns(f),m.callback=null,Ps(c,m,f),c=f,o.current.lanes=c,Cr(o,c),sr(o),s[oi]=o.current,Wy(s),new Hd(o)},Gu.version="19.1.0",Gu}var Sw;function hN(){if(Sw)return pv.exports;Sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),pv.exports=uN(),pv.exports}var fN=hN();const dN=Sg(fN);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ww="popstate";function pN(n={}){function t(i,r){let{pathname:a,search:l,hash:u}=i.location;return u_("",{pathname:a,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Mh(r)}return mN(t,e,null,n)}function Ae(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function zi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gN(){return Math.random().toString(36).substring(2,10)}function Aw(n,t){return{usr:n.state,key:n.key,idx:t}}function u_(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?yc(t):t,state:e,key:t&&t.key||i||gN()}}function Mh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function yc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function mN(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,u="POP",h=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function y(){u="POP";let x=g(),O=x==null?null:x-d;d=x,h&&h({action:u,location:A.location,delta:O})}function _(x,O){u="PUSH";let P=u_(A.location,x,O);d=g()+1;let V=Aw(P,d),$=A.createHref(P);try{l.pushState(V,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign($)}a&&h&&h({action:u,location:A.location,delta:1})}function E(x,O){u="REPLACE";let P=u_(A.location,x,O);d=g();let V=Aw(P,d),$=A.createHref(P);l.replaceState(V,"",$),a&&h&&h({action:u,location:A.location,delta:0})}function S(x){return yN(x)}let A={get action(){return u},get location(){return n(r,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(ww,y),h=x,()=>{r.removeEventListener(ww,y),h=null}},createHref(x){return t(r,x)},createURL:S,encodeLocation(x){let O=S(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:E,go(x){return l.go(x)}};return A}function yN(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ae(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Mh(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function YR(n,t,e="/"){return vN(n,t,e,!1)}function vN(n,t,e,i){let r=typeof t=="string"?yc(t):t,a=ds(r.pathname||"/",e);if(a==null)return null;let l=KR(n);_N(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let d=IN(a);u=CN(l[h],d,i)}return u}function KR(n,t=[],e=[],i=""){let r=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Ae(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=ls([i,h.relativePath]),g=e.concat(h);a.children&&a.children.length>0&&(Ae(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),KR(a.children,t,g,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:xN(d,a.index),routesMeta:g})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,l);else for(let h of XR(a.path))r(a,l,h)}),t}function XR(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=XR(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),r&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function _N(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:RN(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var bN=/^:[\w-]+$/,EN=3,TN=2,SN=1,wN=10,AN=-2,xw=n=>n==="*";function xN(n,t){let e=n.split("/"),i=e.length;return e.some(xw)&&(i+=AN),t&&(i+=TN),e.filter(r=>!xw(r)).reduce((r,a)=>r+(bN.test(a)?EN:a===""?SN:wN),i)}function RN(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function CN(n,t,e=!1){let{routesMeta:i}=n,r={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],d=u===i.length-1,g=a==="/"?t:t.slice(a.length)||"/",y=Fp({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),_=h.route;if(!y&&d&&e&&!i[i.length-1].route.index&&(y=Fp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:ls([a,y.pathname]),pathnameBase:PN(ls([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=ls([a,y.pathnameBase]))}return l}function Fp(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=ON(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:y},_)=>{if(g==="*"){let S=u[_]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const E=u[_];return y&&!E?d[g]=void 0:d[g]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:n}}function ON(n,t=!1,e=!0){zi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function IN(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ds(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function MN(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?yc(n):n;return{pathname:e?e.startsWith("/")?e:DN(e,t):t,search:kN(i),hash:LN(r)}}function DN(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function vv(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NN(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ub(n){let t=NN(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function hb(n,t,e,i=!1){let r;typeof n=="string"?r=yc(n):(r={...n},Ae(!r.pathname||!r.pathname.includes("?"),vv("?","pathname","search",r)),Ae(!r.pathname||!r.pathname.includes("#"),vv("#","pathname","hash",r)),Ae(!r.search||!r.search.includes("#"),vv("#","search","hash",r)));let a=n===""||r.pathname==="",l=a?"/":r.pathname,u;if(l==null)u=e;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;r.pathname=_.join("/")}u=y>=0?t[y]:"/"}let h=MN(r,u),d=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var ls=n=>n.join("/").replace(/\/\/+/g,"/"),PN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function VN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var QR=["POST","PUT","PATCH","DELETE"];new Set(QR);var UN=["GET",...QR];new Set(UN);var vc=B.createContext(null);vc.displayName="DataRouter";var Ag=B.createContext(null);Ag.displayName="DataRouterState";B.createContext(!1);var ZR=B.createContext({isTransitioning:!1});ZR.displayName="ViewTransition";var zN=B.createContext(new Map);zN.displayName="Fetchers";var BN=B.createContext(null);BN.displayName="Await";var Fi=B.createContext(null);Fi.displayName="Navigation";var Zh=B.createContext(null);Zh.displayName="Location";var Hi=B.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var fb=B.createContext(null);fb.displayName="RouteError";function jN(n,{relative:t}={}){Ae(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=B.useContext(Fi),{hash:r,pathname:a,search:l}=Jh(n,{relative:t}),u=a;return e!=="/"&&(u=a==="/"?e:ls([e,a])),i.createHref({pathname:u,search:l,hash:r})}function _c(){return B.useContext(Zh)!=null}function Ta(){return Ae(_c(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Zh).location}var JR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tC(n){B.useContext(Fi).static||B.useLayoutEffect(n)}function xg(){let{isDataRoute:n}=B.useContext(Hi);return n?nP():FN()}function FN(){Ae(_c(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(vc),{basename:t,navigator:e}=B.useContext(Fi),{matches:i}=B.useContext(Hi),{pathname:r}=Ta(),a=JSON.stringify(ub(i)),l=B.useRef(!1);return tC(()=>{l.current=!0}),B.useCallback((h,d={})=>{if(zi(l.current,JR),!l.current)return;if(typeof h=="number"){e.go(h);return}let g=hb(h,JSON.parse(a),r,d.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ls([t,g.pathname])),(d.replace?e.replace:e.push)(g,d.state,d)},[t,e,a,r,n])}var HN=B.createContext(null);function $N(n){let t=B.useContext(Hi).outlet;return t&&B.createElement(HN.Provider,{value:n},t)}function Jh(n,{relative:t}={}){let{matches:e}=B.useContext(Hi),{pathname:i}=Ta(),r=JSON.stringify(ub(e));return B.useMemo(()=>hb(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function qN(n,t){return eC(n,t)}function eC(n,t,e,i){var O;Ae(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=B.useContext(Fi),{matches:a}=B.useContext(Hi),l=a[a.length-1],u=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",g=l&&l.route;{let P=g&&g.path||"";nC(h,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Ta(),_;if(t){let P=typeof t=="string"?yc(t):t;Ae(d==="/"||((O=P.pathname)==null?void 0:O.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=y;let E=_.pathname||"/",S=E;if(d!=="/"){let P=d.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let A=YR(n,{pathname:S});zi(g||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),zi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=XN(A&&A.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:ls([d,r.encodeLocation?r.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:ls([d,r.encodeLocation?r.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,e,i);return t&&x?B.createElement(Zh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},x):x}function GN(){let n=eP(),t=VN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),e?B.createElement("pre",{style:r},e):null,l)}var WN=B.createElement(GN,null),YN=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?B.createElement(Hi.Provider,{value:this.props.routeContext},B.createElement(fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KN({routeContext:n,match:t,children:e}){let i=B.useContext(vc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Hi.Provider,{value:n},e)}function XN(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,a=e==null?void 0:e.errors;if(a!=null){let h=r.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);Ae(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,u=-1;if(e)for(let h=0;h<r.length;h++){let d=r[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:g,errors:y}=e,_=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,d,g)=>{let y,_=!1,E=null,S=null;e&&(y=a&&d.route.id?a[d.route.id]:void 0,E=d.route.errorElement||WN,l&&(u<0&&g===0?(nC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):u===g&&(_=!0,S=d.route.hydrateFallbackElement||null)));let A=t.concat(r.slice(0,g+1)),x=()=>{let O;return y?O=E:_?O=S:d.route.Component?O=B.createElement(d.route.Component,null):d.route.element?O=d.route.element:O=h,B.createElement(KN,{match:d,routeContext:{outlet:h,matches:A,isDataRoute:e!=null},children:O})};return e&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?B.createElement(YN,{location:e.location,revalidation:e.revalidation,component:E,error:y,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):x()},null)}function db(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QN(n){let t=B.useContext(vc);return Ae(t,db(n)),t}function ZN(n){let t=B.useContext(Ag);return Ae(t,db(n)),t}function JN(n){let t=B.useContext(Hi);return Ae(t,db(n)),t}function pb(n){let t=JN(n),e=t.matches[t.matches.length-1];return Ae(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function tP(){return pb("useRouteId")}function eP(){var i;let n=B.useContext(fb),t=ZN("useRouteError"),e=pb("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function nP(){let{router:n}=QN("useNavigate"),t=pb("useNavigate"),e=B.useRef(!1);return tC(()=>{e.current=!0}),B.useCallback(async(r,a={})=>{zi(e.current,JR),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...a}))},[n,t])}var Rw={};function nC(n,t,e){!t&&!Rw[n]&&(Rw[n]=!0,zi(!1,e))}B.memo(iP);function iP({routes:n,future:t,state:e}){return eC(n,void 0,e,t)}function h_({to:n,replace:t,state:e,relative:i}){Ae(_c(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=B.useContext(Fi);zi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=B.useContext(Hi),{pathname:l}=Ta(),u=xg(),h=hb(n,ub(a),l,i==="path"),d=JSON.stringify(h);return B.useEffect(()=>{u(JSON.parse(d),{replace:t,state:e,relative:i})},[u,d,i,t,e]),null}function rP(n){return $N(n.context)}function ar(n){Ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sP({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:a=!1}){Ae(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof e=="string"&&(e=yc(e));let{pathname:h="/",search:d="",hash:g="",state:y=null,key:_="default"}=e,E=B.useMemo(()=>{let S=ds(h,l);return S==null?null:{location:{pathname:S,search:d,hash:g,state:y,key:_},navigationType:i}},[l,h,d,g,y,_,i]);return zi(E!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:B.createElement(Fi.Provider,{value:u},B.createElement(Zh.Provider,{children:t,value:E}))}function aP({children:n,location:t}){return qN(f_(n),t)}function f_(n,t=[]){let e=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let a=[...t,r];if(i.type===B.Fragment){e.push.apply(e,f_(i.props.children,a));return}Ae(i.type===ar,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ae(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=f_(i.props.children,a)),e.push(l)}),e}var bp="get",Ep="application/x-www-form-urlencoded";function Rg(n){return n!=null&&typeof n.tagName=="string"}function oP(n){return Rg(n)&&n.tagName.toLowerCase()==="button"}function lP(n){return Rg(n)&&n.tagName.toLowerCase()==="form"}function cP(n){return Rg(n)&&n.tagName.toLowerCase()==="input"}function uP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hP(n,t){return n.button===0&&(!t||t==="_self")&&!uP(n)}var qd=null;function fP(){if(qd===null)try{new FormData(document.createElement("form"),0),qd=!1}catch{qd=!0}return qd}var dP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _v(n){return n!=null&&!dP.has(n)?(zi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ep}"`),null):n}function pP(n,t){let e,i,r,a,l;if(lP(n)){let u=n.getAttribute("action");i=u?ds(u,t):null,e=n.getAttribute("method")||bp,r=_v(n.getAttribute("enctype"))||Ep,a=new FormData(n)}else if(oP(n)||cP(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?ds(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||bp,r=_v(n.getAttribute("formenctype"))||_v(u.getAttribute("enctype"))||Ep,a=new FormData(u,n),!fP()){let{name:d,type:g,value:y}=n;if(g==="image"){let _=d?`${d}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else d&&a.append(d,y)}}else{if(Rg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=bp,i=null,r=Ep,l=n}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gb(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function gP(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&ds(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function mP(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vP(n,t,e){let i=await Promise.all(n.map(async r=>{let a=t.routes[r.route.id];if(a){let l=await mP(a,e);return l.links?l.links():[]}return[]}));return TP(i.flat(1).filter(yP).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Cw(n,t,e,i,r,a){let l=(h,d)=>e[d]?h.route.id!==e[d].route.id:!0,u=(h,d)=>{var g;return e[d].pathname!==h.pathname||((g=e[d].route.path)==null?void 0:g.endsWith("*"))&&e[d].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,d)=>l(h,d)||u(h,d)):a==="data"?t.filter((h,d)=>{var y;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function _P(n,t,{includeHydrateFallback:e}={}){return bP(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function bP(n){return[...new Set(n)]}function EP(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function TP(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let a=JSON.stringify(EP(r));return e.has(a)||(e.add(a),i.push({key:a,link:r})),i},[])}function iC(){let n=B.useContext(vc);return gb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SP(){let n=B.useContext(Ag);return gb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var mb=B.createContext(void 0);mb.displayName="FrameworkContext";function rC(){let n=B.useContext(mb);return gb(n,"You must render this element inside a <HydratedRouter> element"),n}function wP(n,t){let e=B.useContext(mb),[i,r]=B.useState(!1),[a,l]=B.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=t,_=B.useRef(null);B.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=O=>{O.forEach(P=>{l(P.isIntersecting)})},x=new IntersectionObserver(A,{threshold:.5});return _.current&&x.observe(_.current),()=>{x.disconnect()}}},[n]),B.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},S=()=>{r(!1),l(!1)};return e?n!=="intent"?[a,_,{}]:[a,_,{onFocus:Wu(u,E),onBlur:Wu(h,S),onMouseEnter:Wu(d,E),onMouseLeave:Wu(g,S),onTouchStart:Wu(y,E)}]:[!1,_,{}]}function Wu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function AP({page:n,...t}){let{router:e}=iC(),i=B.useMemo(()=>YR(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?B.createElement(RP,{page:n,matches:i,...t}):null}function xP(n){let{manifest:t,routeModules:e}=rC(),[i,r]=B.useState([]);return B.useEffect(()=>{let a=!1;return vP(n,t,e).then(l=>{a||r(l)}),()=>{a=!0}},[n,t,e]),i}function RP({page:n,matches:t,...e}){let i=Ta(),{manifest:r,routeModules:a}=rC(),{basename:l}=iC(),{loaderData:u,matches:h}=SP(),d=B.useMemo(()=>Cw(n,t,h,r,i,"data"),[n,t,h,r,i]),g=B.useMemo(()=>Cw(n,t,h,r,i,"assets"),[n,t,h,r,i]),y=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,A=!1;if(t.forEach(O=>{var V;let P=r.routes[O.route.id];!P||!P.hasLoader||(!d.some($=>$.route.id===O.route.id)&&O.route.id in u&&((V=a[O.route.id])!=null&&V.shouldRevalidate)||P.hasClientLoader?A=!0:S.add(O.route.id))}),S.size===0)return[];let x=gP(n,l,"data");return A&&S.size>0&&x.searchParams.set("_routes",t.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[x.pathname+x.search]},[l,u,i,r,d,t,n,a]),_=B.useMemo(()=>_P(g,r),[g,r]),E=xP(g);return B.createElement(B.Fragment,null,y.map(S=>B.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),_.map(S=>B.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),E.map(({key:S,link:A})=>B.createElement("link",{key:S,...A})))}function CP(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var sC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sC&&(window.__reactRouterVersion="7.7.0")}catch{}function OP({basename:n,children:t,window:e}){let i=B.useRef();i.current==null&&(i.current=pN({window:e,v5Compat:!0}));let r=i.current,[a,l]=B.useState({action:r.action,location:r.location}),u=B.useCallback(h=>{B.startTransition(()=>l(h))},[l]);return B.useLayoutEffect(()=>r.listen(u),[r,u]),B.createElement(sP,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:r})}var aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tf=B.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,state:u,target:h,to:d,preventScrollReset:g,viewTransition:y,..._},E){let{basename:S}=B.useContext(Fi),A=typeof d=="string"&&aC.test(d),x,O=!1;if(typeof d=="string"&&A&&(x=d,sC))try{let I=new URL(window.location.href),N=d.startsWith("//")?new URL(I.protocol+d):new URL(d),L=ds(N.pathname,S);N.origin===I.origin&&L!=null?d=L+N.search+N.hash:O=!0}catch{zi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=jN(d,{relative:r}),[V,$,H]=wP(i,_),Y=NP(d,{replace:l,state:u,target:h,preventScrollReset:g,relative:r,viewTransition:y});function D(I){t&&t(I),I.defaultPrevented||Y(I)}let R=B.createElement("a",{..._,...H,href:x||P,onClick:O||a?t:D,ref:CP(E,$),target:h,"data-discover":!A&&e==="render"?"true":void 0});return V&&!A?B.createElement(B.Fragment,null,R,B.createElement(AP,{page:P})):R});tf.displayName="Link";var IP=B.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:u,children:h,...d},g){let y=Jh(l,{relative:d.relative}),_=Ta(),E=B.useContext(Ag),{navigator:S,basename:A}=B.useContext(Fi),x=E!=null&&UP(y)&&u===!0,O=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,P=_.pathname,V=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(P=P.toLowerCase(),V=V?V.toLowerCase():null,O=O.toLowerCase()),V&&A&&(V=ds(V,A)||V);const $=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let H=P===O||!r&&P.startsWith(O)&&P.charAt($)==="/",Y=V!=null&&(V===O||!r&&V.startsWith(O)&&V.charAt(O.length)==="/"),D={isActive:H,isPending:Y,isTransitioning:x},R=H?t:void 0,I;typeof i=="function"?I=i(D):I=[i,H?"active":null,Y?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(D):a;return B.createElement(tf,{...d,"aria-current":R,className:I,ref:g,style:N,to:l,viewTransition:u},typeof h=="function"?h(D):h)});IP.displayName="NavLink";var MP=B.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:a,method:l=bp,action:u,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:y,..._},E)=>{let S=LP(),A=VP(u,{relative:d}),x=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&aC.test(u),P=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,H=($==null?void 0:$.getAttribute("formmethod"))||l;S($||V.currentTarget,{fetcherKey:t,method:H,navigate:e,replace:r,state:a,relative:d,preventScrollReset:g,viewTransition:y})};return B.createElement("form",{ref:E,method:x,action:A,onSubmit:i?h:P,..._,"data-discover":!O&&n==="render"?"true":void 0})});MP.displayName="Form";function DP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oC(n){let t=B.useContext(vc);return Ae(t,DP(n)),t}function NP(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:a,viewTransition:l}={}){let u=xg(),h=Ta(),d=Jh(n,{relative:a});return B.useCallback(g=>{if(hP(g,t)){g.preventDefault();let y=e!==void 0?e:Mh(h)===Mh(d);u(n,{replace:y,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[h,u,d,e,i,t,n,r,a,l])}var PP=0,kP=()=>`__${String(++PP)}__`;function LP(){let{router:n}=oC("useSubmit"),{basename:t}=B.useContext(Fi),e=tP();return B.useCallback(async(i,r={})=>{let{action:a,method:l,encType:u,formData:h,body:d}=pP(i,t);if(r.navigate===!1){let g=r.fetcherKey||kP();await n.fetch(g,e,r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:d,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:h,body:d,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function VP(n,{relative:t}={}){let{basename:e}=B.useContext(Fi),i=B.useContext(Hi);Ae(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Jh(n||".",{relative:t})},l=Ta();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let g=u.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:ls([e,a.pathname])),Mh(a)}function UP(n,t={}){let e=B.useContext(ZR);Ae(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=oC("useViewTransitionState"),r=Jh(n,{relative:t.relative});if(!e.isTransitioning)return!1;let a=ds(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=ds(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Fp(r.pathname,l)!=null||Fp(r.pathname,a)!=null}var yb=WR();const Gd=Sg(yb);var bv={exports:{}},Ev={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function zP(){if(Ow)return Ev;Ow=1;var n=wg();function t(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,l=n.useMemo,u=n.useDebugValue;return Ev.useSyncExternalStoreWithSelector=function(h,d,g,y,_){var E=r(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=l(function(){function x(H){if(!O){if(O=!0,P=H,H=y(H),_!==void 0&&S.hasValue){var Y=S.value;if(_(Y,H))return V=Y}return V=H}if(Y=V,e(P,H))return Y;var D=y(H);return _!==void 0&&_(Y,D)?(P=H,Y):(P=H,V=D)}var O=!1,P,V,$=g===void 0?null:g;return[function(){return x(d())},$===null?void 0:function(){return x($())}]},[d,g,y,_]);var A=i(h,E[0],E[1]);return a(function(){S.hasValue=!0,S.value=A},[A]),u(A),A},Ev}var Iw;function BP(){return Iw||(Iw=1,bv.exports=zP()),bv.exports}BP();function jP(n){n()}function FP(){let n=null,t=null;return{clear(){n=null,t=null},notify(){jP(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var Mw={notify(){},get:()=>[]};function HP(n,t){let e,i=Mw,r=0,a=!1;function l(A){g();const x=i.subscribe(A);let O=!1;return()=>{O||(O=!0,x(),y())}}function u(){i.notify()}function h(){S.onStateChange&&S.onStateChange()}function d(){return a}function g(){r++,e||(e=n.subscribe(h),i=FP())}function y(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=Mw)}function _(){a||(a=!0,g())}function E(){a&&(a=!1,y())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:d,trySubscribe:_,tryUnsubscribe:E,getListeners:()=>i};return S}var $P=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qP=$P(),GP=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WP=GP(),YP=()=>qP||WP?B.useLayoutEffect:B.useEffect,KP=YP(),Tv=Symbol.for("react-redux-context"),Sv=typeof globalThis<"u"?globalThis:{};function XP(){if(!B.createContext)return{};const n=Sv[Tv]??(Sv[Tv]=new Map);let t=n.get(B.createContext);return t||(t=B.createContext(null),n.set(B.createContext,t)),t}var QP=XP();function ZP(n){const{children:t,context:e,serverState:i,store:r}=n,a=B.useMemo(()=>{const h=HP(r);return{store:r,subscription:h,getServerState:i?()=>i:void 0}},[r,i]),l=B.useMemo(()=>r.getState(),[r]);KP(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==r.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,l]);const u=e||QP;return B.createElement(u.Provider,{value:a},t)}var JP=ZP;const tk=()=>{};var Dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},ek=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[e++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[e++],l=n[e++],u=n[e++],h=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},cC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,u=l?n[r+1]:0,h=r+2<n.length,d=h?n[r+2]:0,g=a>>2,y=(a&3)<<4|u>>4;let _=(u&15)<<2|d>>6,E=d&63;h||(E=64,l||(_=64)),i.push(e[g],e[y],e[_],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(lC(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):ek(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,a==null||u==null||d==null||y==null)throw new nk;const _=a<<2|u>>4;if(i.push(_),d!==64){const E=u<<4&240|d>>2;if(i.push(E),y!==64){const S=d<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ik=function(n){const t=lC(n);return cC.encodeByteArray(t,!0)},Hp=function(n){return ik(n).replace(/\./g,"")},uC=function(n){try{return cC.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=()=>rk().__FIREBASE_DEFAULTS__,ak=()=>{if(typeof process>"u"||typeof Dw>"u")return;const n=Dw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ok=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&uC(n[1]);return t&&JSON.parse(t)},Cg=()=>{try{return tk()||sk()||ak()||ok()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hC=n=>{var t,e;return(e=(t=Cg())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},lk=n=>{const t=hC(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},fC=()=>{var n;return(n=Cg())==null?void 0:n.config},dC=n=>{var t;return(t=Cg())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pC(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hp(JSON.stringify(e)),Hp(JSON.stringify(l)),""].join(".")}const gh={};function hk(){const n={prod:[],emulator:[]};for(const t of Object.keys(gh))gh[t]?n.emulator.push(t):n.prod.push(t);return n}function fk(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Nw=!1;function gC(n,t){if(typeof window>"u"||typeof document>"u"||!bc(window.location.host)||gh[n]===t||gh[n]||Nw)return;gh[n]=t;function e(_){return`__firebase__banner__${_}`}const i="__firebase__banner",a=hk().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Nw=!0,l()},_}function g(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=fk(i),E=e("text"),S=document.getElementById(E)||document.createElement("span"),A=e("learnmore"),x=document.getElementById(A)||document.createElement("a"),O=e("preprendIcon"),P=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const V=_.element;u(V),g(x,A);const $=d();h(P,O),V.append(P,S,x,$),document.body.appendChild(V)}a?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function pk(){var t;const n=(t=Cg())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vk(){const n=In();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _k(){return!pk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ek(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var a;t(((a=r.error)==null?void 0:a.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="FirebaseError";class _s extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Tk,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ef.prototype.create)}}class ef{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?Sk(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new _s(r,u,i)}}function Sk(n,t){return n.replace(wk,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const wk=/\{\$([^}]+)}/g;function Ak(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function xo(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const a=n[r],l=t[r];if(Pw(a)&&Pw(l)){if(!xo(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Pw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function eh(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(a)}}),t}function nh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function xk(n,t){const e=new Rk(n,t);return e.subscribe.bind(e)}class Rk{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Ck(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=wv),r.error===void 0&&(r.error=wv),r.complete===void 0&&(r.complete=wv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ck(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function wv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new ck;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Mk(t))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=fo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fo){return this.instances.has(t)}getOptions(t=fo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&t(a,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ik(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=fo){return this.component?this.component.multipleInstances?t:fo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ik(n){return n===fo?void 0:n}function Mk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Ok(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const Nk={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},Pk=Ht.INFO,kk={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},Lk=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=kk[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vb{constructor(t){this.name=t,this._logLevel=Pk,this._logHandler=Lk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Nk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const Vk=(n,t)=>t.some(e=>n instanceof e);let kw,Lw;function Uk(){return kw||(kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zk(){return Lw||(Lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mC=new WeakMap,d_=new WeakMap,yC=new WeakMap,Av=new WeakMap,_b=new WeakMap;function Bk(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(la(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&mC.set(e,n)}).catch(()=>{}),_b.set(t,n),t}function jk(n){if(d_.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});d_.set(n,t)}let p_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return d_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||yC.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return la(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Fk(n){p_=n(p_)}function Hk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(xv(this),t,...e);return yC.set(i,t.sort?t.sort():[t]),la(i)}:zk().includes(n)?function(...t){return n.apply(xv(this),t),la(mC.get(this))}:function(...t){return la(n.apply(xv(this),t))}}function $k(n){return typeof n=="function"?Hk(n):(n instanceof IDBTransaction&&jk(n),Vk(n,Uk())?new Proxy(n,p_):n)}function la(n){if(n instanceof IDBRequest)return Bk(n);if(Av.has(n))return Av.get(n);const t=$k(n);return t!==n&&(Av.set(n,t),_b.set(t,n)),t}const xv=n=>_b.get(n);function qk(n,t,{blocked:e,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,t),u=la(l);return i&&l.addEventListener("upgradeneeded",h=>{i(la(l.result),h.oldVersion,h.newVersion,la(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Gk=["get","getKey","getAll","getAllKeys","count"],Wk=["put","add","delete","clear"],Rv=new Map;function Vw(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Rv.get(t))return Rv.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Wk.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Gk.includes(e)))return;const a=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&h.done]))[0]};return Rv.set(t,a),a}Fk(n=>({...n,get:(t,e,i)=>Vw(t,e)||n.get(t,e,i),has:(t,e)=>!!Vw(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Kk(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Kk(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const g_="@firebase/app",Uw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new vb("@firebase/app"),Xk="@firebase/app-compat",Qk="@firebase/analytics-compat",Zk="@firebase/analytics",Jk="@firebase/app-check-compat",tL="@firebase/app-check",eL="@firebase/auth",nL="@firebase/auth-compat",iL="@firebase/database",rL="@firebase/data-connect",sL="@firebase/database-compat",aL="@firebase/functions",oL="@firebase/functions-compat",lL="@firebase/installations",cL="@firebase/installations-compat",uL="@firebase/messaging",hL="@firebase/messaging-compat",fL="@firebase/performance",dL="@firebase/performance-compat",pL="@firebase/remote-config",gL="@firebase/remote-config-compat",mL="@firebase/storage",yL="@firebase/storage-compat",vL="@firebase/firestore",_L="@firebase/ai",bL="@firebase/firestore-compat",EL="firebase",TL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="[DEFAULT]",SL={[g_]:"fire-core",[Xk]:"fire-core-compat",[Zk]:"fire-analytics",[Qk]:"fire-analytics-compat",[tL]:"fire-app-check",[Jk]:"fire-app-check-compat",[eL]:"fire-auth",[nL]:"fire-auth-compat",[iL]:"fire-rtdb",[rL]:"fire-data-connect",[sL]:"fire-rtdb-compat",[aL]:"fire-fn",[oL]:"fire-fn-compat",[lL]:"fire-iid",[cL]:"fire-iid-compat",[uL]:"fire-fcm",[hL]:"fire-fcm-compat",[fL]:"fire-perf",[dL]:"fire-perf-compat",[pL]:"fire-rc",[gL]:"fire-rc-compat",[mL]:"fire-gcs",[yL]:"fire-gcs-compat",[vL]:"fire-fst",[bL]:"fire-fst-compat",[_L]:"fire-vertex","fire-js":"fire-js",[EL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new Map,wL=new Map,y_=new Map;function zw(n,t){try{n.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function nc(n){const t=n.name;if(y_.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;y_.set(t,n);for(const e of $p.values())zw(e,n);for(const e of wL.values())zw(e,n);return!0}function bb(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function bi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new ef("app","Firebase",AL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=TL;function vC(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:m_,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ca.create("bad-app-name",{appName:String(r)});if(e||(e=fC()),!e)throw ca.create("no-options");const a=$p.get(r);if(a){if(xo(e,a.options)&&xo(i,a.config))return a;throw ca.create("duplicate-app",{appName:r})}const l=new Dk(r);for(const h of y_.values())l.addComponent(h);const u=new xL(e,i,l);return $p.set(r,u),u}function _C(n=m_){const t=$p.get(n);if(!t&&n===m_&&fC())return vC();if(!t)throw ca.create("no-app",{appName:n});return t}function ua(n,t,e){let i=SL[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(l.join(" "));return}nc(new Ro(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebase-heartbeat-database",CL=1,Dh="firebase-heartbeat-store";let Cv=null;function bC(){return Cv||(Cv=qk(RL,CL,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Dh)}catch(e){console.warn(e)}}}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),Cv}async function OL(n){try{const e=(await bC()).transaction(Dh),i=await e.objectStore(Dh).get(EC(n));return await e.done,i}catch(t){if(t instanceof _s)ps.warn(t.message);else{const e=ca.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ps.warn(e.message)}}}async function Bw(n,t){try{const i=(await bC()).transaction(Dh,"readwrite");await i.objectStore(Dh).put(t,EC(n)),await i.done}catch(e){if(e instanceof _s)ps.warn(e.message);else{const i=ca.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ps.warn(i.message)}}}function EC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=1024,ML=30;class DL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new PL(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=jw();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>ML){const l=kL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ps.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jw(),{heartbeatsToSend:i,unsentEntries:r}=NL(this._heartbeatsCache.heartbeats),a=Hp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ps.warn(e),""}}}function jw(){return new Date().toISOString().substring(0,10)}function NL(n,t=IL){const e=[];let i=n.slice();for(const r of n){const a=e.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),Fw(e)>t){a.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Fw(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class PL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bk()?Ek().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await OL(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Bw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Bw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Fw(n){return Hp(JSON.stringify({version:2,heartbeats:n})).length}function kL(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){nc(new Ro("platform-logger",t=>new Yk(t),"PRIVATE")),nc(new Ro("heartbeat",t=>new DL(t),"PRIVATE")),ua(g_,Uw,n),ua(g_,Uw,"esm2020"),ua("fire-js","")}LL("");function TC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VL=TC,SC=new ef("auth","Firebase",TC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=new vb("@firebase/auth");function UL(n,...t){qp.logLevel<=Ht.WARN&&qp.warn(`Auth (${Ec}): ${n}`,...t)}function Tp(n,...t){qp.logLevel<=Ht.ERROR&&qp.error(`Auth (${Ec}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,...t){throw Eb(n,...t)}function fr(n,...t){return Eb(n,...t)}function wC(n,t,e){const i={...VL(),[t]:e};return new ef("auth","Firebase",i).create(t,{appName:n.name})}function cs(n){return wC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eb(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return SC.create(n,...t)}function Ct(n,t,...e){if(!n)throw Eb(t,...e)}function ns(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Tp(t),new Error(t)}function gs(n,t){n||ns(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function zL(){return Hw()==="http:"||Hw()==="https:"}function Hw(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zL()||mk()||"connection"in navigator)?navigator.onLine:!0}function jL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,e){this.shortDelay=t,this.longDelay=e,gs(e>t,"Short delay should be less than long delay!"),this.isMobile=dk()||yk()}get(){return BL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n,t){gs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$L=new rf(3e4,6e4);function Sa(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function bs(n,t,e,i,r={}){return xC(n,r,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const u=nf({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:h,...a};return gk()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&bc(n.emulatorConfig.host)&&(d.credentials="include"),AC.fetch()(await RC(n,n.config.apiHost,e,u),d)})}async function xC(n,t,e){n._canInitEmulator=!1;const i={...FL,...t};try{const r=new GL(n),a=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Wd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Wd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Wd(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw wC(n,g,d);Bi(n,g)}}catch(r){if(r instanceof _s)throw r;Bi(n,"network-request-failed",{message:String(r)})}}async function sf(n,t,e,i,r={}){const a=await bs(n,t,e,i,r);return"mfaPendingCredential"in a&&Bi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function RC(n,t,e,i){const r=`${t}${e}?${i}`,a=n,l=a.config.emulator?Tb(n.config,r):`${n.config.apiScheme}://${r}`;return HL.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function qL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(fr(this.auth,"network-request-failed")),$L.get())})}}function Wd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=fr(n,t,i);return r.customData._tokenResponse=e,r}function $w(n){return n!==void 0&&n.enterprise!==void 0}class WL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return qL(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YL(n,t){return bs(n,"GET","/v2/recaptchaConfig",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(n,t){return bs(n,"POST","/v1/accounts:delete",t)}async function Gp(n,t){return bs(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XL(n,t=!1){const e=Un(n),i=await e.getIdToken(t),r=Sb(i);Ct(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:mh(Ov(r.auth_time)),issuedAtTime:mh(Ov(r.iat)),expirationTime:mh(Ov(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ov(n){return Number(n)*1e3}function Sb(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const r=uC(e);return r?JSON.parse(r):(Tp("Failed to decode base64 JWT payload"),null)}catch(r){return Tp("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function qw(n){const t=Sb(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof _s&&QL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function QL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wp(n){var y;const t=n.auth,e=await n.getIdToken(),i=await ic(n,Gp(t,{idToken:e}));Ct(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=(y=r.providerUserInfo)!=null&&y.length?CC(r.providerUserInfo):[],l=tV(n.providerData,a),u=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new __(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function JL(n){const t=Un(n);await Wp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tV(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function CC(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(n,t){const e=await xC(n,{},async()=>{const i=nf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,l=await RC(n,r,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return n.emulatorConfig&&bc(n.emulatorConfig.host)&&(h.credentials="include"),AC.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function nV(n,t){return bs(n,"POST","/v2/accounts:revokeToken",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):qw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=qw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:a}=await eV(t,e);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:a}=e,l=new Xl;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(Ct(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),a&&(Ct(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xl,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Pi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new ZL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new __(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await ic(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return XL(this,t)}reload(){return JL(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Wp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await ic(this,KL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,a=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,h=e._redirectEventId??void 0,d=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:E,providerData:S,stsTokenManager:A}=e;Ct(y&&A,t,"internal-error");const x=Xl.fromJSON(this.name,A);Ct(typeof y=="string",t,"internal-error"),Zs(i,t.name),Zs(r,t.name),Ct(typeof _=="boolean",t,"internal-error"),Ct(typeof E=="boolean",t,"internal-error"),Zs(a,t.name),Zs(l,t.name),Zs(u,t.name),Zs(h,t.name),Zs(d,t.name),Zs(g,t.name);const O=new Pi({uid:y,auth:t,email:r,emailVerified:_,displayName:i,isAnonymous:E,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:x,createdAt:d,lastLoginAt:g});return S&&Array.isArray(S)&&(O.providerData=S.map(P=>({...P}))),h&&(O._redirectEventId=h),O}static async _fromIdTokenResponse(t,e,i=!1){const r=new Xl;r.updateFromServerResponse(e);const a=new Pi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Wp(a),a}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Ct(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?CC(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),u=new Xl;u.updateFromIdToken(i);const h=new Pi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new __(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;function is(n){gs(n instanceof Function,"Expected a class definition");let t=Gw.get(n);return t?(gs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Gw.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}OC.type="NONE";const Ww=OC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,t,e){return`firebase:${n}:${t}:${e}`}class Ql{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Sp(this.userKey,r.apiKey,a),this.fullPersistenceKey=Sp("persistence",r.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Gp(this.auth,{idToken:t}).catch(()=>{});return e?Pi._fromGetAccountInfoResponse(this.auth,e,t):null}return Pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ql(is(Ww),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||is(Ww);const l=Sp(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const g=await d._get(l);if(g){let y;if(typeof g=="string"){const _=await Gp(t,{idToken:g}).catch(()=>{});if(!_)break;y=await Pi._fromGetAccountInfoResponse(t,_,g)}else y=Pi._fromJSON(t,g);d!==a&&(u=y),a=d;break}}catch{}const h=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ql(a,t,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new Ql(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kC(t))return"Blackberry";if(LC(t))return"Webos";if(MC(t))return"Safari";if((t.includes("chrome/")||DC(t))&&!t.includes("edge/"))return"Chrome";if(PC(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function IC(n=In()){return/firefox\//i.test(n)}function MC(n=In()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DC(n=In()){return/crios\//i.test(n)}function NC(n=In()){return/iemobile/i.test(n)}function PC(n=In()){return/android/i.test(n)}function kC(n=In()){return/blackberry/i.test(n)}function LC(n=In()){return/webos/i.test(n)}function wb(n=In()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iV(n=In()){var t;return wb(n)&&!!((t=window.navigator)!=null&&t.standalone)}function rV(){return vk()&&document.documentMode===10}function VC(n=In()){return wb(n)||PC(n)||LC(n)||kC(n)||/windows phone/i.test(n)||NC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(n,t=[]){let e;switch(n){case"Browser":e=Yw(In());break;case"Worker":e=`${Yw(In())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ec}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=a=>new Promise((l,u)=>{try{const h=t(a);l(h)}catch(h){u(h)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(n,t={}){return bs(n,"GET","/v2/passwordPolicy",Sa(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=6;class lV{constructor(t){var i;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??oV,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kw(this),this.idTokenSubscription=new Kw(this),this.beforeStateQueue=new sV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=is(e)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Gp(this,{idToken:t}),i=await Pi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(bi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Wp(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(bi(this.app))return Promise.reject(cs(this));const e=t?Un(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return bi(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aV(this),e=new lV(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ef("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await nV(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&is(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[is(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,r);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&UL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vo(n){return Un(n)}class Kw{constructor(t){this.auth=t,this.observer=null,this.addObserver=xk(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uV(n){Og=n}function zC(n){return Og.loadJS(n)}function hV(){return Og.recaptchaEnterpriseScript}function fV(){return Og.gapiScript}function dV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class pV{constructor(){this.enterprise=new gV}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class gV{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const mV="recaptcha-enterprise",BC="NO_RECAPTCHA";class yV{constructor(t){this.type=mV,this.auth=Vo(t)}async verify(t="verify",e=!1){async function i(a){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{YL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new WL(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}}).catch(h=>{u(h)})})}function r(a,l,u){const h=window.grecaptcha;$w(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(d=>{l(d)}).catch(()=>{l(BC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pV().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!e&&$w(window.grecaptcha))r(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=hV();h.length!==0&&(h+=u),zC(h).then(()=>{r(u,a,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function Xw(n,t,e,i=!1,r=!1){const a=new yV(n);let l;if(r)l=BC;else try{l=await a.verify(e)}catch{l=await a.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function b_(n,t,e,i,r){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Xw(n,t,e,e==="getOobCode");return i(n,l)}else return i(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Xw(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n,t){const e=bb(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),a=e.getOptions();if(xo(a,t??{}))return r;Bi(r,"already-initialized")}return e.initialize({options:t})}function _V(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(is);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function bV(n,t,e){const i=Vo(n);Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,a=jC(t),{host:l,port:u}=EV(t),h=u===null?"":`:${u}`,d={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ct(xo(d,i.config.emulator)&&xo(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,bc(l)?(pC(`${a}//${l}${h}`),gC("Auth",!0)):TV()}function jC(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function EV(n){const t=jC(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:Qw(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:Qw(l)}}}function Qw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function TV(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,e){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function SV(n,t){return bs(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(n,t){return sf(n,"POST","/v1/accounts:signInWithPassword",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(n,t){return sf(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,t))}async function xV(n,t){return sf(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Ab{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Nh(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Nh(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(t,e,"signInWithPassword",wV);case"emailLink":return AV(t,{email:this._email,oobCode:this._password});default:Bi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(t,i,"signUpPassword",SV);case"emailLink":return xV(t,{idToken:e,email:this._email,oobCode:this._password});default:Bi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(n,t){return sf(n,"POST","/v1/accounts:signInWithIdp",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="http://localhost";class Co extends Ab{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Co(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Bi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...a}=e;if(!i||!r)return null;const l=new Co(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Zl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Zl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zl(t,e)}buildRequest(){const t={requestUri:RV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=nf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OV(n){const t=eh(nh(n)).link,e=t?eh(nh(t)).deep_link_id:null,i=eh(nh(n)).deep_link_id;return(i?eh(nh(i)).link:null)||i||e||t||n}class xb{constructor(t){const e=eh(nh(t)),i=e.apiKey??null,r=e.oobCode??null,a=CV(e.mode??null);Ct(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=OV(t);try{return new xb(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.providerId=Tc.PROVIDER_ID}static credential(t,e){return Nh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=xb.parseLink(e);return Ct(i,"argument-error"),Nh._fromEmailAndCode(t,i.code,i.tenantId)}}Tc.PROVIDER_ID="password";Tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends FC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends af{constructor(){super("facebook.com")}static credential(t){return Co._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends af{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Co._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ta.credential(e,i)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends af{constructor(){super("github.com")}static credential(t){return Co._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ea.credential(t.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends af{constructor(){super("twitter.com")}static credential(t,e){return Co._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return na.credential(e,i)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(n,t){return sf(n,"POST","/v1/accounts:signUp",Sa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const a=await Pi._fromIdTokenResponse(t,i,r),l=Zw(i);return new Oo({user:a,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=Zw(i);return new Oo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function Zw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends _s{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Yp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Yp(t,e,i,r)}}function HC(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yp._fromErrorAndOperation(n,a,t,i):a})}async function MV(n,t,e=!1){const i=await ic(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Oo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(n,t,e=!1){const{auth:i}=n;if(bi(i.app))return Promise.reject(cs(i));const r="reauthenticate";try{const a=await ic(n,HC(i,r,t,n),e);Ct(a.idToken,i,"internal-error");const l=Sb(a.idToken);Ct(l,i,"internal-error");const{sub:u}=l;return Ct(n.uid===u,i,"user-mismatch"),Oo._forOperation(n,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Bi(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(n,t,e=!1){if(bi(n.app))return Promise.reject(cs(n));const i="signIn",r=await HC(n,i,t),a=await Oo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(a.user),a}async function NV(n,t){return $C(Vo(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(n){const t=Vo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function PV(n,t,e){if(bi(n.app))return Promise.reject(cs(n));const i=Vo(n),l=await b_(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IV).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&qC(n),h}),u=await Oo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function kV(n,t,e){return bi(n.app)?Promise.reject(cs(n)):NV(Un(n),Tc.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qC(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(n,t){return bs(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=Un(n),a={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=await ic(i,LV(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function UV(n,t,e,i){return Un(n).onIdTokenChanged(t,e,i)}function zV(n,t,e){return Un(n).beforeAuthStateChanged(t,e)}function BV(n,t,e,i){return Un(n).onAuthStateChanged(t,e,i)}const Kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Kp,"1"),this.storage.removeItem(Kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=1e3,FV=10;class WC extends GC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);rV()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,FV):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},jV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}WC.type="LOCAL";const HV=WC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC extends GC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}YC.type="SESSION";const KC=YC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Ig(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:a}=e.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async d=>d(e.origin,a)),h=await $V(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const d=Rb("",20);r.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function GV(n){dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function WV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function KV(){return XC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebaseLocalStorageDb",XV=1,Xp="firebaseLocalStorage",ZC="fbase_key";class of{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Mg(n,t){return n.transaction([Xp],t?"readwrite":"readonly").objectStore(Xp)}function QV(){const n=indexedDB.deleteDatabase(QC);return new of(n).toPromise()}function E_(){const n=indexedDB.open(QC,XV);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Xp,{keyPath:ZC})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Xp)?t(i):(i.close(),await QV(),t(await E_()))})})}async function Jw(n,t,e){const i=Mg(n,!0).put({[ZC]:t,value:e});return new of(i).toPromise()}async function ZV(n,t){const e=Mg(n,!1).get(t),i=await new of(e).toPromise();return i===void 0?null:i.value}function t1(n,t){const e=Mg(n,!0).delete(t);return new of(e).toPromise()}const JV=800,t4=3;class JC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>t4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ig._getInstance(KV()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await WV(),!this.activeServiceWorker)return;this.sender=new qV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await E_();return await Jw(t,Kp,"1"),await t1(t,Kp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Jw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>ZV(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>t1(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const a=Mg(r,!1).getAll();return new of(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:a}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JC.type="LOCAL";const e4=JC;new rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n,t){return t?is(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Ab{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function i4(n){return $C(n.auth,new Cb(n),n.bypassAuthState)}function r4(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),DV(e,new Cb(n),n.bypassAuthState)}async function s4(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),MV(e,new Cb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,e,i,r,a=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:a,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return i4;case"linkViaPopup":case"linkViaRedirect":return s4;case"reauthViaPopup":case"reauthViaRedirect":return r4;default:Bi(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new rf(2e3,1e4);class Gl extends tO{constructor(t,e,i,r,a){super(t,e,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Gl.currentPopupAction&&Gl.currentPopupAction.cancel(),Gl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Rb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if((i=(e=this.authWindow)==null?void 0:e.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,a4.get())};t()}}Gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="pendingRedirect",wp=new Map;class l4 extends tO{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=wp.get(this.auth._key());if(!t){try{const i=await c4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}wp.set(this.auth._key(),t)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c4(n,t){const e=f4(t),i=h4(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function u4(n,t){wp.set(n._key(),t)}function h4(n){return is(n._redirectPersistence)}function f4(n){return Sp(o4,n.config.apiKey,n.name)}async function d4(n,t,e=!1){if(bi(n.app))return Promise.reject(cs(n));const i=Vo(n),r=n4(i,t),l=await new l4(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=10*60*1e3;class g4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!m4(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!eO(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";e.onError(fr(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=p4&&this.cachedEventUids.clear(),this.cachedEventUids.has(e1(t))}saveEventToCache(t){this.cachedEventUids.add(e1(t)),this.lastProcessedEventTime=Date.now()}}function e1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function eO({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function m4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(n,t={}){return bs(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_4=/^https?/;async function b4(n){if(n.config.emulator)return;const{authorizedDomains:t}=await y4(n);for(const e of t)try{if(E4(e))return}catch{}Bi(n,"unauthorized-domain")}function E4(n){const t=v_(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!_4.test(e))return!1;if(v4.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=new rf(3e4,6e4);function n1(){const n=dr().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function S4(n){return new Promise((t,e)=>{var r,a,l;function i(){n1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{n1(),e(fr(n,"network-request-failed"))},timeout:T4.get()})}if((a=(r=dr().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((l=dr().gapi)!=null&&l.load)i();else{const u=dV("iframefcb");return dr()[u]=()=>{gapi.load?i():e(fr(n,"network-request-failed"))},zC(`${fV()}?onload=${u}`).catch(h=>e(h))}}).catch(t=>{throw Ap=null,t})}let Ap=null;function w4(n){return Ap=Ap||S4(n),Ap}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new rf(5e3,15e3),x4="__/auth/iframe",R4="emulator/auth/iframe",C4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I4(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Tb(t,R4):`https://${n.config.authDomain}/${x4}`,i={apiKey:t.apiKey,appName:n.name,v:Ec},r=O4.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${e}?${nf(i).slice(1)}`}async function M4(n){const t=await w4(n),e=dr().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:I4(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C4,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=fr(n,"network-request-failed"),u=dr().setTimeout(()=>{a(l)},A4.get());function h(){dr().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N4=500,P4=600,k4="_blank",L4="http://localhost";class i1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V4(n,t,e,i=N4,r=P4){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...D4,width:i.toString(),height:r.toString(),top:a,left:l},d=In().toLowerCase();e&&(u=DC(d)?k4:e),IC(d)&&(t=t||L4,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[E,S])=>`${_}${E}=${S},`,"");if(iV(d)&&u!=="_self")return U4(t||"",u),new i1(null);const y=window.open(t||"",u,g);Ct(y,n,"popup-blocked");try{y.focus()}catch{}return new i1(y)}function U4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="__/auth/handler",B4="emulator/auth/handler",j4=encodeURIComponent("fac");async function r1(n,t,e,i,r,a){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ec,eventId:r};if(t instanceof FC){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",Ak(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(t instanceof af){const g=t.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),d=h?`#${j4}=${encodeURIComponent(h)}`:"";return`${F4(n)}?${nf(u).slice(1)}${d}`}function F4({config:n}){return n.emulator?Tb(n,B4):`https://${n.authDomain}/${z4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="webStorageSupport";class H4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KC,this._completeRedirectFn=d4,this._overrideRedirectResult=u4}async _openPopup(t,e,i,r){var l;gs((l=this.eventManagers[t._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await r1(t,e,i,v_(),r);return V4(t,a,Rb())}async _openRedirect(t,e,i,r){await this._originValidation(t);const a=await r1(t,e,i,v_(),r);return GV(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:a}=this.eventManagers[e];return r?Promise.resolve(r):(gs(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await M4(t),i=new g4(t);return e.register("authEvent",r=>(Ct(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Iv,{type:Iv},r=>{var l;const a=(l=r==null?void 0:r[0])==null?void 0:l[Iv];a!==void 0&&e(!!a),Bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=b4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return VC()||MC()||wb()}}const $4=H4;var s1="@firebase/auth",a1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W4(n){nc(new Ro("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ct(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UC(n)},d=new cV(i,r,a,h);return _V(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),nc(new Ro("auth-internal",t=>{const e=Vo(t.getProvider("auth").getImmediate());return(i=>new q4(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(s1,a1,G4(n)),ua(s1,a1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=5*60,K4=dC("authIdTokenMaxAge")||Y4;let o1=null;const X4=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>K4)return;const r=e==null?void 0:e.token;o1!==r&&(o1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Q4(n=_C()){const t=bb(n,"auth");if(t.isInitialized())return t.getImmediate();const e=vV(n,{popupRedirectResolver:$4,persistence:[e4,HV,KC]}),i=dC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=X4(a.toString());zV(e,l,()=>l(e.currentUser)),UV(e,u=>l(u))}}const r=hC("auth");return r&&bV(e,`http://${r}`),e}function Z4(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}uV({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const a=fr("internal-error");a.customData=r,e(a)},i.type="text/javascript",i.charset="UTF-8",Z4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W4("Browser");var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,nO;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function I(){}I.prototype=R.prototype,D.D=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(N,L,j){for(var k=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)k[wt-2]=arguments[wt];return R.prototype[L].apply(N,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,R,I){I||(I=0);var N=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)N[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)N[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],L=D.g[2];var j=D.g[3],k=R+(j^I&(L^j))+N[0]+3614090360&4294967295;R=I+(k<<7&4294967295|k>>>25),k=j+(L^R&(I^L))+N[1]+3905402710&4294967295,j=R+(k<<12&4294967295|k>>>20),k=L+(I^j&(R^I))+N[2]+606105819&4294967295,L=j+(k<<17&4294967295|k>>>15),k=I+(R^L&(j^R))+N[3]+3250441966&4294967295,I=L+(k<<22&4294967295|k>>>10),k=R+(j^I&(L^j))+N[4]+4118548399&4294967295,R=I+(k<<7&4294967295|k>>>25),k=j+(L^R&(I^L))+N[5]+1200080426&4294967295,j=R+(k<<12&4294967295|k>>>20),k=L+(I^j&(R^I))+N[6]+2821735955&4294967295,L=j+(k<<17&4294967295|k>>>15),k=I+(R^L&(j^R))+N[7]+4249261313&4294967295,I=L+(k<<22&4294967295|k>>>10),k=R+(j^I&(L^j))+N[8]+1770035416&4294967295,R=I+(k<<7&4294967295|k>>>25),k=j+(L^R&(I^L))+N[9]+2336552879&4294967295,j=R+(k<<12&4294967295|k>>>20),k=L+(I^j&(R^I))+N[10]+4294925233&4294967295,L=j+(k<<17&4294967295|k>>>15),k=I+(R^L&(j^R))+N[11]+2304563134&4294967295,I=L+(k<<22&4294967295|k>>>10),k=R+(j^I&(L^j))+N[12]+1804603682&4294967295,R=I+(k<<7&4294967295|k>>>25),k=j+(L^R&(I^L))+N[13]+4254626195&4294967295,j=R+(k<<12&4294967295|k>>>20),k=L+(I^j&(R^I))+N[14]+2792965006&4294967295,L=j+(k<<17&4294967295|k>>>15),k=I+(R^L&(j^R))+N[15]+1236535329&4294967295,I=L+(k<<22&4294967295|k>>>10),k=R+(L^j&(I^L))+N[1]+4129170786&4294967295,R=I+(k<<5&4294967295|k>>>27),k=j+(I^L&(R^I))+N[6]+3225465664&4294967295,j=R+(k<<9&4294967295|k>>>23),k=L+(R^I&(j^R))+N[11]+643717713&4294967295,L=j+(k<<14&4294967295|k>>>18),k=I+(j^R&(L^j))+N[0]+3921069994&4294967295,I=L+(k<<20&4294967295|k>>>12),k=R+(L^j&(I^L))+N[5]+3593408605&4294967295,R=I+(k<<5&4294967295|k>>>27),k=j+(I^L&(R^I))+N[10]+38016083&4294967295,j=R+(k<<9&4294967295|k>>>23),k=L+(R^I&(j^R))+N[15]+3634488961&4294967295,L=j+(k<<14&4294967295|k>>>18),k=I+(j^R&(L^j))+N[4]+3889429448&4294967295,I=L+(k<<20&4294967295|k>>>12),k=R+(L^j&(I^L))+N[9]+568446438&4294967295,R=I+(k<<5&4294967295|k>>>27),k=j+(I^L&(R^I))+N[14]+3275163606&4294967295,j=R+(k<<9&4294967295|k>>>23),k=L+(R^I&(j^R))+N[3]+4107603335&4294967295,L=j+(k<<14&4294967295|k>>>18),k=I+(j^R&(L^j))+N[8]+1163531501&4294967295,I=L+(k<<20&4294967295|k>>>12),k=R+(L^j&(I^L))+N[13]+2850285829&4294967295,R=I+(k<<5&4294967295|k>>>27),k=j+(I^L&(R^I))+N[2]+4243563512&4294967295,j=R+(k<<9&4294967295|k>>>23),k=L+(R^I&(j^R))+N[7]+1735328473&4294967295,L=j+(k<<14&4294967295|k>>>18),k=I+(j^R&(L^j))+N[12]+2368359562&4294967295,I=L+(k<<20&4294967295|k>>>12),k=R+(I^L^j)+N[5]+4294588738&4294967295,R=I+(k<<4&4294967295|k>>>28),k=j+(R^I^L)+N[8]+2272392833&4294967295,j=R+(k<<11&4294967295|k>>>21),k=L+(j^R^I)+N[11]+1839030562&4294967295,L=j+(k<<16&4294967295|k>>>16),k=I+(L^j^R)+N[14]+4259657740&4294967295,I=L+(k<<23&4294967295|k>>>9),k=R+(I^L^j)+N[1]+2763975236&4294967295,R=I+(k<<4&4294967295|k>>>28),k=j+(R^I^L)+N[4]+1272893353&4294967295,j=R+(k<<11&4294967295|k>>>21),k=L+(j^R^I)+N[7]+4139469664&4294967295,L=j+(k<<16&4294967295|k>>>16),k=I+(L^j^R)+N[10]+3200236656&4294967295,I=L+(k<<23&4294967295|k>>>9),k=R+(I^L^j)+N[13]+681279174&4294967295,R=I+(k<<4&4294967295|k>>>28),k=j+(R^I^L)+N[0]+3936430074&4294967295,j=R+(k<<11&4294967295|k>>>21),k=L+(j^R^I)+N[3]+3572445317&4294967295,L=j+(k<<16&4294967295|k>>>16),k=I+(L^j^R)+N[6]+76029189&4294967295,I=L+(k<<23&4294967295|k>>>9),k=R+(I^L^j)+N[9]+3654602809&4294967295,R=I+(k<<4&4294967295|k>>>28),k=j+(R^I^L)+N[12]+3873151461&4294967295,j=R+(k<<11&4294967295|k>>>21),k=L+(j^R^I)+N[15]+530742520&4294967295,L=j+(k<<16&4294967295|k>>>16),k=I+(L^j^R)+N[2]+3299628645&4294967295,I=L+(k<<23&4294967295|k>>>9),k=R+(L^(I|~j))+N[0]+4096336452&4294967295,R=I+(k<<6&4294967295|k>>>26),k=j+(I^(R|~L))+N[7]+1126891415&4294967295,j=R+(k<<10&4294967295|k>>>22),k=L+(R^(j|~I))+N[14]+2878612391&4294967295,L=j+(k<<15&4294967295|k>>>17),k=I+(j^(L|~R))+N[5]+4237533241&4294967295,I=L+(k<<21&4294967295|k>>>11),k=R+(L^(I|~j))+N[12]+1700485571&4294967295,R=I+(k<<6&4294967295|k>>>26),k=j+(I^(R|~L))+N[3]+2399980690&4294967295,j=R+(k<<10&4294967295|k>>>22),k=L+(R^(j|~I))+N[10]+4293915773&4294967295,L=j+(k<<15&4294967295|k>>>17),k=I+(j^(L|~R))+N[1]+2240044497&4294967295,I=L+(k<<21&4294967295|k>>>11),k=R+(L^(I|~j))+N[8]+1873313359&4294967295,R=I+(k<<6&4294967295|k>>>26),k=j+(I^(R|~L))+N[15]+4264355552&4294967295,j=R+(k<<10&4294967295|k>>>22),k=L+(R^(j|~I))+N[6]+2734768916&4294967295,L=j+(k<<15&4294967295|k>>>17),k=I+(j^(L|~R))+N[13]+1309151649&4294967295,I=L+(k<<21&4294967295|k>>>11),k=R+(L^(I|~j))+N[4]+4149444226&4294967295,R=I+(k<<6&4294967295|k>>>26),k=j+(I^(R|~L))+N[11]+3174756917&4294967295,j=R+(k<<10&4294967295|k>>>22),k=L+(R^(j|~I))+N[2]+718787259&4294967295,L=j+(k<<15&4294967295|k>>>17),k=I+(j^(L|~R))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+j&4294967295}i.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var I=R-this.blockSize,N=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=I;)r(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(N[L++]=D.charCodeAt(j++),L==this.blockSize){r(this,N),L=0;break}}else for(;j<R;)if(N[L++]=D[j++],L==this.blockSize){r(this,N),L=0;break}}this.h=L,this.o+=R},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var I=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=I&255,I/=256;for(this.u(D),D=Array(16),R=I=0;4>R;++R)for(var N=0;32>N;N+=8)D[I++]=this.g[R]>>>N&255;return D};function a(D,R){var I=u;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function l(D,R){this.h=R;for(var I=[],N=!0,L=D.length-1;0<=L;L--){var j=D[L]|0;N&&j==R||(I[L]=j,N=!1)}this.g=I}var u={};function h(D){return-128<=D&&128>D?a(D,function(R){return new l([R|0],0>R?-1:0)}):new l([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return x(d(-D));for(var R=[],I=1,N=0;D>=I;N++)R[N]=D/I|0,I*=4294967296;return new l(R,0)}function g(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return x(g(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(R,8)),N=y,L=0;L<D.length;L+=8){var j=Math.min(8,D.length-L),k=parseInt(D.substring(L,L+j),R);8>j?(j=d(Math.pow(R,j)),N=N.j(j).add(d(k))):(N=N.j(I),N=N.add(d(k)))}return N}var y=h(0),_=h(1),E=h(16777216);n=l.prototype,n.m=function(){if(A(this))return-x(this).m();for(var D=0,R=1,I=0;I<this.g.length;I++){var N=this.i(I);D+=(0<=N?N:4294967296+N)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(A(this))return"-"+x(this).toString(D);for(var R=d(Math.pow(D,6)),I=this,N="";;){var L=$(I,R).g;I=O(I,L.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=L,S(I))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=O(this,D),A(D)?-1:S(D)?0:1};function x(D){for(var R=D.g.length,I=[],N=0;N<R;N++)I[N]=~D.g[N];return new l(I,~D.h).add(_)}n.abs=function(){return A(this)?x(this):this},n.add=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],N=0,L=0;L<=R;L++){var j=N+(this.i(L)&65535)+(D.i(L)&65535),k=(j>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);N=k>>>16,j&=65535,k&=65535,I[L]=k<<16|j}return new l(I,I[I.length-1]&-2147483648?-1:0)};function O(D,R){return D.add(x(R))}n.j=function(D){if(S(this)||S(D))return y;if(A(this))return A(D)?x(this).j(x(D)):x(x(this).j(D));if(A(D))return x(this.j(x(D)));if(0>this.l(E)&&0>D.l(E))return d(this.m()*D.m());for(var R=this.g.length+D.g.length,I=[],N=0;N<2*R;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<D.g.length;L++){var j=this.i(N)>>>16,k=this.i(N)&65535,wt=D.i(L)>>>16,_t=D.i(L)&65535;I[2*N+2*L]+=k*_t,P(I,2*N+2*L),I[2*N+2*L+1]+=j*_t,P(I,2*N+2*L+1),I[2*N+2*L+1]+=k*wt,P(I,2*N+2*L+1),I[2*N+2*L+2]+=j*wt,P(I,2*N+2*L+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new l(I,0)};function P(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function V(D,R){this.g=D,this.h=R}function $(D,R){if(S(R))throw Error("division by zero");if(S(D))return new V(y,y);if(A(D))return R=$(x(D),R),new V(x(R.g),x(R.h));if(A(R))return R=$(D,x(R)),new V(x(R.g),R.h);if(30<D.g.length){if(A(D)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var I=_,N=R;0>=N.l(D);)I=H(I),N=H(N);var L=Y(I,1),j=Y(N,1);for(N=Y(N,2),I=Y(I,2);!S(N);){var k=j.add(N);0>=k.l(D)&&(L=L.add(I),j=k),N=Y(N,1),I=Y(I,1)}return R=O(D,L.j(R)),new V(L,R)}for(L=y;0<=D.l(R);){for(I=Math.max(1,Math.floor(D.m()/R.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=d(I),k=j.j(R);A(k)||0<k.l(D);)I-=N,j=d(I),k=j.j(R);S(j)&&(j=_),L=L.add(j),D=O(D,k)}return new V(L,D)}n.A=function(D){return $(this,D).h},n.and=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)&D.i(N);return new l(I,this.h&D.h)},n.or=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)|D.i(N);return new l(I,this.h|D.h)},n.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)^D.i(N);return new l(I,this.h^D.h)};function H(D){for(var R=D.g.length+1,I=[],N=0;N<R;N++)I[N]=D.i(N)<<1|D.i(N-1)>>>31;return new l(I,D.h)}function Y(D,R){var I=R>>5;R%=32;for(var N=D.g.length-I,L=[],j=0;j<N;j++)L[j]=0<R?D.i(j+I)>>>R|D.i(j+I+1)<<32-R:D.i(j+I);return new l(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,nO=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,ha=l}).apply(typeof l1<"u"?l1:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iO,ih,rO,xp,T_,sO,aO,oO;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,T){return p==Array.prototype||p==Object.prototype||(p[b]=T.value),p};function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var b=0;b<p.length;++b){var T=p[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(p,b){if(b)t:{var T=i;p=p.split(".");for(var M=0;M<p.length-1;M++){var K=p[M];if(!(K in T))break t;T=T[K]}p=p[p.length-1],M=T[p],b=b(M),b!=M&&b!=null&&t(T,p,{configurable:!0,writable:!0,value:b})}}function a(p,b){p instanceof String&&(p+="");var T=0,M=!1,K={next:function(){if(!M&&T<p.length){var et=T++;return{value:b(et,p[et]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}r("Array.prototype.values",function(p){return p||function(){return a(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function d(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function g(p,b,T){return p.call.apply(p.bind,arguments)}function y(p,b,T){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),p.apply(b,K)}}return function(){return p.apply(b,arguments)}}function _(p,b,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,_.apply(null,arguments)}function E(p,b){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function S(p,b){function T(){}T.prototype=b.prototype,p.aa=b.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(M,K,et){for(var pt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)pt[Wt-2]=arguments[Wt];return b.prototype[K].apply(M,pt)}}function A(p){const b=p.length;if(0<b){const T=Array(b);for(let M=0;M<b;M++)T[M]=p[M];return T}return[]}function x(p,b){for(let T=1;T<arguments.length;T++){const M=arguments[T];if(h(M)){const K=p.length||0,et=M.length||0;p.length=K+et;for(let pt=0;pt<et;pt++)p[K+pt]=M[pt]}else p.push(M)}}class O{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(p){return/^[\s\xa0]*$/.test(p)}function V(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var H=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Y(p,b,T){for(const M in p)b.call(T,p[M],M,p)}function D(p,b){for(const T in p)b.call(void 0,p[T],T,p)}function R(p){const b={};for(const T in p)b[T]=p[T];return b}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(p,b){let T,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(T in M)p[T]=M[T];for(let et=0;et<I.length;et++)T=I[et],Object.prototype.hasOwnProperty.call(M,T)&&(p[T]=M[T])}}function L(p){var b=1;p=p.split(":");const T=[];for(;0<b&&p.length;)T.push(p.shift()),b--;return p.length&&T.push(p.join(":")),T}function j(p){u.setTimeout(()=>{throw p},0)}function k(){var p=bt;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class wt{constructor(){this.h=this.g=null}add(b,T){const M=_t.get();M.set(b,T),this.h?this.h.next=M:this.g=M,this.h=M}}var _t=new O(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ft=!1,bt=new wt,F=()=>{const p=u.Promise.resolve(void 0);nt=()=>{p.then(rt)}};var rt=()=>{for(var p;p=k();){try{p.h.call(p.g)}catch(T){j(T)}var b=_t;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}ft=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return p}();function Tt(p,b){if(it.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(H){t:{try{$(b.nodeName);var K=!0;break t}catch{}K=!1}K||(b=null)}}else T=="mouseover"?b=p.fromElement:T=="mouseout"&&(b=p.toElement);this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:yt[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Tt.aa.h.call(this)}}S(Tt,it);var yt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function cn(p,b,T,M,K){this.listener=p,this.proxy=null,this.src=b,this.type=T,this.capture=!!M,this.ha=K,this.key=++Ut,this.da=this.fa=!1}function Dn(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Je(p){this.src=p,this.g={},this.h=0}Je.prototype.add=function(p,b,T,M,K){var et=p.toString();p=this.g[et],p||(p=this.g[et]=[],this.h++);var pt=Yn(p,b,M,K);return-1<pt?(b=p[pt],T||(b.fa=!1)):(b=new cn(b,this.src,et,!!M,K),b.fa=T,p.push(b)),b};function si(p,b){var T=b.type;if(T in p.g){var M=p.g[T],K=Array.prototype.indexOf.call(M,b,void 0),et;(et=0<=K)&&Array.prototype.splice.call(M,K,1),et&&(Dn(b),p.g[T].length==0&&(delete p.g[T],p.h--))}}function Yn(p,b,T,M){for(var K=0;K<p.length;++K){var et=p[K];if(!et.da&&et.listener==b&&et.capture==!!T&&et.ha==M)return K}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),zt={};function Ve(p,b,T,M,K){if(Array.isArray(b)){for(var et=0;et<b.length;et++)Ve(p,b[et],T,M,K);return null}return T=Ra(T),p&&p[me]?p.K(b,T,d(M)?!!M.capture:!1,K):un(p,b,T,!1,M,K)}function un(p,b,T,M,K,et){if(!b)throw Error("Invalid event type");var pt=d(K)?!!K.capture:!!K,Wt=Ar(p);if(Wt||(p[xi]=Wt=new Je(p)),T=Wt.add(b,T,M,pt,et),T.proxy)return T;if(M=zc(),T.proxy=M,M.src=p,M.listener=T,p.addEventListener)dt||(K=pt),K===void 0&&(K=!1),p.addEventListener(b.toString(),M,K);else if(p.attachEvent)p.attachEvent(ai(b.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function zc(){function p(T){return b.call(p.src,p.listener,T)}const b=qo;return p}function xa(p,b,T,M,K){if(Array.isArray(b))for(var et=0;et<b.length;et++)xa(p,b[et],T,M,K);else M=d(M)?!!M.capture:!!M,T=Ra(T),p&&p[me]?(p=p.i,b=String(b).toString(),b in p.g&&(et=p.g[b],T=Yn(et,T,M,K),-1<T&&(Dn(et[T]),Array.prototype.splice.call(et,T,1),et.length==0&&(delete p.g[b],p.h--)))):p&&(p=Ar(p))&&(b=p.g[b.toString()],p=-1,b&&(p=Yn(b,T,M,K)),(T=-1<p?b[p]:null)&&zn(T))}function zn(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[me])si(b.i,p);else{var T=p.type,M=p.proxy;b.removeEventListener?b.removeEventListener(T,M,p.capture):b.detachEvent?b.detachEvent(ai(T),M):b.addListener&&b.removeListener&&b.removeListener(M),(T=Ar(b))?(si(T,p),T.h==0&&(T.src=null,b[xi]=null)):Dn(p)}}}function ai(p){return p in zt?zt[p]:zt[p]="on"+p}function qo(p,b){if(p.da)p=!0;else{b=new Tt(b,this);var T=p.listener,M=p.ha||p.src;p.fa&&zn(p),p=T.call(M,b)}return p}function Ar(p){return p=p[xi],p instanceof Je?p:null}var xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ra(p){return typeof p=="function"?p:(p[xr]||(p[xr]=function(b){return p.handleEvent(b)}),p[xr])}function ye(){ht.call(this),this.i=new Je(this),this.M=this,this.F=null}S(ye,ht),ye.prototype[me]=!0,ye.prototype.removeEventListener=function(p,b,T,M){xa(this,p,b,T,M)};function Qt(p,b){var T,M=p.F;if(M)for(T=[];M;M=M.F)T.push(M);if(p=p.M,M=b.type||b,typeof b=="string")b=new it(b,p);else if(b instanceof it)b.target=b.target||p;else{var K=b;b=new it(M,p),N(b,K)}if(K=!0,T)for(var et=T.length-1;0<=et;et--){var pt=b.g=T[et];K=_n(pt,M,!0,b)&&K}if(pt=b.g=p,K=_n(pt,M,!0,b)&&K,K=_n(pt,M,!1,b)&&K,T)for(et=0;et<T.length;et++)pt=b.g=T[et],K=_n(pt,M,!1,b)&&K}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var T=p.g[b],M=0;M<T.length;M++)Dn(T[M]);delete p.g[b],p.h--}}this.F=null},ye.prototype.K=function(p,b,T,M){return this.i.add(String(p),b,!1,T,M)},ye.prototype.L=function(p,b,T,M){return this.i.add(String(p),b,!0,T,M)};function _n(p,b,T,M){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var K=!0,et=0;et<b.length;++et){var pt=b[et];if(pt&&!pt.da&&pt.capture==T){var Wt=pt.listener,We=pt.ha||pt.src;pt.fa&&si(p.i,pt),K=Wt.call(We,M)!==!1&&K}}return K&&!M.defaultPrevented}function bn(p,b,T){if(typeof p=="function")T&&(p=_(p,T));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(p,b||0)}function Sf(p){p.g=bn(()=>{p.g=null,p.i&&(p.i=!1,Sf(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class pm extends ht{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Sf(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ca(p){ht.call(this),this.h=p,this.g={}}S(Ca,ht);var Oa=[];function Ia(p){Y(p.g,function(b,T){this.g.hasOwnProperty(T)&&zn(b)},p),p.g={}}Ca.prototype.N=function(){Ca.aa.N.call(this),Ia(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=u.JSON.stringify,Go=u.JSON.parse,Ma=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function Bc(){}Bc.prototype.h=null;function jc(p){return p.h||(p.h=p.i())}function Fc(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){it.call(this,"d")}S(Cr,it);function Hc(){it.call(this,"c")}S(Hc,it);var $i={},$c=null;function ws(){return $c=$c||new ye}$i.La="serverreachability";function Wo(p){it.call(this,$i.La,p)}S(Wo,it);function As(p){const b=ws();Qt(b,new Wo(b))}$i.STAT_EVENT="statevent";function wf(p,b){it.call(this,$i.STAT_EVENT,p),this.stat=b}S(wf,it);function Ee(p){const b=ws();Qt(b,new wf(b,p))}$i.Ma="timingevent";function Ge(p,b){it.call(this,$i.Ma,p),this.size=b}S(Ge,it);function Ue(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},b)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function qc(p,b,T,M,K,et){p.info(function(){if(p.g)if(et)for(var pt="",Wt=et.split("&"),We=0;We<Wt.length;We++){var Yt=Wt[We].split("=");if(1<Yt.length){var en=Yt[0];Yt=Yt[1];var Ye=en.split("_");pt=2<=Ye.length&&Ye[1]=="type"?pt+(en+"="+Yt+"&"):pt+(en+"=redacted&")}}else pt=null;else pt=et;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+b+`
`+T+`
`+pt})}function gm(p,b,T,M,K,et,pt){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+b+`
`+T+`
`+et+" "+pt})}function xs(p,b,T,M){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+Da(p,T)+(M?" "+M:"")})}function Af(p,b){p.info(function(){return"TIMEOUT: "+b})}oi.prototype.info=function(){};function Da(p,b){if(!p.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var M=T[p];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var et=K[0];if(et!="noop"&&et!="stop"&&et!="close")for(var pt=1;pt<K.length;pt++)K[pt]=""}}}}return Ri(T)}catch{return b}}var Rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qi;function Gi(){}S(Gi,Bc),Gi.prototype.g=function(){return new XMLHttpRequest},Gi.prototype.i=function(){return{}},qi=new Gi;function Nn(p,b,T,M){this.j=p,this.i=b,this.l=T,this.R=M||1,this.U=new Ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var Gc={},Yo={};function Ci(p,b,T){p.L=1,p.v=Va(Kn(b)),p.m=T,p.P=!0,Ir(p,null)}function Ir(p,b){p.F=Date.now(),Na(p),p.A=Kn(p.v);var T=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),Zc(T.i,"t",M),p.C=0,T=p.j.J,p.h=new Me,p.g=jf(p.j,T?b:null,!p.m),0<p.O&&(p.M=new pm(_(p.Y,p,p.g),p.O)),b=p.U,T=p.g,M=p.ca;var K="readystatechange";Array.isArray(K)||(K&&(Oa[0]=K.toString()),K=Oa);for(var et=0;et<K.length;et++){var pt=Ve(T,K[et],M||b.handleEvent,!1,b.h||b);if(!pt)break;b.g[pt.key]=pt}b=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),As(),qc(p.i,p.u,p.A,p.l,p.R,p.m)}Nn.prototype.ca=function(p){p=p.target;const b=this.M;b&&hi(p)==3?b.j():this.Y(p)},Nn.prototype.Y=function(p){try{if(p==this.g)t:{const Ye=hi(this.g);var b=this.g.Ba();const Ur=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Nf(this.g)))){this.J||Ye!=4||b==7||(b==8||0>=Ur?As(3):As(2)),Cs(this);var T=this.g.Z();this.X=T;e:if(xf(this)){var M=Nf(this.g);p="";var K=M.length,et=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Wi(this);var pt="";break e}this.h.i=new u.TextDecoder}for(b=0;b<K;b++)this.h.h=!0,p+=this.h.i.decode(M[b],{stream:!(et&&b==K-1)});M.length=0,this.h.g+=p,this.C=0,pt=this.h.g}else pt=this.g.oa();if(this.o=T==200,gm(this.i,this.u,this.A,this.l,this.R,Ye,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Wt,We=this.g;if((Wt=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Wt)){var Yt=Wt;break e}}Yt=null}if(T=Yt)xs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,T);else{this.o=!1,this.s=3,Ee(12),hn(this),Wi(this);break t}}if(this.P){T=!0;let fn;for(;!this.J&&this.C<pt.length;)if(fn=Rf(this,pt),fn==Yo){Ye==4&&(this.s=4,Ee(14),T=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Gc){this.s=4,Ee(15),xs(this.i,this.l,pt,"[Invalid Chunk]"),T=!1;break}else xs(this.i,this.l,fn,null),Pa(this,fn);if(xf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||pt.length!=0||this.h.h||(this.s=1,Ee(16),T=!1),this.o=this.o&&T,!T)xs(this.i,this.l,pt,"[Invalid Chunked Response]"),hn(this),Wi(this);else if(0<pt.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+pt.length),qa(en),en.M=!0,Ee(11))}}else xs(this.i,this.l,pt,null),Pa(this,pt);Ye==4&&hn(this),this.o&&!this.J&&(Ye==4?Uf(this.j,this):(this.o=!1,Na(this)))}else bm(this.g),T==400&&0<pt.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),hn(this),Wi(this)}}}catch{}finally{}};function xf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Rf(p,b){var T=p.C,M=b.indexOf(`
`,T);return M==-1?Yo:(T=Number(b.substring(T,M)),isNaN(T)?Gc:(M+=1,M+T>b.length?Yo:(b=b.slice(M,M+T),p.C=M+T,b)))}Nn.prototype.cancel=function(){this.J=!0,hn(this)};function Na(p){p.S=Date.now()+p.I,Cf(p,p.I)}function Cf(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ue(_(p.ba,p),b)}function Cs(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Nn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Af(this.i,this.A),this.L!=2&&(As(),Ee(17)),hn(this),this.s=2,Wi(this)):Cf(this,this.S-p)};function Wi(p){p.j.G==0||p.J||Uf(p.j,p)}function hn(p){Cs(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,Ia(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function Pa(p,b){try{var T=p.j;if(T.G!=0&&(T.g==p||Wc(T.h,p))){if(!p.K&&Wc(T.h,p)&&T.G==3){try{var M=T.Da.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)al(T),rl(T);else break t;iu(T),Ee(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ue(_(T.Za,T),6e3));if(1>=Xo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Vr(T,11)}else if((p.K||T.g==p)&&al(T),!P(b))for(K=T.Da.g.parse(b),b=0;b<K.length;b++){let Yt=K[b];if(T.T=Yt[0],Yt=Yt[1],T.G==2)if(Yt[0]=="c"){T.K=Yt[1],T.ia=Yt[2];const en=Yt[3];en!=null&&(T.la=en,T.j.info("VER="+T.la));const Ye=Yt[4];Ye!=null&&(T.Aa=Ye,T.j.info("SVER="+T.Aa));const Ur=Yt[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(M=1.5*Ur,T.L=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const fn=p.g;if(fn){const tr=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tr){var et=M.h;et.g||tr.indexOf("spdy")==-1&&tr.indexOf("quic")==-1&&tr.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Qo(et,et.h),et.h=null))}if(M.D){const su=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;su&&(M.ya=su,ae(M.I,M.D,su))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),M=T;var pt=p;if(M.qa=Bf(M,M.J?M.ia:null,M.W),pt.K){Pn(M.h,pt);var Wt=pt,We=M.L;We&&(Wt.I=We),Wt.B&&(Cs(Wt),Na(Wt)),M.g=pt}else Lf(M);0<T.i.length&&sl(T)}else Yt[0]!="stop"&&Yt[0]!="close"||Vr(T,7);else T.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Vr(T,7):eu(T):Yt[0]!="noop"&&T.l&&T.l.ta(Yt),T.v=0)}}As(4)}catch{}}var Of=class{constructor(p,b){this.g=p,this.map=b}};function Mr(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ko(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Xo(p){return p.h?1:p.g?p.g.size:0}function Wc(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function Qo(p,b){p.g?p.g.add(b):p.h=b}function Pn(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}Mr.prototype.cancel=function(){if(this.i=Yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Yc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const T of p.g.values())b=b.concat(T.D);return b}return A(p.i)}function mm(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var b=[],T=p.length,M=0;M<T;M++)b.push(p[M]);return b}b=[],T=0;for(M in p)b[T++]=p[M];return b}function Zo(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var b=[];p=p.length;for(var T=0;T<p;T++)b.push(T);return b}b=[],T=0;for(const M in p)b[T++]=M;return b}}}function Kc(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var T=Zo(p),M=mm(p),K=M.length,et=0;et<K;et++)b.call(void 0,M[et],T&&T[et],p)}var ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ym(p,b){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var M=p[T].indexOf("="),K=null;if(0<=M){var et=p[T].substring(0,M);K=p[T].substring(M+1)}else et=p[T];b(et,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ze(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ze){this.h=p.h,La(this,p.j),this.o=p.o,this.g=p.g,Os(this,p.s),this.l=p.l;var b=p.i,T=new Nr;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),Dr(this,T),this.m=p.m}else p&&(b=String(p).match(ka))?(this.h=!1,La(this,b[1]||"",!0),this.o=li(b[2]||""),this.g=li(b[3]||"",!0),Os(this,b[4]),this.l=li(b[5]||"",!0),Dr(this,b[6]||"",!0),this.m=li(b[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}ze.prototype.toString=function(){var p=[],b=this.j;b&&p.push(Ua(b,Xc,!0),":");var T=this.g;return(T||b=="file")&&(p.push("//"),(b=this.o)&&p.push(Ua(b,Xc,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Ua(T,T.charAt(0)=="/"?vm:Qc,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Ua(T,Jo)),p.join("")};function Kn(p){return new ze(p)}function La(p,b,T){p.j=T?li(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function Os(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function Dr(p,b,T){b instanceof Nr?(p.i=b,Mf(p.i,p.h)):(T||(b=Ua(b,_m)),p.i=new Nr(b,p.h))}function ae(p,b,T){p.i.set(b,T)}function Va(p){return ae(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function li(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ua(p,b,T){return typeof p=="string"?(p=encodeURI(p).replace(b,If),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function If(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Xc=/[#\/\?@]/g,Qc=/[#\?:]/g,vm=/[#\?]/g,_m=/[#\?@]/g,Jo=/#/g;function Nr(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function ci(p){p.g||(p.g=new Map,p.h=0,p.i&&ym(p.i,function(b,T){p.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=Nr.prototype,n.add=function(p,b){ci(this),this.i=null,p=Yi(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(b),this.h+=1,this};function Pr(p,b){ci(p),b=Yi(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function kr(p,b){return ci(p),b=Yi(p,b),p.g.has(b)}n.forEach=function(p,b){ci(this),this.g.forEach(function(T,M){T.forEach(function(K){p.call(b,K,M,this)},this)},this)},n.na=function(){ci(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let M=0;M<b.length;M++){const K=p[M];for(let et=0;et<K.length;et++)T.push(b[M])}return T},n.V=function(p){ci(this);let b=[];if(typeof p=="string")kr(this,p)&&(b=b.concat(this.g.get(Yi(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)b=b.concat(p[T])}return b},n.set=function(p,b){return ci(this),this.i=null,p=Yi(this,p),kr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},n.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function Zc(p,b,T){Pr(p,b),0<T.length&&(p.i=null,p.g.set(Yi(p,b),A(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var M=b[T];const et=encodeURIComponent(String(M)),pt=this.V(M);for(M=0;M<pt.length;M++){var K=et;pt[M]!==""&&(K+="="+encodeURIComponent(String(pt[M]))),p.push(K)}}return this.i=p.join("&")};function Yi(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function Mf(p,b){b&&!p.j&&(ci(p),p.i=null,p.g.forEach(function(T,M){var K=M.toLowerCase();M!=K&&(Pr(this,M),Zc(this,K,T))},p)),p.j=b}function za(p,b){const T=new oi;if(u.Image){const M=new Image;M.onload=E(ui,T,"TestLoadImage: loaded",!0,b,M),M.onerror=E(ui,T,"TestLoadImage: error",!1,b,M),M.onabort=E(ui,T,"TestLoadImage: abort",!1,b,M),M.ontimeout=E(ui,T,"TestLoadImage: timeout",!1,b,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else b(!1)}function Oi(p,b){const T=new oi,M=new AbortController,K=setTimeout(()=>{M.abort(),ui(T,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:M.signal}).then(et=>{clearTimeout(K),et.ok?ui(T,"TestPingServer: ok",!0,b):ui(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),ui(T,"TestPingServer: error",!1,b)})}function ui(p,b,T,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(T)}catch{}}function Ba(){this.g=new Ma}function Ki(p,b,T){const M=T||"";try{Kc(p,function(K,et){let pt=K;d(K)&&(pt=Ri(K)),b.push(M+et+"="+encodeURIComponent(pt))})}catch(K){throw b.push(M+"type="+encodeURIComponent("_badmap")),K}}function Is(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Is,Bc),Is.prototype.g=function(){return new Lr(this.l,this.j)},Is.prototype.i=function(p){return function(){return p}}({});function Lr(p,b){ye.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Lr,ye),n=Lr.prototype,n.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Qi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Xi(this):Qi(this),this.readyState==3&&Jc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Xi(this))},n.Qa=function(p){this.g&&(this.response=p,Xi(this))},n.ga=function(){this.g&&Xi(this)};function Xi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Qi(p)}n.setRequestHeader=function(p,b){this.u.append(p,b)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=b.next();return p.join(`\r
`)};function Qi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function tu(p){let b="";return Y(p,function(T,M){b+=M,b+=":",b+=T,b+=`\r
`}),b}function tn(p,b,T){t:{for(M in T){var M=!1;break t}M=!0}M||(T=tu(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):ae(p,b,T))}function ee(p){ye.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ee,ye);var tl=/^https?$/i,ja=["POST","PUT"];n=ee.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,b,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qi.g(),this.v=this.o?jc(this.o):jc(qi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(et){Df(this,et);return}if(p=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)T.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const et of M.keys())T.set(et,M.get(et));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(et=>et.toLowerCase()=="content-type"),K=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ja,b,void 0))||M||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,pt]of T)this.g.setRequestHeader(et,pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(p),this.u=!1}catch(et){Df(this,et)}};function Df(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,el(p),Zi(p)}function el(p){p.A||(p.A=!0,Qt(p,"complete"),Qt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Qt(this,"complete"),Qt(this,"abort"),Zi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),ee.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nl(this):this.bb())},n.bb=function(){nl(this)};function nl(p){if(p.h&&typeof l<"u"&&(!p.v[1]||hi(p)!=4||p.Z()!=2)){if(p.u&&hi(p)==4)bn(p.Ea,0,p);else if(Qt(p,"readystatechange"),hi(p)==4){p.h=!1;try{const pt=p.Z();t:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var T;if(!(T=b)){var M;if(M=pt===0){var K=String(p.D).match(ka)[1]||null;!K&&u.self&&u.self.location&&(K=u.self.location.protocol.slice(0,-1)),M=!tl.test(K?K.toLowerCase():"")}T=M}if(T)Qt(p,"complete"),Qt(p,"success");else{p.m=6;try{var et=2<hi(p)?p.g.statusText:""}catch{et=""}p.l=et+" ["+p.Z()+"]",el(p)}}finally{Zi(p)}}}}function Zi(p,b){if(p.g){Fa(p);const T=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||Qt(p,"ready");try{T.onreadystatechange=M}catch{}}}function Fa(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function hi(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),Go(b)}};function Nf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function bm(p){const b={};p=(p.g&&2<=hi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(P(p[M]))continue;var T=L(p[M]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const et=b[K]||[];b[K]=et,et.push(T)}D(b,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(p,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||b}function il(p){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,p),this.cb=Ha("retryDelaySeedMs",1e4,p),this.Wa=Ha("forwardChannelMaxRetries",2,p),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(p&&p.concurrentRequestLimit),this.Da=new Ba,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=il.prototype,n.la=8,n.G=1,n.connect=function(p,b,T,M){Ee(0),this.W=p,this.H=b||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.I=Bf(this,null,this.W),sl(this)};function eu(p){if(Pf(p),p.G==3){var b=p.U++,T=Kn(p.I);if(ae(T,"SID",p.K),ae(T,"RID",b),ae(T,"TYPE","terminate"),$a(p,T),b=new Nn(p,p.j,b),b.L=2,b.v=Va(Kn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.v,T=!0),T||(b.g=jf(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Na(b)}zf(p)}function rl(p){p.g&&(qa(p),p.g.cancel(),p.g=null)}function Pf(p){rl(p),p.u&&(u.clearTimeout(p.u),p.u=null),al(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function sl(p){if(!Ko(p.h)&&!p.s){p.s=!0;var b=p.Ga;nt||F(),ft||(nt(),ft=!0),bt.add(b,p),p.B=0}}function Em(p,b){return Xo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ue(_(p.Ga,p,b),ru(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const K=new Nn(this,this.j,p);let et=this.o;if(this.S&&(et?(et=R(et),N(et,this.S)):et=this.S),this.m!==null||this.O||(K.H=et,et=null),this.P)t:{for(var b=0,T=0;T<this.i.length;T++){e:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(b+=M,4096<b){b=T;break t}if(b===4096||T===this.i.length-1){b=T+1;break t}}b=1e3}else b=1e3;b=kf(this,K,b),T=Kn(this.I),ae(T,"RID",p),ae(T,"CVER",22),this.D&&ae(T,"X-HTTP-Session-Id",this.D),$a(this,T),et&&(this.O?b="headers="+encodeURIComponent(String(tu(et)))+"&"+b:this.m&&tn(T,this.m,et)),Qo(this.h,K),this.Ua&&ae(T,"TYPE","init"),this.P?(ae(T,"$req",b),ae(T,"SID","null"),K.T=!0,Ci(K,T,null)):Ci(K,T,b),this.G=2}}else this.G==3&&(p?nu(this,p):this.i.length==0||Ko(this.h)||nu(this))};function nu(p,b){var T;b?T=b.l:T=p.U++;const M=Kn(p.I);ae(M,"SID",p.K),ae(M,"RID",T),ae(M,"AID",p.T),$a(p,M),p.m&&p.o&&tn(M,p.m,p.o),T=new Nn(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),b&&(p.i=b.D.concat(p.i)),b=kf(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Qo(p.h,T),Ci(T,M,b)}function $a(p,b){p.H&&Y(p.H,function(T,M){ae(b,M,T)}),p.l&&Kc({},function(T,M){ae(b,M,T)})}function kf(p,b,T){T=Math.min(p.i.length,T);var M=p.l?_(p.l.Na,p.l,p):null;t:{var K=p.i;let et=-1;for(;;){const pt=["count="+T];et==-1?0<T?(et=K[0].g,pt.push("ofs="+et)):et=0:pt.push("ofs="+et);let Wt=!0;for(let We=0;We<T;We++){let Yt=K[We].g;const en=K[We].map;if(Yt-=et,0>Yt)et=Math.max(0,K[We].g-100),Wt=!1;else try{Ki(en,pt,"req"+Yt+"_")}catch{M&&M(en)}}if(Wt){M=pt.join("&");break t}}}return p=p.i.splice(0,T),b.D=p,M}function Lf(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;nt||F(),ft||(nt(),ft=!0),bt.add(b,p),p.v=0}}function iu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ue(_(p.Fa,p),ru(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Vf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ue(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),rl(this),Vf(this))};function qa(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Vf(p){p.g=new Nn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=Kn(p.qa);ae(b,"RID","rpc"),ae(b,"SID",p.K),ae(b,"AID",p.T),ae(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&ae(b,"TO",p.ja),ae(b,"TYPE","xmlhttp"),$a(p,b),p.m&&p.o&&tn(b,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=Va(Kn(b)),T.m=null,T.P=!0,Ir(T,p)}n.Za=function(){this.C!=null&&(this.C=null,rl(this),iu(this),Ee(19))};function al(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Uf(p,b){var T=null;if(p.g==b){al(p),qa(p),p.g=null;var M=2}else if(Wc(p.h,b))T=b.D,Pn(p.h,b),M=1;else return;if(p.G!=0){if(b.o)if(M==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var K=p.B;M=ws(),Qt(M,new Ge(M,T)),sl(p)}else Lf(p);else if(K=b.s,K==3||K==0&&0<b.X||!(M==1&&Em(p,b)||M==2&&iu(p)))switch(T&&0<T.length&&(b=p.h,b.i=b.i.concat(T)),K){case 1:Vr(p,5);break;case 4:Vr(p,10);break;case 3:Vr(p,6);break;default:Vr(p,2)}}}function ru(p,b){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*b}function Vr(p,b){if(p.j.info("Error code "+b),b==2){var T=_(p.fb,p),M=p.Xa;const K=!M;M=new ze(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||La(M,"https"),Va(M),K?za(M.toString(),T):Oi(M.toString(),T)}else Ee(2);p.G=0,p.l&&p.l.sa(b),zf(p),Pf(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function zf(p){if(p.G=0,p.ka=[],p.l){const b=Yc(p.h);(b.length!=0||p.i.length!=0)&&(x(p.ka,b),x(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function Bf(p,b,T){var M=T instanceof ze?Kn(T):new ze(T);if(M.g!="")b&&(M.g=b+"."+M.g),Os(M,M.s);else{var K=u.location;M=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;var et=new ze(null);M&&La(et,M),b&&(et.g=b),K&&Os(et,K),T&&(et.l=T),M=et}return T=p.D,b=p.ya,T&&b&&ae(M,T,b),ae(M,"VER",p.la),$a(p,M),M}function jf(p,b,T){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new ee(new Is({eb:T})):new ee(p.pa),b.Ha(p.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ff(){}n=Ff.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ol(){}ol.prototype.g=function(p,b){return new kn(p,b)};function kn(p,b){ye.call(this),this.g=new il(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!P(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new Ji(this)}S(kn,ye),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){eu(this.g)},kn.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Ri(p),p=T);b.i.push(new Of(b.Ya++,p)),b.G==3&&sl(b)},kn.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,kn.aa.N.call(this)};function Hf(p){Cr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){t:{for(const T in b){p=T;break t}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}S(Hf,Cr);function $f(){Hc.call(this),this.status=1}S($f,Hc);function Ji(p){this.g=p}S(Ji,Ff),Ji.prototype.ua=function(){Qt(this.g,"a")},Ji.prototype.ta=function(p){Qt(this.g,new Hf(p))},Ji.prototype.sa=function(p){Qt(this.g,new $f)},Ji.prototype.ra=function(){Qt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,oO=function(){return new ol},aO=function(){return ws()},sO=$i,T_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,xp=Rs,Or.COMPLETE="complete",rO=Or,Fc.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",ye.prototype.listen=ye.prototype.K,ih=Fc,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,iO=ee}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const c1="@firebase/firestore",u1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new vb("@firebase/firestore");function jl(){return Io.logLevel}function vt(n,...t){if(Io.logLevel<=Ht.DEBUG){const e=t.map(Ob);Io.debug(`Firestore (${Sc}): ${n}`,...e)}}function ms(n,...t){if(Io.logLevel<=Ht.ERROR){const e=t.map(Ob);Io.error(`Firestore (${Sc}): ${n}`,...e)}}function rc(n,...t){if(Io.logLevel<=Ht.WARN){const e=t.map(Ob);Io.warn(`Firestore (${Sc}): ${n}`,...e)}}function Ob(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,lO(n,i,e)}function lO(n,t,e){let i=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ms(i),new Error(i)}function ne(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||lO(t,r,i)}function Nt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends _s{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(An.UNAUTHENTICATED))}shutdown(){}}class t3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class e3{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ne(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let a=new us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new us,t.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new us)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ne(typeof i.accessToken=="string",31837,{l:i}),new cO(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class n3{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i3{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new n3(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r3{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ne(this.o===void 0,3512);const i=a=>{a.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new h1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ne(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new h1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=s3(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%62))}return i}}function $t(n,t){return n<t?-1:n>t?1:0}function S_(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),a=t.charAt(i);if(r!==a)return Mv(r)===Mv(a)?$t(r,a):Mv(r)?1:-1}return $t(n.length,t.length)}const a3=55296,o3=57343;function Mv(n){const t=n.charCodeAt(0);return t>=a3&&t<=o3}function sc(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="__name__";class ur{constructor(t,e,i){e===void 0?e=0:e>t.length&&Ot(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Ot(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ur.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ur?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=ur.compareSegments(t.get(r),e.get(r));if(a!==0)return a}return $t(t.length,e.length)}static compareSegments(t,e){const i=ur.isNumericId(t),r=ur.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?ur.extractNumericId(t).compare(ur.extractNumericId(e)):S_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ha.fromString(t.substring(4,t.length-2))}}class ge extends ur{construct(t,e,i){return new ge(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(ot.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ge(e)}static emptyPath(){return new ge([])}}const l3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ur{construct(t,e,i){return new yn(t,e,i)}static isValidIdentifier(t){return l3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f1}static keyField(){return new yn([f1])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(i.length===0)throw new mt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new mt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new mt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new mt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yn(e)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.path=t}static fromPath(t){return new At(ge.fromString(t))}static fromName(t){return new At(ge.fromString(t).popFirst(5))}static empty(){return new At(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ge.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new ge(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(n,t,e){if(!e)throw new mt(ot.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function c3(n,t,e,i){if(t===!0&&i===!0)throw new mt(ot.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function d1(n){if(!At.isDocumentKey(n))throw new mt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p1(n){if(At.isDocumentKey(n))throw new mt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hO(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Dg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ot(12329,{type:typeof n})}function Mo(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Dg(n);throw new mt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,t){const e={typeString:n};return t&&(e.value=t),e}function lf(n,t){if(!hO(n))throw new mt(ot.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${i}' field to equal '${a.value}'`;break}}if(e)throw new mt(ot.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=-62135596800,m1=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*m1);return new _e(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<g1)throw new mt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m1}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lf(t,_e._jsonSchema))return new _e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-g1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:$e("string",_e._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new _e(0,0))}static max(){return new Mt(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=-1;function u3(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(i===1e9?new _e(e+1,0):new _e(e,i));return new pa(r,At.empty(),t)}function h3(n){return new pa(n.readTime,n.key,Ph)}class pa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new pa(Mt.min(),At.empty(),Ph)}static max(){return new pa(Mt.max(),At.empty(),Ph)}}function f3(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=At.comparator(n.documentKey,t.documentKey),e!==0?e:$t(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n){if(n.code!==ot.FAILED_PRECONDITION||n.message!==d3)throw n;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ct((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ct?e:ct.resolve(e)}catch(e){return ct.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ct.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ct.reject(e)}static resolve(t){return new ct((e,i)=>{e(t)})}static reject(t){return new ct((e,i)=>{i(t)})}static waitFor(t){return new ct((e,i)=>{let r=0,a=0,l=!1;t.forEach(u=>{++r,u.next(()=>{++a,l&&a===r&&e()},h=>i(h))}),l=!0,a===r&&e()})}static or(t){let e=ct.resolve(!1);for(const i of t)e=e.next(r=>r?ct.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}static mapArray(t,e){return new ct((i,r)=>{const a=t.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const d=h;e(t[d]).next(g=>{l[d]=g,++u,u===a&&i(l)},g=>r(g))}})}static doWhile(t,e){return new ct((i,r)=>{const a=()=>{t()===!0?e().next(()=>{a()},r):i()};a()})}}function g3(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ac(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ng.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=-1;function Pg(n){return n==null}function Qp(n){return n===0&&1/n==-1/0}function m3(n){return typeof n=="number"&&Number.isInteger(n)&&!Qp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="";function y3(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=y1(t)),t=v3(n.get(e),t);return y1(t)}function v3(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="";break;case fO:e+="";break;default:e+=a}}return e}function y1(n){return n+fO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Uo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function dO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,e){this.comparator=t,this.root=e||mn.EMPTY}insert(t,e){return new Re(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kd(this.root,t,this.comparator,!0)}}class Kd{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=i??mn.RED,this.left=r??mn.EMPTY,this.right=a??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new mn(t??this.key,e??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):a===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return mn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ot(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(t,e,i,r,a){return this}insert(t,e,i){return new mn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _1(this.data.getIterator())}getIteratorFrom(t){return new _1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ze(this.comparator);return e.data=t,e}}class _1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this.fields=t,t.sort(yn.comparator)}static empty(){return new ki([])}unionWith(t){let e=new Ze(yn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ki(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sc(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pO("Invalid base64 string: "+a):a}}(t);return new vn(e)}static fromUint8Array(t){const e=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(t);return new vn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const _3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(n){if(ne(!!n,39018),typeof n=="string"){let t=0;const e=_3.exec(n);if(ne(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ma(n){return typeof n=="string"?vn.fromBase64String(n):vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="server_timestamp",mO="__type__",yO="__previous_value__",vO="__local_write_time__";function Db(n){var e,i;return((i=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[mO])==null?void 0:i.stringValue)===gO}function kg(n){const t=n.mapValue.fields[yO];return Db(t)?kg(t):t}function kh(n){const t=ga(n.mapValue.fields[vO].timestampValue);return new _e(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(t,e,i,r,a,l,u,h,d,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const Zp="(default)";class Lh{constructor(t,e){this.projectId=t,this.database=e||Zp}static empty(){return new Lh("","")}get isDefaultDatabase(){return this.database===Zp}isEqual(t){return t instanceof Lh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="__type__",E3="__max__",Xd={mapValue:{}},bO="__vector__",Jp="value";function ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Db(n)?4:S3(n)?9007199254740991:T3(n)?10:11:Ot(28295,{value:n})}function br(n,t){if(n===t)return!0;const e=ya(n);if(e!==ya(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return kh(n).isEqual(kh(t));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=ga(r.timestampValue),u=ga(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,a){return ma(r.bytesValue).isEqual(ma(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,a){return ke(r.geoPointValue.latitude)===ke(a.geoPointValue.latitude)&&ke(r.geoPointValue.longitude)===ke(a.geoPointValue.longitude)}(n,t);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return ke(r.integerValue)===ke(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=ke(r.doubleValue),u=ke(a.doubleValue);return l===u?Qp(l)===Qp(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return sc(n.arrayValue.values||[],t.arrayValue.values||[],br);case 10:case 11:return function(r,a){const l=r.mapValue.fields||{},u=a.mapValue.fields||{};if(v1(l)!==v1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!br(l[h],u[h])))return!1;return!0}(n,t);default:return Ot(52216,{left:n})}}function Vh(n,t){return(n.values||[]).find(e=>br(e,t))!==void 0}function ac(n,t){if(n===t)return 0;const e=ya(n),i=ya(t);if(e!==i)return $t(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,t.booleanValue);case 2:return function(a,l){const u=ke(a.integerValue||a.doubleValue),h=ke(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return b1(n.timestampValue,t.timestampValue);case 4:return b1(kh(n),kh(t));case 5:return S_(n.stringValue,t.stringValue);case 6:return function(a,l){const u=ma(a),h=ma(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let d=0;d<u.length&&d<h.length;d++){const g=$t(u[d],h[d]);if(g!==0)return g}return $t(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const u=$t(ke(a.latitude),ke(l.latitude));return u!==0?u:$t(ke(a.longitude),ke(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return E1(n.arrayValue,t.arrayValue);case 10:return function(a,l){var _,E,S,A;const u=a.fields||{},h=l.fields||{},d=(_=u[Jp])==null?void 0:_.arrayValue,g=(E=h[Jp])==null?void 0:E.arrayValue,y=$t(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((A=g==null?void 0:g.values)==null?void 0:A.length)||0);return y!==0?y:E1(d,g)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===Xd.mapValue&&l===Xd.mapValue)return 0;if(a===Xd.mapValue)return 1;if(l===Xd.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),d=l.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const _=S_(h[y],g[y]);if(_!==0)return _;const E=ac(u[h[y]],d[g[y]]);if(E!==0)return E}return $t(h.length,g.length)}(n.mapValue,t.mapValue);default:throw Ot(23264,{he:e})}}function b1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return $t(n,t);const e=ga(n),i=ga(t),r=$t(e.seconds,i.seconds);return r!==0?r:$t(e.nanos,i.nanos)}function E1(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const a=ac(e[r],i[r]);if(a)return a}return $t(e.length,i.length)}function oc(n){return w_(n)}function w_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=ga(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ma(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return At.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const a of e.values||[])r?r=!1:i+=",",i+=w_(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${w_(e.fields[l])}`;return r+"}"}(n.mapValue):Ot(61005,{value:n})}function Rp(n){switch(ya(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kg(n);return t?16+Rp(t):16;case 5:return 2*n.stringValue.length;case 6:return ma(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Rp(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Uo(i.fields,(a,l)=>{r+=a.length+Rp(l)}),r}(n.mapValue);default:throw Ot(13486,{value:n})}}function T1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function A_(n){return!!n&&"integerValue"in n}function Nb(n){return!!n&&"arrayValue"in n}function S1(n){return!!n&&"nullValue"in n}function w1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cp(n){return!!n&&"mapValue"in n}function T3(n){var e,i;return((i=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[_O])==null?void 0:i.stringValue)===bO}function yh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Uo(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=yh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yh(n.arrayValue.values[e]);return t}return{...n}}function S3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===E3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t){this.value=t}static empty(){return new Ei({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Cp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yh(e)}setAll(t){let e=yn.emptyPath(),i={},r=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=yh(l):r.push(u.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());Cp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return br(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Cp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Uo(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new Ei(yh(this.value))}}function EO(n){const t=[];return Uo(n.fields,(e,i)=>{const r=new yn([e]);if(Cp(i)){const a=EO(i.mapValue).fields;if(a.length===0)t.push(r);else for(const l of a)t.push(r.child(l))}else t.push(r)}),new ki(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,e,i,r,a,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Rn(t,0,Mt.min(),Mt.min(),Mt.min(),Ei.empty(),0)}static newFoundDocument(t,e,i,r){return new Rn(t,1,e,Mt.min(),i,r,0)}static newNoDocument(t,e){return new Rn(t,2,e,Mt.min(),Mt.min(),Ei.empty(),0)}static newUnknownDocument(t,e){return new Rn(t,3,e,Mt.min(),Mt.min(),Ei.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,e){this.position=t,this.inclusive=e}}function A1(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],l=n.position[r];if(a.field.isKeyField()?i=At.comparator(At.fromName(l.referenceValue),e.key):i=ac(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function x1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!br(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,e="asc"){this.field=t,this.dir=e}}function w3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{}class He extends TO{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new x3(t,e,i):e==="array-contains"?new O3(t,i):e==="in"?new I3(t,i):e==="not-in"?new M3(t,i):e==="array-contains-any"?new D3(t,i):new He(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new R3(t,i):new C3(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ac(e,this.value)):e!==null&&ya(this.value)===ya(e)&&this.matchesComparison(ac(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends TO{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ji(t,e)}matches(t){return SO(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SO(n){return n.op==="and"}function wO(n){return A3(n)&&SO(n)}function A3(n){for(const t of n.filters)if(t instanceof ji)return!1;return!0}function x_(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+oc(n.value);if(wO(n))return n.filters.map(t=>x_(t)).join(",");{const t=n.filters.map(e=>x_(e)).join(",");return`${n.op}(${t})`}}function AO(n,t){return n instanceof He?function(i,r){return r instanceof He&&i.op===r.op&&i.field.isEqual(r.field)&&br(i.value,r.value)}(n,t):n instanceof ji?function(i,r){return r instanceof ji&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,l,u)=>a&&AO(l,r.filters[u]),!0):!1}(n,t):void Ot(19439)}function xO(n){return n instanceof He?function(e){return`${e.field.canonicalString()} ${e.op} ${oc(e.value)}`}(n):n instanceof ji?function(e){return e.op.toString()+" {"+e.getFilters().map(xO).join(" ,")+"}"}(n):"Filter"}class x3 extends He{constructor(t,e,i){super(t,e,i),this.key=At.fromName(i.referenceValue)}matches(t){const e=At.comparator(t.key,this.key);return this.matchesComparison(e)}}class R3 extends He{constructor(t,e){super(t,"in",e),this.keys=RO("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class C3 extends He{constructor(t,e){super(t,"not-in",e),this.keys=RO("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function RO(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map(i=>At.fromName(i.referenceValue))}class O3 extends He{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Nb(e)&&Vh(e.arrayValue,this.value)}}class I3 extends He{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vh(this.value.arrayValue,e)}}class M3 extends He{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vh(this.value.arrayValue,e)}}class D3 extends He{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Nb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Vh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t,e=null,i=[],r=[],a=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function R1(n,t=null,e=[],i=[],r=null,a=null,l=null){return new N3(n,t,e,i,r,a,l)}function Pb(n){const t=Nt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>x_(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Pg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>oc(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>oc(i)).join(",")),t.Te=e}return t.Te}function kb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!w3(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!AO(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!x1(n.startAt,t.startAt)&&x1(n.endAt,t.endAt)}function R_(n){return At.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,e=null,i=[],r=[],a=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P3(n,t,e,i,r,a,l,u){return new cf(n,t,e,i,r,a,l,u)}function Lb(n){return new cf(n)}function C1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CO(n){return n.collectionGroup!==null}function vh(n){const t=Nt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ze(yn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new eg(a,i))}),e.has(yn.keyField().canonicalString())||t.Ie.push(new eg(yn.keyField(),i))}return t.Ie}function pr(n){const t=Nt(n);return t.Ee||(t.Ee=k3(t,vh(n))),t.Ee}function k3(n,t){if(n.limitType==="F")return R1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new eg(r.field,a)});const e=n.endAt?new tg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new tg(n.startAt.position,n.startAt.inclusive):null;return R1(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function C_(n,t){const e=n.filters.concat([t]);return new cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function O_(n,t,e){return new cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Lg(n,t){return kb(pr(n),pr(t))&&n.limitType===t.limitType}function OO(n){return`${Pb(pr(n))}|lt:${n.limitType}`}function Fl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>xO(r)).join(", ")}]`),Pg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>oc(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>oc(r)).join(",")),`Target(${i})`}(pr(n))}; limitType=${n.limitType})`}function Vg(n,t){return t.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):At.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,t)&&function(i,r){for(const a of vh(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(l,u,h){const d=A1(l,u,h);return l.inclusive?d<=0:d<0}(i.startAt,vh(i),r)||i.endAt&&!function(l,u,h){const d=A1(l,u,h);return l.inclusive?d>=0:d>0}(i.endAt,vh(i),r))}(n,t)}function L3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IO(n){return(t,e)=>{let i=!1;for(const r of vh(n)){const a=V3(r,t,e);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function V3(n,t,e){const i=n.field.isKeyField()?At.comparator(t.key,e.key):function(a,l,u){const h=l.data.field(a),d=u.data.field(a);return h!==null&&d!==null?ac(h,d):Ot(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ot(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Uo(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return dO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new Re(At.comparator);function ys(){return U3}const MO=new Re(At.comparator);function rh(...n){let t=MO;for(const e of n)t=t.insert(e.key,e);return t}function DO(n){let t=MO;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function _o(){return _h()}function NO(){return _h()}function _h(){return new zo(n=>n.toString(),(n,t)=>n.isEqual(t))}const z3=new Re(At.comparator),B3=new Ze(At.comparator);function qt(...n){let t=B3;for(const e of n)t=t.add(e);return t}const j3=new Ze($t);function F3(){return j3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qp(t)?"-0":t}}function PO(n){return{integerValue:""+n}}function H3(n,t){return m3(t)?PO(t):Vb(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this._=void 0}}function $3(n,t,e){return n instanceof Uh?function(r,a){const l={fields:{[mO]:{stringValue:gO},[vO]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Db(a)&&(a=kg(a)),a&&(l.fields[yO]=a),{mapValue:l}}(e,t):n instanceof zh?LO(n,t):n instanceof Bh?VO(n,t):function(r,a){const l=kO(r,a),u=O1(l)+O1(r.Ae);return A_(l)&&A_(r.Ae)?PO(u):Vb(r.serializer,u)}(n,t)}function q3(n,t,e){return n instanceof zh?LO(n,t):n instanceof Bh?VO(n,t):e}function kO(n,t){return n instanceof ng?function(i){return A_(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Uh extends Ug{}class zh extends Ug{constructor(t){super(),this.elements=t}}function LO(n,t){const e=UO(t);for(const i of n.elements)e.some(r=>br(r,i))||e.push(i);return{arrayValue:{values:e}}}class Bh extends Ug{constructor(t){super(),this.elements=t}}function VO(n,t){let e=UO(t);for(const i of n.elements)e=e.filter(r=>!br(r,i));return{arrayValue:{values:e}}}class ng extends Ug{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function O1(n){return ke(n.integerValue||n.doubleValue)}function UO(n){return Nb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(t,e){this.field=t,this.transform=e}}function W3(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof zh&&r instanceof zh||i instanceof Bh&&r instanceof Bh?sc(i.elements,r.elements,br):i instanceof ng&&r instanceof ng?br(i.Ae,r.Ae):i instanceof Uh&&r instanceof Uh}(n.transform,t.transform)}class Y3{constructor(t,e){this.version=t,this.transformResults=e}}class hs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hs}static exists(t){return new hs(void 0,t)}static updateTime(t){return new hs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Op(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zg{}function zO(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new jO(n.key,hs.none()):new uf(n.key,n.data,hs.none());{const e=n.data,i=Ei.empty();let r=new Ze(yn.comparator);for(let a of t.fields)if(!r.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new Bo(n.key,i,new ki(r.toArray()),hs.none())}}function K3(n,t,e){n instanceof uf?function(r,a,l){const u=r.value.clone(),h=M1(r.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Bo?function(r,a,l){if(!Op(r.precondition,a))return void a.convertToUnknownDocument(l.version);const u=M1(r.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(BO(r)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function bh(n,t,e,i){return n instanceof uf?function(a,l,u,h){if(!Op(a.precondition,l))return u;const d=a.value.clone(),g=D1(a.fieldTransforms,h,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof Bo?function(a,l,u,h){if(!Op(a.precondition,l))return u;const d=D1(a.fieldTransforms,h,l),g=l.data;return g.setAll(BO(a)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,t,e,i):function(a,l,u){return Op(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function X3(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=kO(i.transform,r||null);a!=null&&(e===null&&(e=Ei.empty()),e.set(i.field,a))}return e||null}function I1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&sc(i,r,(a,l)=>W3(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class uf extends zg{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bo extends zg{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function BO(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function M1(n,t,e){const i=new Map;ne(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const a=n[r],l=a.transform,u=t.data.field(a.field);i.set(a.field,q3(l,u,e[r]))}return i}function D1(n,t,e){const i=new Map;for(const r of n){const a=r.transform,l=e.data.field(r.field);i.set(r.field,$3(a,l,t))}return i}class jO extends zg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q3 extends zg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&K3(a,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=bh(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=bh(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=NO();return this.mutations.forEach(r=>{const a=t.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=e.has(r.key)?null:u;const h=zO(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Mt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),qt())}isEqual(t){return this.batchId===t.batchId&&sc(this.mutations,t.mutations,(e,i)=>I1(e,i))&&sc(this.baseMutations,t.baseMutations,(e,i)=>I1(e,i))}}class Ub{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ne(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return z3}();const a=t.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new Ub(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,Xt;function e6(n){switch(n){case ot.OK:return Ot(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Ot(15467,{code:n})}}function FO(n){if(n===void 0)return ms("GRPC error has no .code"),ot.UNKNOWN;switch(n){case Fe.OK:return ot.OK;case Fe.CANCELLED:return ot.CANCELLED;case Fe.UNKNOWN:return ot.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return ot.INTERNAL;case Fe.UNAVAILABLE:return ot.UNAVAILABLE;case Fe.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Fe.NOT_FOUND:return ot.NOT_FOUND;case Fe.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Fe.ABORTED:return ot.ABORTED;case Fe.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Fe.DATA_LOSS:return ot.DATA_LOSS;default:return Ot(39323,{code:n})}}(Xt=Fe||(Fe={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new ha([4294967295,4294967295],0);function N1(n){const t=n6().encode(n),e=new nO;return e.update(t),new Uint8Array(e.digest())}function P1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ha([e,i],0),new ha([r,a],0)]}class zb{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new sh(`Invalid padding: ${e}`);if(i<0)throw new sh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new sh(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new sh(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ha.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(ha.fromNumber(i)));return r.compare(i6)===1&&(r=new ha([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=N1(t),[i,r]=P1(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,r,a);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new zb(a,r,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.ge===0)return;const e=N1(t),[i,r]=P1(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,r,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,hf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Bg(Mt.min(),r,new Re($t),ys(),qt())}}class hf{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new hf(i,e,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class HO{constructor(t,e){this.targetId=t,this.Ce=e}}class $O{constructor(t,e,i=vn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class k1{constructor(){this.ve=0,this.Fe=L1(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),e=qt(),i=qt();return this.Fe.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ot(38017,{changeType:a})}}),new hf(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=L1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class r6{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=Qd(),this.He=Qd(),this.Ye=new Re($t)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Ot(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,r)=>{this.rt(r)&&e(r)})}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const a=r.target;if(R_(a))if(i===0){const l=new At(a.path);this.et(e,l,Rn.newNoDocument(l,Mt.min()))}else ne(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),h=u?this.ct(u,t,l):1;if(h!==0){this.it(e);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=e;let l,u;try{l=ma(i).toUint8Array()}catch(h){if(h instanceof pO)return rc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new zb(l,r,a)}catch(h){return rc(h instanceof sh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(u)||(this.et(e,a,null),r++)}),r}Tt(t){const e=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&R_(u.target)){const h=new At(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Rn.newNoDocument(h,t))}a.Be&&(e.set(l,a.ke()),a.qe())}});let i=qt();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const r=new Bg(t,e,this.Ye,this.je,i);return this.je=ys(),this.Je=Qd(),this.He=Qd(),this.Ye=new Re($t),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new k1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ze($t),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ze($t),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||vt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new k1),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Qd(){return new Re(At.comparator)}function L1(){return new Re(At.comparator)}const s6={asc:"ASCENDING",desc:"DESCENDING"},a6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o6={and:"AND",or:"OR"};class l6{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function I_(n,t){return n.useProto3Json||Pg(t)?t:{value:t}}function ig(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qO(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function c6(n,t){return ig(n,t.toTimestamp())}function gr(n){return ne(!!n,49232),Mt.fromTimestamp(function(e){const i=ga(e);return new _e(i.seconds,i.nanos)}(n))}function Bb(n,t){return M_(n,t).canonicalString()}function M_(n,t){const e=function(r){return new ge(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function GO(n){const t=ge.fromString(n);return ne(QO(t),10190,{key:t.toString()}),t}function D_(n,t){return Bb(n.databaseId,t.path)}function Dv(n,t){const e=GO(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new At(YO(e))}function WO(n,t){return Bb(n.databaseId,t)}function u6(n){const t=GO(n);return t.length===4?ge.emptyPath():YO(t)}function N_(n){return new ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YO(n){return ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function V1(n,t,e){return{name:D_(n,t),fields:e.value.mapValue.fields}}function h6(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ot(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=function(d,g){return d.useProto3Json?(ne(g===void 0||typeof g=="string",58123),vn.fromBase64String(g||"")):(ne(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),vn.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(d){const g=d.code===void 0?ot.UNKNOWN:FO(d.code);return new mt(g,d.message||"")}(l);e=new $O(i,r,a,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Dv(n,i.document.name),a=gr(i.document.updateTime),l=i.document.createTime?gr(i.document.createTime):Mt.min(),u=new Ei({mapValue:{fields:i.document.fields}}),h=Rn.newFoundDocument(r,a,l,u),d=i.targetIds||[],g=i.removedTargetIds||[];e=new Ip(d,g,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Dv(n,i.document),a=i.readTime?gr(i.readTime):Mt.min(),l=Rn.newNoDocument(r,a),u=i.removedTargetIds||[];e=new Ip([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Dv(n,i.document),a=i.removedTargetIds||[];e=new Ip([],a,r,null)}else{if(!("filter"in t))return Ot(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new t6(r,a),u=i.targetId;e=new HO(u,l)}}return e}function f6(n,t){let e;if(t instanceof uf)e={update:V1(n,t.key,t.value)};else if(t instanceof jO)e={delete:D_(n,t.key)};else if(t instanceof Bo)e={update:V1(n,t.key,t.data),updateMask:E6(t.fieldMask)};else{if(!(t instanceof Q3))return Ot(16599,{Vt:t.type});e={verify:D_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof Uh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof zh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Bh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ng)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ot(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:c6(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ot(27497)}(n,t.precondition)),e}function d6(n,t){return n&&n.length>0?(ne(t!==void 0,14353),n.map(e=>function(r,a){let l=r.updateTime?gr(r.updateTime):gr(a);return l.isEqual(Mt.min())&&(l=gr(a)),new Y3(l,r.transformResults||[])}(e,t))):[]}function p6(n,t){return{documents:[WO(n,t.path)]}}function g6(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=WO(n,r);const a=function(d){if(d.length!==0)return XO(ji.create(d,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(g=>function(_){return{field:Hl(_.field),direction:v6(_.dir)}}(g))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=I_(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ft:e,parent:r}}function m6(n){let t=u6(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ne(i===1,65062);const g=e.from[0];g.allDescendants?r=g.collectionId:t=t.child(g.collectionId)}let a=[];e.where&&(a=function(y){const _=KO(y);return _ instanceof ji&&wO(_)?_.getFilters():[_]}(e.where));let l=[];e.orderBy&&(l=function(y){return y.map(_=>function(S){return new eg($l(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(e.orderBy));let u=null;e.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,Pg(_)?null:_}(e.limit));let h=null;e.startAt&&(h=function(y){const _=!!y.before,E=y.values||[];return new tg(E,_)}(e.startAt));let d=null;return e.endAt&&(d=function(y){const _=!y.before,E=y.values||[];return new tg(E,_)}(e.endAt)),P3(t,r,l,a,u,"F",h,d)}function y6(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function KO(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=$l(e.unaryFilter.field);return He.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=$l(e.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$l(e.unaryFilter.field);return He.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=$l(e.unaryFilter.field);return He.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}}(n):n.fieldFilter!==void 0?function(e){return He.create($l(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ji.create(e.compositeFilter.filters.map(i=>KO(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}}(e.compositeFilter.op))}(n):Ot(30097,{filter:n})}function v6(n){return s6[n]}function _6(n){return a6[n]}function b6(n){return o6[n]}function Hl(n){return{fieldPath:n.canonicalString()}}function $l(n){return yn.fromServerFormat(n.fieldPath)}function XO(n){return n instanceof He?function(e){if(e.op==="=="){if(w1(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NAN"}};if(S1(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(w1(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NOT_NAN"}};if(S1(e.value))return{unaryFilter:{field:Hl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(e.field),op:_6(e.op),value:e.value}}}(n):n instanceof ji?function(e){const i=e.getFilters().map(r=>XO(r));return i.length===1?i[0]:{compositeFilter:{op:b6(e.op),filters:i}}}(n):Ot(54877,{filter:n})}function E6(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function QO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,e,i,r,a=Mt.min(),l=Mt.min(),u=vn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new ia(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(t){this.yt=t}}function S6(n){const t=m6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?O_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.Cn=new A6}addToCollectionParentIndex(t,e){return this.Cn.add(e),ct.resolve()}getCollectionParents(t,e){return ct.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ct.resolve()}deleteFieldIndex(t,e){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,e){return ct.resolve()}getDocumentsMatchingTarget(t,e){return ct.resolve(null)}getIndexType(t,e){return ct.resolve(0)}getFieldIndexes(t,e){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,e){return ct.resolve(pa.min())}getMinOffsetFromCollectionGroup(t,e){return ct.resolve(pa.min())}updateCollectionGroup(t,e,i){return ct.resolve()}updateIndexEntries(t,e){return ct.resolve()}}class A6{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ze(ge.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ze(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZO=41943040;class $n{static withCacheSize(t){return new $n(t,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(ZO,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new lc(0)}static cr(){return new lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="LruGarbageCollector",x6=1048576;function B1([n,t],[e,i]){const r=$t(n,e);return r===0?$t(t,i):r}class R6{constructor(t){this.Ir=t,this.buffer=new Ze(B1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();B1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class C6{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){vt(z1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ac(e)?vt(z1,"Ignoring IndexedDB error during garbage collection: ",e):await wc(e)}await this.Vr(3e5)})}}class O6{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ct.resolve(Ng.ce);const i=new R6(e);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(U1)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U1):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,a,l,u,h,d;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(t,r))).next(y=>(i=y,u=Date.now(),this.removeTargets(t,i,e))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(d=Date.now(),jl()<=Ht.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:y})))}}function I6(n,t){return new O6(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.changes=new zo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ct.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&bh(i.mutation,r,ki.empty(),_e.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,qt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=qt()){const r=_o();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(a=>{let l=rh();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=_o();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,qt()))}populateOverlays(t,e,i){const r=[];return i.forEach(a=>{e.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,r){let a=ys();const l=_h(),u=function(){return _h()}();return e.forEach((h,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof Bo)?a=a.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),bh(g.mutation,d,g.mutation.getFieldMask(),_e.now())):l.set(d.key,ki.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((d,g)=>l.set(d,g)),e.forEach((d,g)=>u.set(d,new D6(g,l.get(d)??null))),u))}recalculateAndSaveOverlays(t,e){const i=_h();let r=new Re((l,u)=>l-u),a=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(h=>{const d=e.get(h);if(d===null)return;let g=i.get(h)||ki.empty();g=u.applyToLocalView(d,g),i.set(h,g);const y=(r.get(u.batchId)||qt()).add(h);r=r.insert(u.batchId,y)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,g=h.value,y=NO();g.forEach(_=>{if(!a.has(_)){const E=zO(e.get(_),i.get(_));E!==null&&y.set(_,E),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return ct.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(l){return At.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):CO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-a.size):ct.resolve(_o());let u=Ph,h=a;return l.next(d=>ct.forEach(d,(g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(g)?ct.resolve():this.remoteDocumentCache.getEntry(t,g).next(_=>{h=h.insert(g,_)}))).next(()=>this.populateOverlays(t,d,a)).next(()=>this.computeViews(t,h,d,qt())).next(g=>({batchId:u,changes:DO(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new At(e)).next(i=>{let r=rh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const a=e.collectionGroup;let l=rh();return this.indexManager.getCollectionParents(t,a).next(u=>ct.forEach(u,h=>{const d=function(y,_){return new cf(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(g=>{g.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,r))).next(l=>{a.forEach((h,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,Rn.newInvalidDocument(g)))});let u=rh();return l.forEach((h,d)=>{const g=a.get(h);g!==void 0&&bh(g.mutation,d,ki.empty(),_e.now()),Vg(e,d)&&(u=u.insert(h,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ct.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:gr(r.createTime)}}(e)),ct.resolve()}getNamedQuery(t,e){return ct.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(r){return{name:r.name,query:S6(r.bundledQuery),readTime:gr(r.readTime)}}(e)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.overlays=new Re(At.comparator),this.qr=new Map}getOverlay(t,e){return ct.resolve(this.overlays.get(e))}getOverlays(t,e){const i=_o();return ct.forEach(e,r=>this.getOverlay(t,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.St(t,e,a)}),ct.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),ct.resolve()}getOverlaysForCollection(t,e,i){const r=_o(),a=e.length+1,l=new At(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>i&&r.set(h.getKey(),h)}return ct.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new Re((d,g)=>d-g);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let g=a.get(d.largestBatchId);g===null&&(g=_o(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=_o(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>u.set(d,g)),!(u.size()>=r)););return ct.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new J3(e,i));let a=this.qr.get(e);a===void 0&&(a=qt(),this.qr.set(e,a)),this.qr.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.Qr=new Ze(on.$r),this.Ur=new Ze(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new on(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new on(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new At(new ge([])),i=new on(e,t),r=new on(e,t+1),a=[];return this.Ur.forEachInRange([i,r],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new At(new ge([])),i=new on(e,t),r=new on(e,t+1);let a=qt();return this.Ur.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new on(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class on{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return At.comparator(t.key,e.key)||$t(t.Yr,e.Yr)}static Kr(t,e){return $t(t.Yr,e.Yr)||At.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(on.$r)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Z3(a,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new on(u.key,a)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ct.resolve(l)}lookupMutationBatch(t,e){return ct.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),a=r<0?0:r;return ct.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?Mb:this.tr-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new on(e,0),r=new on(e,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],l=>{const u=this.Xr(l.Yr);a.push(u)}),ct.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ze($t);return e.forEach(r=>{const a=new on(r,0),l=new on(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{i=i.add(u.Yr)})}),ct.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;At.isDocumentKey(a)||(a=a.child(""));const l=new on(new At(a),0);let u=new Ze($t);return this.Zr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(h.Yr)),!0)},l),ct.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){ne(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ct.forEach(e.mutations,r=>{const a=new on(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new on(e,0),r=this.Zr.firstAfterOrEqual(i);return ct.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(t){this.ri=t,this.docs=function(){return new Re(At.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ct.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(e))}getEntries(t,e){let i=ys();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Rn.newInvalidDocument(r))}),ct.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let a=ys();const l=e.path,u=new At(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||f3(h3(g),i)<=0||(r.has(g.key)||Vg(e,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ct.resolve(a)}getAllFromCollectionGroup(t,e,i,r){Ot(9500)}ii(t,e){return ct.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new z6(this)}getSize(t){return ct.resolve(this.size)}}class z6 extends M6{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),ct.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(t){this.persistence=t,this.si=new zo(e=>Pb(e),kb),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.oi=0,this._i=new jb,this.targetCount=0,this.ai=lc.ur()}forEachTarget(t,e){return this.si.forEach((i,r)=>e(r)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ct.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new lc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ct.resolve()}updateTargetData(t,e){return this.Pr(e),ct.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ct.waitFor(a).next(()=>r)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ct.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ct.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(l=>{a.push(r.markPotentiallyOrphaned(t,l))}),ct.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ct.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ct.resolve(i)}containsKey(t,e){return ct.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ng(0),this.li=!1,this.li=!0,this.hi=new L6,this.referenceDelegate=t(this),this.Pi=new B6(this),this.indexManager=new w6,this.remoteDocumentCache=function(r){return new U6(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new T6(e),this.Ii=new P6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new k6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new V6(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){vt("MemoryPersistence","Starting transaction:",t);const r=new j6(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ai(t,e){return ct.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class j6 extends p3{constructor(t){super(),this.currentSequenceNumber=t}}class Fb{constructor(t){this.persistence=t,this.Ri=new jb,this.Vi=null}static mi(t){return new Fb(t)}get fi(){if(this.Vi)return this.Vi;throw Ot(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ct.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ct.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ct.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.fi,i=>{const r=At.fromPath(i);return this.gi(t,r).next(a=>{a||e.removeEntry(r,Mt.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return ct.or([()=>ct.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class rg{constructor(t,e){this.persistence=t,this.pi=new zo(i=>y3(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=I6(this,e)}static mi(t,e){return new rg(t,e)}Ei(){}di(t){return ct.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return ct.forEach(this.pi,(i,r)=>this.br(t,i,r).next(a=>a?ct.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(t,l=>this.br(t,l,e).next(u=>{u||(i++,a.removeEntry(l,Mt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ct.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ct.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ct.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ct.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Rp(t.data.value)),e}br(t,e,i){return ct.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return ct.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=qt(),r=qt();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Hb(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _k()?8:g3(In())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const a={result:null};return this.ys(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,e,r,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new F6;return this.Ss(t,e,l).next(u=>{if(a.result=u,this.Vs)return this.bs(t,e,l,u.size)})}).next(()=>a.result)}bs(t,e,i,r){return i.documentReadCount<this.fs?(jl()<=Ht.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",Fl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ct.resolve()):(jl()<=Ht.DEBUG&&vt("QueryEngine","Query:",Fl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(jl()<=Ht.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",Fl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pr(e))):ct.resolve())}ys(t,e){if(C1(e))return ct.resolve(null);let i=pr(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=O_(e,null,"F"),i=pr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=qt(...a);return this.ps.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.Ds(e,u);return this.Cs(e,d,l,h.readTime)?this.ys(t,O_(e,null,"F")):this.vs(t,d,e,h)}))})))}ws(t,e,i,r){return C1(e)||r.isEqual(Mt.min())?ct.resolve(null):this.ps.getDocuments(t,i).next(a=>{const l=this.Ds(e,a);return this.Cs(e,l,i,r)?ct.resolve(null):(jl()<=Ht.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fl(e)),this.vs(t,l,e,u3(r,Ph)).next(u=>u))})}Ds(t,e){let i=new Ze(IO(t));return e.forEach((r,a)=>{Vg(t,a)&&(i=i.add(a))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(t,e,i){return jl()<=Ht.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Fl(e)),this.ps.getDocumentsMatchingQuery(t,e,pa.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="LocalStore",$6=3e8;class q6{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Re($t),this.xs=new zo(a=>Pb(a),kb),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new N6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function G6(n,t,e,i){return new q6(n,t,e,i)}async function tI(n,t){const e=Nt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=qt();for(const d of r){l.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of a){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return e.localDocuments.getDocuments(i,h).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:u}))})})}function W6(n,t){const e=Nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,d,g){const y=d.batch,_=y.keys();let E=ct.resolve();return _.forEach(S=>{E=E.next(()=>g.getEntry(h,S)).next(A=>{const x=d.docVersions.get(S);ne(x!==null,48541),A.version.compareTo(x)<0&&(y.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=qt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function eI(n){const t=Nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Y6(n,t){const e=Nt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach((g,y)=>{const _=r.get(y);if(!_)return;u.push(e.Pi.removeMatchingKeys(a,g.removedDocuments,y).next(()=>e.Pi.addMatchingKeys(a,g.addedDocuments,y)));let E=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?E=E.withResumeToken(vn.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,i)),r=r.insert(y,E),function(A,x,O){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=$6?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(_,E,g)&&u.push(e.Pi.updateTargetData(a,E))});let h=ys(),d=qt();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(K6(a,l,t.documentUpdates).next(g=>{h=g.ks,d=g.qs})),!i.isEqual(Mt.min())){const g=e.Pi.getLastRemoteSnapshotVersion(a).next(y=>e.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(g)}return ct.waitFor(u).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(e.Ms=r,a))}function K6(n,t,e){let i=qt(),r=qt();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let l=ys();return e.forEach((u,h)=>{const d=a.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(Mt.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):vt($b,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)}),{ks:l,qs:r}})}function X6(n,t){const e=Nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Mb),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Q6(n,t){const e=Nt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Pi.getTargetData(i,t).next(a=>a?(r=a,ct.resolve(r)):e.Pi.allocateTargetId(i).next(l=>(r=new ia(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function P_(n,t,e){const i=Nt(n),r=i.Ms.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!Ac(l))throw l;vt($b,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function j1(n,t,e){const i=Nt(n);let r=Mt.min(),a=qt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,g){const y=Nt(h),_=y.xs.get(g);return _!==void 0?ct.resolve(y.Ms.get(_)):y.Pi.getTargetData(d,g)}(i,l,pr(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:Mt.min(),e?a:qt())).next(u=>(Z6(i,L3(t),u),{documents:u,Qs:a})))}function Z6(n,t,e){let i=n.Os.get(t)||Mt.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Os.set(t,i)}class F1{constructor(){this.activeTargetIds=F3()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class J6{constructor(){this.Mo=new F1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new F1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="ConnectivityMonitor";class $1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vt(H1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){vt(H1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=null;function k_(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="RestConnection",e5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n5{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Zp?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,a){const l=k_(),u=this.zo(t,e.toUriEncodedString());vt(Nv,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,r,a);const{host:d}=new URL(u),g=bc(d);return this.Jo(t,u,h,i,g).then(y=>(vt(Nv,`Received RPC '${t}' ${l}: `,y),y),y=>{throw rc(Nv,`RPC '${t}' ${l} failed with error: `,y,"url: ",u,"request:",i),y})}Ho(t,e,i,r,a,l){return this.Go(t,e,i,r,a)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}zo(t,e){const i=e5[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class r5 extends n5{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,a){const l=k_();return new Promise((u,h)=>{const d=new iO;d.setWithCredentials(!0),d.listenOnce(rO.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case xp.NO_ERROR:const y=d.getResponseJson();vt(Sn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case xp.TIMEOUT:vt(Sn,`RPC '${t}' ${l} timed out`),h(new mt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case xp.HTTP_ERROR:const _=d.getStatus();if(vt(Sn,`RPC '${t}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const A=function(O){const P=O.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(P)>=0?P:ot.UNKNOWN}(S.status);h(new mt(A,S.message))}else h(new mt(ot.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new mt(ot.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{vt(Sn,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(r);vt(Sn,`RPC '${t}' ${l} sending request:`,r),d.send(e,"POST",g,i,15)})}T_(t,e,i){const r=k_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=oO(),u=aO(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=a.join("");vt(Sn,`Creating RPC '${t}' stream ${r}: ${g}`,h);const y=l.createWebChannel(g,h);this.I_(y);let _=!1,E=!1;const S=new i5({Yo:x=>{E?vt(Sn,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(_||(vt(Sn,`Opening RPC '${t}' stream ${r} transport.`),y.open(),_=!0),vt(Sn,`RPC '${t}' stream ${r} sending:`,x),y.send(x))},Zo:()=>y.close()}),A=(x,O,P)=>{x.listen(O,V=>{try{P(V)}catch($){setTimeout(()=>{throw $},0)}})};return A(y,ih.EventType.OPEN,()=>{E||(vt(Sn,`RPC '${t}' stream ${r} transport opened.`),S.o_())}),A(y,ih.EventType.CLOSE,()=>{E||(E=!0,vt(Sn,`RPC '${t}' stream ${r} transport closed`),S.a_(),this.E_(y))}),A(y,ih.EventType.ERROR,x=>{E||(E=!0,rc(Sn,`RPC '${t}' stream ${r} transport errored. Name:`,x.name,"Message:",x.message),S.a_(new mt(ot.UNAVAILABLE,"The operation could not be completed")))}),A(y,ih.EventType.MESSAGE,x=>{var O;if(!E){const P=x.data[0];ne(!!P,16349);const V=P,$=(V==null?void 0:V.error)||((O=V[0])==null?void 0:O.error);if($){vt(Sn,`RPC '${t}' stream ${r} received error:`,$);const H=$.status;let Y=function(I){const N=Fe[I];if(N!==void 0)return FO(N)}(H),D=$.message;Y===void 0&&(Y=ot.INTERNAL,D="Unknown error status: "+H+" with message "+$.message),E=!0,S.a_(new mt(Y,D)),y.close()}else vt(Sn,`RPC '${t}' stream ${r} received:`,P),S.u_(P)}}),A(u,sO.STAT_EVENT,x=>{x.stat===T_.PROXY?vt(Sn,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===T_.NOPROXY&&vt(Sn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Pv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(n){return new l6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&vt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="PersistentStream";class iI{constructor(t,e,i,r,a,l,u,h){this.Mi=t,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nI(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(ms(e.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===e&&this.G_(i,r)},i=>{t(()=>{const r=new mt(ot.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return vt(q1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(vt(q1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s5 extends iI{constructor(t,e,i,r,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=a}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=h6(this.serializer,t),i=function(a){if(!("targetChange"in a))return Mt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Mt.min():l.readTime?gr(l.readTime):Mt.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=N_(this.serializer),e.addTarget=function(a,l){let u;const h=l.target;if(u=R_(h)?{documents:p6(a,h)}:{query:g6(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=qO(a,l.resumeToken);const d=I_(a,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Mt.min())>0){u.readTime=ig(a,l.snapshotVersion.toTimestamp());const d=I_(a,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,t);const i=y6(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=N_(this.serializer),e.removeTarget=t,this.q_(e)}}class a5 extends iI{constructor(t,e,i,r,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=d6(t.writeResults,t.commitTime),i=gr(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=N_(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>f6(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{}class l5 extends o5{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new mt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,M_(e,i),r,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new mt(ot.UNKNOWN,a.toString())})}Ho(t,e,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(t,M_(e,i),r,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(ot.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class c5{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(e),this.aa=!1):vt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="RemoteStore";class u5{constructor(t,e,i,r,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{jo(this)&&(vt(Do,"Restarting streams for network reachability change."),await async function(h){const d=Nt(h);d.Ea.add(4),await ff(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Fg(d)}(this))})}),this.Ra=new c5(i,r)}}async function Fg(n){if(jo(n))for(const t of n.da)await t(!0)}async function ff(n){for(const t of n.da)await t(!1)}function rI(n,t){const e=Nt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Yb(e)?Wb(e):xc(e).O_()&&Gb(e,t))}function qb(n,t){const e=Nt(n),i=xc(e);e.Ia.delete(t),i.O_()&&sI(e,t),e.Ia.size===0&&(i.O_()?i.L_():jo(e)&&e.Ra.set("Unknown"))}function Gb(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}xc(n).Y_(t)}function sI(n,t){n.Va.Ue(t),xc(n).Z_(t)}function Wb(n){n.Va=new r6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),xc(n).start(),n.Ra.ua()}function Yb(n){return jo(n)&&!xc(n).x_()&&n.Ia.size>0}function jo(n){return Nt(n).Ea.size===0}function aI(n){n.Va=void 0}async function h5(n){n.Ra.set("Online")}async function f5(n){n.Ia.forEach((t,e)=>{Gb(n,t)})}async function d5(n,t){aI(n),Yb(n)?(n.Ra.ha(t),Wb(n)):n.Ra.set("Unknown")}async function p5(n,t,e){if(n.Ra.set("Online"),t instanceof $O&&t.state===2&&t.cause)try{await async function(r,a){const l=a.cause;for(const u of a.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))}(n,t)}catch(i){vt(Do,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await sg(n,i)}else if(t instanceof Ip?n.Va.Ze(t):t instanceof HO?n.Va.st(t):n.Va.tt(t),!e.isEqual(Mt.min()))try{const i=await eI(n.localStore);e.compareTo(i)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(d);g&&a.Ia.set(d,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,d)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(vn.EMPTY_BYTE_STRING,g.snapshotVersion)),sI(a,h);const y=new ia(g.target,h,d,g.sequenceNumber);Gb(a,y)}),a.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){vt(Do,"Failed to raise snapshot:",i),await sg(n,i)}}async function sg(n,t,e){if(!Ac(t))throw t;n.Ea.add(1),await ff(n),n.Ra.set("Offline"),e||(e=()=>eI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{vt(Do,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Fg(n)})}function oI(n,t){return t().catch(e=>sg(n,e,t))}async function Hg(n){const t=Nt(n),e=va(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mb;for(;g5(t);)try{const r=await X6(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,m5(t,r)}catch(r){await sg(t,r)}lI(t)&&cI(t)}function g5(n){return jo(n)&&n.Ta.length<10}function m5(n,t){n.Ta.push(t);const e=va(n);e.O_()&&e.X_&&e.ea(t.mutations)}function lI(n){return jo(n)&&!va(n).x_()&&n.Ta.length>0}function cI(n){va(n).start()}async function y5(n){va(n).ra()}async function v5(n){const t=va(n);for(const e of n.Ta)t.ea(e.mutations)}async function _5(n,t,e){const i=n.Ta.shift(),r=Ub.from(i,t,e);await oI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Hg(n)}async function b5(n,t){t&&va(n).X_&&await async function(i,r){if(function(l){return e6(l)&&l!==ot.ABORTED}(r.code)){const a=i.Ta.shift();va(i).B_(),await oI(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Hg(i)}}(n,t),lI(n)&&cI(n)}async function G1(n,t){const e=Nt(n);e.asyncQueue.verifyOperationInProgress(),vt(Do,"RemoteStore received new credentials");const i=jo(e);e.Ea.add(3),await ff(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Fg(e)}async function E5(n,t){const e=Nt(n);t?(e.Ea.delete(2),await Fg(e)):t||(e.Ea.add(2),await ff(e),e.Ra.set("Unknown"))}function xc(n){return n.ma||(n.ma=function(e,i,r){const a=Nt(e);return a.sa(),new s5(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{Xo:h5.bind(null,n),t_:f5.bind(null,n),r_:d5.bind(null,n),H_:p5.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Yb(n)?Wb(n):n.Ra.set("Unknown")):(await n.ma.stop(),aI(n))})),n.ma}function va(n){return n.fa||(n.fa=function(e,i,r){const a=Nt(e);return a.sa(),new a5(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:y5.bind(null,n),r_:b5.bind(null,n),ta:v5.bind(null,n),na:_5.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Hg(n)):(await n.fa.stop(),n.Ta.length>0&&(vt(Do,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,a){const l=Date.now()+i,u=new Kb(t,e,l,r,a);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xb(n,t){if(ms("AsyncQueue",`${t}: ${n}`),Ac(n))return new mt(ot.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(t){return new Jl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||At.comparator(e.key,i.key):(e,i)=>At.comparator(e.key,i.key),this.keyedMap=rh(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Jl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.ga=new Re(At.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Ot(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class cc{constructor(t,e,i,r,a,l,u,h,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,a){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new cc(t,e,Jl.emptySet(e),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class S5{constructor(){this.queries=Y1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Nt(e),a=r.queries;r.queries=Y1(),a.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new mt(ot.ABORTED,"Firestore shutting down"))}}function Y1(){return new zo(n=>OO(n),Lg)}async function uI(n,t){const e=Nt(n);let i=3;const r=t.query;let a=e.queries.get(r);a?!a.ba()&&t.Da()&&(i=2):(a=new T5,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await e.onListen(r,!0);break;case 1:a.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=Xb(l,`Initialization of query '${Fl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,a),a.Sa.push(t),t.va(e.onlineState),a.wa&&t.Fa(a.wa)&&Qb(e)}async function hI(n,t){const e=Nt(n),i=t.query;let r=3;const a=e.queries.get(i);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?r=t.Da()?0:1:!a.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function w5(n,t){const e=Nt(n);let i=!1;for(const r of t){const a=r.query,l=e.queries.get(a);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&Qb(e)}function A5(n,t,e){const i=Nt(n),r=i.queries.get(t);if(r)for(const a of r.Sa)a.onError(e);i.queries.delete(t)}function Qb(n){n.Ca.forEach(t=>{t.next()})}var L_,K1;(K1=L_||(L_={})).Ma="default",K1.Cache="cache";class fI{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new cc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=cc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==L_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.key=t}}class pI{constructor(t){this.key=t}}class x5{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=IO(t),this.tu=new Jl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new W1,r=e?e.tu:this.tu;let a=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((g,y)=>{const _=r.get(g),E=Vg(this.query,y)?y:null,S=!!_&&this.mutatedKeys.has(_.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let x=!1;_&&E?_.data.isEqual(E.data)?S!==A&&(i.track({type:3,doc:E}),x=!0):this.su(_,E)||(i.track({type:2,doc:E}),x=!0,(h&&this.eu(E,h)>0||d&&this.eu(E,d)<0)&&(u=!0)):!_&&E?(i.track({type:0,doc:E}),x=!0):_&&!E&&(i.track({type:1,doc:_}),x=!0,(h||d)&&(u=!0)),x&&(E?(l=l.add(E),a=A?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:l,iu:i,Cs:u,mutatedKeys:a}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((g,y)=>function(E,S){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{Rt:x})}};return A(E)-A(S)}(g.type,y.type)||this.eu(g.doc,y.doc)),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],h=this.Xa.size===0&&this.current&&!r?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new cc(this.query,t.tu,a,l,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new pI(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new dI(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=qt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zb="SyncEngine";class R5{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class C5{constructor(t){this.key=t,this.hu=!1}}class O5{constructor(t,e,i,r,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new zo(u=>OO(u),Lg),this.Iu=new Map,this.Eu=new Set,this.du=new Re(At.comparator),this.Au=new Map,this.Ru=new jb,this.Vu={},this.mu=new Map,this.fu=lc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function I5(n,t,e=!0){const i=bI(n);let r;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await gI(i,t,e,!0),r}async function M5(n,t){const e=bI(n);await gI(e,t,!0,!1)}async function gI(n,t,e,i){const r=await Q6(n.localStore,pr(t)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let u;return i&&(u=await D5(n,t,a,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&rI(n.remoteStore,r),u}async function D5(n,t,e,i,r){n.pu=(y,_,E)=>async function(A,x,O,P){let V=x.view.ru(O);V.Cs&&(V=await j1(A.localStore,x.query,!1).then(({documents:D})=>x.view.ru(D,V)));const $=P&&P.targetChanges.get(x.targetId),H=P&&P.targetMismatches.get(x.targetId)!=null,Y=x.view.applyChanges(V,A.isPrimaryClient,$,H);return Q1(A,x.targetId,Y.au),Y.snapshot}(n,y,_,E);const a=await j1(n.localStore,t,!0),l=new x5(t,a.Qs),u=l.ru(a.documents),h=hf.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=l.applyChanges(u,n.isPrimaryClient,h);Q1(n,e,d.au);const g=new R5(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function N5(n,t,e){const i=Nt(n),r=i.Tu.get(t),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter(l=>!Lg(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await P_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&qb(i.remoteStore,r.targetId),V_(i,r.targetId)}).catch(wc)):(V_(i,r.targetId),await P_(i.localStore,r.targetId,!0))}async function P5(n,t){const e=Nt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),qb(e.remoteStore,i.targetId))}async function k5(n,t,e){const i=F5(n);try{const r=await function(l,u){const h=Nt(l),d=_e.now(),g=u.reduce((E,S)=>E.add(S.key),qt());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=ys(),A=qt();return h.Ns.getEntries(E,g).next(x=>{S=x,S.forEach((O,P)=>{P.isValidDocument()||(A=A.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,S)).next(x=>{y=x;const O=[];for(const P of u){const V=X3(P,y.get(P.key).overlayedDocument);V!=null&&O.push(new Bo(P.key,V,EO(V.value.mapValue),hs.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,O,u)}).next(x=>{_=x;const O=x.applyToLocalDocumentSet(y,A);return h.documentOverlayCache.saveOverlays(E,x.batchId,O)})}).then(()=>({batchId:_.batchId,changes:DO(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Re($t)),d=d.insert(u,h),l.Vu[l.currentUser.toKey()]=d}(i,r.batchId,e),await df(i,r.changes),await Hg(i.remoteStore)}catch(r){const a=Xb(r,"Failed to persist write");e.reject(a)}}async function mI(n,t){const e=Nt(n);try{const i=await Y6(e.localStore,t);t.targetChanges.forEach((r,a)=>{const l=e.Au.get(a);l&&(ne(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?ne(l.hu,14607):r.removedDocuments.size>0&&(ne(l.hu,42227),l.hu=!1))}),await df(e,i,t)}catch(i){await wc(i)}}function X1(n,t,e){const i=Nt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach((a,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=Nt(l);h.onlineState=u;let d=!1;h.queries.forEach((g,y)=>{for(const _ of y.Sa)_.va(u)&&(d=!0)}),d&&Qb(h)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function L5(n,t,e){const i=Nt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),a=r&&r.key;if(a){let l=new Re(At.comparator);l=l.insert(a,Rn.newNoDocument(a,Mt.min()));const u=qt().add(a),h=new Bg(Mt.min(),new Map,new Re($t),l,u);await mI(i,h),i.du=i.du.remove(a),i.Au.delete(t),Jb(i)}else await P_(i.localStore,t,!1).then(()=>V_(i,t,e)).catch(wc)}async function V5(n,t){const e=Nt(n),i=t.batch.batchId;try{const r=await W6(e.localStore,t);vI(e,i,null),yI(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await df(e,r)}catch(r){await wc(r)}}async function U5(n,t,e){const i=Nt(n);try{const r=await function(l,u){const h=Nt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,u).next(y=>(ne(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(i.localStore,t);vI(i,t,e),yI(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await df(i,r)}catch(r){await wc(r)}}function yI(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function vI(n,t,e){const i=Nt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function V_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||_I(n,i)})}function _I(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(qb(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Jb(n))}function Q1(n,t,e){for(const i of e)i instanceof dI?(n.Ru.addReference(i.key,t),z5(n,i)):i instanceof pI?(vt(Zb,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||_I(n,i.key)):Ot(19791,{wu:i})}function z5(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(vt(Zb,"New document in limbo: "+e),n.Eu.add(i),Jb(n))}function Jb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new At(ge.fromString(t)),i=n.fu.next();n.Au.set(i,new C5(e)),n.du=n.du.insert(e,i),rI(n.remoteStore,new ia(pr(Lb(e.path)),i,"TargetPurposeLimboResolution",Ng.ce))}}async function df(n,t,e){const i=Nt(n),r=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,t,e).then(d=>{var g;if((d||e)&&i.isPrimaryClient){const y=d?!d.fromCache:(g=e==null?void 0:e.targetChanges.get(h.targetId))==null?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){r.push(d);const y=Hb.As(h.targetId,d);a.push(y)}}))}),await Promise.all(l),i.Pu.H_(r),await async function(h,d){const g=Nt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ct.forEach(d,_=>ct.forEach(_.Es,E=>g.persistence.referenceDelegate.addReference(y,_.targetId,E)).next(()=>ct.forEach(_.ds,E=>g.persistence.referenceDelegate.removeReference(y,_.targetId,E)))))}catch(y){if(!Ac(y))throw y;vt($b,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const E=g.Ms.get(_),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);g.Ms=g.Ms.insert(_,A)}}}(i.localStore,a))}async function B5(n,t){const e=Nt(n);if(!e.currentUser.isEqual(t)){vt(Zb,"User change. New user:",t.toKey());const i=await tI(e.localStore,t);e.currentUser=t,function(a,l){a.mu.forEach(u=>{u.forEach(h=>{h.reject(new mt(ot.CANCELLED,l))})}),a.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await df(e,i.Ls)}}function j5(n,t){const e=Nt(n),i=e.Au.get(t);if(i&&i.hu)return qt().add(i.key);{let r=qt();const a=e.Iu.get(t);if(!a)return r;for(const l of a){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function bI(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=mI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=j5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=L5.bind(null,t),t.Pu.H_=w5.bind(null,t.eventManager),t.Pu.yu=A5.bind(null,t.eventManager),t}function F5(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=V5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U5.bind(null,t),t}class ag{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return G6(this.persistence,new H6,t.initialUser,this.serializer)}Cu(t){return new JO(Fb.mi,this.serializer)}Du(t){return new J6}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ag.provider={build:()=>new ag};class H5 extends ag{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ne(this.persistence.referenceDelegate instanceof rg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new C6(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new JO(i=>rg.mi(i,e),this.serializer)}}class U_{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>X1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=B5.bind(null,this.syncEngine),await E5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new S5}()}createDatastore(t){const e=jg(t.databaseInfo.databaseId),i=function(a){return new r5(a)}(t.databaseInfo);return function(a,l,u,h){return new l5(a,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,a,l,u){return new u5(i,r,a,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>X1(this.syncEngine,e,0),function(){return $1.v()?new $1:new t5}())}createSyncEngine(t,e){return function(r,a,l,u,h,d,g){const y=new O5(r,a,l,u,h,d);return g&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const a=Nt(r);vt(Do,"RemoteStore shutting down."),a.Ea.add(5),await ff(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}U_.provider={build:()=>new U_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="FirestoreClient";class $5{constructor(t,e,i,r,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=An.UNAUTHENTICATED,this.clientId=Ib.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{vt(_a,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(vt(_a,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Xb(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function kv(n,t){n.asyncQueue.verifyOperationInProgress(),vt(_a,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await tI(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function Z1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await q5(n);vt(_a,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>G1(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>G1(t.remoteStore,r)),n._onlineComponents=t}async function q5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt(_a,"Using user provided OfflineComponentProvider");try{await kv(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===ot.FAILED_PRECONDITION||r.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;rc("Error using user provided cache. Falling back to memory cache: "+e),await kv(n,new ag)}}else vt(_a,"Using default OfflineComponentProvider"),await kv(n,new H5(void 0));return n._offlineComponents}async function TI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt(_a,"Using user provided OnlineComponentProvider"),await Z1(n,n._uninitializedComponentsProvider._online)):(vt(_a,"Using default OnlineComponentProvider"),await Z1(n,new U_))),n._onlineComponents}function G5(n){return TI(n).then(t=>t.syncEngine)}async function SI(n){const t=await TI(n),e=t.eventManager;return e.onListen=I5.bind(null,t.syncEngine),e.onUnlisten=N5.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=M5.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=P5.bind(null,t.syncEngine),e}function W5(n,t,e={}){const i=new us;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,d){const g=new EI({next:_=>{g.Nu(),l.enqueueAndForget(()=>hI(a,y));const E=_.docs.has(u);!E&&_.fromCache?d.reject(new mt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&h&&h.source==="server"?d.reject(new mt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new fI(Lb(u.path),g,{includeMetadataChanges:!0,qa:!0});return uI(a,y)}(await SI(n),n.asyncQueue,t,e,i)),i.promise}function Y5(n,t,e={}){const i=new us;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,d){const g=new EI({next:_=>{g.Nu(),l.enqueueAndForget(()=>hI(a,y)),_.fromCache&&h.source==="server"?d.reject(new mt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new fI(u,g,{includeMetadataChanges:!0,qa:!0});return uI(a,y)}(await SI(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firestore.googleapis.com",tA=!0;class eA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AI,this.ssl=tA}else this.host=t.host,this.ssl=t.ssl??tA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZO;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<x6)throw new mt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}c3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wI(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $g{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new J4;switch(i.type){case"firstParty":return new i3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=J1.get(e);i&&(vt("ComponentProvider","Removing Datastore"),J1.delete(e),i.terminate())}(this),Promise.resolve()}}function K5(n,t,e,i={}){var d;n=Mo(n,$g);const r=bc(t),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(pC(`https://${u}`),gC("Firestore",!0)),a.host!==AI&&a.host!==u&&rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:r,emulatorOptions:i};if(!xo(h,l)&&(n._setSettings(h),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=An.MOCK_USER;else{g=uk(i.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new mt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new An(_)}n._authCredentials=new t3(new cO(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Rc(this.firestore,t,this._query)}}class qe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(lf(e,qe._jsonSchema))return new qe(t,i||null,new At(ge.fromString(e.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:$e("string",qe._jsonSchemaVersion),referencePath:$e("string")};class fa extends Rc{constructor(t,e,i){super(t,e,Lb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new At(t))}withConverter(t){return new fa(this.firestore,t,this._path)}}function Lv(n,t,...e){if(n=Un(n),uO("collection","path",t),n instanceof $g){const i=ge.fromString(t,...e);return p1(i),new fa(n,null,i)}{if(!(n instanceof qe||n instanceof fa))throw new mt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ge.fromString(t,...e));return p1(i),new fa(n.firestore,null,i)}}function xI(n,t,...e){if(n=Un(n),arguments.length===1&&(t=Ib.newId()),uO("doc","path",t),n instanceof $g){const i=ge.fromString(t,...e);return d1(i),new qe(n,null,new At(i))}{if(!(n instanceof qe||n instanceof fa))throw new mt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ge.fromString(t,...e));return d1(i),new qe(n.firestore,n instanceof fa?n.converter:null,new At(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="AsyncQueue";class iA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nI(this,"async_queue_retry"),this._c=()=>{const i=Pv();i&&vt(nA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Pv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Pv();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ac(t))throw t;vt(nA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",rA(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=Kb.createAndSchedule(this,t,e,i,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&Ot(47125,{Pc:rA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function rA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class qg extends $g{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new iA,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new iA(t),this._firestoreClient=void 0,await t}}}function X5(n,t){const e=typeof n=="object"?n:_C(),i=typeof n=="string"?n:Zp,r=bb(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=lk("firestore");a&&K5(r,...a)}return r}function t0(n){if(n._terminated)throw new mt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Q5(n),n._firestoreClient}function Q5(n){var i,r,a;const t=n._freezeSettings(),e=function(u,h,d,g){return new b3(u,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,wI(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(r=t.localCache)!=null&&r._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new $5(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ti(vn.fromBase64String(t))}catch(e){throw new mt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ti(vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lf(t,Ti._jsonSchema))return Ti.fromBase64String(t.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:$e("string",Ti._jsonSchemaVersion),bytes:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(t){if(lf(t,mr._jsonSchema))return new mr(t.latitude,t.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:$e("string",mr._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lf(t,yr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new yr(t.vectorValues);throw new mt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:$e("string",yr._jsonSchemaVersion),vectorValues:$e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=/^__.*__$/;class J5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Bo(t,this.data,this.fieldMask,e,this.fieldTransforms):new uf(t,this.data,e,this.fieldTransforms)}}function RI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{Ac:n})}}class i0{constructor(t,e,i,r,a,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new i0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var r;const e=(r=this.path)==null?void 0:r.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){var r;const e=(r=this.path)==null?void 0:r.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return og(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(RI(this.Ac)&&Z5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class tU{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||jg(t)}Cc(t,e,i,r=!1){return new i0({Ac:t,methodName:e,Dc:i,path:yn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CI(n){const t=n._freezeSettings(),e=jg(n._databaseId);return new tU(n._databaseId,!!t.ignoreUndefinedProperties,e)}function eU(n,t,e,i,r,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,t,e,r);MI("Data must be an object, but it was:",l,i);const u=OI(i,l);let h,d;if(a.merge)h=new ki(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const _=iU(t,y,e);if(!l.contains(_))throw new mt(ot.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);sU(g,_)||g.push(_)}h=new ki(g),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new J5(new Ei(u),h,d)}class r0 extends n0{_toFieldTransform(t){return new G3(t.path,new Uh)}isEqual(t){return t instanceof r0}}function nU(n,t,e,i=!1){return s0(e,n.Cc(i?4:3,t))}function s0(n,t){if(II(n=Un(n)))return MI("Unsupported field value:",t,n),OI(n,t);if(n instanceof n0)return function(i,r){if(!RI(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const a=[];let l=0;for(const u of i){let h=s0(u,r.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,t)}return function(i,r){if((i=Un(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return H3(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=_e.fromDate(i);return{timestampValue:ig(r.serializer,a)}}if(i instanceof _e){const a=new _e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ig(r.serializer,a)}}if(i instanceof mr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ti)return{bytesValue:qO(r.serializer,i._byteString)};if(i instanceof qe){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Bb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof yr)return function(l,u){return{mapValue:{fields:{[_O]:{stringValue:bO},[Jp]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return Vb(u.serializer,d)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${Dg(i)}`)}(n,t)}function OI(n,t){const e={};return dO(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uo(n,(i,r)=>{const a=s0(r,t.mc(i));a!=null&&(e[i]=a)}),{mapValue:{fields:e}}}function II(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _e||n instanceof mr||n instanceof Ti||n instanceof qe||n instanceof n0||n instanceof yr)}function MI(n,t,e){if(!II(e)||!hO(e)){const i=Dg(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function iU(n,t,e){if((t=Un(t))instanceof e0)return t._internalPath;if(typeof t=="string")return DI(n,t);throw og("Field path arguments must be of type string or ",n,!1,void 0,e)}const rU=new RegExp("[~\\*/\\[\\]]");function DI(n,t,e){if(t.search(rU)>=0)throw og(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new e0(...t.split("."))._internalPath}catch{throw og(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function og(n,t,e,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new mt(ot.INVALID_ARGUMENT,u+n+h)}function sU(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(a0("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class aU extends NI{data(){return super.data()}}function a0(n,t){return typeof t=="string"?DI(n,t):t instanceof e0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o0{}class lU extends o0{}function cU(n,t,...e){let i=[];t instanceof o0&&i.push(t),i=i.concat(e),function(a){const l=a.filter(h=>h instanceof l0).length,u=a.filter(h=>h instanceof Gg).length;if(l>1||l>0&&u>0)throw new mt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Gg extends lU{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Gg(t,e,i)}_apply(t){const e=this._parse(t);return PI(t._query,e),new Rc(t.firestore,t.converter,C_(t._query,e))}_parse(t){const e=CI(t.firestore);return function(a,l,u,h,d,g,y){let _;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new mt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){aA(y,g);const S=[];for(const A of y)S.push(sA(h,a,A));_={arrayValue:{values:S}}}else _=sA(h,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||aA(y,g),_=nU(u,l,y,g==="in"||g==="not-in");return He.create(d,g,_)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function uU(n,t,e){const i=t,r=a0("where",n);return Gg._create(r,i,e)}class l0 extends o0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new l0(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:ji.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,a){let l=r;const u=a.getFlattenedFilters();for(const h of u)PI(l,h),l=C_(l,h)}(t._query,e),new Rc(t.firestore,t.converter,C_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sA(n,t,e){if(typeof(e=Un(e))=="string"){if(e==="")throw new mt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CO(t)&&e.indexOf("/")!==-1)throw new mt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ge.fromString(e));if(!At.isDocumentKey(i))throw new mt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return T1(n,new At(i))}if(e instanceof qe)return T1(n,e._key);throw new mt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dg(e)}.`)}function aA(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function PI(n,t){const e=function(r,a){for(const l of r)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new mt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class hU{convertValue(t,e="none"){switch(ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ma(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ot(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Uo(t,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertVectorValue(t){var i,r,a;const e=(a=(r=(i=t.fields)==null?void 0:i[Jp].arrayValue)==null?void 0:r.values)==null?void 0:a.map(l=>ke(l.doubleValue));return new yr(e)}convertGeoPoint(t){return new mr(ke(t.latitude),ke(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=kg(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(kh(t));default:return null}}convertTimestamp(t){const e=ga(t);return new _e(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ge.fromString(t);ne(QO(i),9688,{name:t});const r=new Lh(i.get(1),i.get(3)),a=new At(i.popFirst(5));return r.isEqual(e)||ms(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class ah{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Eo extends NI{constructor(t,e,i,r,a,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(a0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Eo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:$e("string",Eo._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class Mp extends Eo{data(t={}){return super.data(t)}}class tc{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ah(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Mp(this._firestore,this._userDataWriter,i.key,i,new ah(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new Mp(r._firestore,r._userDataWriter,u.doc.key,u.doc,new ah(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Mp(r._firestore,r._userDataWriter,u.doc.key,u.doc,new ah(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:dU(u.type),doc:h,oldIndex:d,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ib.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(e.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(n){n=Mo(n,qe);const t=Mo(n.firestore,qg);return W5(t0(t),n._key).then(e=>yU(t,n,e))}tc._jsonSchemaVersion="firestore/querySnapshot/1.0",tc._jsonSchema={type:$e("string",tc._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class kI extends hU{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ti(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,e)}}function Vv(n){n=Mo(n,Rc);const t=Mo(n.firestore,qg),e=t0(t),i=new kI(t);return oU(n._query),Y5(e,n._query).then(r=>new tc(t,i,n,r))}function gU(n,t,e){n=Mo(n,qe);const i=Mo(n.firestore,qg),r=fU(n.converter,t);return mU(i,[eU(CI(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,hs.none())])}function mU(n,t){return function(i,r){const a=new us;return i.asyncQueue.enqueueAndForget(async()=>k5(await G5(i),r,a)),a.promise}(t0(n),t)}function yU(n,t,e){const i=e.docs.get(t._key),r=new kI(n);return new Eo(n,r,t._key,i,new ah(e.hasPendingWrites,e.fromCache),t.converter)}function vU(){return new r0("serverTimestamp")}(function(t,e=!0){(function(r){Sc=r})(Ec),nc(new Ro("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new qg(new e3(i.getProvider("auth-internal")),new r3(l,i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new mt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(d.options.projectId,g)}(l,r),l);return a={useFetchStreams:e,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),ua(c1,u1,t),ua(c1,u1,"esm2020")})();var _U="firebase",bU="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ua(_U,bU,"app");const EU={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAcGGE37ZiTFcz8mo1pSECvDCDOXdzbSHY",VITE_FIREBASE_APP_ID:"1:881881913799:web:08399068acd96e83f0e1e2",VITE_FIREBASE_AUTH_DOMAIN:"fitnesspro-36d8b.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-G3XJ0741CW",VITE_FIREBASE_MESSAGING_SENDER_ID:"881881913799",VITE_FIREBASE_PROJECT_ID:"fitnesspro-36d8b",VITE_FIREBASE_STORAGE_BUCKET:"fitnesspro-36d8b.firebasestorage.app"};console.log(" import.meta.env:",EU);const LI={apiKey:"AIzaSyAcGGE37ZiTFcz8mo1pSECvDCDOXdzbSHY",authDomain:"fitnesspro-36d8b.firebaseapp.com",projectId:"fitnesspro-36d8b",storageBucket:"fitnesspro-36d8b.firebasestorage.app",messagingSenderId:"881881913799",appId:"1:881881913799:web:08399068acd96e83f0e1e2"};console.log(" Firebase config:",LI);const VI=vC(LI),c0=Q4(VI),Eh=X5(VI),UI=B.createContext();function TU({children:n}){const[t,e]=B.useState(null),[i,r]=B.useState(null),[a,l]=B.useState(!0);return B.useEffect(()=>BV(c0,async h=>{if(h){e(h);const d=await pU(xI(Eh,"users",h.uid));r(d.exists()?d.data().role:null)}else e(null),r(null);l(!1)}),[]),J.jsx(UI.Provider,{value:{user:t,role:i,loading:a},children:n})}function SU(){return B.useContext(UI)}function Ni(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var wU=typeof Symbol=="function"&&Symbol.observable||"@@observable",oA=wU,lA=()=>Math.random().toString(36).substring(7).split("").join("."),AU={INIT:`@@redux/INIT${lA()}`,REPLACE:`@@redux/REPLACE${lA()}`},cA=AU;function xU(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function RU(n,t,e){if(typeof n!="function")throw new Error(Ni(2));let i=n,r=t,a=new Map,l=a,u=0,h=!1;function d(){l===a&&(l=new Map,a.forEach((x,O)=>{l.set(O,x)}))}function g(){if(h)throw new Error(Ni(3));return r}function y(x){if(typeof x!="function")throw new Error(Ni(4));if(h)throw new Error(Ni(5));let O=!0;d();const P=u++;return l.set(P,x),function(){if(O){if(h)throw new Error(Ni(6));O=!1,d(),l.delete(P),a=null}}}function _(x){if(!xU(x))throw new Error(Ni(7));if(typeof x.type>"u")throw new Error(Ni(8));if(typeof x.type!="string")throw new Error(Ni(17));if(h)throw new Error(Ni(9));try{h=!0,r=i(r,x)}finally{h=!1}return(a=l).forEach(P=>{P()}),x}function E(x){if(typeof x!="function")throw new Error(Ni(10));i=x,_({type:cA.REPLACE})}function S(){const x=y;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Ni(11));function P(){const $=O;$.next&&$.next(g())}return P(),{unsubscribe:x(P)}},[oA](){return this}}}return _({type:cA.INIT}),{dispatch:_,subscribe:y,getState:g,replaceReducer:E,[oA]:S}}function CU(n,t,e){return RU(n,t)}const OU={sidebarShow:!0,theme:"light"},IU=(n=OU,{type:t,...e})=>{switch(t){case"set":return{...n,...e};default:return n}},MU=CU(IU);var Pt=function(){return Pt=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Pt.apply(this,arguments)};function ue(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}var Uv={exports:{}},zv,uA;function DU(){if(uA)return zv;uA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zv=n,zv}var Bv,hA;function NU(){if(hA)return Bv;hA=1;var n=DU();function t(){}function e(){}return e.resetWarningCache=t,Bv=function(){function i(l,u,h,d,g,y){if(y!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},Bv}var fA;function PU(){return fA||(fA=1,Uv.exports=NU()()),Uv.exports}var kU=PU();const z=Sg(kU);function LU(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var dA;function VU(){return dA||(dA=1,function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=r(a,i(u)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)t.call(a,u)&&a[u]&&(l=r(l,u));return l}function r(a,l){return l?a?a+" "+l:a+l:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()}(jv)),jv.exports}var UU=VU(),he=LU(UU);function Cc(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return B.useMemo(function(){return n.every(function(e){return e==null})?null:function(e){n.forEach(function(i){zU(i,e)})}},n)}function zU(n,t){if(n!=null)if(BU(n))n(t);else try{n.current=t}catch{throw new Error('Cannot assign value "'.concat(t,'" to ref "').concat(n,'"'))}}function BU(n){return!!(n&&{}.toString.call(n)=="[object Function]")}var Gn="top",wi="bottom",Ai="right",Wn="left",u0="auto",pf=[Gn,wi,Ai,Wn],uc="start",jh="end",jU="clippingParents",zI="viewport",Yu="popper",FU="reference",pA=pf.reduce(function(n,t){return n.concat([t+"-"+uc,t+"-"+jh])},[]),BI=[].concat(pf,[u0]).reduce(function(n,t){return n.concat([t,t+"-"+uc,t+"-"+jh])},[]),HU="beforeRead",$U="read",qU="afterRead",GU="beforeMain",WU="main",YU="afterMain",KU="beforeWrite",XU="write",QU="afterWrite",ZU=[HU,$U,qU,GU,WU,YU,KU,XU,QU];function Er(n){return n?(n.nodeName||"").toLowerCase():null}function ri(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function No(n){var t=ri(n).Element;return n instanceof t||n instanceof Element}function Si(n){var t=ri(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function h0(n){if(typeof ShadowRoot>"u")return!1;var t=ri(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function JU(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];!Si(a)||!Er(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(l){var u=r[l];u===!1?a.removeAttribute(l):a.setAttribute(l,u===!0?"":u)}))})}function t9(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],a=t.attributes[i]||{},l=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),u=l.reduce(function(h,d){return h[d]="",h},{});!Si(r)||!Er(r)||(Object.assign(r.style,u),Object.keys(a).forEach(function(h){r.removeAttribute(h)}))})}}const e9={name:"applyStyles",enabled:!0,phase:"write",fn:JU,effect:t9,requires:["computeStyles"]};function vr(n){return n.split("-")[0]}var To=Math.max,lg=Math.min,hc=Math.round;function z_(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function jI(){return!/^((?!chrome|android).)*safari/i.test(z_())}function fc(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=n.getBoundingClientRect(),r=1,a=1;t&&Si(n)&&(r=n.offsetWidth>0&&hc(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&hc(i.height)/n.offsetHeight||1);var l=No(n)?ri(n):window,u=l.visualViewport,h=!jI()&&e,d=(i.left+(h&&u?u.offsetLeft:0))/r,g=(i.top+(h&&u?u.offsetTop:0))/a,y=i.width/r,_=i.height/a;return{width:y,height:_,top:g,right:d+y,bottom:g+_,left:d,x:d,y:g}}function f0(n){var t=fc(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function FI(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&h0(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function vs(n){return ri(n).getComputedStyle(n)}function n9(n){return["table","td","th"].indexOf(Er(n))>=0}function wa(n){return((No(n)?n.ownerDocument:n.document)||window.document).documentElement}function Wg(n){return Er(n)==="html"?n:n.assignedSlot||n.parentNode||(h0(n)?n.host:null)||wa(n)}function gA(n){return!Si(n)||vs(n).position==="fixed"?null:n.offsetParent}function i9(n){var t=/firefox/i.test(z_()),e=/Trident/i.test(z_());if(e&&Si(n)){var i=vs(n);if(i.position==="fixed")return null}var r=Wg(n);for(h0(r)&&(r=r.host);Si(r)&&["html","body"].indexOf(Er(r))<0;){var a=vs(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function gf(n){for(var t=ri(n),e=gA(n);e&&n9(e)&&vs(e).position==="static";)e=gA(e);return e&&(Er(e)==="html"||Er(e)==="body"&&vs(e).position==="static")?t:e||i9(n)||t}function d0(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Th(n,t,e){return To(n,lg(t,e))}function r9(n,t,e){var i=Th(n,t,e);return i>e?e:i}function HI(){return{top:0,right:0,bottom:0,left:0}}function $I(n){return Object.assign({},HI(),n)}function qI(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var s9=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,$I(typeof t!="number"?t:qI(t,pf))};function a9(n){var t,e=n.state,i=n.name,r=n.options,a=e.elements.arrow,l=e.modifiersData.popperOffsets,u=vr(e.placement),h=d0(u),d=[Wn,Ai].indexOf(u)>=0,g=d?"height":"width";if(!(!a||!l)){var y=s9(r.padding,e),_=f0(a),E=h==="y"?Gn:Wn,S=h==="y"?wi:Ai,A=e.rects.reference[g]+e.rects.reference[h]-l[h]-e.rects.popper[g],x=l[h]-e.rects.reference[h],O=gf(a),P=O?h==="y"?O.clientHeight||0:O.clientWidth||0:0,V=A/2-x/2,$=y[E],H=P-_[g]-y[S],Y=P/2-_[g]/2+V,D=Th($,Y,H),R=h;e.modifiersData[i]=(t={},t[R]=D,t.centerOffset=D-Y,t)}}function o9(n){var t=n.state,e=n.options,i=e.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||FI(t.elements.popper,r)&&(t.elements.arrow=r))}const l9={name:"arrow",enabled:!0,phase:"main",fn:a9,effect:o9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dc(n){return n.split("-")[1]}var c9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function u9(n,t){var e=n.x,i=n.y,r=t.devicePixelRatio||1;return{x:hc(e*r)/r||0,y:hc(i*r)/r||0}}function mA(n){var t,e=n.popper,i=n.popperRect,r=n.placement,a=n.variation,l=n.offsets,u=n.position,h=n.gpuAcceleration,d=n.adaptive,g=n.roundOffsets,y=n.isFixed,_=l.x,E=_===void 0?0:_,S=l.y,A=S===void 0?0:S,x=typeof g=="function"?g({x:E,y:A}):{x:E,y:A};E=x.x,A=x.y;var O=l.hasOwnProperty("x"),P=l.hasOwnProperty("y"),V=Wn,$=Gn,H=window;if(d){var Y=gf(e),D="clientHeight",R="clientWidth";if(Y===ri(e)&&(Y=wa(e),vs(Y).position!=="static"&&u==="absolute"&&(D="scrollHeight",R="scrollWidth")),Y=Y,r===Gn||(r===Wn||r===Ai)&&a===jh){$=wi;var I=y&&Y===H&&H.visualViewport?H.visualViewport.height:Y[D];A-=I-i.height,A*=h?1:-1}if(r===Wn||(r===Gn||r===wi)&&a===jh){V=Ai;var N=y&&Y===H&&H.visualViewport?H.visualViewport.width:Y[R];E-=N-i.width,E*=h?1:-1}}var L=Object.assign({position:u},d&&c9),j=g===!0?u9({x:E,y:A},ri(e)):{x:E,y:A};if(E=j.x,A=j.y,h){var k;return Object.assign({},L,(k={},k[$]=P?"0":"",k[V]=O?"0":"",k.transform=(H.devicePixelRatio||1)<=1?"translate("+E+"px, "+A+"px)":"translate3d("+E+"px, "+A+"px, 0)",k))}return Object.assign({},L,(t={},t[$]=P?A+"px":"",t[V]=O?E+"px":"",t.transform="",t))}function h9(n){var t=n.state,e=n.options,i=e.gpuAcceleration,r=i===void 0?!0:i,a=e.adaptive,l=a===void 0?!0:a,u=e.roundOffsets,h=u===void 0?!0:u,d={placement:vr(t.placement),variation:dc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mA(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mA(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const f9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:h9,data:{}};var Jd={passive:!0};function d9(n){var t=n.state,e=n.instance,i=n.options,r=i.scroll,a=r===void 0?!0:r,l=i.resize,u=l===void 0?!0:l,h=ri(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach(function(g){g.addEventListener("scroll",e.update,Jd)}),u&&h.addEventListener("resize",e.update,Jd),function(){a&&d.forEach(function(g){g.removeEventListener("scroll",e.update,Jd)}),u&&h.removeEventListener("resize",e.update,Jd)}}const p9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d9,data:{}};var g9={left:"right",right:"left",bottom:"top",top:"bottom"};function Dp(n){return n.replace(/left|right|bottom|top/g,function(t){return g9[t]})}var m9={start:"end",end:"start"};function yA(n){return n.replace(/start|end/g,function(t){return m9[t]})}function p0(n){var t=ri(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function g0(n){return fc(wa(n)).left+p0(n).scrollLeft}function y9(n,t){var e=ri(n),i=wa(n),r=e.visualViewport,a=i.clientWidth,l=i.clientHeight,u=0,h=0;if(r){a=r.width,l=r.height;var d=jI();(d||!d&&t==="fixed")&&(u=r.offsetLeft,h=r.offsetTop)}return{width:a,height:l,x:u+g0(n),y:h}}function v9(n){var t,e=wa(n),i=p0(n),r=(t=n.ownerDocument)==null?void 0:t.body,a=To(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=To(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),u=-i.scrollLeft+g0(n),h=-i.scrollTop;return vs(r||e).direction==="rtl"&&(u+=To(e.clientWidth,r?r.clientWidth:0)-a),{width:a,height:l,x:u,y:h}}function m0(n){var t=vs(n),e=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+i)}function GI(n){return["html","body","#document"].indexOf(Er(n))>=0?n.ownerDocument.body:Si(n)&&m0(n)?n:GI(Wg(n))}function Sh(n,t){var e;t===void 0&&(t=[]);var i=GI(n),r=i===((e=n.ownerDocument)==null?void 0:e.body),a=ri(i),l=r?[a].concat(a.visualViewport||[],m0(i)?i:[]):i,u=t.concat(l);return r?u:u.concat(Sh(Wg(l)))}function B_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function _9(n,t){var e=fc(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function vA(n,t,e){return t===zI?B_(y9(n,e)):No(t)?_9(t,e):B_(v9(wa(n)))}function b9(n){var t=Sh(Wg(n)),e=["absolute","fixed"].indexOf(vs(n).position)>=0,i=e&&Si(n)?gf(n):n;return No(i)?t.filter(function(r){return No(r)&&FI(r,i)&&Er(r)!=="body"}):[]}function E9(n,t,e,i){var r=t==="clippingParents"?b9(n):[].concat(t),a=[].concat(r,[e]),l=a[0],u=a.reduce(function(h,d){var g=vA(n,d,i);return h.top=To(g.top,h.top),h.right=lg(g.right,h.right),h.bottom=lg(g.bottom,h.bottom),h.left=To(g.left,h.left),h},vA(n,l,i));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function WI(n){var t=n.reference,e=n.element,i=n.placement,r=i?vr(i):null,a=i?dc(i):null,l=t.x+t.width/2-e.width/2,u=t.y+t.height/2-e.height/2,h;switch(r){case Gn:h={x:l,y:t.y-e.height};break;case wi:h={x:l,y:t.y+t.height};break;case Ai:h={x:t.x+t.width,y:u};break;case Wn:h={x:t.x-e.width,y:u};break;default:h={x:t.x,y:t.y}}var d=r?d0(r):null;if(d!=null){var g=d==="y"?"height":"width";switch(a){case uc:h[d]=h[d]-(t[g]/2-e[g]/2);break;case jh:h[d]=h[d]+(t[g]/2-e[g]/2);break}}return h}function Fh(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=i===void 0?n.placement:i,a=e.strategy,l=a===void 0?n.strategy:a,u=e.boundary,h=u===void 0?jU:u,d=e.rootBoundary,g=d===void 0?zI:d,y=e.elementContext,_=y===void 0?Yu:y,E=e.altBoundary,S=E===void 0?!1:E,A=e.padding,x=A===void 0?0:A,O=$I(typeof x!="number"?x:qI(x,pf)),P=_===Yu?FU:Yu,V=n.rects.popper,$=n.elements[S?P:_],H=E9(No($)?$:$.contextElement||wa(n.elements.popper),h,g,l),Y=fc(n.elements.reference),D=WI({reference:Y,element:V,placement:r}),R=B_(Object.assign({},V,D)),I=_===Yu?R:Y,N={top:H.top-I.top+O.top,bottom:I.bottom-H.bottom+O.bottom,left:H.left-I.left+O.left,right:I.right-H.right+O.right},L=n.modifiersData.offset;if(_===Yu&&L){var j=L[r];Object.keys(N).forEach(function(k){var wt=[Ai,wi].indexOf(k)>=0?1:-1,_t=[Gn,wi].indexOf(k)>=0?"y":"x";N[k]+=j[_t]*wt})}return N}function T9(n,t){t===void 0&&(t={});var e=t,i=e.placement,r=e.boundary,a=e.rootBoundary,l=e.padding,u=e.flipVariations,h=e.allowedAutoPlacements,d=h===void 0?BI:h,g=dc(i),y=g?u?pA:pA.filter(function(S){return dc(S)===g}):pf,_=y.filter(function(S){return d.indexOf(S)>=0});_.length===0&&(_=y);var E=_.reduce(function(S,A){return S[A]=Fh(n,{placement:A,boundary:r,rootBoundary:a,padding:l})[vr(A)],S},{});return Object.keys(E).sort(function(S,A){return E[S]-E[A]})}function S9(n){if(vr(n)===u0)return[];var t=Dp(n);return[yA(n),t,yA(t)]}function w9(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,a=r===void 0?!0:r,l=e.altAxis,u=l===void 0?!0:l,h=e.fallbackPlacements,d=e.padding,g=e.boundary,y=e.rootBoundary,_=e.altBoundary,E=e.flipVariations,S=E===void 0?!0:E,A=e.allowedAutoPlacements,x=t.options.placement,O=vr(x),P=O===x,V=h||(P||!S?[Dp(x)]:S9(x)),$=[x].concat(V).reduce(function(dt,Tt){return dt.concat(vr(Tt)===u0?T9(t,{placement:Tt,boundary:g,rootBoundary:y,padding:d,flipVariations:S,allowedAutoPlacements:A}):Tt)},[]),H=t.rects.reference,Y=t.rects.popper,D=new Map,R=!0,I=$[0],N=0;N<$.length;N++){var L=$[N],j=vr(L),k=dc(L)===uc,wt=[Gn,wi].indexOf(j)>=0,_t=wt?"width":"height",W=Fh(t,{placement:L,boundary:g,rootBoundary:y,altBoundary:_,padding:d}),nt=wt?k?Ai:Wn:k?wi:Gn;H[_t]>Y[_t]&&(nt=Dp(nt));var ft=Dp(nt),bt=[];if(a&&bt.push(W[j]<=0),u&&bt.push(W[nt]<=0,W[ft]<=0),bt.every(function(dt){return dt})){I=L,R=!1;break}D.set(L,bt)}if(R)for(var F=S?3:1,rt=function(Tt){var yt=$.find(function(me){var Ut=D.get(me);if(Ut)return Ut.slice(0,Tt).every(function(cn){return cn})});if(yt)return I=yt,"break"},ht=F;ht>0;ht--){var it=rt(ht);if(it==="break")break}t.placement!==I&&(t.modifiersData[i]._skip=!0,t.placement=I,t.reset=!0)}}const A9={name:"flip",enabled:!0,phase:"main",fn:w9,requiresIfExists:["offset"],data:{_skip:!1}};function _A(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function bA(n){return[Gn,Ai,wi,Wn].some(function(t){return n[t]>=0})}function x9(n){var t=n.state,e=n.name,i=t.rects.reference,r=t.rects.popper,a=t.modifiersData.preventOverflow,l=Fh(t,{elementContext:"reference"}),u=Fh(t,{altBoundary:!0}),h=_A(l,i),d=_A(u,r,a),g=bA(h),y=bA(d);t.modifiersData[e]={referenceClippingOffsets:h,popperEscapeOffsets:d,isReferenceHidden:g,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const R9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:x9};function C9(n,t,e){var i=vr(n),r=[Wn,Gn].indexOf(i)>=0?-1:1,a=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,l=a[0],u=a[1];return l=l||0,u=(u||0)*r,[Wn,Ai].indexOf(i)>=0?{x:u,y:l}:{x:l,y:u}}function O9(n){var t=n.state,e=n.options,i=n.name,r=e.offset,a=r===void 0?[0,0]:r,l=BI.reduce(function(g,y){return g[y]=C9(y,t.rects,a),g},{}),u=l[t.placement],h=u.x,d=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=d),t.modifiersData[i]=l}const I9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:O9};function M9(n){var t=n.state,e=n.name;t.modifiersData[e]=WI({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const D9={name:"popperOffsets",enabled:!0,phase:"read",fn:M9,data:{}};function N9(n){return n==="x"?"y":"x"}function P9(n){var t=n.state,e=n.options,i=n.name,r=e.mainAxis,a=r===void 0?!0:r,l=e.altAxis,u=l===void 0?!1:l,h=e.boundary,d=e.rootBoundary,g=e.altBoundary,y=e.padding,_=e.tether,E=_===void 0?!0:_,S=e.tetherOffset,A=S===void 0?0:S,x=Fh(t,{boundary:h,rootBoundary:d,padding:y,altBoundary:g}),O=vr(t.placement),P=dc(t.placement),V=!P,$=d0(O),H=N9($),Y=t.modifiersData.popperOffsets,D=t.rects.reference,R=t.rects.popper,I=typeof A=="function"?A(Object.assign({},t.rects,{placement:t.placement})):A,N=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(Y){if(a){var k,wt=$==="y"?Gn:Wn,_t=$==="y"?wi:Ai,W=$==="y"?"height":"width",nt=Y[$],ft=nt+x[wt],bt=nt-x[_t],F=E?-R[W]/2:0,rt=P===uc?D[W]:R[W],ht=P===uc?-R[W]:-D[W],it=t.elements.arrow,dt=E&&it?f0(it):{width:0,height:0},Tt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:HI(),yt=Tt[wt],me=Tt[_t],Ut=Th(0,D[W],dt[W]),cn=V?D[W]/2-F-Ut-yt-N.mainAxis:rt-Ut-yt-N.mainAxis,Dn=V?-D[W]/2+F+Ut+me+N.mainAxis:ht+Ut+me+N.mainAxis,Je=t.elements.arrow&&gf(t.elements.arrow),si=Je?$==="y"?Je.clientTop||0:Je.clientLeft||0:0,Yn=(k=L==null?void 0:L[$])!=null?k:0,xi=nt+cn-Yn-si,zt=nt+Dn-Yn,Ve=Th(E?lg(ft,xi):ft,nt,E?To(bt,zt):bt);Y[$]=Ve,j[$]=Ve-nt}if(u){var un,zc=$==="x"?Gn:Wn,xa=$==="x"?wi:Ai,zn=Y[H],ai=H==="y"?"height":"width",qo=zn+x[zc],Ar=zn-x[xa],xr=[Gn,Wn].indexOf(O)!==-1,Ra=(un=L==null?void 0:L[H])!=null?un:0,ye=xr?qo:zn-D[ai]-R[ai]-Ra+N.altAxis,Qt=xr?zn+D[ai]+R[ai]-Ra-N.altAxis:Ar,_n=E&&xr?r9(ye,zn,Qt):Th(E?ye:qo,zn,E?Qt:Ar);Y[H]=_n,j[H]=_n-zn}t.modifiersData[i]=j}}const k9={name:"preventOverflow",enabled:!0,phase:"main",fn:P9,requiresIfExists:["offset"]};function L9(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function V9(n){return n===ri(n)||!Si(n)?p0(n):L9(n)}function U9(n){var t=n.getBoundingClientRect(),e=hc(t.width)/n.offsetWidth||1,i=hc(t.height)/n.offsetHeight||1;return e!==1||i!==1}function z9(n,t,e){e===void 0&&(e=!1);var i=Si(t),r=Si(t)&&U9(t),a=wa(t),l=fc(n,r,e),u={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!e)&&((Er(t)!=="body"||m0(a))&&(u=V9(t)),Si(t)?(h=fc(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):a&&(h.x=g0(a))),{x:l.left+u.scrollLeft-h.x,y:l.top+u.scrollTop-h.y,width:l.width,height:l.height}}function B9(n){var t=new Map,e=new Set,i=[];n.forEach(function(a){t.set(a.name,a)});function r(a){e.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(u){if(!e.has(u)){var h=t.get(u);h&&r(h)}}),i.push(a)}return n.forEach(function(a){e.has(a.name)||r(a)}),i}function j9(n){var t=B9(n);return ZU.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}function F9(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function H9(n){var t=n.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var EA={placement:"bottom",modifiers:[],strategy:"absolute"};function TA(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function $9(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,r=t.defaultOptions,a=r===void 0?EA:r;return function(u,h,d){d===void 0&&(d=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},EA,a),modifiersData:{},elements:{reference:u,popper:h},attributes:{},styles:{}},y=[],_=!1,E={state:g,setOptions:function(O){var P=typeof O=="function"?O(g.options):O;A(),g.options=Object.assign({},a,g.options,P),g.scrollParents={reference:No(u)?Sh(u):u.contextElement?Sh(u.contextElement):[],popper:Sh(h)};var V=j9(H9([].concat(i,g.options.modifiers)));return g.orderedModifiers=V.filter(function($){return $.enabled}),S(),E.update()},forceUpdate:function(){if(!_){var O=g.elements,P=O.reference,V=O.popper;if(TA(P,V)){g.rects={reference:z9(P,gf(V),g.options.strategy==="fixed"),popper:f0(V)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(N){return g.modifiersData[N.name]=Object.assign({},N.data)});for(var $=0;$<g.orderedModifiers.length;$++){if(g.reset===!0){g.reset=!1,$=-1;continue}var H=g.orderedModifiers[$],Y=H.fn,D=H.options,R=D===void 0?{}:D,I=H.name;typeof Y=="function"&&(g=Y({state:g,options:R,name:I,instance:E})||g)}}}},update:F9(function(){return new Promise(function(x){E.forceUpdate(),x(g)})}),destroy:function(){A(),_=!0}};if(!TA(u,h))return E;E.setOptions(d).then(function(x){!_&&d.onFirstUpdate&&d.onFirstUpdate(x)});function S(){g.orderedModifiers.forEach(function(x){var O=x.name,P=x.options,V=P===void 0?{}:P,$=x.effect;if(typeof $=="function"){var H=$({state:g,name:O,instance:E,options:V}),Y=function(){};y.push(H||Y)}})}function A(){y.forEach(function(x){return x()}),y=[]}return E}}var q9=[p9,D9,f9,e9,I9,A9,k9,l9,R9],G9=$9({defaultModifiers:q9});function W9(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.includes(i))continue;e[i]=n[i]}return e}function j_(n,t){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},j_(n,t)}function Y9(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,j_(n,t)}var SA={disabled:!1},YI=ut.createContext(null),K9=function(t){return t.scrollTop},oh="unmounted",po="exited",go="entering",ql="entered",F_="exiting",Tr=function(n){Y9(t,n);function t(i,r){var a;a=n.call(this,i,r)||this;var l=r,u=l&&!l.isMounting?i.enter:i.appear,h;return a.appearStatus=null,i.in?u?(h=po,a.appearStatus=go):h=ql:i.unmountOnExit||i.mountOnEnter?h=oh:h=po,a.state={status:h},a.nextCallback=null,a}t.getDerivedStateFromProps=function(r,a){var l=r.in;return l&&a.status===oh?{status:po}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(r){var a=null;if(r!==this.props){var l=this.state.status;this.props.in?l!==go&&l!==ql&&(a=go):(l===go||l===ql)&&(a=F_)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var r=this.props.timeout,a,l,u;return a=l=u=r,r!=null&&typeof r!="number"&&(a=r.exit,l=r.enter,u=r.appear!==void 0?r.appear:l),{exit:a,enter:l,appear:u}},e.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===go){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Gd.findDOMNode(this);l&&K9(l)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===po&&this.setState({status:oh})},e.performEnter=function(r){var a=this,l=this.props.enter,u=this.context?this.context.isMounting:r,h=this.props.nodeRef?[u]:[Gd.findDOMNode(this),u],d=h[0],g=h[1],y=this.getTimeouts(),_=u?y.appear:y.enter;if(!r&&!l||SA.disabled){this.safeSetState({status:ql},function(){a.props.onEntered(d)});return}this.props.onEnter(d,g),this.safeSetState({status:go},function(){a.props.onEntering(d,g),a.onTransitionEnd(_,function(){a.safeSetState({status:ql},function(){a.props.onEntered(d,g)})})})},e.performExit=function(){var r=this,a=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:Gd.findDOMNode(this);if(!a||SA.disabled){this.safeSetState({status:po},function(){r.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:F_},function(){r.props.onExiting(u),r.onTransitionEnd(l.exit,function(){r.safeSetState({status:po},function(){r.props.onExited(u)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},e.setNextCallback=function(r){var a=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,a.nextCallback=null,r(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},e.onTransitionEnd=function(r,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Gd.findDOMNode(this),u=r==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=h[0],g=h[1];this.props.addEndListener(d,g)}r!=null&&setTimeout(this.nextCallback,r)},e.render=function(){var r=this.state.status;if(r===oh)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var u=W9(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ut.createElement(YI.Provider,{value:null},typeof l=="function"?l(r,u):ut.cloneElement(ut.Children.only(l),u))},t}(ut.Component);Tr.contextType=YI;Tr.propTypes={};function Ll(){}Tr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ll,onEntering:Ll,onEntered:Ll,onExit:Ll,onExiting:Ll,onExited:Ll};Tr.UNMOUNTED=oh;Tr.EXITED=po;Tr.ENTERING=go;Tr.ENTERED=ql;Tr.EXITING=F_;var y0=B.forwardRef(function(n,t){var e=n.className,i=n.dark,r=n.disabled,a=n.white,l=ue(n,["className","dark","disabled","white"]);return ut.createElement("button",Pt({type:"button",className:he("btn","btn-close",{"btn-close-white":a},r,e),"aria-label":"Close",disabled:r},i&&{"data-coreui-theme":"dark"},l,{ref:t}))});y0.propTypes={className:z.string,dark:z.bool,disabled:z.bool,white:z.bool};y0.displayName="CCloseButton";var Po=z.oneOfType([z.oneOf(["primary","secondary","success","danger","warning","info","dark","light"]),z.string]);z.oneOfType([z.arrayOf(z.oneOf(["top","bottom","right","left"]).isRequired),z.oneOf(["top","bottom","right","left"])]);var X9=z.oneOf(["auto","auto-start","auto-end","top-end","top","top-start","bottom-end","bottom","bottom-start","right-start","right","right-end","left-start","left","left-end"]);z.oneOfType([z.oneOf(["rounded","rounded-top","rounded-end","rounded-bottom","rounded-start","rounded-circle","rounded-pill","rounded-0","rounded-1","rounded-2","rounded-3"]),z.string]);z.oneOfType([Po,z.oneOf(["white","muted"]),z.string]);var Q9=z.oneOfType([z.arrayOf(z.oneOf(["hover","focus","click"]).isRequired),z.oneOf(["hover","focus","click"])]),Yg=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=n.color,a=r===void 0?"primary":r,l=n.dismissible,u=n.variant,h=n.visible,d=h===void 0?!0:h,g=n.onClose,y=ue(n,["children","className","color","dismissible","variant","visible","onClose"]),_=B.useRef(null),E=Cc(t,_),S=B.useState(d),A=S[0],x=S[1];return B.useEffect(function(){x(d)},[d]),ut.createElement(Tr,{in:A,mountOnEnter:!0,nodeRef:_,onExit:g,timeout:150,unmountOnExit:!0},function(O){return ut.createElement("div",Pt({className:he("alert",u==="solid"?"bg-".concat(a," text-white"):"alert-".concat(a),{"alert-dismissible fade":l,show:O==="entered"},i),role:"alert"},y,{ref:E}),e,l&&ut.createElement(y0,{onClick:function(){return x(!1)}}))})});Yg.propTypes={children:z.node,className:z.string,color:Po.isRequired,dismissible:z.bool,onClose:z.func,variant:z.string,visible:z.bool};Yg.displayName="CAlert";var mf=B.forwardRef(function(n,t){var e=n.children,i=n.active,r=n.as,a=r===void 0?"a":r,l=n.className,u=n.disabled,h=ue(n,["children","active","as","className","disabled"]);return ut.createElement(a,Pt({className:he(l,{active:i,disabled:u})},i&&{"aria-current":"page"},a==="a"&&u&&{"aria-disabled":!0,tabIndex:-1},(a==="a"||a==="button")&&{onClick:function(d){d.preventDefault,!u&&h.onClick&&h.onClick(d)}},{disabled:u},h,{ref:t}),e)});mf.propTypes={active:z.bool,as:z.elementType,children:z.node,className:z.string,disabled:z.bool};mf.displayName="CLink";var v0=B.forwardRef(function(n,t){var e=n.className,i=e===void 0?"modal-backdrop":e,r=n.visible,a=ue(n,["className","visible"]),l=B.useRef(null),u=Cc(t,l);return ut.createElement(Tr,{in:r,mountOnEnter:!0,nodeRef:l,timeout:150,unmountOnExit:!0},function(h){return ut.createElement("div",Pt({className:he(i,"fade",{show:h==="entered"})},a,{ref:u}))})});v0.propTypes={className:z.string,visible:z.bool};v0.displayName="CBackdrop";var Kg=B.forwardRef(function(n,t){var e,i=n.children,r=n.as,a=r===void 0?"button":r,l=n.className,u=n.color,h=n.shape,d=n.size,g=n.type,y=g===void 0?"button":g,_=n.variant,E=ue(n,["children","as","className","color","shape","size","type","variant"]);return ut.createElement(mf,Pt({as:E.href?"a":a},!E.href&&{type:y},{className:he("btn",(e={},e["btn-".concat(_,"-").concat(u)]=_&&u,e["btn-".concat(_)]=_&&!u,e["btn-".concat(u)]=!_&&u,e["btn-".concat(d)]=d,e),h,l)},E,{ref:t}),i)});Kg.propTypes={as:z.elementType,children:z.node,className:z.string,color:Po,shape:z.string,size:z.oneOf(["sm","lg"]),type:z.oneOf(["button","submit","reset"]),variant:z.oneOf(["outline","ghost"])};Kg.displayName="CButton";var Oc=B.forwardRef(function(n,t){var e,i=n.children,r=n.className,a=n.color,l=n.textBgColor,u=n.textColor,h=ue(n,["children","className","color","textBgColor","textColor"]);return ut.createElement("div",Pt({className:he("card",(e={},e["bg-".concat(a)]=a,e["text-".concat(u)]=u,e["text-bg-".concat(l)]=l,e),r)},h,{ref:t}),i)});Oc.propTypes={children:z.node,className:z.string,color:Po,textBgColor:Po,textColor:z.string};Oc.displayName="CCard";var Ic=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=ue(n,["children","className"]);return ut.createElement("div",Pt({className:he("card-body",i)},r,{ref:t}),e)});Ic.propTypes={children:z.node,className:z.string};Ic.displayName="CCardBody";var tp=function(n){var t=n.getBoundingClientRect();return Math.floor(t.top)>=0&&Math.floor(t.left)>=0&&Math.floor(t.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.floor(t.right)<=(window.innerWidth||document.documentElement.clientWidth)},Z9=function(n){return n?typeof n=="function"?n():n:document.body},_0=function(n){var t=n.children,e=n.container,i=n.portal,r=B.useState(null),a=r[0],l=r[1];return B.useEffect(function(){i&&l(Z9(e)||document.body)},[e,i]),typeof window<"u"&&i&&a?yb.createPortal(t,a):ut.createElement(ut.Fragment,null,t)};_0.propTypes={children:z.node,container:z.any,portal:z.bool.isRequired};_0.displayName="CConditionalPortal";var b0=B.createContext({}),J9=function(){var n=B.useRef(void 0),t=B.useRef(null),e=function(a,l,u){n.current=G9(a,l,u),t.current=l},i=function(){var a=n.current;a&&t.current&&a.destroy(),n.current=void 0},r=function(a){var l=n.current;l&&a&&l.setOptions(a),l&&l.update()};return{popper:n.current,initPopper:e,destroyPopper:i,updatePopper:r}},tz=function(n,t,e,i){var r=n.length,a=n.indexOf(t);return a===-1?!e&&i?n[r-1]:n[0]:(a+=e?1:-1,a=(a+r)%r,n[Math.max(0,Math.min(a,r-1))])},ez=function(n){return typeof document<"u"&&document.documentElement.dir==="rtl"?!0:n?n.closest('[dir="rtl"]')!==null:!1},nz=function(n){var t=[];if(typeof n=="object")for(var e in n)t.push("dropdown-menu".concat(e==="xs"?"":"-".concat(e),"-").concat(n[e]));return typeof n=="string"&&t.push("dropdown-menu-".concat(n)),t},iz=function(n,t,e,i){var r=n;return t==="dropup"&&(r=i?"top-end":"top-start"),t==="dropup-center"&&(r="top"),t==="dropend"&&(r=i?"left-start":"right-start"),t==="dropstart"&&(r=i?"right-start":"left-start"),e==="end"&&(r=i?"bottom-start":"bottom-end"),r},Wl=B.forwardRef(function(n,t){var e,i=n.children,r=n.alignment,a=n.as,l=a===void 0?"div":a,u=n.autoClose,h=u===void 0?!0:u,d=n.className,g=n.container,y=n.dark,_=n.direction,E=n.offset,S=E===void 0?[0,2]:E,A=n.onHide,x=n.onShow,O=n.placement,P=O===void 0?"bottom-start":O,V=n.popper,$=V===void 0?!0:V,H=n.popperConfig,Y=n.portal,D=Y===void 0?!1:Y,R=n.variant,I=R===void 0?"btn-group":R,N=n.visible,L=N===void 0?!1:N,j=ue(n,["children","alignment","as","autoClose","className","container","dark","direction","offset","onHide","onShow","placement","popper","popperConfig","portal","variant","visible"]),k=B.useRef(null),wt=B.useRef(null),_t=Cc(t,k),W=B.useState(null),nt=W[0],ft=W[1],bt=B.useState(L),F=bt[0],rt=bt[1],ht=J9(),it=ht.initPopper,dt=ht.destroyPopper,Tt=B.useCallback(function(zt){zt&&ft(zt)},[]),yt=$&&typeof r!="object",me=I==="nav-item"?"li":l,Ut=B.useMemo(function(){var zt={modifiers:[{name:"offset",options:{offset:S}}],placement:iz(P,_,r,ez(wt.current))};return Pt(Pt({},zt),typeof H=="function"?H(zt):H)},[S,P,_,r,H]);B.useEffect(function(){L?cn():Dn()},[L]),B.useEffect(function(){var zt=nt,Ve=wt.current;yt&&Ve&&zt&&F&&it(zt,Ve,Ut)},[nt]);var cn=function(){var zt=nt,Ve=wt.current;zt&&Ve&&(rt(!0),yt&&it(zt,Ve,Ut),zt.focus(),zt.addEventListener("keydown",Je),Ve.addEventListener("keydown",Je),window.addEventListener("mouseup",Yn),window.addEventListener("keyup",si),x==null||x())},Dn=function(){rt(!1);var zt=nt,Ve=wt.current;yt&&dt(),zt==null||zt.removeEventListener("keydown",Je),Ve==null||Ve.removeEventListener("keydown",Je),window.removeEventListener("mouseup",Yn),window.removeEventListener("keyup",si),A==null||A()},Je=function(zt){if(F&&wt.current&&(zt.key==="ArrowDown"||zt.key==="ArrowUp")){zt.preventDefault();var Ve=zt.target,un=Array.from(wt.current.querySelectorAll(".dropdown-item:not(.disabled):not(:disabled)"));tz(un,Ve,zt.key==="ArrowDown",!0).focus()}},si=function(zt){h!==!1&&zt.key==="Escape"&&Dn()},Yn=function(zt){if(!(!nt||!wt.current)&&!nt.contains(zt.target)&&(h===!0||h==="inside"&&wt.current.contains(zt.target)||h==="outside"&&!wt.current.contains(zt.target))){setTimeout(function(){return Dn()},1);return}},xi={alignment:r,container:g,dark:y,dropdownMenuRef:wt,dropdownToggleRef:Tt,handleHide:Dn,handleShow:cn,popper:yt,portal:D,variant:I,visible:F};return ut.createElement(b0.Provider,{value:xi},I==="input-group"?ut.createElement(ut.Fragment,null,i):ut.createElement(me,Pt({className:he(I==="nav-item"?"nav-item dropdown":I,(e={"dropdown-center":_==="center","dropup dropup-center":_==="dropup-center"},e["".concat(_)]=_&&_!=="center"&&_!=="dropup-center",e),d)},j,{ref:_t}),i))}),oo=z.oneOf(["start","end"]);Wl.propTypes={alignment:z.oneOfType([oo,z.shape({xs:oo.isRequired}),z.shape({sm:oo.isRequired}),z.shape({md:oo.isRequired}),z.shape({lg:oo.isRequired}),z.shape({xl:oo.isRequired}),z.shape({xxl:oo.isRequired})]),as:z.elementType,autoClose:z.oneOfType([z.bool,z.oneOf(["inside","outside"])]),children:z.node,className:z.string,dark:z.bool,direction:z.oneOf(["center","dropup","dropup-center","dropend","dropstart"]),offset:z.any,onHide:z.func,onShow:z.func,placement:X9,popper:z.bool,popperConfig:z.oneOfType([z.func,z.object]),portal:z.bool,variant:z.oneOf(["btn-group","dropdown","input-group","nav-item"]),visible:z.bool};Wl.displayName="CDropdown";var an=B.forwardRef(function(n,t){var e=n.children,i=n.as,r=i===void 0?"a":i,a=n.className,l=ue(n,["children","as","className"]);return ut.createElement(mf,Pt({className:he("dropdown-item",a),as:r},l,{ref:t}),e)});an.propTypes={as:z.elementType,children:z.node,className:z.string};an.displayName="CDropdownItem";var Yl=B.forwardRef(function(n,t){var e=n.children,i=n.as,r=i===void 0?"ul":i,a=n.className,l=ue(n,["children","as","className"]),u=B.useContext(b0),h=u.alignment,d=u.container,g=u.dark,y=u.dropdownMenuRef,_=u.popper,E=u.portal,S=u.visible,A=Cc(t,y);return ut.createElement(_0,{container:d,portal:E??!1},ut.createElement(r,Pt({className:he("dropdown-menu",{show:S},h&&nz(h),a),ref:A,role:"menu"},!_&&{"data-coreui-popper":"static"},g&&{"data-coreui-theme":"dark"},l),r==="ul"?ut.Children.map(e,function(x,O){if(ut.isValidElement(x))return ut.createElement("li",{key:O},ut.cloneElement(x))}):e))});Yl.propTypes={as:z.elementType,children:z.node,className:z.string};Yl.displayName="CDropdownMenu";var Kl=function(n){var t=n.children,e=n.caret,i=e===void 0?!0:e,r=n.custom,a=n.className,l=n.navLink,u=l===void 0?!0:l,h=n.split,d=n.trigger,g=d===void 0?"click":d,y=ue(n,["children","caret","custom","className","navLink","split","trigger"]),_=B.useContext(b0),E=_.dropdownToggleRef,S=_.handleHide,A=_.handleShow,x=_.variant,O=_.visible,P=Pt(Pt({},(g==="click"||g.includes("click"))&&{onClick:function($){$.preventDefault(),O?S==null||S():A==null||A()}}),(g==="focus"||g.includes("focus"))&&{onFocus:function(){return A==null?void 0:A()},onBlur:function(){return S==null?void 0:S()}}),V=Pt({className:he({"nav-link":x==="nav-item"&&u,"dropdown-toggle":i,"dropdown-toggle-split":h,show:O},a),"aria-expanded":O},!y.disabled&&Pt({},P));return r&&ut.isValidElement(t)?ut.createElement(ut.Fragment,null,ut.cloneElement(t,Pt(Pt({"aria-expanded":O},!y.disabled&&Pt({},P)),{ref:E}))):x==="nav-item"&&u?ut.createElement("a",Pt({href:"#"},V,{role:"button"},y,{ref:E}),t):ut.createElement(Kg,Pt({},V,{tabIndex:0},y,{ref:E}),t,h&&ut.createElement("span",{className:"visually-hidden"},"Toggle Dropdown"))};Kl.propTypes={caret:z.bool,children:z.node,className:z.string,custom:z.bool,split:z.bool,trigger:Q9};Kl.displayName="CDropdownToggle";var E0=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=n.validated,a=ue(n,["children","className","validated"]);return ut.createElement("form",Pt({className:he({"was-validated":r},i)||void 0},a,{ref:t}),e)});E0.propTypes={children:z.node,className:z.string,validated:z.bool};E0.displayName="CForm";var wh=B.forwardRef(function(n,t){var e,i=n.children,r=n.as,a=r===void 0?"div":r,l=n.className,u=n.invalid,h=n.tooltip,d=n.valid,g=ue(n,["children","as","className","invalid","tooltip","valid"]);return ut.createElement(a,Pt({className:he((e={},e["invalid-".concat(h?"tooltip":"feedback")]=u,e["valid-".concat(h?"tooltip":"feedback")]=d,e),l)},g,{ref:t}),i)});wh.propTypes={as:z.elementType,children:z.node,className:z.string,invalid:z.bool,tooltip:z.bool,valid:z.bool};wh.displayName="CFormFeedback";var Xg=function(n){var t=n.describedby,e=n.feedback,i=n.feedbackInvalid,r=n.feedbackValid,a=n.invalid,l=n.tooltipFeedback,u=n.valid;return ut.createElement(ut.Fragment,null,e&&(u||a)&&ut.createElement(wh,Pt({},a&&{id:t},{invalid:a,tooltip:l,valid:u}),e),i&&ut.createElement(wh,{id:t,invalid:!0,tooltip:l},i),r&&ut.createElement(wh,{valid:!0,tooltip:l},r))};Xg.propTypes={describedby:z.string,feedback:z.oneOfType([z.node,z.string]),feedbackValid:z.oneOfType([z.node,z.string]),feedbackInvalid:z.oneOfType([z.node,z.string]),invalid:z.bool,tooltipFeedback:z.bool,valid:z.bool};Xg.displayName="CFormControlValidation";var fs=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=n.customClassName,a=ue(n,["children","className","customClassName"]);return ut.createElement("label",Pt({className:r??he("form-label",i)},a,{ref:t}),e)});fs.propTypes={children:z.node,className:z.string,customClassName:z.string};fs.displayName="CFormLabel";var T0=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=ue(n,["children","className"]);return ut.createElement("div",Pt({className:he("form-floating",i)},r,{ref:t}),e)});T0.propTypes={children:z.node,className:z.string};T0.displayName="CFormFloating";var cg=B.forwardRef(function(n,t){var e=n.children,i=n.as,r=i===void 0?"div":i,a=n.className,l=ue(n,["children","as","className"]);return ut.createElement(r,Pt({className:he("form-text",a)},l,{ref:t}),e)});cg.propTypes={as:z.elementType,children:z.node,className:z.string};cg.displayName="CFormText";var Qg=function(n){var t=n.children,e=n.describedby,i=n.feedback,r=n.feedbackInvalid,a=n.feedbackValid,l=n.floatingClassName,u=n.floatingLabel,h=n.id,d=n.invalid,g=n.label,y=n.text,_=n.tooltipFeedback,E=n.valid,S=function(){return ut.createElement(Xg,{describedby:e,feedback:i,feedbackInvalid:r,feedbackValid:a,floatingLabel:u,invalid:d,tooltipFeedback:_,valid:E})};return u?ut.createElement(T0,{className:l},t,ut.createElement(fs,{htmlFor:h},g||u),y&&ut.createElement(cg,{id:e},y),ut.createElement(S,null)):ut.createElement(ut.Fragment,null,g&&ut.createElement(fs,{htmlFor:h},g),t,y&&ut.createElement(cg,{id:e},y),ut.createElement(S,null))};Qg.propTypes=Pt({children:z.node,floatingClassName:z.string,floatingLabel:z.oneOfType([z.node,z.string]),label:z.oneOfType([z.node,z.string]),text:z.oneOfType([z.node,z.string])},Xg.propTypes);Qg.displayName="CFormControlWrapper";var So=B.forwardRef(function(n,t){var e,i=n.children,r=n.className,a=n.delay,l=a===void 0?!1:a,u=n.feedback,h=n.feedbackInvalid,d=n.feedbackValid,g=n.floatingClassName,y=n.floatingLabel,_=n.id,E=n.invalid,S=n.label,A=n.onChange,x=n.plainText,O=n.size,P=n.text,V=n.tooltipFeedback,$=n.type,H=$===void 0?"text":$,Y=n.valid,D=ue(n,["children","className","delay","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","onChange","plainText","size","text","tooltipFeedback","type","valid"]),R=B.useState(),I=R[0],N=R[1];return B.useEffect(function(){var L=setTimeout(function(){return I&&A&&A(I)},typeof l=="number"?l:500);return function(){return clearTimeout(L)}},[I]),ut.createElement(Qg,{describedby:D["aria-describedby"],feedback:u,feedbackInvalid:h,feedbackValid:d,floatingClassName:g,floatingLabel:y,id:_,invalid:E,label:S,text:P,tooltipFeedback:V,valid:Y},ut.createElement("input",Pt({className:he(x?"form-control-plaintext":"form-control",(e={},e["form-control-".concat(O)]=O,e["form-control-color"]=H==="color",e["is-invalid"]=E,e["is-valid"]=Y,e),r),id:_,type:H,onChange:function(L){return l?N(L):A&&A(L)}},D,{ref:t}),i))});So.propTypes=Pt({className:z.string,id:z.string,delay:z.oneOfType([z.bool,z.number]),plainText:z.bool,size:z.oneOf(["sm","lg"]),type:z.oneOfType([z.oneOf(["color","file","text"]),z.string])},Qg.propTypes);So.displayName="CFormInput";var rz=["xxl","xl","lg","md","sm","xs"],Li=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=ue(n,["children","className"]),a=[];return rz.forEach(function(l){var u=r[l];delete r[l];var h=l==="xs"?"":"-".concat(l);(typeof u=="number"||typeof u=="string")&&a.push("col".concat(h,"-").concat(u)),typeof u=="boolean"&&a.push("col".concat(h)),u&&typeof u=="object"&&((typeof u.span=="number"||typeof u.span=="string")&&a.push("col".concat(h,"-").concat(u.span)),typeof u.span=="boolean"&&a.push("col".concat(h)),(typeof u.order=="number"||typeof u.order=="string")&&a.push("order".concat(h,"-").concat(u.order)),typeof u.offset=="number"&&a.push("offset".concat(h,"-").concat(u.offset)))}),ut.createElement("div",Pt({className:he(a.length>0?a:"col",i)},r,{ref:t}),e)}),wA=z.oneOfType([z.bool,z.number,z.string,z.oneOf(["auto"])]),Vl=z.oneOfType([wA,z.shape({span:wA,offset:z.oneOfType([z.number,z.string]),order:z.oneOfType([z.oneOf(["first","last"]),z.number,z.string])})]);Li.propTypes={children:z.node,className:z.string,xs:Vl,sm:Vl,md:Vl,lg:Vl,xl:Vl,xxl:Vl};Li.displayName="CCol";var sz=["xxl","xl","lg","md","sm","fluid"],yf=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=ue(n,["children","className"]),a=[];return sz.forEach(function(l){var u=r[l];delete r[l],u&&a.push("container-".concat(l))}),ut.createElement("div",Pt({className:he(a.length>0?a:"container",i)},r,{ref:t}),e)});yf.propTypes={children:z.node,className:z.string,sm:z.bool,md:z.bool,lg:z.bool,xl:z.bool,xxl:z.bool,fluid:z.bool};yf.displayName="CContainer";var az=["xxl","xl","lg","md","sm","xs"],Mc=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=ue(n,["children","className"]),a=[];return az.forEach(function(l){var u=r[l];delete r[l];var h=l==="xs"?"":"-".concat(l);typeof u=="object"&&(u.cols&&a.push("row-cols".concat(h,"-").concat(u.cols)),typeof u.gutter=="number"&&a.push("g".concat(h,"-").concat(u.gutter)),typeof u.gutterX=="number"&&a.push("gx".concat(h,"-").concat(u.gutterX)),typeof u.gutterY=="number"&&a.push("gy".concat(h,"-").concat(u.gutterY)))}),ut.createElement("div",Pt({className:he("row",a,i)},r,{ref:t}),e)}),Ul=z.shape({cols:z.oneOfType([z.oneOf(["auto"]),z.number,z.string]),gutter:z.oneOfType([z.string,z.number]),gutterX:z.oneOfType([z.string,z.number]),gutterY:z.oneOfType([z.string,z.number])});Mc.propTypes={children:z.node,className:z.string,xs:Ul,sm:Ul,md:Ul,lg:Ul,xl:Ul,xxl:Ul};Mc.displayName="CRow";var S0=B.forwardRef(function(n,t){var e,i=n.children,r=n.className,a=n.container,l=n.position,u=ue(n,["children","className","container","position"]);return ut.createElement("div",Pt({className:he("header",(e={},e["header-".concat(l)]=l,e),r)},u,{ref:t}),a?ut.createElement("div",{className:typeof a=="string"?"container-".concat(a):"container"},i):ut.createElement(ut.Fragment,null,i))});S0.propTypes={children:z.node,className:z.string,container:z.oneOfType([z.bool,z.oneOf(["sm","md","lg","xl","xxl","fluid"])]),position:z.oneOf(["fixed","sticky"])};S0.displayName="CHeader";var w0=B.forwardRef(function(n,t){var e=n.children,i=n.as,r=i===void 0?"ul":i,a=n.className,l=ue(n,["children","as","className"]);return ut.createElement(r,Pt({className:he("header-nav",a),role:"navigation"},l,{ref:t}),e)});w0.propTypes={as:z.elementType,children:z.node,className:z.string};w0.displayName="CHeaderNav";var KI=B.createContext({}),A0=B.forwardRef(function(n,t){var e=n.children,i=n.className,r=n.idx,a=ue(n,["children","className","idx"]),l=B.useRef(null),u=Cc(t,l),h=B.useContext(KI).setVisibleGroup;return B.useEffect(function(){var d;a.active=(d=l.current)===null||d===void 0?void 0:d.classList.contains("active"),r&&a.active&&h(r)},[a.active,i]),ut.createElement(mf,Pt({className:he("nav-link",i)},a,{ref:u}),e)});A0.propTypes={active:z.bool,as:z.elementType,children:z.node,className:z.string,disabled:z.bool,idx:z.string};A0.displayName="CNavLink";var x0=B.forwardRef(function(n,t){var e=n.children,i=n.as,r=i===void 0?"li":i,a=n.className,l=ue(n,["children","as","className"]);return ut.createElement(r,{className:he("nav-item",a),ref:t},l.href||l.to?ut.createElement(A0,Pt({className:a},l),e):e)});x0.propTypes={as:z.elementType,children:z.node,className:z.string};x0.displayName="CNavItem";var Fv=function(n){return!!getComputedStyle(n).getPropertyValue("--cui-is-mobile")},R0=B.forwardRef(function(n,t){var e,i=n.children,r=n.as,a=r===void 0?"div":r,l=n.className,u=n.colorScheme,h=n.narrow,d=n.onHide,g=n.onShow,y=n.onVisibleChange,_=n.overlaid,E=n.placement,S=n.position,A=n.size,x=n.unfoldable,O=n.visible,P=ue(n,["children","as","className","colorScheme","narrow","onHide","onShow","onVisibleChange","overlaid","placement","position","size","unfoldable","visible"]),V=B.useRef(null),$=Cc(t,V),H=B.useState(),Y=H[0],D=H[1],R=B.useState(!1),I=R[0],N=R[1],L=B.useState(!1),j=L[0],k=L[1],wt=B.useState(O!==void 0?O:!_),_t=wt[0],W=wt[1];B.useEffect(function(){V.current&&N(Fv(V.current)),O!==void 0&&nt(O)},[O]),B.useEffect(function(){Y!==void 0&&y&&y(Y),!Y&&d&&d(),Y&&g&&g()},[Y]),B.useEffect(function(){I&&k(!1)},[I]),B.useEffect(function(){var it,dt;return V.current&&N(Fv(V.current)),V.current&&D(tp(V.current)),window.addEventListener("resize",bt),window.addEventListener("mouseup",rt),window.addEventListener("keyup",F),(it=V.current)===null||it===void 0||it.addEventListener("mouseup",ht),(dt=V.current)===null||dt===void 0||dt.addEventListener("transitionend",function(){V.current&&D(tp(V.current))}),function(){var Tt,yt;window.removeEventListener("resize",bt),window.removeEventListener("mouseup",rt),window.removeEventListener("keyup",F),(Tt=V.current)===null||Tt===void 0||Tt.removeEventListener("mouseup",ht),(yt=V.current)===null||yt===void 0||yt.removeEventListener("transitionend",function(){V.current&&D(tp(V.current))})}});var nt=function(it){if(I){k(it);return}W(it)},ft=function(){nt(!1)},bt=function(){V.current&&N(Fv(V.current)),V.current&&D(tp(V.current))},F=function(it){I&&V.current&&!V.current.contains(it.target)&&ft()},rt=function(it){I&&V.current&&!V.current.contains(it.target)&&ft()},ht=function(it){var dt=it.target;dt&&dt.classList.contains("nav-link")&&!dt.classList.contains("nav-group-toggle")&&I&&ft()};return ut.createElement(ut.Fragment,null,ut.createElement(a,Pt({className:he("sidebar",(e={},e["sidebar-".concat(u)]=u,e["sidebar-narrow"]=h,e["sidebar-overlaid"]=_,e["sidebar-".concat(E)]=E,e["sidebar-".concat(S)]=S,e["sidebar-".concat(A)]=A,e["sidebar-narrow-unfoldable"]=x,e.show=I&&j||_&&_t,e.hide=_t===!1&&!I&&!_,e),l)},P,{ref:$}),i),typeof window<"u"&&I&&yb.createPortal(ut.createElement(v0,{className:"sidebar-backdrop",visible:I&&j}),document.body))});R0.propTypes={as:z.elementType,children:z.node,className:z.string,colorScheme:z.oneOf(["dark","light"]),narrow:z.bool,onHide:z.func,onShow:z.func,onVisibleChange:z.func,overlaid:z.bool,placement:z.oneOf(["start","end"]),position:z.oneOf(["fixed","sticky"]),size:z.oneOf(["sm","lg","xl"]),unfoldable:z.bool,visible:z.bool};R0.displayName="CSidebar";var oz=function(n){if(!ut.isValidElement(n))return!1;var t=n.type;return t.displayName==="CNavGroup"||t.displayName==="CNavLink"||t.displayName==="CNavItem"},XI=function(n,t,e){return ut.Children.map(n,function(i,r){if(!oz(i))return i;var a=t?e?"".concat(t,".").concat(r):"".concat(t):"".concat(r);if(i.props.children){var l=i.type,u=l.displayName!=="CNavItem";return ut.cloneElement(i,{idx:a,children:XI(i.props.children,a,u)})}return ut.cloneElement(i,{idx:a})})},C0=B.forwardRef(function(n,t){var e=n.children,i=n.as,r=i===void 0?"ul":i,a=n.className,l=ue(n,["children","as","className"]),u=B.useState(""),h=u[0],d=u[1],g={visibleGroup:h,setVisibleGroup:d};return ut.createElement(KI.Provider,{value:g},ut.createElement(r,Pt({className:he("sidebar-nav",a),ref:t},l),XI(e)))});C0.propTypes={as:z.elementType,children:z.node,className:z.string};C0.displayName="CSidebarNav";var vf=B.forwardRef(function(n,t){var e,i=n.as,r=i===void 0?"div":i,a=n.className,l=n.color,u=n.size,h=n.variant,d=h===void 0?"border":h,g=n.visuallyHiddenLabel,y=g===void 0?"Loading...":g,_=ue(n,["as","className","color","size","variant","visuallyHiddenLabel"]);return ut.createElement(r,Pt({className:he("spinner-".concat(d),(e={},e["spinner-".concat(d,"-").concat(u)]=u,e["text-".concat(l)]=l,e),a),role:"status"},_,{ref:t}),ut.createElement("span",{className:"visually-hidden"},y))});vf.propTypes={as:z.string,className:z.string,color:Po,size:z.oneOf(["sm"]),variant:z.oneOf(["border","grow"]),visuallyHiddenLabel:z.string};vf.displayName="CSpinner";var rs=B.forwardRef(function(n,t){var e,i=n.action,r=n.chart,a=n.className,l=n.color,u=n.title,h=n.value,d=ue(n,["action","chart","className","color","title","value"]);return ut.createElement(Oc,Pt({className:he((e={},e["bg-".concat(l)]=l,e["text-white"]=l,e),a)},d,{ref:t}),ut.createElement(Ic,{className:"pb-0 d-flex justify-content-between align-items-start"},ut.createElement("div",null,h&&ut.createElement("div",{className:"fs-4 fw-semibold"},h),u&&ut.createElement("div",null,u)),i),r)});rs.propTypes={action:z.node,chart:z.oneOfType([z.string,z.node]),className:z.string,color:Po,title:z.oneOfType([z.string,z.node]),value:z.oneOfType([z.string,z.node,z.number])};rs.displayName="CWidgetStatsA";function AA(){const[n,t]=B.useState(""),[e,i]=B.useState(""),[r,a]=B.useState(""),[l,u]=B.useState(!1),h=xg(),d=async g=>{g.preventDefault(),console.log(" handleSubmit triggered"),a(""),u(!0);try{console.log(" attempt login:",{email:n,password:e});const{user:y}=await kV(c0,n.trim(),e);console.log(" login success:",y.uid),h("/dashboard",{replace:!0})}catch(y){console.error(" login error:",y.code,y.message),a(y.code==="auth/user-not-found"?"Utilizador no registado":y.code==="auth/wrong-password"?"Password incorreta":"Erro no incio de sesso")}finally{console.log(" handleSubmit end"),u(!1)}};return J.jsx(yf,{className:"vh-100 d-flex justify-content-center align-items-center",children:J.jsx(Mc,{className:"w-100 justify-content-center",children:J.jsx(Li,{xs:12,sm:8,md:6,lg:4,children:J.jsx(Oc,{className:"p-4",children:J.jsxs(Ic,{children:[J.jsx("h2",{className:"text-center mb-4",children:"Entrar"}),r&&J.jsx(Yg,{color:"danger",children:r}),J.jsxs("form",{onSubmit:d,children:[J.jsx(fs,{htmlFor:"login-email",children:"Email"}),J.jsx(So,{id:"login-email",type:"email",value:n,onChange:g=>t(g.target.value),required:!0}),J.jsx(fs,{htmlFor:"login-password",className:"mt-3",children:"Password"}),J.jsx(So,{id:"login-password",type:"password",value:e,onChange:g=>i(g.target.value),required:!0}),J.jsx("button",{type:"submit",onClick:()=>console.log(" submit button clicked"),className:"btn btn-primary w-100 mt-4",disabled:l,children:l?J.jsx(vf,{size:"sm"}):"Entrar"})]}),J.jsx("div",{className:"text-center mt-3",children:J.jsx(tf,{to:"/register",children:"Ainda no tens conta? Regista-te"})})]})})})})})}function lz(){const[n,t]=B.useState(""),[e,i]=B.useState(""),[r,a]=B.useState(""),[l,u]=B.useState(""),[h,d]=B.useState(!1),g=xg(),y=async _=>{_.preventDefault(),u(""),d(!0);try{const E=await PV(c0,n.trim(),e);await VV(E.user,{displayName:r.trim()}),await gU(xI(Eh,"users",E.user.uid),{uid:E.user.uid,email:E.user.email,displayName:r.trim(),role:"client",createdAt:vU()}),g("/login",{replace:!0})}catch(E){console.error("Register error:",E.code,E.message),u("No foi possvel registar. "+E.message)}finally{d(!1)}};return J.jsx(yf,{className:"vh-100 d-flex justify-content-center align-items-center",children:J.jsx(Mc,{className:"w-100 justify-content-center",children:J.jsx(Li,{xs:12,sm:8,md:6,lg:4,children:J.jsx(Oc,{className:"p-4",children:J.jsxs(Ic,{children:[J.jsx("h2",{className:"text-center mb-4",children:"Registar"}),l&&J.jsx(Yg,{color:"danger",children:l}),J.jsxs(E0,{onSubmit:y,children:[J.jsx(fs,{htmlFor:"register-name",children:"Nome"}),J.jsx(So,{id:"register-name",type:"text",value:r,onChange:_=>a(_.target.value),required:!0}),J.jsx(fs,{htmlFor:"register-email",className:"mt-3",children:"Email"}),J.jsx(So,{id:"register-email",type:"email",value:n,onChange:_=>t(_.target.value),required:!0}),J.jsx(fs,{htmlFor:"register-password",className:"mt-3",children:"Password"}),J.jsx(So,{id:"register-password",type:"password",value:e,onChange:_=>i(_.target.value),required:!0}),J.jsx(Kg,{type:"submit",color:"primary",className:"w-100 mt-4",disabled:h,children:h?J.jsx(vf,{size:"sm"}):"Registar"})]}),J.jsx("div",{className:"text-center mt-3",children:J.jsx(tf,{to:"/login",children:"J tens conta? Faz login"})})]})})})})})}function QI({menu:n,children:t}){return J.jsxs(J.Fragment,{children:[J.jsx(R0,{unfoldable:!0,children:J.jsx(C0,{children:n.map(e=>J.jsx(x0,{component:tf,to:e.path,children:e.label},e.path))})}),J.jsxs("div",{className:"c-wrapper",children:[J.jsx(S0,{children:J.jsx(w0,{})}),J.jsx(yf,{lg:!0,className:"mt-4",children:t})]})]})}var xA={},Hh=function(){return Hh=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Hh.apply(this,arguments)};function ZI(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function JI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var t2={exports:{}},Hv,RA;function cz(){if(RA)return Hv;RA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hv=n,Hv}var $v,CA;function uz(){if(CA)return $v;CA=1;var n=cz();function t(){}function e(){}return e.resetWarningCache=t,$v=function(){function i(l,u,h,d,g,y){if(y!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},$v}t2.exports=uz()();var hz=t2.exports,Pe=JI(hz),e2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=r(a,i(u)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)t.call(a,u)&&a[u]&&(l=r(l,u));return l}function r(a,l){return l?a?a+" "+l:a+l:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(e2);var fz=e2.exports,ug=JI(fz),dz=function(n){return n.replace(/([-_][a-z0-9])/gi,function(t){return t.toUpperCase()}).replace(/-/gi,"")},lr=B.forwardRef(function(n,t){var e,i=n.className,r=n.content,a=n.customClassName,l=n.height,u=n.icon,h=n.name,d=n.size,g=n.title,y=n.use,_=n.width,E=ZI(n,["className","content","customClassName","height","icon","name","size","title","use","width"]),S=B.useState(0),A=S[0],x=S[1],O=u||r||h;r&&process,h&&process,B.useMemo(function(){return x(A+1)},[O,JSON.stringify(O)]);var P=g?"<title>".concat(g,"</title>"):"",V=B.useMemo(function(){var R=O&&typeof O=="string"&&O.includes("-")?dz(O):O;if(Array.isArray(O))return O;if(typeof O=="string"&&ut.icons)return ut[R]},[A]),$=B.useMemo(function(){return Array.isArray(V)?V[1]||V[0]:V},[A]),H=function(){return Array.isArray(V)&&V.length>1?V[0]:"64 64"}(),Y=function(){return E.viewBox||"0 0 ".concat(H)}(),D=a?ug(a):ug("icon",(e={},e["icon-".concat(d)]=d,e["icon-custom-size"]=l||_,e),i);return ut.createElement(ut.Fragment,null,y?ut.createElement("svg",Hh({xmlns:"http://www.w3.org/2000/svg",className:D},l&&{height:l},_&&{width:_},{role:"img","aria-hidden":"true"},E,{ref:t}),ut.createElement("use",{href:y})):ut.createElement("svg",Hh({xmlns:"http://www.w3.org/2000/svg",viewBox:Y,className:D},l&&{height:l},_&&{width:_},{role:"img","aria-hidden":"true",dangerouslySetInnerHTML:{__html:P+$}},E,{ref:t})),g&&ut.createElement("span",{className:"visually-hidden"},g))});lr.propTypes={className:Pe.string,content:Pe.oneOfType([Pe.array,Pe.string]),customClassName:Pe.string,height:Pe.number,icon:Pe.oneOfType([Pe.array,Pe.string]),name:Pe.string,size:Pe.oneOf(["custom","custom-size","sm","lg","xl","xxl","3xl","4xl","5xl","6xl","7xl","8xl","9xl"]),title:Pe.string,use:Pe.string,viewBox:Pe.string,width:Pe.number};lr.displayName="CIcon";var n2=B.forwardRef(function(n,t){var e,i=n.children,r=n.className,a=n.customClassName,l=n.height,u=n.size,h=n.title,d=n.width,g=ZI(n,["children","className","customClassName","height","size","title","width"]),y=a?ug(a):ug("icon",(e={},e["icon-".concat(u)]=u,e["icon-custom-size"]=l||d,e),r);return ut.createElement(ut.Fragment,null,B.Children.map(i,function(_){if(ut.isValidElement(_))return ut.cloneElement(_,Hh({"aria-hidden":!0,className:y,focusable:"false",ref:t,role:"img"},g))}),h&&ut.createElement("span",{className:"visually-hidden"},h))});n2.propTypes={className:Pe.string,customClassName:Pe.string,height:Pe.number,size:Pe.oneOf(["custom","custom-size","sm","lg","xl","xxl","3xl","4xl","5xl","6xl","7xl","8xl","9xl"]),title:Pe.string,width:Pe.number};n2.displayName="CIconSvg";var OA=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='367.997 338.75 271.999 434.747 271.999 17.503 239.999 17.503 239.999 434.745 144.003 338.75 121.376 361.377 256 496 390.624 361.377 367.997 338.75' class='ci-primary'/>"],IA=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='390.624 150.625 256 16 121.376 150.625 144.004 173.252 240.001 77.254 240.001 495.236 272.001 495.236 272.001 77.257 367.996 173.252 390.624 150.625' class='ci-primary'/>"],ep=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,144a64,64,0,1,0-64-64A64.072,64.072,0,0,0,256,144Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,256,48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,368a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,368Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,464Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,192a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,192Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,288Z' class='ci-primary'/>"];/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _f(n){return n+.5|0}const ra=(n,t,e)=>Math.max(Math.min(n,e),t);function lh(n){return ra(_f(n*2.55),0,255)}function da(n){return ra(_f(n*255),0,255)}function es(n){return ra(_f(n/2.55)/100,0,1)}function MA(n){return ra(_f(n*100),0,100)}const _i={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},H_=[..."0123456789ABCDEF"],pz=n=>H_[n&15],gz=n=>H_[(n&240)>>4]+H_[n&15],np=n=>(n&240)>>4===(n&15),mz=n=>np(n.r)&&np(n.g)&&np(n.b)&&np(n.a);function yz(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&_i[n[1]]*17,g:255&_i[n[2]]*17,b:255&_i[n[3]]*17,a:t===5?_i[n[4]]*17:255}:(t===7||t===9)&&(e={r:_i[n[1]]<<4|_i[n[2]],g:_i[n[3]]<<4|_i[n[4]],b:_i[n[5]]<<4|_i[n[6]],a:t===9?_i[n[7]]<<4|_i[n[8]]:255})),e}const vz=(n,t)=>n<255?t(n):"";function _z(n){var t=mz(n)?pz:gz;return n?"#"+t(n.r)+t(n.g)+t(n.b)+vz(n.a,t):void 0}const bz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function i2(n,t,e){const i=t*Math.min(e,1-e),r=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function Ez(n,t,e){const i=(r,a=(r+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Tz(n,t,e){const i=i2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Sz(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function O0(n){const e=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(e,i,r),l=Math.min(e,i,r),u=(a+l)/2;let h,d,g;return a!==l&&(g=a-l,d=u>.5?g/(2-a-l):g/(a+l),h=Sz(e,i,r,g,a),h=h*60+.5),[h|0,d||0,u]}function I0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(da)}function M0(n,t,e){return I0(i2,n,t,e)}function wz(n,t,e){return I0(Tz,n,t,e)}function Az(n,t,e){return I0(Ez,n,t,e)}function r2(n){return(n%360+360)%360}function xz(n){const t=bz.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?lh(+t[5]):da(+t[5]));const r=r2(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=wz(r,a,l):t[1]==="hsv"?i=Az(r,a,l):i=M0(r,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function Rz(n,t){var e=O0(n);e[0]=r2(e[0]+t),e=M0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Cz(n){if(!n)return;const t=O0(n),e=t[0],i=MA(t[1]),r=MA(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${es(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const DA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},NA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Oz(){const n={},t=Object.keys(NA),e=Object.keys(DA);let i,r,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)a=e[r],u=u.replace(a,DA[a]);a=parseInt(NA[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let ip;function Iz(n){ip||(ip=Oz(),ip.transparent=[0,0,0,0]);const t=ip[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Mz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Dz(n){const t=Mz.exec(n);let e=255,i,r,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?lh(l):ra(l*255,0,255)}return i=+t[1],r=+t[3],a=+t[5],i=255&(t[2]?lh(i):ra(i,0,255)),r=255&(t[4]?lh(r):ra(r,0,255)),a=255&(t[6]?lh(a):ra(a,0,255)),{r:i,g:r,b:a,a:e}}}function Nz(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${es(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qv=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,zl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Pz(n,t,e){const i=zl(es(n.r)),r=zl(es(n.g)),a=zl(es(n.b));return{r:da(qv(i+e*(zl(es(t.r))-i))),g:da(qv(r+e*(zl(es(t.g))-r))),b:da(qv(a+e*(zl(es(t.b))-a))),a:n.a+e*(t.a-n.a)}}function rp(n,t,e){if(n){let i=O0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=M0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function s2(n,t){return n&&Object.assign(t||{},n)}function PA(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=da(n[3]))):(t=s2(n,{r:0,g:0,b:0,a:1}),t.a=da(t.a)),t}function kz(n){return n.charAt(0)==="r"?Dz(n):xz(n)}class $h{constructor(t){if(t instanceof $h)return t;const e=typeof t;let i;e==="object"?i=PA(t):e==="string"&&(i=yz(t)||Iz(t)||kz(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=s2(this._rgb);return t&&(t.a=es(t.a)),t}set rgb(t){this._rgb=PA(t)}rgbString(){return this._valid?Nz(this._rgb):void 0}hexString(){return this._valid?_z(this._rgb):void 0}hslString(){return this._valid?Cz(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,h=i.a-r.a,d=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-d,i.r=255&d*i.r+a*r.r+.5,i.g=255&d*i.g+a*r.g+.5,i.b=255&d*i.b+a*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Pz(this._rgb,t._rgb,e)),this}clone(){return new $h(this.rgb)}alpha(t){return this._rgb.a=da(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=_f(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return rp(this._rgb,2,t),this}darken(t){return rp(this._rgb,2,-t),this}saturate(t){return rp(this._rgb,1,t),this}desaturate(t){return rp(this._rgb,1,-t),this}rotate(t){return Rz(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zr(){}const Lz=(()=>{let n=0;return()=>n++})();function Ft(n){return n==null}function Se(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Gt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ie(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ii(n,t){return Ie(n)?n:t}function Dt(n,t){return typeof n>"u"?t:n}const Vz=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,a2=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function pe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function se(n,t,e,i){let r,a,l;if(Se(n))for(a=n.length,r=0;r<a;r++)t.call(e,n[r],r);else if(Gt(n))for(l=Object.keys(n),a=l.length,r=0;r<a;r++)t.call(e,n[l[r]],l[r])}function hg(n,t){let e,i,r,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],a=t[e],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function fg(n){if(Se(n))return n.map(fg);if(Gt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=fg(n[e[r]]);return t}return n}function o2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Uz(n,t,e,i){if(!o2(n))return;const r=t[n],a=e[n];Gt(r)&&Gt(a)?qh(r,a,i):t[n]=fg(a)}function qh(n,t,e){const i=Se(t)?t:[t],r=i.length;if(!Gt(n))return n;e=e||{};const a=e.merger||Uz;let l;for(let u=0;u<r;++u){if(l=i[u],!Gt(l))continue;const h=Object.keys(l);for(let d=0,g=h.length;d<g;++d)a(h[d],n,l,e)}return n}function Ah(n,t){return qh(n,t,{merger:zz})}function zz(n,t,e){if(!o2(n))return;const i=t[n],r=e[n];Gt(i)&&Gt(r)?Ah(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=fg(r))}const kA={"":n=>n,x:n=>n.x,y:n=>n.y};function Bz(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function jz(n){const t=Bz(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ba(n,t){return(kA[t]||(kA[t]=jz(t)))(n)}function D0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Gh=n=>typeof n<"u",Ea=n=>typeof n=="function",LA=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Fz(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Jt=Math.PI,be=2*Jt,Hz=be+Jt,dg=Number.POSITIVE_INFINITY,$z=Jt/180,Le=Jt/2,lo=Jt/4,VA=Jt*2/3,sa=Math.log10,_r=Math.sign;function xh(n,t,e){return Math.abs(n-t)<e}function UA(n){const t=Math.round(n);n=xh(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(sa(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function qz(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,a)=>r-a).pop(),t}function Gz(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function pc(n){return!Gz(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Wz(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function l2(n,t,e){let i,r,a;for(i=0,r=n.length;i<r;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Vi(n){return n*(Jt/180)}function N0(n){return n*(180/Jt)}function zA(n){if(!Ie(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function c2(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*Jt&&(a+=be),{angle:a,distance:r}}function $_(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Yz(n,t){return(n-t+Hz)%be-Jt}function xn(n){return(n%be+be)%be}function Wh(n,t,e,i){const r=xn(n),a=xn(t),l=xn(e),u=xn(a-r),h=xn(l-r),d=xn(r-a),g=xn(r-l);return r===a||r===l||i&&a===l||u>h&&d<g}function ln(n,t,e){return Math.max(t,Math.min(e,n))}function Kz(n){return ln(n,-32768,32767)}function ss(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function P0(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,e(a)?r=a:i=a;return{lo:r,hi:i}}const as=(n,t,e,i)=>P0(n,e,i?r=>{const a=n[r][t];return a<e||a===e&&n[r+1][t]===e}:r=>n[r][t]<e),Xz=(n,t,e)=>P0(n,e,i=>n[i][t]>=e);function Qz(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const u2=["push","pop","shift","splice","unshift"];function Zz(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),u2.forEach(e=>{const i="_onData"+D0(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function BA(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(u2.forEach(a=>{delete n[a]}),delete n._chartjs)}function h2(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const f2=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function d2(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,f2.call(window,()=>{i=!1,n.apply(t,e)}))}}function Jz(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const k0=n=>n==="start"?"left":n==="end"?"right":"center",wn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,tB=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function p2(n,t,e){const i=t.length;let r=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:y,max:_,minDefined:E,maxDefined:S}=l.getUserBounds();if(E){if(r=Math.min(as(h,g,y).lo,e?i:as(t,g,l.getPixelForValue(y)).lo),d){const A=h.slice(0,r+1).reverse().findIndex(x=>!Ft(x[u.axis]));r-=Math.max(0,A)}r=ln(r,0,i-1)}if(S){let A=Math.max(as(h,l.axis,_,!0).hi+1,e?0:as(t,g,l.getPixelForValue(_),!0).hi+1);if(d){const x=h.slice(A-1).findIndex(O=>!Ft(O[u.axis]));A+=Math.max(0,x)}a=ln(A,r,i)-r}else a=i-r}return{start:r,count:a}}function g2(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),a}const sp=n=>n===0||n===1,jA=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*be/e)),FA=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*be/e)+1,Rh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Le)+1,easeOutSine:n=>Math.sin(n*Le),easeInOutSine:n=>-.5*(Math.cos(Jt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>sp(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>sp(n)?n:jA(n,.075,.3),easeOutElastic:n=>sp(n)?n:FA(n,.075,.3),easeInOutElastic(n){return sp(n)?n:n<.5?.5*jA(n*2,.1125,.45):.5+.5*FA(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Rh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Rh.easeInBounce(n*2)*.5:Rh.easeOutBounce(n*2-1)*.5+.5};function L0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function HA(n){return L0(n)?n:new $h(n)}function Gv(n){return L0(n)?n:new $h(n).saturate(.5).darken(.1).hexString()}const eB=["x","y","borderWidth","radius","tension"],nB=["color","borderColor","backgroundColor"];function iB(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:nB},numbers:{type:"number",properties:eB}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function rB(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $A=new Map;function sB(n,t){t=t||{};const e=n+JSON.stringify(t);let i=$A.get(e);return i||(i=new Intl.NumberFormat(n,t),$A.set(e,i)),i}function bf(n,t,e){return sB(t,e).format(n)}const m2={values(n){return Se(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,a=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),a=aB(n,e)}const l=sa(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),bf(n,i,h)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(sa(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?m2.numeric.call(this,n,t,e):""}};function aB(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Zg={formatters:m2};function oB(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ko=Object.create(null),q_=Object.create(null);function Ch(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function Wv(n,t,e){return typeof t=="string"?qh(Ch(n,t),e):qh(Ch(n,""),t)}class lB{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Gv(r.backgroundColor),this.hoverBorderColor=(i,r)=>Gv(r.borderColor),this.hoverColor=(i,r)=>Gv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Wv(this,t,e)}get(t){return Ch(this,t)}describe(t,e){return Wv(q_,t,e)}override(t,e){return Wv(ko,t,e)}route(t,e,i,r){const a=Ch(this,t),l=Ch(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],d=l[r];return Gt(h)?Object.assign({},d,h):Dt(h,d)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var we=new lB({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iB,rB,oB]);function cB(n){return!n||Ft(n.size)||Ft(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function pg(n,t,e,i,r){let a=t[r];return a||(a=t[r]=n.measureText(r).width,e.push(r)),a>i&&(i=a),i}function uB(n,t,e,i){i=i||{};let r=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let h,d,g,y,_;for(h=0;h<u;h++)if(y=e[h],y!=null&&!Se(y))l=pg(n,r,a,l,y);else if(Se(y))for(d=0,g=y.length;d<g;d++)_=y[d],_!=null&&!Se(_)&&(l=pg(n,r,a,l,_));n.restore();const E=a.length/2;if(E>e.length){for(h=0;h<E;h++)delete r[a[h]];a.splice(0,E)}return l}function co(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function qA(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function G_(n,t,e,i){y2(n,t,e,i,null)}function y2(n,t,e,i,r){let a,l,u,h,d,g,y,_;const E=t.pointStyle,S=t.rotation,A=t.radius;let x=(S||0)*$z;if(E&&typeof E=="object"&&(a=E.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(x),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,A,0,0,be):n.arc(e,i,A,0,be),n.closePath();break;case"triangle":g=r?r/2:A,n.moveTo(e+Math.sin(x)*g,i-Math.cos(x)*A),x+=VA,n.lineTo(e+Math.sin(x)*g,i-Math.cos(x)*A),x+=VA,n.lineTo(e+Math.sin(x)*g,i-Math.cos(x)*A),n.closePath();break;case"rectRounded":d=A*.516,h=A-d,l=Math.cos(x+lo)*h,y=Math.cos(x+lo)*(r?r/2-d:h),u=Math.sin(x+lo)*h,_=Math.sin(x+lo)*(r?r/2-d:h),n.arc(e-y,i-u,d,x-Jt,x-Le),n.arc(e+_,i-l,d,x-Le,x),n.arc(e+y,i+u,d,x,x+Le),n.arc(e-_,i+l,d,x+Le,x+Jt),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*A,g=r?r/2:h,n.rect(e-g,i-h,2*g,2*h);break}x+=lo;case"rectRot":y=Math.cos(x)*(r?r/2:A),l=Math.cos(x)*A,u=Math.sin(x)*A,_=Math.sin(x)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+_,i-l),n.lineTo(e+y,i+u),n.lineTo(e-_,i+l),n.closePath();break;case"crossRot":x+=lo;case"cross":y=Math.cos(x)*(r?r/2:A),l=Math.cos(x)*A,u=Math.sin(x)*A,_=Math.sin(x)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"star":y=Math.cos(x)*(r?r/2:A),l=Math.cos(x)*A,u=Math.sin(x)*A,_=Math.sin(x)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l),x+=lo,y=Math.cos(x)*(r?r/2:A),l=Math.cos(x)*A,u=Math.sin(x)*A,_=Math.sin(x)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"line":l=r?r/2:Math.cos(x)*A,u=Math.sin(x)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(x)*(r?r/2:A),i+Math.sin(x)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function os(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Jg(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function tm(n){n.restore()}function hB(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function fB(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function dB(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ft(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function pB(n,t,e,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,d=e+a.actualBoundingBoxDescent,g=r.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function gB(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Lo(n,t,e,i,r,a={}){const l=Se(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let h,d;for(n.save(),n.font=r.string,dB(n,a),h=0;h<l.length;++h)d=l[h],a.backdrop&&gB(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Ft(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(d,e,i,a.maxWidth)),n.fillText(d,e,i,a.maxWidth),pB(n,e,i,d,a),i+=Number(r.lineHeight);n.restore()}function Yh(n,t){const{x:e,y:i,w:r,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Jt,Jt,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Jt,Le,!0),n.lineTo(e+r-l.bottomRight,i+a),n.arc(e+r-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Le,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Le,!0),n.lineTo(e+l.topLeft,i)}const mB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vB(n,t){const e=(""+n).match(mB);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const _B=n=>+n||0;function V0(n,t){const e={},i=Gt(t),r=i?Object.keys(t):t,a=Gt(n)?i?l=>Dt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=_B(a(l));return e}function v2(n){return V0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function wo(n){return V0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Mn(n){const t=v2(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Qe(n,t){n=n||{},t=t||we.font;let e=Dt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Dt(n.style,t.style);i&&!(""+i).match(yB)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Dt(n.family,t.family),lineHeight:vB(Dt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Dt(n.weight,t.weight),string:""};return r.string=cB(r),r}function ch(n,t,e,i){let r,a,l;for(r=0,a=n.length;r<a;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function bB(n,t,e){const{min:i,max:r}=n,a=a2(t,(r-i)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(r,a)}}function Aa(n,t){return Object.assign(Object.create(n),t)}function U0(n,t=[""],e,i,r=()=>n[0]){const a=e||n;typeof i>"u"&&(i=T2("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:u=>U0([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return b2(u,h,()=>CB(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return WA(u).includes(h)},ownKeys(u){return WA(u)},set(u,h,d){const g=u._storage||(u._storage=r());return u[h]=g[h]=d,delete u._keys,!0}})}function gc(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:_2(n,i),setContext:a=>gc(n,a,e,i),override:a=>gc(n.override(a),t,e,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return b2(a,l,()=>TB(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function _2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ea(e)?e:()=>e,isIndexable:Ea(i)?i:()=>i}}const EB=(n,t)=>n?n+D0(t):t,z0=(n,t)=>Gt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function b2(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function TB(n,t,e){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=n;let u=i[t];return Ea(u)&&l.isScriptable(t)&&(u=SB(t,u,n,e)),Se(u)&&u.length&&(u=wB(t,u,n,l.isIndexable)),z0(t,u)&&(u=gc(u,r,a&&a[t],l)),u}function SB(n,t,e,i){const{_proxy:r,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(a,l||i);return u.delete(n),z0(n,h)&&(h=B0(r._scopes,r,n,h)),h}function wB(n,t,e,i){const{_proxy:r,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Gt(t[0])){const h=t,d=r._scopes.filter(g=>g!==h);t=[];for(const g of h){const y=B0(d,r,n,g);t.push(gc(y,a,l&&l[n],u))}}return t}function E2(n,t,e){return Ea(n)?n(t,e):n}const AB=(n,t)=>n===!0?t:typeof n=="string"?ba(t,n):void 0;function xB(n,t,e,i,r){for(const a of t){const l=AB(e,a);if(l){n.add(l);const u=E2(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function B0(n,t,e,i){const r=t._rootScopes,a=E2(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let h=GA(u,l,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=GA(u,l,a,h,i),h===null)?!1:U0(Array.from(u),[""],r,a,()=>RB(t,e,i))}function GA(n,t,e,i,r){for(;e;)e=xB(n,t,e,i,r);return e}function RB(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Se(r)&&Gt(e)?e:r||{}}function CB(n,t,e,i){let r;for(const a of t)if(r=T2(EB(a,n),e),typeof r<"u")return z0(n,r)?B0(e,i,n,r):r}function T2(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function WA(n){let t=n._keys;return t||(t=n._keys=OB(n._scopes)),t}function OB(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function S2(n,t,e,i){const{iScale:r}=n,{key:a="r"}=this._parsing,l=new Array(i);let u,h,d,g;for(u=0,h=i;u<h;++u)d=u+e,g=t[d],l[u]={r:r.parse(ba(g,a),d)};return l}const IB=Number.EPSILON||1e-14,mc=(n,t)=>t<n.length&&!n[t].skip&&n[t],w2=n=>n==="x"?"y":"x";function MB(n,t,e,i){const r=n.skip?t:n,a=t,l=e.skip?t:e,u=$_(a,r),h=$_(l,a);let d=u/(u+h),g=h/(u+h);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const y=i*d,_=i*g;return{previous:{x:a.x-y*(l.x-r.x),y:a.y-y*(l.y-r.y)},next:{x:a.x+_*(l.x-r.x),y:a.y+_*(l.y-r.y)}}}function DB(n,t,e){const i=n.length;let r,a,l,u,h,d=mc(n,0);for(let g=0;g<i-1;++g)if(h=d,d=mc(n,g+1),!(!h||!d)){if(xh(t[g],0,IB)){e[g]=e[g+1]=0;continue}r=e[g]/t[g],a=e[g+1]/t[g],u=Math.pow(r,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=r*l*t[g],e[g+1]=a*l*t[g])}}function NB(n,t,e="x"){const i=w2(e),r=n.length;let a,l,u,h=mc(n,0);for(let d=0;d<r;++d){if(l=u,u=h,h=mc(n,d+1),!u)continue;const g=u[e],y=u[i];l&&(a=(g-l[e])/3,u[`cp1${e}`]=g-a,u[`cp1${i}`]=y-a*t[d]),h&&(a=(h[e]-g)/3,u[`cp2${e}`]=g+a,u[`cp2${i}`]=y+a*t[d])}}function PB(n,t="x"){const e=w2(t),i=n.length,r=Array(i).fill(0),a=Array(i);let l,u,h,d=mc(n,0);for(l=0;l<i;++l)if(u=h,h=d,d=mc(n,l+1),!!h){if(d){const g=d[t]-h[t];r[l]=g!==0?(d[e]-h[e])/g:0}a[l]=u?d?_r(r[l-1])!==_r(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}DB(n,r,a),NB(n,a,t)}function ap(n,t,e){return Math.max(Math.min(n,e),t)}function kB(n,t){let e,i,r,a,l,u=os(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=u,u=e<i-1&&os(n[e+1],t),a&&(r=n[e],l&&(r.cp1x=ap(r.cp1x,t.left,t.right),r.cp1y=ap(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=ap(r.cp2x,t.left,t.right),r.cp2y=ap(r.cp2y,t.top,t.bottom)))}function LB(n,t,e,i,r){let a,l,u,h;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")PB(n,r);else{let d=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],h=MB(d,u,n[Math.min(a+1,l-(i?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,d=u}t.capBezierPoints&&kB(n,e)}function j0(){return typeof window<"u"&&typeof document<"u"}function F0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function gg(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const em=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function VB(n,t){return em(n).getPropertyValue(t)}const UB=["top","right","bottom","left"];function Ao(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const a=UB[r];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const zB=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function BB(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:a}=i;let l=!1,u,h;if(zB(r,a,n.target))u=r,h=a;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:u,y:h,box:l}}function mo(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=em(e),a=r.boxSizing==="border-box",l=Ao(r,"padding"),u=Ao(r,"border","width"),{x:h,y:d,box:g}=BB(n,e),y=l.left+(g&&u.left),_=l.top+(g&&u.top);let{width:E,height:S}=t;return a&&(E-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-y)/E*e.width/i),y:Math.round((d-_)/S*e.height/i)}}function jB(n,t,e){let i,r;if(t===void 0||e===void 0){const a=n&&F0(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=em(a),h=Ao(u,"border","width"),d=Ao(u,"padding");t=l.width-d.width-h.width,e=l.height-d.height-h.height,i=gg(u.maxWidth,a,"clientWidth"),r=gg(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||dg,maxHeight:r||dg}}const op=n=>Math.round(n*10)/10;function FB(n,t,e,i){const r=em(n),a=Ao(r,"margin"),l=gg(r.maxWidth,n,"clientWidth")||dg,u=gg(r.maxHeight,n,"clientHeight")||dg,h=jB(n,t,e);let{width:d,height:g}=h;if(r.boxSizing==="content-box"){const _=Ao(r,"border","width"),E=Ao(r,"padding");d-=E.width+_.width,g-=E.height+_.height}return d=Math.max(0,d-a.width),g=Math.max(0,i?d/i:g-a.height),d=op(Math.min(d,l,h.maxWidth)),g=op(Math.min(g,u,h.maxHeight)),d&&!g&&(g=op(d/2)),(t!==void 0||e!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,d=op(Math.floor(g*i))),{width:d,height:g}}function YA(n,t,e){const i=t||1,r=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==a?(n.currentDevicePixelRatio=i,l.height=r,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const HB=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};j0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function KA(n,t){const e=VB(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function yo(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function $B(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function qB(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=yo(n,r,e),u=yo(r,a,e),h=yo(a,t,e),d=yo(l,u,e),g=yo(u,h,e);return yo(d,g,e)}const GB=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},WB=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ec(n,t,e){return n?GB(t,e):WB()}function A2(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function x2(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function R2(n){return n==="angle"?{between:Wh,compare:Yz,normalize:xn}:{between:ss,compare:(t,e)=>t-e,normalize:t=>t}}function XA({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function YB(n,t,e){const{property:i,start:r,end:a}=e,{between:l,normalize:u}=R2(i),h=t.length;let{start:d,end:g,loop:y}=n,_,E;if(y){for(d+=h,g+=h,_=0,E=h;_<E&&l(u(t[d%h][i]),r,a);++_)d--,g--;d%=h,g%=h}return g<d&&(g+=h),{start:d,end:g,loop:y,style:n.style}}function C2(n,t,e){if(!e)return[n];const{property:i,start:r,end:a}=e,l=t.length,{compare:u,between:h,normalize:d}=R2(i),{start:g,end:y,loop:_,style:E}=YB(n,t,e),S=[];let A=!1,x=null,O,P,V;const $=()=>h(r,V,O)&&u(r,V)!==0,H=()=>u(a,O)===0||h(a,V,O),Y=()=>A||$(),D=()=>!A||H();for(let R=g,I=g;R<=y;++R)P=t[R%l],!P.skip&&(O=d(P[i]),O!==V&&(A=h(O,r,a),x===null&&Y()&&(x=u(O,r)===0?R:I),x!==null&&D()&&(S.push(XA({start:x,end:R,loop:_,count:l,style:E})),x=null),I=R,V=O));return x!==null&&S.push(XA({start:x,end:y,loop:_,count:l,style:E})),S}function O2(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const a=C2(i[r],n.points,t);a.length&&e.push(...a)}return e}function KB(n,t,e,i){let r=0,a=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(a+=r);a>r&&n[a%t].skip;)a--;return a%=t,{start:r,end:a}}function XB(n,t,e,i){const r=n.length,a=[];let l=t,u=n[t],h;for(h=t+1;h<=e;++h){const d=n[h%r];d.skip||d.stop?u.skip||(i=!1,a.push({start:t%r,end:(h-1)%r,loop:i}),t=l=d.stop?h:null):(l=h,u.skip&&(t=h)),u=d}return l!==null&&a.push({start:t%r,end:l%r,loop:i}),a}function QB(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const a=!!n._loop,{start:l,end:u}=KB(e,r,a,i);if(i===!0)return QA(n,[{start:l,end:u,loop:a}],e,t);const h=u<l?u+r:u,d=!!n._fullLoop&&l===0&&u===r-1;return QA(n,XB(e,l,h,d),e,t)}function QA(n,t,e,i){return!i||!i.setContext||!e?t:ZB(n,t,e,i)}function ZB(n,t,e,i){const r=n._chart.getContext(),a=ZA(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=e.length,d=[];let g=a,y=t[0].start,_=y;function E(S,A,x,O){const P=u?-1:1;if(S!==A){for(S+=h;e[S%h].skip;)S-=P;for(;e[A%h].skip;)A+=P;S%h!==A%h&&(d.push({start:S%h,end:A%h,loop:x,style:O}),g=O,y=A%h)}}for(const S of t){y=u?y:S.start;let A=e[y%h],x;for(_=y+1;_<=S.end;_++){const O=e[_%h];x=ZA(i.setContext(Aa(r,{type:"segment",p0:A,p1:O,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),JB(x,g)&&E(y,_-1,S.loop,g),A=O,g=x}y<_-1&&E(y,_-1,S.loop,g)}return d}function ZA(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function JB(n,t){if(!t)return!1;const e=[],i=function(r,a){return L0(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function lp(n,t,e){return n.options.clip?n[e]:t[e]}function tj(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:lp(e,t,"left"),right:lp(e,t,"right"),top:lp(i,t,"top"),bottom:lp(i,t,"bottom")}:t}function I2(n,t){const e=t._clip;if(e.disabled)return!1;const i=tj(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ej{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.listeners[r],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=f2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),a.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Jr=new ej;const JA="transparent",nj={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=HA(n||JA),r=i.valid&&HA(t||JA);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class ij{constructor(t,e,i,r){const a=e[i];r=ch([t.to,r,a,t.from]);const l=ch([t.from,a,r]);this._active=!0,this._fn=t.fn||nj[t.type||typeof l],this._easing=Rh[t.easing]||Rh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ch([t.to,e,r,t.from]),this._from=ch([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=a;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(a,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class M2{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Gt(t))return;const e=Object.keys(we.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const a=t[r];if(!Gt(a))return;const l={};for(const u of e)l[u]=a[u];(Se(a.properties)&&a.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=sj(t,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&rj(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,r=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const g=e[d];let y=a[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,g,u);continue}else y.cancel();if(!_||!_.duration){t[d]=g;continue}a[d]=y=new ij(_,t,d,g),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Jr.add(this._chart,i),!0}}function rj(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function sj(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function tx(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:r,end:i?r:a}}function aj(n,t,e){if(e===!1)return!1;const i=tx(n,e),r=tx(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oj(n){let t,e,i,r;return Gt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function D2(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)e.push(i[r].index);return e}function ex(n,t,e,i={}){const r=n.keys,a=i.mode==="single";let l,u,h,d;if(t===null)return;let g=!1;for(l=0,u=r.length;l<u;++l){if(h=+r[l],h===e){if(g=!0,i.all)continue;break}d=n.values[h],Ie(d)&&(a||t===0||_r(t)===_r(d))&&(t+=d)}return!g&&!i.all?0:t}function lj(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,d,g;for(h=0,d=l.length;h<d;++h)g=l[h],u[h]={[r]:g,[a]:n[g]};return u}function Yv(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function cj(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function uj(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function hj(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function nx(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(e&&a>0||!e&&a<0)return r.index}return null}function ix(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,d=l.axis,g=cj(a,l,i),y=t.length;let _;for(let E=0;E<y;++E){const S=t[E],{[h]:A,[d]:x}=S,O=S._stacks||(S._stacks={});_=O[d]=hj(r,g,A),_[u]=x,_._top=nx(_,l,!0,i.type),_._bottom=nx(_,l,!1,i.type);const P=_._visualValues||(_._visualValues={});P[u]=x}}function Kv(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function fj(n,t){return Aa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dj(n,t,e){return Aa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ku(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const a=r._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const Xv=n=>n==="reset"||n==="none",rx=(n,t)=>t?n:Object.assign({},n),pj=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:D2(e,!0),values:null};class Ui{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Yv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ku(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,_,E,S)=>y==="x"?_:y==="r"?S:E,a=e.xAxisID=Dt(i.xAxisID,Kv(t,"x")),l=e.yAxisID=Dt(i.yAxisID,Kv(t,"y")),u=e.rAxisID=Dt(i.rAxisID,Kv(t,"r")),h=e.indexAxis,d=e.iAxisID=r(h,a,l,u),g=e.vAxisID=r(h,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&BA(this._data,this),t._stacked&&Ku(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Gt(e)){const r=this._cachedMeta;this._data=lj(e,r)}else if(i!==e){if(i){BA(i,this);const r=this._cachedMeta;Ku(r),r._parsed=[]}e&&Object.isExtensible(e)&&Zz(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=e._stacked;e._stacked=Yv(e.vScale,e),e.stack!==i.stack&&(r=!0,Ku(e),e.stack=i.stack),this._resyncElements(t),(r||a!==e._stacked)&&(ix(this,e._parsed),e._stacked=Yv(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],g,y,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{Se(r[t])?_=this.parseArrayData(i,r,t,e):Gt(r[t])?_=this.parseObjectData(i,r,t,e):_=this.parsePrimitiveData(i,r,t,e);const E=()=>y[u]===null||d&&y[u]<d[u];for(g=0;g<e;++g)i._parsed[g+t]=y=_[g],h&&(E()&&(h=!1),d=y);i._sorted=h}l&&ix(this,_)}parsePrimitiveData(t,e,i,r){const{iScale:a,vScale:l}=t,u=a.axis,h=l.axis,d=a.getLabels(),g=a===l,y=new Array(r);let _,E,S;for(_=0,E=r;_<E;++_)S=_+i,y[_]={[u]:g||a.parse(d[S],S),[h]:l.parse(e[S],S)};return y}parseArrayData(t,e,i,r){const{xScale:a,yScale:l}=t,u=new Array(r);let h,d,g,y;for(h=0,d=r;h<d;++h)g=h+i,y=e[g],u[h]={x:a.parse(y[0],g),y:l.parse(y[1],g)};return u}parseObjectData(t,e,i,r){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=new Array(r);let g,y,_,E;for(g=0,y=r;g<y;++g)_=g+i,E=e[_],d[g]={x:a.parse(ba(E,u),_),y:l.parse(ba(E,h),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:D2(r,!0),values:e._stacks[t.axis]._visualValues};return ex(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const a=i[e.axis];let l=a===null?NaN:a;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=ex(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),h=pj(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=uj(u);let _,E;function S(){E=r[_];const A=E[u.axis];return!Ie(E[t.axis])||g>A||y<A}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(d,t,E,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(d,t,E,h);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,a,l;for(r=0,a=e.length;r<a;++r)l=e[r][t.axis],Ie(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=oj(Dt(this.options.clip,aj(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,u,h),g=u;g<u+h;++g){const y=r[g];y.hidden||(y.active&&d?l.push(y):y.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=dj(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=fj(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],h=this.enableOptionSharing&&Gh(i);if(u)return rx(u,h);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),g),E=Object.keys(we.elements[t]),S=()=>this.getContext(i,r,e),A=d.resolveNamedOptions(_,E,S,y);return A.$shared&&(A.$shared=h,a[l]=Object.freeze(rx(A,h))),A}_resolveAnimations(t,e,i){const r=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let h;if(r.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,e),_=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(_,this.getContext(t,i,e))}const d=new M2(r,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Xv(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==r;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,r){Xv(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Xv(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const a=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,d]of this._syncList)this[u](h,d);this._syncList=[];const r=i.length,a=e.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,e,i=!0){const r=this._cachedMeta,a=r.data,l=t+e;let u;const h=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(h(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Ku(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}gt(Ui,"defaults",{}),gt(Ui,"datasetElementType",null),gt(Ui,"dataElementType",null);function gj(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,a=e.length;r<a;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=h2(i.sort((r,a)=>r-a))}return n._cache.$bar}function mj(n){const t=n.iScale,e=gj(t,n.type);let i=t._length,r,a,l,u;const h=()=>{l===32767||l===-32768||(Gh(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,a=e.length;r<a;++r)l=t.getPixelForValue(e[r]),h();for(u=void 0,r=0,a=t.ticks.length;r<a;++r)l=t.getPixelForTick(r),h();return i}function yj(n,t,e,i){const r=e.barThickness;let a,l;return Ft(r)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=r*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function vj(n,t,e,i){const r=t.pixels,a=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;l===null&&(l=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-l);const d=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:e.barPercentage,start:d}}function _j(n,t,e,i){const r=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(r,a),u=Math.max(r,a);let h=l,d=u;Math.abs(l)>Math.abs(u)&&(h=u,d=l),t[e.axis]=d,t._custom={barStart:h,barEnd:d,start:r,end:a,min:l,max:u}}function N2(n,t,e,i){return Se(n)?_j(n,t,e,i):t[e.axis]=e.parse(n,i),t}function sx(n,t,e,i){const r=n.iScale,a=n.vScale,l=r.getLabels(),u=r===a,h=[];let d,g,y,_;for(d=e,g=e+i;d<g;++d)_=t[d],y={},y[r.axis]=u||r.parse(l[d],d),h.push(N2(_,y,a,d));return h}function Qv(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function bj(n,t,e){return n!==0?_r(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Ej(n){let t,e,i,r,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:e,end:i,reverse:t,top:r,bottom:a}}function Tj(n,t,e,i){let r=t.borderSkipped;const a={};if(!r){n.borderSkipped=a;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:d,bottom:g}=Ej(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=g:(a[ax(g,l,u,h)]=!0,r=d)),a[ax(r,l,u,h)]=!0,n.borderSkipped=a}function ax(n,t,e,i){return i?(n=Sj(n,t,e),n=ox(n,e,t)):n=ox(n,t,e),n}function Sj(n,t,e){return n===t?e:n===e?t:n}function ox(n,t,e){return n==="start"?t:n==="end"?e:n}function wj(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Np extends Ui{parsePrimitiveData(t,e,i,r){return sx(t,e,i,r)}parseArrayData(t,e,i,r){return sx(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:a,vScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=a.axis==="x"?u:h,g=l.axis==="x"?u:h,y=[];let _,E,S,A;for(_=i,E=i+r;_<E;++_)A=e[_],S={},S[a.axis]=a.parse(ba(A,d),_),y.push(N2(ba(A,g),S,l,_));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,a=this.getParsed(t),l=a._custom,u=Qv(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const a=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),d=u.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const S=this.getParsed(E),A=a||Ft(S[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(E),x=this._calculateBarIndexPixels(E,g),O=(S._stacks||{})[u.axis],P={horizontal:d,base:A.base,enableBorderRadius:!O||Qv(S._custom)||l===O._top||l===O._bottom,x:d?A.head:x.center,y:d?x.center:A.head,height:d?x.size:Math.abs(A.size),width:d?Math.abs(A.size):x.size};_&&(P.options=y||this.resolveDataElementOptions(E,t[E].active?"active":r));const V=P.options||t[E].options;Tj(P,V,O,l),wj(P,V,g.ratio),this.updateElement(t[E],E,P,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],d=g=>{const y=g._parsed.find(E=>E[i.axis]===h),_=y&&y[g.vScale.axis];if(Ft(_)||isNaN(_))return!0};for(const g of r)if(!(e!==void 0&&d(g))&&((a===!1||l.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Dt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),a=e!==void 0?r.indexOf(e):-1;return a===-1?r.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let a,l;for(a=0,l=e.data.length;a<l;++a)r.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=t.barThickness;return{min:u||mj(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(t),d=h._custom,g=Qv(d);let y=h[e.axis],_=0,E=i?this.applyStack(e,h,i):y,S,A;E!==y&&(_=E-y,E=y),g&&(y=d.barStart,E=d.barEnd-d.barStart,y!==0&&_r(y)!==_r(d.barEnd)&&(_=0),_+=y);const x=!Ft(a)&&!g?a:_;let O=e.getPixelForValue(x);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(_+E):S=O,A=S-O,Math.abs(A)<l){A=bj(A,e,u)*l,y===u&&(O-=A/2);const P=e.getPixelForDecimal(0),V=e.getPixelForDecimal(1),$=Math.min(P,V),H=Math.max(P,V);O=Math.max(Math.min(O,H),$),S=O+A,i&&!g&&(h._stacks[e.axis]._visualValues[r]=e.getValueForPixel(S)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){const P=_r(A)*e.getLineWidthForValue(u)/2;O+=P,A-=P}return{size:A,base:O,head:S,center:S+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,a=r.skipNull,l=Dt(r.maxBarThickness,1/0);let u,h;const d=this._getAxisCount();if(e.grouped){const g=a?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?vj(t,e,r,g*d):yj(t,e,r,g*d),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Dt(_,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+E;u=y.start+y.chunk*S+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let a=0;for(;a<r;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}gt(Np,"id","bar"),gt(Np,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),gt(Np,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Pp extends Ui{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const a=super.parsePrimitiveData(t,e,i,r);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+i).radius;return a}parseArrayData(t,e,i,r){const a=super.parseArrayData(t,e,i,r);for(let l=0;l<a.length;l++){const u=e[i+l];a[l]._custom=Dt(u[2],this.resolveDataElementOptions(l+i).radius)}return a}parseObjectData(t,e,i,r){const a=super.parseObjectData(t,e,i,r);for(let l=0;l<a.length;l++){const u=e[i+l];a[l]._custom=Dt(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:a}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),h=a.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+u+", "+h+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const a=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,r),g=l.axis,y=u.axis;for(let _=e;_<e+i;_++){const E=t[_],S=!a&&this.getParsed(_),A={},x=A[g]=a?l.getPixelForDecimal(.5):l.getPixelForValue(S[g]),O=A[y]=a?u.getBasePixel():u.getPixelForValue(S[y]);A.skip=isNaN(x)||isNaN(O),d&&(A.options=h||this.resolveDataElementOptions(_,E.active?"active":r),a&&(A.options.radius=0)),this.updateElement(E,_,A,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const a=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Dt(i&&i._custom,a),r}}gt(Pp,"id","bubble"),gt(Pp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),gt(Pp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Aj(n,t,e){let i=1,r=1,a=0,l=0;if(t<be){const u=n,h=u+t,d=Math.cos(u),g=Math.sin(u),y=Math.cos(h),_=Math.sin(h),E=(V,$,H)=>Wh(V,u,h,!0)?1:Math.max($,$*e,H,H*e),S=(V,$,H)=>Wh(V,u,h,!0)?-1:Math.min($,$*e,H,H*e),A=E(0,d,y),x=E(Le,g,_),O=S(Jt,d,y),P=S(Jt+Le,g,_);i=(A-O)/2,r=(x-P)/2,a=-(A+O)/2,l=-(x+P)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:l}}class bo extends Ui{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=h=>+i[h];if(Gt(i[t])){const{key:h="value"}=this._parsing;a=d=>+ba(i[d],h)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=a(l)}}_getRotation(){return Vi(this.options.rotation-90)}_getCircumference(){return Vi(this.options.circumference)}_getRotationExtents(){let t=be,e=-be;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),l=r._getCircumference();t=Math.min(t,a),e=Math.max(e,a+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,a=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(Vz(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:E,offsetX:S,offsetY:A}=Aj(y,g,h),x=(i.width-l)/_,O=(i.height-l)/E,P=Math.max(Math.min(x,O)/2,0),V=a2(this.options.radius,P),$=Math.max(V*h,0),H=(V-$)/this._getVisibleDatasetWeightTotal();this.offsetX=S*V,this.offsetY=A*V,r.total=this.calculateTotal(),this.outerRadius=V-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*a/be)}updateElements(t,e,i,r){const a=r==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,g=(u.left+u.right)/2,y=(u.top+u.bottom)/2,_=a&&d.animateScale,E=_?0:this.innerRadius,S=_?0:this.outerRadius,{sharedOptions:A,includeOptions:x}=this._getSharedOptions(e,r);let O=this._getRotation(),P;for(P=0;P<e;++P)O+=this._circumference(P,a);for(P=e;P<e+i;++P){const V=this._circumference(P,a),$=t[P],H={x:g+this.offsetX,y:y+this.offsetY,startAngle:O,endAngle:O+V,circumference:V,outerRadius:S,innerRadius:E};x&&(H.options=A||this.resolveDataElementOptions(P,$.active?"active":r)),O+=V,this.updateElement($,P,H,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const a=t._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?be*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=bf(e._parsed[t],i.options.locale);return{label:r[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,a,l,u,h;if(!t){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,a=t.length;r<a;++r)h=u.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const a=this.resolveDataElementOptions(i);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}gt(bo,"id","doughnut"),gt(bo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),gt(bo,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),gt(bo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class kp extends Ui{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:h}=p2(e,r,l);this._drawStart=u,this._drawCount=h,g2(e)&&(u=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(r,u,h,t)}updateElements(t,e,i,r){const a=r==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,r),_=l.axis,E=u.axis,{spanGaps:S,segment:A}=this.options,x=pc(S)?S:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||a||r==="none",P=e+i,V=t.length;let $=e>0&&this.getParsed(e-1);for(let H=0;H<V;++H){const Y=t[H],D=O?Y:{};if(H<e||H>=P){D.skip=!0;continue}const R=this.getParsed(H),I=Ft(R[E]),N=D[_]=l.getPixelForValue(R[_],H),L=D[E]=a||I?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,R,h):R[E],H);D.skip=isNaN(N)||isNaN(L)||I,D.stop=H>0&&Math.abs(R[_]-$[_])>x,A&&(D.parsed=R,D.raw=d.data[H]),y&&(D.options=g||this.resolveDataElementOptions(H,Y.active?"active":r)),O||this.updateElement(Y,H,D,r),$=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const a=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}gt(kp,"id","line"),gt(kp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),gt(kp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Oh extends Ui{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=bf(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:a}}parseObjectData(t,e,i,r){return S2.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const a=this.getParsed(r).r;!isNaN(a)&&this.chart.getDataVisibility(r)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),u=(a-l)/t.getVisibleDatasetCount();this.outerRadius=a-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,r){const a=r==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,g=d.xCenter,y=d.yCenter,_=d.getIndexAngle(0)-.5*Jt;let E=_,S;const A=360/this.countVisibleElements();for(S=0;S<e;++S)E+=this._computeAngle(S,r,A);for(S=e;S<e+i;S++){const x=t[S];let O=E,P=E+this._computeAngle(S,r,A),V=l.getDataVisibility(S)?d.getDistanceFromCenterForValue(this.getParsed(S).r):0;E=P,a&&(h.animateScale&&(V=0),h.animateRotate&&(O=P=_));const $={x:g,y,innerRadius:0,outerRadius:V,startAngle:O,endAngle:P,options:this.resolveDataElementOptions(S,x.active?"active":r)};this.updateElement(x,S,$,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Vi(this.resolveDataElementOptions(t,e).angle||i):0}}gt(Oh,"id","polarArea"),gt(Oh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),gt(Oh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class W_ extends bo{}gt(W_,"id","pie"),gt(W_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Lp extends Ui{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return S2.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],a=e.iScale.getLabels();if(i.points=r,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:a.length===r.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const a=this._cachedMeta.rScale,l=r==="reset";for(let u=e;u<e+i;u++){const h=t[u],d=this.resolveDataElementOptions(u,h.active?"active":r),g=a.getPointPositionForValue(u,this.getParsed(u).r),y=l?a.xCenter:g.x,_=l?a.yCenter:g.y,E={x:y,y:_,angle:g.angle,skip:isNaN(y)||isNaN(_),options:d};this.updateElement(h,u,E,r)}}}gt(Lp,"id","radar"),gt(Lp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),gt(Lp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Vp extends Ui{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:a}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),h=a.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:a,count:l}=p2(e,i,r);if(this._drawStart=a,this._drawCount=l,g2(e)&&(a=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,a,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const a=r==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,g=this.resolveDataElementOptions(e,r),y=this.getSharedOptions(g),_=this.includeOptions(r,y),E=l.axis,S=u.axis,{spanGaps:A,segment:x}=this.options,O=pc(A)?A:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||a||r==="none";let V=e>0&&this.getParsed(e-1);for(let $=e;$<e+i;++$){const H=t[$],Y=this.getParsed($),D=P?H:{},R=Ft(Y[S]),I=D[E]=l.getPixelForValue(Y[E],$),N=D[S]=a||R?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,Y,h):Y[S],$);D.skip=isNaN(I)||isNaN(N)||R,D.stop=$>0&&Math.abs(Y[E]-V[E])>O,x&&(D.parsed=Y,D.raw=d.data[$]),_&&(D.options=y||this.resolveDataElementOptions($,H.active?"active":r)),P||this.updateElement(H,$,D,r),V=Y}this.updateSharedOptions(y,r,g)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let h=e.length-1;h>=0;--h)u=Math.max(u,e[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const a=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,a,l)/2}}gt(Vp,"id","scatter"),gt(Vp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),gt(Vp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var xj=Object.freeze({__proto__:null,BarController:Np,BubbleController:Pp,DoughnutController:bo,LineController:kp,PieController:W_,PolarAreaController:Oh,RadarController:Lp,ScatterController:Vp});function uo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class H0{constructor(t){gt(this,"options");this.options=t||{}}static override(t){Object.assign(H0.prototype,t)}init(){}formats(){return uo()}parse(){return uo()}format(){return uo()}add(){return uo()}diff(){return uo()}startOf(){return uo()}endOf(){return uo()}}var Rj={_date:H0};function Cj(n,t,e,i){const{controller:r,data:a,_sorted:l}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const d=u._reversePixels?Xz:as;if(i){if(r._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(t);if(y){const _=d(a,t,e-y),E=d(a,t,e+y);return{lo:_.lo,hi:E.hi}}}}else{const g=d(a,t,e);if(h){const{vScale:y}=r._cachedMeta,{_parsed:_}=n,E=_.slice(0,g.lo+1).reverse().findIndex(A=>!Ft(A[y.axis]));g.lo-=Math.max(0,E);const S=_.slice(g.hi).findIndex(A=>!Ft(A[y.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:a.length-1}}function nm(n,t,e,i,r){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=a.length;u<h;++u){const{index:d,data:g}=a[u],{lo:y,hi:_}=Cj(a[u],t,l,r);for(let E=y;E<=_;++E){const S=g[E];S.skip||i(S,d,E)}}}function Oj(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const a=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Zv(n,t,e,i,r){const a=[];return!r&&!n.isPointInArea(t)||nm(n,e,t,function(u,h,d){!r&&!os(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:h,index:d})},!0),a}function Ij(n,t,e,i){let r=[];function a(l,u,h){const{startAngle:d,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:y}=c2(l,{x:t.x,y:t.y});Wh(y,d,g)&&r.push({element:l,datasetIndex:u,index:h})}return nm(n,e,t,a),r}function Mj(n,t,e,i,r,a){let l=[];const u=Oj(e);let h=Number.POSITIVE_INFINITY;function d(g,y,_){const E=g.inRange(t.x,t.y,r);if(i&&!E)return;const S=g.getCenterPoint(r);if(!(!!a||n.isPointInArea(S))&&!E)return;const x=u(t,S);x<h?(l=[{element:g,datasetIndex:y,index:_}],h=x):x===h&&l.push({element:g,datasetIndex:y,index:_})}return nm(n,e,t,d),l}function Jv(n,t,e,i,r,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?Ij(n,t,e,r):Mj(n,t,e,i,r,a)}function lx(n,t,e,i,r){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return nm(n,e,t,(h,d,g)=>{h[l]&&h[l](t[e],r)&&(a.push({element:h,datasetIndex:d,index:g}),u=u||h.inRange(t.x,t.y,r))}),i&&!u?[]:a}var Dj={modes:{index(n,t,e,i){const r=mo(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Zv(n,r,a,i,l):Jv(n,r,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=u[0].index,y=d.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:g})}),h):[]},dataset(n,t,e,i){const r=mo(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Zv(n,r,a,i,l):Jv(n,r,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,d=n.getDatasetMeta(h).data;u=[];for(let g=0;g<d.length;++g)u.push({element:d[g],datasetIndex:h,index:g})}return u},point(n,t,e,i){const r=mo(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Zv(n,r,a,i,l)},nearest(n,t,e,i){const r=mo(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Jv(n,r,a,e.intersect,i,l)},x(n,t,e,i){const r=mo(t,n);return lx(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=mo(t,n);return lx(n,r,"y",e.intersect,i)}}};const P2=["left","top","right","bottom"];function Xu(n,t){return n.filter(e=>e.pos===t)}function cx(n,t){return n.filter(e=>P2.indexOf(e.pos)===-1&&e.box.axis===t)}function Qu(n,t){return n.sort((e,i)=>{const r=t?i:e,a=t?e:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function Nj(n){const t=[];let e,i,r,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:u});return t}function Pj(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:a}=e;if(!i||!P2.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function kj(n,t){const e=Pj(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,d=e[u.stack],g=d&&u.stackWeight/d.weight;u.horizontal?(u.width=g?g*i:h&&t.availableWidth,u.height=r):(u.width=i,u.height=g?g*r:h&&t.availableHeight)}return e}function Lj(n){const t=Nj(n),e=Qu(t.filter(d=>d.box.fullSize),!0),i=Qu(Xu(t,"left"),!0),r=Qu(Xu(t,"right")),a=Qu(Xu(t,"top"),!0),l=Qu(Xu(t,"bottom")),u=cx(t,"x"),h=cx(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:r.concat(h).concat(l).concat(u),chartArea:Xu(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:a.concat(l).concat(u)}}function ux(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function k2(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Vj(n,t,e,i){const{pos:r,box:a}=e,l=n.maxPadding;if(!Gt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?a.height:a.width),e.size=y.size/y.count,n[r]+=e.size}a.getPadding&&k2(l,a.getPadding());const u=Math.max(0,t.outerWidth-ux(l,n,"left","right")),h=Math.max(0,t.outerHeight-ux(l,n,"top","bottom")),d=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:d,other:g}:{same:g,other:d}}function Uj(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function zj(n,t){const e=t.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function uh(n,t,e,i){const r=[];let a,l,u,h,d,g;for(a=0,l=n.length,d=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||t.w,u.height||t.h,zj(u.horizontal,t));const{same:y,other:_}=Vj(t,e,u,i);d|=y&&r.length,g=g||_,h.fullSize||r.push(u)}return d&&uh(r,t,e,i)||g}function cp(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function hx(n,t,e,i){const r=e.padding;let{x:a,y:l}=t;for(const u of n){const h=u.box,d=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/d.weight||1;if(u.horizontal){const y=t.w*g,_=d.size||h.height;Gh(d.start)&&(l=d.start),h.fullSize?cp(h,r.left,l,e.outerWidth-r.right-r.left,_):cp(h,t.left+d.placed,l,y,_),d.start=l,d.placed+=y,l=h.bottom}else{const y=t.h*g,_=d.size||h.width;Gh(d.start)&&(a=d.start),h.fullSize?cp(h,a,r.top,_,e.outerHeight-r.bottom-r.top):cp(h,a,t.top+d.placed,_,y),d.start=a,d.placed+=y,a=h.right}}t.x=a,t.y=l}var On={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Mn(n.options.layout.padding),a=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=Lj(n.boxes),h=u.vertical,d=u.horizontal;se(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const g=h.reduce((A,x)=>x.box.options&&x.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),_=Object.assign({},r);k2(_,Mn(i));const E=Object.assign({maxPadding:_,w:a,h:l,x:r.left,y:r.top},r),S=kj(h.concat(d),y);uh(u.fullSize,E,y,S),uh(h,E,y,S),uh(d,E,y,S)&&uh(h,E,y,S),Uj(E),hx(u.leftAndTop,E,y,S),E.x+=E.w,E.y+=E.h,hx(u.rightAndBottom,E,y,S),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},se(u.chartArea,A=>{const x=A.box;Object.assign(x,n.chartArea),x.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class L2{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class Bj extends L2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Up="$chartjs",jj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fx=n=>n===null||n==="";function Fj(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Up]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",fx(r)){const a=KA(n,"width");a!==void 0&&(n.width=a)}if(fx(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=KA(n,"height");a!==void 0&&(n.height=a)}return n}const V2=HB?{passive:!0}:!1;function Hj(n,t,e){n&&n.addEventListener(t,e,V2)}function $j(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,V2)}function qj(n,t){const e=jj[n.type]||n.type,{x:i,y:r}=mo(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function mg(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Gj(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||mg(u.addedNodes,i),l=l&&!mg(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Wj(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||mg(u.removedNodes,i),l=l&&!mg(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Kh=new Map;let dx=0;function U2(){const n=window.devicePixelRatio;n!==dx&&(dx=n,Kh.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Yj(n,t){Kh.size||window.addEventListener("resize",U2),Kh.set(n,t)}function Kj(n){Kh.delete(n),Kh.size||window.removeEventListener("resize",U2)}function Xj(n,t,e){const i=n.canvas,r=i&&F0(i);if(!r)return;const a=d2((u,h)=>{const d=r.clientWidth;e(u,h),d<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],d=h.contentRect.width,g=h.contentRect.height;d===0&&g===0||a(d,g)});return l.observe(r),Yj(n,a),l}function t_(n,t,e){e&&e.disconnect(),t==="resize"&&Kj(n)}function Qj(n,t,e){const i=n.canvas,r=d2(a=>{n.ctx!==null&&e(qj(a,n))},n);return Hj(i,t,r),r}class Zj extends L2{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Fj(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Up])return!1;const i=e[Up].initial;["height","width"].forEach(a=>{const l=i[a];Ft(l)?e.removeAttribute(a):e.setAttribute(a,l)});const r=i.style||{};return Object.keys(r).forEach(a=>{e.style[a]=r[a]}),e.width=e.width,delete e[Up],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:Gj,detach:Wj,resize:Xj}[e]||Qj;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:t_,detach:t_,resize:t_}[e]||$j)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return FB(t,e,i,r)}isAttached(t){const e=t&&F0(t);return!!(e&&e.isConnected)}}function Jj(n){return!j0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Bj:Zj}var _p;let Es=(_p=class{constructor(){gt(this,"x");gt(this,"y");gt(this,"active",!1);gt(this,"options");gt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return pc(this.x)&&pc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}},gt(_p,"defaults",{}),gt(_p,"defaultRoutes"),_p);function tF(n,t){const e=n.options.ticks,i=eF(n),r=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?iF(t):[],l=a.length,u=a[0],h=a[l-1],d=[];if(l>r)return rF(t,d,a,l/r),d;const g=nF(a,t,r);if(l>0){let y,_;const E=l>1?Math.round((h-u)/(l-1)):null;for(up(t,d,g,Ft(E)?0:u-E,u),y=0,_=l-1;y<_;y++)up(t,d,g,a[y],a[y+1]);return up(t,d,g,h,Ft(E)?t.length:h+E),d}return up(t,d,g),d}function eF(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function nF(n,t,e){const i=sF(n),r=t.length/e;if(!i)return Math.max(r,1);const a=qz(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>r)return h}return Math.max(r,1)}function iF(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function rF(n,t,e,i){let r=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),r++,a=e[r*i])}function up(n,t,e,i,r){const a=Dt(i,0),l=Math.min(Dt(r,n.length),n.length);let u=0,h,d,g;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),g=a;g<0;)u++,g=Math.round(a+u*e);for(d=Math.max(a,0);d<l;d++)d===g&&(t.push(n[d]),u++,g=Math.round(a+u*e))}function sF(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const aF=n=>n==="left"?"right":n==="right"?"left":n,px=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,gx=(n,t)=>Math.min(t||n,n);function mx(n,t){const e=[],i=n.length/t,r=n.length;let a=0;for(;a<r;a+=i)e.push(n[Math.floor(a)]);return e}function oF(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(h-a,l-h):t===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(r-1))/2,h+=r<t?d:-d,h<a-u||h>l+u)))return h}function lF(n,t){se(n,e=>{const i=e.gc,r=i.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[i[a]];i.splice(0,r)}})}function Zu(n){return n.drawTicks?n.tickLength:0}function yx(n,t){if(!n.display)return 0;const e=Qe(n.font,t),i=Mn(n.padding);return(Se(n.text)?n.text.length:1)*e.lineHeight+i.height}function cF(n,t){return Aa(n,{scale:t,type:"scale"})}function uF(n,t,e){return Aa(n,{tick:e,index:t,type:"tick"})}function hF(n,t,e){let i=k0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=aF(i)),i}function fF(n,t,e,i){const{top:r,left:a,bottom:l,right:u,chart:h}=n,{chartArea:d,scales:g}=h;let y=0,_,E,S;const A=l-r,x=u-a;if(n.isHorizontal()){if(E=wn(i,a,u),Gt(e)){const O=Object.keys(e)[0],P=e[O];S=g[O].getPixelForValue(P)+A-t}else e==="center"?S=(d.bottom+d.top)/2+A-t:S=px(n,e,t);_=u-a}else{if(Gt(e)){const O=Object.keys(e)[0],P=e[O];E=g[O].getPixelForValue(P)-x+t}else e==="center"?E=(d.left+d.right)/2-x+t:E=px(n,e,t);S=wn(i,l,r),y=e==="left"?-Le:Le}return{titleX:E,titleY:S,maxWidth:_,rotation:y}}class Fo extends Es{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ii(t,Number.POSITIVE_INFINITY),e=ii(e,Number.NEGATIVE_INFINITY),i=ii(i,Number.POSITIVE_INFINITY),r=ii(r,Number.NEGATIVE_INFINITY),{min:ii(t,i),max:ii(e,r),minDefined:Ie(t),maxDefined:Ie(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,d=u.length;h<d;++h)l=u[h].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=r&&e>i?e:i,{min:ii(e,ii(i,e)),max:ii(i,ii(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bB(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?mx(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=tF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),pe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i],a.label=pe(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=gx(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,a=e.maxRotation;let l=r,u,h,d;if(!this._isVisible()||!e.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const g=this._getLabelSizes(),y=g.widest.width,_=g.highest.height,E=ln(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),y+6>u&&(u=E/(i-(t.offset?.5:1)),h=this.maxHeight-Zu(t.grid)-e.padding-yx(t.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),l=N0(Math.min(Math.asin(ln((g.highest.height+6)/u,-1,1)),Math.asin(ln(h/d,-1,1))-Math.asin(ln(_/d,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=yx(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Zu(a)+h):(t.height=this.maxHeight,t.width=Zu(a)+h),i.display&&this.ticks.length){const{first:d,last:g,widest:y,highest:_}=this._getLabelSizes(),E=i.padding*2,S=Vi(this.labelRotation),A=Math.cos(S),x=Math.sin(S);if(u){const O=i.mirror?0:x*y.width+A*_.height;t.height=Math.min(this.maxHeight,t.height+O+E)}else{const O=i.mirror?0:A*y.width+x*_.height;t.width=Math.min(this.maxWidth,t.width+O+E)}this._calculatePadding(d,g,x,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,E=0;h?d?(_=r*t.width,E=i*e.height):(_=i*t.height,E=r*e.width):a==="start"?E=e.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,E=e.width/2),this.paddingLeft=Math.max((_-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((E-y+l)*this.width/(this.width-y),0)}else{let g=e.height/2,y=t.height/2;a==="start"?(g=0,y=t.height):a==="end"&&(g=e.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ft(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=mx(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(e/gx(e,i));let d=0,g=0,y,_,E,S,A,x,O,P,V,$,H;for(y=0;y<e;y+=h){if(S=t[y].label,A=this._resolveTickFontOptions(y),r.font=x=A.string,O=a[x]=a[x]||{data:{},gc:[]},P=A.lineHeight,V=$=0,!Ft(S)&&!Se(S))V=pg(r,O.data,O.gc,V,S),$=P;else if(Se(S))for(_=0,E=S.length;_<E;++_)H=S[_],!Ft(H)&&!Se(H)&&(V=pg(r,O.data,O.gc,V,H),$+=P);l.push(V),u.push($),d=Math.max(V,d),g=Math.max($,g)}lF(a,e);const Y=l.indexOf(d),D=u.indexOf(g),R=I=>({width:l[I]||0,height:u[I]||0});return{first:R(0),last:R(e-1),widest:R(Y),highest:R(D),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Kz(this._alignToPixels?co(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=uF(this.getContext(),t,i))}return this.$context||(this.$context=cF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Vi(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:a,position:l,border:u}=r,h=a.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=Zu(a),E=[],S=u.setContext(this.getContext()),A=S.display?S.width:0,x=A/2,O=function(W){return co(i,W,A)};let P,V,$,H,Y,D,R,I,N,L,j,k;if(l==="top")P=O(this.bottom),D=this.bottom-_,I=P-x,L=O(t.top)+x,k=t.bottom;else if(l==="bottom")P=O(this.top),L=t.top,k=O(t.bottom)-x,D=P+x,I=this.top+_;else if(l==="left")P=O(this.right),Y=this.right-_,R=P-x,N=O(t.left)+x,j=t.right;else if(l==="right")P=O(this.left),N=t.left,j=O(t.right)-x,Y=P+x,R=this.left+_;else if(e==="x"){if(l==="center")P=O((t.top+t.bottom)/2+.5);else if(Gt(l)){const W=Object.keys(l)[0],nt=l[W];P=O(this.chart.scales[W].getPixelForValue(nt))}L=t.top,k=t.bottom,D=P+x,I=D+_}else if(e==="y"){if(l==="center")P=O((t.left+t.right)/2);else if(Gt(l)){const W=Object.keys(l)[0],nt=l[W];P=O(this.chart.scales[W].getPixelForValue(nt))}Y=P-x,R=Y-_,N=t.left,j=t.right}const wt=Dt(r.ticks.maxTicksLimit,y),_t=Math.max(1,Math.ceil(y/wt));for(V=0;V<y;V+=_t){const W=this.getContext(V),nt=a.setContext(W),ft=u.setContext(W),bt=nt.lineWidth,F=nt.color,rt=ft.dash||[],ht=ft.dashOffset,it=nt.tickWidth,dt=nt.tickColor,Tt=nt.tickBorderDash||[],yt=nt.tickBorderDashOffset;$=oF(this,V,h),$!==void 0&&(H=co(i,$,bt),d?Y=R=N=j=H:D=I=L=k=H,E.push({tx1:Y,ty1:D,tx2:R,ty2:I,x1:N,y1:L,x2:j,y2:k,width:bt,color:F,borderDash:rt,borderDashOffset:ht,tickWidth:it,tickColor:dt,tickBorderDash:Tt,tickBorderDashOffset:yt}))}return this._ticksLength=y,this._borderValue=P,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:d,padding:g,mirror:y}=a,_=Zu(i.grid),E=_+g,S=y?-g:E,A=-Vi(this.labelRotation),x=[];let O,P,V,$,H,Y,D,R,I,N,L,j,k="middle";if(r==="top")Y=this.bottom-S,D=this._getXAxisLabelAlignment();else if(r==="bottom")Y=this.top+S,D=this._getXAxisLabelAlignment();else if(r==="left"){const _t=this._getYAxisLabelAlignment(_);D=_t.textAlign,H=_t.x}else if(r==="right"){const _t=this._getYAxisLabelAlignment(_);D=_t.textAlign,H=_t.x}else if(e==="x"){if(r==="center")Y=(t.top+t.bottom)/2+E;else if(Gt(r)){const _t=Object.keys(r)[0],W=r[_t];Y=this.chart.scales[_t].getPixelForValue(W)+E}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")H=(t.left+t.right)/2-E;else if(Gt(r)){const _t=Object.keys(r)[0],W=r[_t];H=this.chart.scales[_t].getPixelForValue(W)}D=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(h==="start"?k="top":h==="end"&&(k="bottom"));const wt=this._getLabelSizes();for(O=0,P=u.length;O<P;++O){V=u[O],$=V.label;const _t=a.setContext(this.getContext(O));R=this.getPixelForTick(O)+a.labelOffset,I=this._resolveTickFontOptions(O),N=I.lineHeight,L=Se($)?$.length:1;const W=L/2,nt=_t.color,ft=_t.textStrokeColor,bt=_t.textStrokeWidth;let F=D;l?(H=R,D==="inner"&&(O===P-1?F=this.options.reverse?"left":"right":O===0?F=this.options.reverse?"right":"left":F="center"),r==="top"?d==="near"||A!==0?j=-L*N+N/2:d==="center"?j=-wt.highest.height/2-W*N+N:j=-wt.highest.height+N/2:d==="near"||A!==0?j=N/2:d==="center"?j=wt.highest.height/2-W*N:j=wt.highest.height-L*N,y&&(j*=-1),A!==0&&!_t.showLabelBackdrop&&(H+=N/2*Math.sin(A))):(Y=R,j=(1-L)*N/2);let rt;if(_t.showLabelBackdrop){const ht=Mn(_t.backdropPadding),it=wt.heights[O],dt=wt.widths[O];let Tt=j-ht.top,yt=0-ht.left;switch(k){case"middle":Tt-=it/2;break;case"bottom":Tt-=it;break}switch(D){case"center":yt-=dt/2;break;case"right":yt-=dt;break;case"inner":O===P-1?yt-=dt:O>0&&(yt-=dt/2);break}rt={left:yt,top:Tt,width:dt+ht.width,height:it+ht.height,color:_t.backdropColor}}x.push({label:$,font:I,textOffset:j,options:{rotation:A,color:nt,strokeColor:ft,strokeWidth:bt,textAlign:F,textBaseline:k,translation:[H,Y],backdrop:rt}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Vi(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,h=l.widest.width;let d,g;return e==="left"?r?(g=this.right+a,i==="near"?d="left":i==="center"?(d="center",g+=h/2):(d="right",g+=h)):(g=this.right-u,i==="near"?d="right":i==="center"?(d="center",g-=h/2):(d="left",g=this.left)):e==="right"?r?(g=this.left+a,i==="near"?d="right":i==="center"?(d="center",g-=h/2):(d="left",g-=h)):(g=this.left+u,i==="near"?d="left":i==="center"?(d="center",g+=h/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(h,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=r.length;a<l;++a){const h=r[a];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,g,y,_;this.isHorizontal()?(d=co(t,this.left,l)-l/2,g=co(t,this.right,u)+u/2,y=_=h):(y=co(t,this.top,l)-l/2,_=co(t,this.bottom,u)+u/2,d=g=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(d,y),e.lineTo(g,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Jg(i,r);const a=this.getLabelItems(t);for(const l of a){const u=l.options,h=l.font,d=l.label,g=l.textOffset;Lo(i,d,0,g,h,u)}r&&tm(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const a=Qe(i.font),l=Mn(i.padding),u=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||Gt(e)?(h+=l.bottom,Se(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:g,maxWidth:y,rotation:_}=fF(this,h,e,u);Lo(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:hF(u,e,r),textBaseline:"middle",translation:[d,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Dt(t.grid&&t.grid.z,-1),r=Dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Fo.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Qe(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hp{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;gF(e)&&(i=this.register(e));const r=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,dF(t,l,i),this.override&&we.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in we[r]&&(delete we[r][i],this.override&&delete ko[i])}}function dF(n,t,e){const i=qh(Object.create(null),[e?we.get(e):{},we.get(t),n.defaults]);we.set(t,i),n.defaultRoutes&&pF(t,n.defaultRoutes),n.descriptors&&we.describe(t,n.descriptors)}function pF(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");we.route(a,r,h,u)})}function gF(n){return"id"in n&&"defaults"in n}class mF{constructor(){this.controllers=new hp(Ui,"datasets",!0),this.elements=new hp(Es,"elements"),this.plugins=new hp(Object,"plugins"),this.scales=new hp(Fo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):se(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=D0(t);pe(i["before"+r],[],i),e[t](i),pe(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var cr=new mF;class yF{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,r){r=r||{};for(const a of t){const l=a.plugin,u=l[i],h=[e,r,a.options];if(pe(u,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Dt(i.options&&i.options.plugins,{}),a=vF(i);return r===!1&&!e?[]:bF(t,a,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function vF(n){const t={},e=[],i=Object.keys(cr.plugins.items);for(let a=0;a<i.length;a++)e.push(cr.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function _F(n,t){return!t&&n===!1?null:n===!0?{}:n}function bF(n,{plugins:t,localIds:e},i,r){const a=[],l=n.getContext();for(const u of t){const h=u.id,d=_F(i[h],r);d!==null&&a.push({plugin:u,options:EF(n.config,{plugin:u,local:e[h]},d,l)})}return a}function EF(n,{plugin:t,local:e},i,r){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Y_(n,t){const e=we.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function TF(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function SF(n,t){return n===t?"_index_":"_value_"}function vx(n){if(n==="x"||n==="y"||n==="r")return n}function wF(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function K_(n,...t){if(vx(n))return n;for(const e of t){const i=e.axis||wF(e.position)||n.length>1&&vx(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function _x(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function AF(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return _x(n,"x",e[0])||_x(n,"y",e[0])}return{}}function xF(n,t){const e=ko[n.type]||{scales:{}},i=t.scales||{},r=Y_(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Gt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=K_(l,u,AF(l,n),we.scales[u.type]),d=SF(h,r),g=e.scales||{};a[l]=Ah(Object.create(null),[{axis:h},u,g[h],g[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||Y_(u,t),g=(ko[u]||{}).scales||{};Object.keys(g).forEach(y=>{const _=TF(y,h),E=l[_+"AxisID"]||_;a[E]=a[E]||Object.create(null),Ah(a[E],[{axis:_},i[E],g[y]])})}),Object.keys(a).forEach(l=>{const u=a[l];Ah(u,[we.scales[u.type],we.scale])}),a}function z2(n){const t=n.options||(n.options={});t.plugins=Dt(t.plugins,{}),t.scales=xF(n,t)}function B2(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function RF(n){return n=n||{},n.data=B2(n.data),z2(n),n}const bx=new Map,j2=new Set;function fp(n,t){let e=bx.get(n);return e||(e=t(),bx.set(n,e),j2.add(e)),e}const Ju=(n,t,e)=>{const i=ba(t,e);i!==void 0&&n.add(i)};class CF{constructor(t){this._config=RF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=B2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),z2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return fp(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return fp(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return fp(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const h=new Set;e.forEach(g=>{t&&(h.add(t),g.forEach(y=>Ju(h,t,y))),g.forEach(y=>Ju(h,r,y)),g.forEach(y=>Ju(h,ko[a]||{},y)),g.forEach(y=>Ju(h,we,y)),g.forEach(y=>Ju(h,q_,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),j2.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,ko[e]||{},we.datasets[e]||{},{type:e},we,q_]}resolveNamedOptions(t,e,i,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=Ex(this._resolverCache,t,r);let h=l;if(IF(l,e)){a.$shared=!1,i=Ea(i)?i():i;const d=this.createResolver(t,i,u);h=gc(l,i,d)}for(const d of e)a[d]=h[d];return a}createResolver(t,e,i=[""],r){const{resolver:a}=Ex(this._resolverCache,t,i);return Gt(e)?gc(a,e,void 0,r):a}}function Ex(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let a=i.get(r);return a||(a={resolver:U0(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,a)),a}const OF=n=>Gt(n)&&Object.getOwnPropertyNames(n).some(t=>Ea(n[t]));function IF(n,t){const{isScriptable:e,isIndexable:i}=_2(n);for(const r of t){const a=e(r),l=i(r),u=(l||a)&&n[r];if(a&&(Ea(u)||OF(u))||l&&Se(u))return!0}return!1}var MF="4.5.0";const DF=["top","bottom","left","right","chartArea"];function Tx(n,t){return n==="top"||n==="bottom"||DF.indexOf(n)===-1&&t==="x"}function Sx(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function wx(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),pe(e&&e.onComplete,[n],t)}function NF(n){const t=n.chart,e=t.options.animation;pe(e&&e.onProgress,[n],t)}function F2(n){return j0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const zp={},Ax=n=>{const t=F2(n);return Object.values(zp).filter(e=>e.canvas===t).pop()};function PF(n,t,e){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=t){const l=n[r];delete n[r],(e>0||a>t)&&(n[a+e]=l)}}}function kF(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class hr{static register(...t){cr.add(...t),xx()}static unregister(...t){cr.remove(...t),xx()}constructor(t,e){const i=this.config=new CF(e),r=F2(t),a=Ax(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Jj(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),h=u&&u.canvas,d=h&&h.height,g=h&&h.width;if(this.id=Lz(),this.ctx=u,this.canvas=h,this.width=g,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jz(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],zp[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Jr.listen(this,"complete",wx),Jr.listen(this,"progress",NF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:a}=this;return Ft(t)?e&&a?a:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return cr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():YA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qA(this.canvas,this.ctx),this}stop(){return Jr.stop(this),this}resize(t,e){Jr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,YA(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),pe(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};se(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],h=K_(l,u),d=h==="r",g=h==="x";return{options:u,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),se(a,l=>{const u=l.options,h=u.id,d=K_(h,u),g=Dt(u.type,l.dtype);(u.position===void 0||Tx(u.position,d)!==Tx(l.dposition))&&(u.position=l.dposition),r[h]=!0;let y=null;if(h in i&&i[h].type===g)y=i[h];else{const _=cr.getScale(g);y=new _({id:h,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),se(r,(l,u)=>{l||delete i[u]}),se(i,l=>{On.configure(this,l,l.options),On.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,a)=>r.index-a.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Sx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||Y_(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=cr.getController(u),{datasetElementType:d,dataElementType:g}=we.datasets[u];Object.assign(h,{dataElementType:cr.getElement(g),datasetElementType:d&&cr.getElement(d)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){se(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:y}=this.getDatasetMeta(d),_=!r&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||se(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Sx("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){se(this.scales,t=>{On.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!LA(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of e){const l=i==="_removeElements"?-a:a;PF(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let a=1;a<e;a++)if(!LA(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;On.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],se(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ea(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Jr.has(this)?this.attached&&!Jr.running(this)&&Jr.start(this):(this.draw(),wx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,a;for(r=0,a=e.length;r<a;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=I2(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Jg(e,r),t.controller.draw(),r&&tm(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return os(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const a=Dj.modes[e];return typeof a=="function"?a(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(a=>a&&a._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Aa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,r);Gh(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Jr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),qA(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete zp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},r=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};se(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,d)=>{e.addEventListener(this,h,d),t[h]=d},r=(h,d)=>{t[h]&&(e.removeEventListener(this,h,d),delete t[h])},a=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){se(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},se(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let a,l,u,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!hg(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,a=(h,d)=>h.filter(g=>!d.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:a}=this,l=e,u=this._getActiveElements(t,r,i,l),h=Fz(t),d=kF(t,this._lastEvent,i,h);i&&(this._lastEvent=null,pe(a.onHover,[t,u,this],this),h&&pe(a.onClick,[t,u,this],this));const g=!hg(u,r);return(g||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,g}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}}gt(hr,"defaults",we),gt(hr,"instances",zp),gt(hr,"overrides",ko),gt(hr,"registry",cr),gt(hr,"version",MF),gt(hr,"getChart",Ax);function xx(){return se(hr.instances,n=>n._plugins.invalidate())}function LF(n,t,e){const{startAngle:i,x:r,y:a,outerRadius:l,innerRadius:u,options:h}=t,{borderWidth:d,borderJoinStyle:g}=h,y=Math.min(d/l,xn(i-e));if(n.beginPath(),n.arc(r,a,l-d/2,i+y/2,e-y/2),u>0){const _=Math.min(d/u,xn(i-e));n.arc(r,a,u+d/2,e-_/2,i+_/2,!0)}else{const _=Math.min(d/2,l*xn(i-e));if(g==="round")n.arc(r,a,_,e-Jt/2,i+Jt/2,!0);else if(g==="bevel"){const E=2*_*_,S=-E*Math.cos(e+Jt/2)+r,A=-E*Math.sin(e+Jt/2)+a,x=E*Math.cos(i+Jt/2)+r,O=E*Math.sin(i+Jt/2)+a;n.lineTo(S,A),n.lineTo(x,O)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function VF(n,t,e){const{startAngle:i,pixelMargin:r,x:a,y:l,outerRadius:u,innerRadius:h}=t;let d=r/u;n.beginPath(),n.arc(a,l,u,i-d,e+d),h>r?(d=r/h,n.arc(a,l,h,e+d,i-d,!0)):n.arc(a,l,r,e+Le,i-Le),n.closePath(),n.clip()}function UF(n){return V0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function zF(n,t,e,i){const r=UF(n.options.borderRadius),a=(e-t)/2,l=Math.min(a,i*t/2),u=h=>{const d=(e-Math.min(a,h))*i/2;return ln(h,0,Math.min(a,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:ln(r.innerStart,0,l),innerEnd:ln(r.innerEnd,0,l)}}function Bl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function yg(n,t,e,i,r,a){const{x:l,y:u,startAngle:h,pixelMargin:d,innerRadius:g}=t,y=Math.max(t.outerRadius+i+e-d,0),_=g>0?g+i+e+d:0;let E=0;const S=r-h;if(i){const _t=g>0?g-i:0,W=y>0?y-i:0,nt=(_t+W)/2,ft=nt!==0?S*nt/(nt+i):S;E=(S-ft)/2}const A=Math.max(.001,S*y-e/Jt)/y,x=(S-A)/2,O=h+x+E,P=r-x-E,{outerStart:V,outerEnd:$,innerStart:H,innerEnd:Y}=zF(t,_,y,P-O),D=y-V,R=y-$,I=O+V/D,N=P-$/R,L=_+H,j=_+Y,k=O+H/L,wt=P-Y/j;if(n.beginPath(),a){const _t=(I+N)/2;if(n.arc(l,u,y,I,_t),n.arc(l,u,y,_t,N),$>0){const bt=Bl(R,N,l,u);n.arc(bt.x,bt.y,$,N,P+Le)}const W=Bl(j,P,l,u);if(n.lineTo(W.x,W.y),Y>0){const bt=Bl(j,wt,l,u);n.arc(bt.x,bt.y,Y,P+Le,wt+Math.PI)}const nt=(P-Y/_+(O+H/_))/2;if(n.arc(l,u,_,P-Y/_,nt,!0),n.arc(l,u,_,nt,O+H/_,!0),H>0){const bt=Bl(L,k,l,u);n.arc(bt.x,bt.y,H,k+Math.PI,O-Le)}const ft=Bl(D,O,l,u);if(n.lineTo(ft.x,ft.y),V>0){const bt=Bl(D,I,l,u);n.arc(bt.x,bt.y,V,O-Le,I)}}else{n.moveTo(l,u);const _t=Math.cos(I)*y+l,W=Math.sin(I)*y+u;n.lineTo(_t,W);const nt=Math.cos(N)*y+l,ft=Math.sin(N)*y+u;n.lineTo(nt,ft)}n.closePath()}function BF(n,t,e,i,r){const{fullCircles:a,startAngle:l,circumference:u}=t;let h=t.endAngle;if(a){yg(n,t,e,i,h,r);for(let d=0;d<a;++d)n.fill();isNaN(u)||(h=l+(u%be||be))}return yg(n,t,e,i,h,r),n.fill(),h}function jF(n,t,e,i,r){const{fullCircles:a,startAngle:l,circumference:u,options:h}=t,{borderWidth:d,borderJoinStyle:g,borderDash:y,borderDashOffset:_,borderRadius:E}=h,S=h.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=_,S?(n.lineWidth=d*2,n.lineJoin=g||"round"):(n.lineWidth=d,n.lineJoin=g||"bevel");let A=t.endAngle;if(a){yg(n,t,e,i,A,r);for(let x=0;x<a;++x)n.stroke();isNaN(u)||(A=l+(u%be||be))}S&&VF(n,t,A),h.selfJoin&&A-l>=Jt&&E===0&&g!=="miter"&&LF(n,t,A),a||(yg(n,t,e,i,A,r),n.stroke())}class hh extends Es{constructor(e){super();gt(this,"circumference");gt(this,"endAngle");gt(this,"fullCircles");gt(this,"innerRadius");gt(this,"outerRadius");gt(this,"pixelMargin");gt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const a=this.getProps(["x","y"],r),{angle:l,distance:u}=c2(a,{x:e,y:i}),{startAngle:h,endAngle:d,innerRadius:g,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),E=(this.options.spacing+this.options.borderWidth)/2,S=Dt(_,d-h),A=Wh(l,h,d)&&h!==d,x=S>=be||A,O=ss(u,g+E,y+E);return x&&O}getCenterPoint(e){const{x:i,y:r,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:g}=this.options,y=(a+l)/2,_=(u+h+g+d)/2;return{x:i+Math.cos(y)*_,y:r+Math.sin(y)*_}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>be?Math.floor(r/be):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*a,Math.sin(h)*a);const d=1-Math.sin(Math.min(Jt,r||0)),g=a*d;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,BF(e,this,g,l,u),jF(e,this,g,l,u),e.restore()}}gt(hh,"id","arc"),gt(hh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),gt(hh,"defaultRoutes",{backgroundColor:"backgroundColor"}),gt(hh,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function H2(n,t,e=t){n.lineCap=Dt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Dt(e.borderDash,t.borderDash)),n.lineDashOffset=Dt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Dt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Dt(e.borderWidth,t.borderWidth),n.strokeStyle=Dt(e.borderColor,t.borderColor)}function FF(n,t,e){n.lineTo(e.x,e.y)}function HF(n){return n.stepped?hB:n.tension||n.cubicInterpolationMode==="monotone"?fB:FF}function $2(n,t,e={}){const i=n.length,{start:r=0,end:a=i-1}=e,{start:l,end:u}=t,h=Math.max(r,l),d=Math.min(a,u),g=r<l&&a<l||r>u&&a>u;return{count:i,start:h,loop:t.loop,ilen:d<h&&!g?i+d-h:d-h}}function $F(n,t,e,i){const{points:r,options:a}=t,{count:l,start:u,loop:h,ilen:d}=$2(r,e,i),g=HF(a);let{move:y=!0,reverse:_}=i||{},E,S,A;for(E=0;E<=d;++E)S=r[(u+(_?d-E:E))%l],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):g(n,A,S,_,a.stepped),A=S);return h&&(S=r[(u+(_?d:0))%l],g(n,A,S,_,a.stepped)),!!h}function qF(n,t,e,i){const r=t.points,{count:a,start:l,ilen:u}=$2(r,e,i),{move:h=!0,reverse:d}=i||{};let g=0,y=0,_,E,S,A,x,O;const P=$=>(l+(d?u-$:$))%a,V=()=>{A!==x&&(n.lineTo(g,x),n.lineTo(g,A),n.lineTo(g,O))};for(h&&(E=r[P(0)],n.moveTo(E.x,E.y)),_=0;_<=u;++_){if(E=r[P(_)],E.skip)continue;const $=E.x,H=E.y,Y=$|0;Y===S?(H<A?A=H:H>x&&(x=H),g=(y*g+$)/++y):(V(),n.lineTo($,H),S=Y,y=0,A=x=H),O=H}V()}function X_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?qF:$F}function GF(n){return n.stepped?$B:n.tension||n.cubicInterpolationMode==="monotone"?qB:yo}function WF(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),H2(n,t.options),n.stroke(r)}function YF(n,t,e,i){const{segments:r,options:a}=t,l=X_(t);for(const u of r)H2(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const KF=typeof Path2D=="function";function XF(n,t,e,i){KF&&!t.options.segment?WF(n,t,e,i):YF(n,t,e,i)}class aa extends Es{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;LB(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QB(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],a=this.points,l=O2(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],h=GF(i);let d,g;for(d=0,g=l.length;d<g;++d){const{start:y,end:_}=l[d],E=a[y],S=a[_];if(E===S){u.push(E);continue}const A=Math.abs((r-E[e])/(S[e]-E[e])),x=h(E,S,A,i.stepped);x[e]=t[e],u.push(x)}return u.length===1?u[0]:u}pathSegment(t,e,i){return X_(this)(t,this,e,i)}path(t,e,i){const r=this.segments,a=X_(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=a(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),XF(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}gt(aa,"id","line"),gt(aa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),gt(aa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),gt(aa,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Rx(n,t,e,i){const r=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<r.radius+r.hitRadius}class Bp extends Es{constructor(e){super();gt(this,"parsed");gt(this,"skip");gt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const a=this.options,{x:l,y:u}=this.getProps(["x","y"],r);return Math.pow(e-l,2)+Math.pow(i-u,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return Rx(this,e,"x",i)}inYRange(e,i){return Rx(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!os(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,G_(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}gt(Bp,"id","point"),gt(Bp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),gt(Bp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function q2(n,t){const{x:e,y:i,base:r,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let u,h,d,g,y;return n.horizontal?(y=l/2,u=Math.min(e,r),h=Math.max(e,r),d=i-y,g=i+y):(y=a/2,u=e-y,h=e+y,d=Math.min(i,r),g=Math.max(i,r)),{left:u,top:d,right:h,bottom:g}}function oa(n,t,e,i){return n?0:ln(t,e,i)}function QF(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,a=v2(i);return{t:oa(r.top,a.top,0,e),r:oa(r.right,a.right,0,t),b:oa(r.bottom,a.bottom,0,e),l:oa(r.left,a.left,0,t)}}function ZF(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,a=wo(r),l=Math.min(t,e),u=n.borderSkipped,h=i||Gt(r);return{topLeft:oa(!h||u.top||u.left,a.topLeft,0,l),topRight:oa(!h||u.top||u.right,a.topRight,0,l),bottomLeft:oa(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:oa(!h||u.bottom||u.right,a.bottomRight,0,l)}}function JF(n){const t=q2(n),e=t.right-t.left,i=t.bottom-t.top,r=QF(n,e/2,i/2),a=ZF(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function e_(n,t,e,i){const r=t===null,a=e===null,u=n&&!(r&&a)&&q2(n,i);return u&&(r||ss(t,u.left,u.right))&&(a||ss(e,u.top,u.bottom))}function tH(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function eH(n,t){n.rect(t.x,t.y,t.w,t.h)}function n_(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+a,h:n.h+l,radius:n.radius}}class jp extends Es{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:a,outer:l}=JF(this),u=tH(l.radius)?Yh:eH;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),u(t,n_(l,e,a)),t.clip(),u(t,n_(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,n_(a,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return e_(this,t,e,i)}inXRange(t,e){return e_(this,t,null,e)}inYRange(t,e){return e_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+r)/2:e,y:a?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}gt(jp,"id","bar"),gt(jp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),gt(jp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var nH=Object.freeze({__proto__:null,ArcElement:hh,BarElement:jp,LineElement:aa,PointElement:Bp});const Q_=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Cx=Q_.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function G2(n){return Q_[n%Q_.length]}function W2(n){return Cx[n%Cx.length]}function iH(n,t){return n.borderColor=G2(t),n.backgroundColor=W2(t),++t}function rH(n,t){return n.backgroundColor=n.data.map(()=>G2(t++)),t}function sH(n,t){return n.backgroundColor=n.data.map(()=>W2(t++)),t}function aH(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof bo?t=rH(e,t):r instanceof Oh?t=sH(e,t):r&&(t=iH(e,t))}}function Ox(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function oH(n){return n&&(n.borderColor||n.backgroundColor)}function lH(){return we.borderColor!=="rgba(0,0,0,0.1)"||we.backgroundColor!=="rgba(0,0,0,0.1)"}var cH={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:a}=r,l=Ox(i)||oH(r)||a&&Ox(a)||lH();if(!e.forceOverride&&l)return;const u=aH(n);i.forEach(u)}};function uH(n,t,e,i,r){const a=r.samples||i;if(a>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(a-2);let h=0;const d=t+e-1;let g=t,y,_,E,S,A;for(l[h++]=n[g],y=0;y<a-2;y++){let x=0,O=0,P;const V=Math.floor((y+1)*u)+1+t,$=Math.min(Math.floor((y+2)*u)+1,e)+t,H=$-V;for(P=V;P<$;P++)x+=n[P].x,O+=n[P].y;x/=H,O/=H;const Y=Math.floor(y*u)+1+t,D=Math.min(Math.floor((y+1)*u)+1,e)+t,{x:R,y:I}=n[g];for(E=S=-1,P=Y;P<D;P++)S=.5*Math.abs((R-x)*(n[P].y-I)-(R-n[P].x)*(O-I)),S>E&&(E=S,_=n[P],A=P);l[h++]=_,g=A}return l[h++]=n[d],l}function hH(n,t,e,i){let r=0,a=0,l,u,h,d,g,y,_,E,S,A;const x=[],O=t+e-1,P=n[t].x,$=n[O].x-P;for(l=t;l<t+e;++l){u=n[l],h=(u.x-P)/$*i,d=u.y;const H=h|0;if(H===g)d<S?(S=d,y=l):d>A&&(A=d,_=l),r=(a*r+u.x)/++a;else{const Y=l-1;if(!Ft(y)&&!Ft(_)){const D=Math.min(y,_),R=Math.max(y,_);D!==E&&D!==Y&&x.push({...n[D],x:r}),R!==E&&R!==Y&&x.push({...n[R],x:r})}l>0&&Y!==E&&x.push(n[Y]),x.push(u),g=H,a=0,S=A=d,y=_=E=l}}return x}function Y2(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Ix(n){n.data.datasets.forEach(t=>{Y2(t)})}function fH(n,t){const e=t.length;let i=0,r;const{iScale:a}=n,{min:l,max:u,minDefined:h,maxDefined:d}=a.getUserBounds();return h&&(i=ln(as(t,a.axis,l).lo,0,e-1)),d?r=ln(as(t,a.axis,u).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var dH={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Ix(n);return}const i=n.width;n.data.datasets.forEach((r,a)=>{const{_data:l,indexAxis:u}=r,h=n.getDatasetMeta(a),d=l||r.data;if(ch([u,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const g=n.scales[h.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:y,count:_}=fH(h,d);const E=e.threshold||4*i;if(_<=E){Y2(r);return}Ft(l)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let S;switch(e.algorithm){case"lttb":S=uH(d,y,_,i,e);break;case"min-max":S=hH(d,y,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=S})},destroy(n){Ix(n)}};function pH(n,t,e){const i=n.segments,r=n.points,a=t.points,l=[];for(const u of i){let{start:h,end:d}=u;d=im(h,d,r);const g=Z_(e,r[h],r[d],u.loop);if(!t.segments){l.push({source:u,target:g,start:r[h],end:r[d]});continue}const y=O2(t,g);for(const _ of y){const E=Z_(e,a[_.start],a[_.end],_.loop),S=C2(u,r,E);for(const A of S)l.push({source:A,target:_,start:{[e]:Mx(g,E,"start",Math.max)},end:{[e]:Mx(g,E,"end",Math.min)}})}}return l}function Z_(n,t,e,i){if(i)return;let r=t[n],a=e[n];return n==="angle"&&(r=xn(r),a=xn(a)),{property:n,start:r,end:a}}function gH(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,a=[];return t.segments.forEach(({start:l,end:u})=>{u=im(l,u,r);const h=r[l],d=r[u];i!==null?(a.push({x:h.x,y:i}),a.push({x:d.x,y:i})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:d.y}))}),a}function im(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Mx(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function K2(n,t){let e=[],i=!1;return Se(n)?(i=!0,e=n):e=gH(n,t),e.length?new aa({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Dx(n){return n&&n.fill!==!1}function mH(n,t,e){let r=n[t].fill;const a=[t];let l;if(!e)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!Ie(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;a.push(r),r=l.fill}return!1}function yH(n,t,e){const i=EH(n);if(Gt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ie(r)&&Math.floor(r)===r?vH(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function vH(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function _H(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Gt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function bH(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Gt(n)?i=n.value:i=t.getBaseValue(),i}function EH(n){const t=n.options,e=t.fill;let i=Dt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function TH(n){const{scale:t,index:e,line:i}=n,r=[],a=i.segments,l=i.points,u=SH(t,e);u.push(K2({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const d=a[h];for(let g=d.start;g<=d.end;g++)wH(r,l[g],u)}return new aa({points:r,options:{}})}function SH(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const a=i[r];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function wH(n,t,e){const i=[];for(let r=0;r<e.length;r++){const a=e[r],{first:l,last:u,point:h}=AH(a,t,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function AH(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],a=n.segments,l=n.points;let u=!1,h=!1;for(let d=0;d<a.length;d++){const g=a[d],y=l[g.start][e],_=l[g.end][e];if(ss(r,y,_)){u=r===y,h=r===_;break}}return{first:u,last:h,point:i}}class X2{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:a,radius:l}=this;return e=e||{start:0,end:be},t.arc(r,a,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,a=t.angle;return{x:e+Math.cos(a)*r,y:i+Math.sin(a)*r,angle:a}}}function xH(n){const{chart:t,fill:e,line:i}=n;if(Ie(e))return RH(t,e);if(e==="stack")return TH(n);if(e==="shape")return!0;const r=CH(n);return r instanceof X2?r:K2(r,i)}function RH(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function CH(n){return(n.scale||{}).getPointPositionForValue?IH(n):OH(n)}function OH(n){const{scale:t={},fill:e}=n,i=_H(e,t);if(Ie(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function IH(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,a=i.reverse?t.max:t.min,l=bH(e,t,a),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new X2({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<r;++h)u.push(t.getPointPositionForValue(h,l));return u}function i_(n,t,e){const i=xH(t),{chart:r,index:a,line:l,scale:u,axis:h}=t,d=l.options,g=d.fill,y=d.backgroundColor,{above:_=y,below:E=y}=g||{},S=r.getDatasetMeta(a),A=I2(r,S);i&&l.points.length&&(Jg(n,e),MH(n,{line:l,target:i,above:_,below:E,area:e,scale:u,axis:h,clip:A}),tm(n))}function MH(n,t){const{line:e,target:i,above:r,below:a,area:l,scale:u,clip:h}=t,d=e._loop?"angle":t.axis;n.save();let g=a;a!==r&&(d==="x"?(Nx(n,i,l.top),r_(n,{line:e,target:i,color:r,scale:u,property:d,clip:h}),n.restore(),n.save(),Nx(n,i,l.bottom)):d==="y"&&(Px(n,i,l.left),r_(n,{line:e,target:i,color:a,scale:u,property:d,clip:h}),n.restore(),n.save(),Px(n,i,l.right),g=r)),r_(n,{line:e,target:i,color:g,scale:u,property:d,clip:h}),n.restore()}function Nx(n,t,e){const{segments:i,points:r}=t;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:d}=u,g=r[h],y=r[im(h,d,r)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Px(n,t,e){const{segments:i,points:r}=t;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:d}=u,g=r[h],y=r[im(h,d,r)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function r_(n,t){const{line:e,target:i,property:r,color:a,scale:l,clip:u}=t,h=pH(e,i,r);for(const{source:d,target:g,start:y,end:_}of h){const{style:{backgroundColor:E=a}={}}=d,S=i!==!0;n.save(),n.fillStyle=E,DH(n,l,u,S&&Z_(r,y,_)),n.beginPath();const A=!!e.pathSegment(n,d);let x;if(S){A?n.closePath():kx(n,i,_,r);const O=!!i.pathSegment(n,g,{move:A,reverse:!0});x=A&&O,x||kx(n,i,y,r)}n.closePath(),n.fill(x?"evenodd":"nonzero"),n.restore()}}function DH(n,t,e,i){const r=t.chart.chartArea,{property:a,start:l,end:u}=i||{};if(a==="x"||a==="y"){let h,d,g,y;a==="x"?(h=l,d=r.top,g=u,y=r.bottom):(h=r.left,d=l,g=r.right,y=u),n.beginPath(),e&&(h=Math.max(h,e.left),g=Math.min(g,e.right),d=Math.max(d,e.top),y=Math.min(y,e.bottom)),n.rect(h,d,g-h,y-d),n.clip()}}function kx(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var NH={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let a,l,u,h;for(l=0;l<i;++l)a=n.getDatasetMeta(l),u=a.dataset,h=null,u&&u.options&&u instanceof aa&&(h={visible:n.isDatasetVisible(l),index:l,fill:yH(u,l,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=h,r.push(h);for(l=0;l<i;++l)h=r[l],!(!h||h.fill===!1)&&(h.fill=mH(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),i&&u.fill&&i_(n.ctx,u,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;Dx(a)&&i_(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Dx(i)||e.drawTime!=="beforeDatasetDraw"||i_(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lx=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},PH=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Vx extends Es{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=pe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Qe(i.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Lx(i,a);let d,g;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(l,a,u,h)+10):(g=this.maxHeight,d=this._fitCols(l,r,u,h)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],g=r+u;let y=t;a.textAlign="left",a.textBaseline="middle";let _=-1,E=-g;return this.legendItems.forEach((S,A)=>{const x=i+e/2+a.measureText(S.text).width;(A===0||d[d.length-1]+x+2*u>l)&&(y+=g,d[d.length-(A>0?0:1)]=0,E+=g,_++),h[A]={left:0,top:E,row:_,width:x,height:r},d[d.length-1]+=x+u}),y}_fitCols(t,e,i,r){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],g=l-t;let y=u,_=0,E=0,S=0,A=0;return this.legendItems.forEach((x,O)=>{const{itemWidth:P,itemHeight:V}=kH(i,e,a,x,r);O>0&&E+V+2*u>g&&(y+=_+u,d.push({width:_,height:E}),S+=_+u,A++,_=E=0),h[O]={left:S,top:E,col:A,width:P,height:V},_=Math.max(_,P),E+=V+u}),y+=_,d.push({width:_,height:E}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:a}}=this,l=ec(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=wn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,h=wn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+r}else{let u=0,h=wn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,h=wn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=h,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Jg(t,this),this._draw(),tm(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:a,labels:l}=t,u=we.color,h=ec(t.rtl,this.left,this.width),d=Qe(l.font),{padding:g}=l,y=d.size,_=y/2;let E;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:S,boxHeight:A,itemHeight:x}=Lx(l,y),O=function(Y,D,R){if(isNaN(S)||S<=0||isNaN(A)||A<0)return;r.save();const I=Dt(R.lineWidth,1);if(r.fillStyle=Dt(R.fillStyle,u),r.lineCap=Dt(R.lineCap,"butt"),r.lineDashOffset=Dt(R.lineDashOffset,0),r.lineJoin=Dt(R.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=Dt(R.strokeStyle,u),r.setLineDash(Dt(R.lineDash,[])),l.usePointStyle){const N={radius:A*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:I},L=h.xPlus(Y,S/2),j=D+_;y2(r,N,L,j,l.pointStyleWidth&&S)}else{const N=D+Math.max((y-A)/2,0),L=h.leftForLtr(Y,S),j=wo(R.borderRadius);r.beginPath(),Object.values(j).some(k=>k!==0)?Yh(r,{x:L,y:N,w:S,h:A,radius:j}):r.rect(L,N,S,A),r.fill(),I!==0&&r.stroke()}r.restore()},P=function(Y,D,R){Lo(r,R.text,Y,D+x/2,d,{strikethrough:R.hidden,textAlign:h.textAlign(R.textAlign)})},V=this.isHorizontal(),$=this._computeTitleHeight();V?E={x:wn(a,this.left+g,this.right-i[0]),y:this.top+g+$,line:0}:E={x:this.left+g,y:wn(a,this.top+$+g,this.bottom-e[0].height),line:0},A2(this.ctx,t.textDirection);const H=x+g;this.legendItems.forEach((Y,D)=>{r.strokeStyle=Y.fontColor,r.fillStyle=Y.fontColor;const R=r.measureText(Y.text).width,I=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),N=S+_+R;let L=E.x,j=E.y;h.setWidth(this.width),V?D>0&&L+N+g>this.right&&(j=E.y+=H,E.line++,L=E.x=wn(a,this.left+g,this.right-i[E.line])):D>0&&j+H>this.bottom&&(L=E.x=L+e[E.line].width+g,E.line++,j=E.y=wn(a,this.top+$+g,this.bottom-e[E.line].height));const k=h.x(L);if(O(k,j,Y),L=tB(I,L+S+_,V?L+N:this.right,t.rtl),P(h.x(L),j,Y),V)E.x+=N+g;else if(typeof Y.text!="string"){const wt=d.lineHeight;E.y+=Q2(Y,wt)+g}else E.y+=H}),x2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Qe(e.font),r=Mn(e.padding);if(!e.display)return;const a=ec(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=i.size/2,d=r.top+h;let g,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),g=this.top+d,y=wn(t.align,y,this.right-_);else{const S=this.columnSizes.reduce((A,x)=>Math.max(A,x.height),0);g=d+wn(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const E=wn(u,y,y+_);l.textAlign=a.textAlign(k0(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Lo(l,e.text,E,g,i)}_computeTitleHeight(){const t=this.options.title,e=Qe(t.font),i=Mn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,a;if(ss(t,this.left,this.right)&&ss(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],ss(t,r.left,r.left+r.width)&&ss(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!UH(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,a=PH(r,i);r&&!a&&pe(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!a&&pe(e.onHover,[t,i,this],this)}else i&&pe(e.onClick,[t,i,this],this)}}function kH(n,t,e,i,r){const a=LH(i,n,t,e),l=VH(r,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function LH(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(r).width}function VH(n,t,e){let i=n;return typeof t.text!="string"&&(i=Q2(t,e)),i}function Q2(n,t){const e=n.text?n.text.length:0;return t*e}function UH(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var zH={id:"legend",_element:Vx,start(n,t,e){const i=n.legend=new Vx({ctx:n.ctx,options:e,chart:n});On.configure(n,i,e),On.addBox(n,i)},stop(n){On.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;On.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(e?0:void 0),g=Mn(d.borderWidth);return{text:t[h.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class $0 extends Es{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Se(i.text)?i.text.length:1;this._padding=Mn(i.padding);const a=r*Qe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:a,options:l}=this,u=l.align;let h=0,d,g,y;return this.isHorizontal()?(g=wn(u,i,a),y=e+t,d=a-i):(l.position==="left"?(g=i+t,y=wn(u,r,e),h=Jt*-.5):(g=a-t,y=wn(u,e,r),h=Jt*.5),d=r-e),{titleX:g,titleY:y,maxWidth:d,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Qe(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:d}=this._drawArgs(a);Lo(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:d,textAlign:k0(e.align),textBaseline:"middle",translation:[l,u]})}}function BH(n,t){const e=new $0({ctx:n.ctx,options:t,chart:n});On.configure(n,e,t),On.addBox(n,e),n.titleBlock=e}var jH={id:"title",_element:$0,start(n,t,e){BH(n,e)},stop(n){const t=n.titleBlock;On.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;On.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dp=new WeakMap;var FH={id:"subtitle",start(n,t,e){const i=new $0({ctx:n.ctx,options:e,chart:n});On.configure(n,i,e),On.addBox(n,i),dp.set(n,i)},stop(n){On.removeBox(n,dp.get(n)),dp.delete(n)},beforeUpdate(n,t,e){const i=dp.get(n);On.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fh={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),g=$_(t,d);g<r&&(r=g,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function or(n,t){return t&&(Se(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ts(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function HH(n,t){const{element:e,datasetIndex:i,index:r}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(r);return{chart:n,label:l,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Ux(n,t){const e=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:l,boxHeight:u}=t,h=Qe(t.bodyFont),d=Qe(t.titleFont),g=Qe(t.footerFont),y=a.length,_=r.length,E=i.length,S=Mn(t.padding);let A=S.height,x=0,O=i.reduce(($,H)=>$+H.before.length+H.lines.length+H.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,y&&(A+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),O){const $=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;A+=E*$+(O-E)*h.lineHeight+(O-1)*t.bodySpacing}_&&(A+=t.footerMarginTop+_*g.lineHeight+(_-1)*t.footerSpacing);let P=0;const V=function($){x=Math.max(x,e.measureText($).width+P)};return e.save(),e.font=d.string,se(n.title,V),e.font=h.string,se(n.beforeBody.concat(n.afterBody),V),P=t.displayColors?l+2+t.boxPadding:0,se(i,$=>{se($.before,V),se($.lines,V),se($.after,V)}),P=0,e.font=g.string,se(n.footer,V),e.restore(),x+=S.width,{width:x,height:A}}function $H(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function qH(n,t,e,i){const{x:r,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+a+l>t.width||n==="right"&&r-a-l<0)return!0}function GH(n,t,e,i){const{x:r,width:a}=e,{width:l,chartArea:{left:u,right:h}}=n;let d="center";return i==="center"?d=r<=(u+h)/2?"left":"right":r<=a/2?d="left":r>=l-a/2&&(d="right"),qH(d,n,t,e)&&(d="center"),d}function zx(n,t,e){const i=e.yAlign||t.yAlign||$H(n,e);return{xAlign:e.xAlign||t.xAlign||GH(n,t,e,i),yAlign:i}}function WH(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function YH(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function Bx(n,t,e,i){const{caretSize:r,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,d=r+a,{topLeft:g,topRight:y,bottomLeft:_,bottomRight:E}=wo(l);let S=WH(t,u);const A=YH(t,h,d);return h==="center"?u==="left"?S+=d:u==="right"&&(S-=d):u==="left"?S-=Math.max(g,_)+r:u==="right"&&(S+=Math.max(y,E)+r),{x:ln(S,0,i.width-t.width),y:ln(A,0,i.height-t.height)}}function pp(n,t,e){const i=Mn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function jx(n){return or([],ts(n))}function KH(n,t,e){return Aa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Fx(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Z2={beforeTitle:Zr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Zr,beforeBody:Zr,beforeLabel:Zr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ft(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Zr,afterBody:Zr,beforeFooter:Zr,footer:Zr,afterFooter:Zr};function Hn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?Z2[t].call(e,i):r}class J_ extends Es{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,a=new M2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=KH(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Hn(i,"beforeTitle",this,t),a=Hn(i,"title",this,t),l=Hn(i,"afterTitle",this,t);let u=[];return u=or(u,ts(r)),u=or(u,ts(a)),u=or(u,ts(l)),u}getBeforeBody(t,e){return jx(Hn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return se(t,a=>{const l={before:[],lines:[],after:[]},u=Fx(i,a);or(l.before,ts(Hn(u,"beforeLabel",this,a))),or(l.lines,Hn(u,"label",this,a)),or(l.after,ts(Hn(u,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(t,e){return jx(Hn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Hn(i,"beforeFooter",this,t),a=Hn(i,"footer",this,t),l=Hn(i,"afterFooter",this,t);let u=[];return u=or(u,ts(r)),u=or(u,ts(a)),u=or(u,ts(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],a=[],l=[];let u=[],h,d;for(h=0,d=e.length;h<d;++h)u.push(HH(this.chart,e[h]));return t.filter&&(u=u.filter((g,y,_)=>t.filter(g,y,_,i))),t.itemSort&&(u=u.sort((g,y)=>t.itemSort(g,y,i))),se(u,g=>{const y=Fx(t.callbacks,g);r.push(Hn(y,"labelColor",this,g)),a.push(Hn(y,"labelPointStyle",this,g)),l.push(Hn(y,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const u=fh[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Ux(this,i),d=Object.assign({},u,h),g=zx(this.chart,i,d),y=Bx(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const a=this.getCaretPosition(t,i,r);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:d,bottomLeft:g,bottomRight:y}=wo(u),{x:_,y:E}=t,{width:S,height:A}=e;let x,O,P,V,$,H;return a==="center"?($=E+A/2,r==="left"?(x=_,O=x-l,V=$+l,H=$-l):(x=_+S,O=x+l,V=$-l,H=$+l),P=x):(r==="left"?O=_+Math.max(h,g)+l:r==="right"?O=_+S-Math.max(d,y)-l:O=this.caretX,a==="top"?(V=E,$=V-l,x=O-l,P=O+l):(V=E+A,$=V+l,x=O+l,P=O-l),H=V),{x1:x,x2:O,x3:P,y1:V,y2:$,y3:H}}drawTitle(t,e,i){const r=this.title,a=r.length;let l,u,h;if(a){const d=ec(i.rtl,this.x,this.width);for(t.x=pp(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=Qe(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(r[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=a,g=Qe(a.bodyFont),y=pp(this,"left",a),_=r.x(y),E=h<g.lineHeight?(g.lineHeight-h)/2:0,S=e.y+E;if(a.usePointStyle){const A={radius:Math.min(d,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},x=r.leftForLtr(_,d)+d/2,O=S+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,G_(t,A,x,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,G_(t,A,x,O)}else{t.lineWidth=Gt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(_,d),x=r.leftForLtr(r.xPlus(_,1),d-2),O=wo(l.borderRadius);Object.values(O).some(P=>P!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Yh(t,{x:A,y:S,w:d,h,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Yh(t,{x,y:S+1,w:d-2,h:h-2,radius:O}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(A,S,d,h),t.strokeRect(A,S,d,h),t.fillStyle=l.backgroundColor,t.fillRect(x,S+1,d-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:d,boxPadding:g}=i,y=Qe(i.bodyFont);let _=y.lineHeight,E=0;const S=ec(i.rtl,this.x,this.width),A=function(R){e.fillText(R,S.x(t.x+E),t.y+_/2),t.y+=_+a},x=S.textAlign(l);let O,P,V,$,H,Y,D;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=pp(this,x,i),e.fillStyle=i.bodyColor,se(this.beforeBody,A),E=u&&x!=="right"?l==="center"?d/2+g:d+2+g:0,$=0,Y=r.length;$<Y;++$){for(O=r[$],P=this.labelTextColors[$],e.fillStyle=P,se(O.before,A),V=O.lines,u&&V.length&&(this._drawColorBox(e,t,$,S,i),_=Math.max(y.lineHeight,h)),H=0,D=V.length;H<D;++H)A(V[H]),_=y.lineHeight;se(O.after,A)}E=0,_=y.lineHeight,se(this.afterBody,A),t.y-=a}drawFooter(t,e,i){const r=this.footer,a=r.length;let l,u;if(a){const h=ec(i.rtl,this.x,this.width);for(t.x=pp(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=Qe(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(r[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=t,{width:d,height:g}=i,{topLeft:y,topRight:_,bottomLeft:E,bottomRight:S}=wo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+y,h),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-_,h),e.quadraticCurveTo(u+d,h,u+d,h+_),l==="center"&&a==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,h+g-S),e.quadraticCurveTo(u+d,h+g,u+d-S,h+g),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+E,h+g),e.quadraticCurveTo(u,h+g,u,h+g-E),l==="center"&&a==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,h+y),e.quadraticCurveTo(u,h,u+y,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const l=fh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Ux(this,t),h=Object.assign({},l,this._size),d=zx(e,t,h),g=Bx(t,h,d,e);(r._to!==g.x||a._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Mn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,r,e),A2(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),x2(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:h})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[h],index:h}}),a=!hg(i,r),l=this._positionChanged(r,e);(a||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),h=e||!hg(l,a)||u;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const a=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:a}=this,l=fh[a.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}gt(J_,"positioners",fh);var XH={id:"tooltip",_element:J_,positioners:fh,afterInit(n,t,e){e&&(n.tooltip=new J_({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Z2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},QH=Object.freeze({__proto__:null,Colors:cH,Decimation:dH,Filler:NH,Legend:zH,SubTitle:FH,Title:jH,Tooltip:XH});const ZH=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function JH(n,t,e,i){const r=n.indexOf(t);if(r===-1)return ZH(n,t,e,i);const a=n.lastIndexOf(t);return r!==a?e:r}const t8=(n,t)=>n===null?null:ln(Math.round(n),0,t);function Hx(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class tb extends Fo{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:a}of e)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ft(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:JH(i,t,Dt(e,t),this._addedLabels),t8(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return Hx.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}gt(tb,"id","category"),gt(tb,"defaults",{ticks:{callback:Hx}});function e8(n,t){const e=[],{bounds:r,step:a,min:l,max:u,precision:h,count:d,maxTicks:g,maxDigits:y,includeBounds:_}=n,E=a||1,S=g-1,{min:A,max:x}=t,O=!Ft(l),P=!Ft(u),V=!Ft(d),$=(x-A)/(y+1);let H=UA((x-A)/S/E)*E,Y,D,R,I;if(H<1e-14&&!O&&!P)return[{value:A},{value:x}];I=Math.ceil(x/H)-Math.floor(A/H),I>S&&(H=UA(I*H/S/E)*E),Ft(h)||(Y=Math.pow(10,h),H=Math.ceil(H*Y)/Y),r==="ticks"?(D=Math.floor(A/H)*H,R=Math.ceil(x/H)*H):(D=A,R=x),O&&P&&a&&Wz((u-l)/a,H/1e3)?(I=Math.round(Math.min((u-l)/H,g)),H=(u-l)/I,D=l,R=u):V?(D=O?l:D,R=P?u:R,I=d-1,H=(R-D)/I):(I=(R-D)/H,xh(I,Math.round(I),H/1e3)?I=Math.round(I):I=Math.ceil(I));const N=Math.max(zA(H),zA(D));Y=Math.pow(10,Ft(h)?N:h),D=Math.round(D*Y)/Y,R=Math.round(R*Y)/Y;let L=0;for(O&&(_&&D!==l?(e.push({value:l}),D<l&&L++,xh(Math.round((D+L*H)*Y)/Y,l,$x(l,$,n))&&L++):D<l&&L++);L<I;++L){const j=Math.round((D+L*H)*Y)/Y;if(P&&j>u)break;e.push({value:j})}return P&&_&&R!==u?e.length&&xh(e[e.length-1].value,u,$x(u,$,n))?e[e.length-1].value=u:e.push({value:u}):(!P||R===u)&&e.push({value:R}),e}function $x(n,t,{horizontal:e,minRotation:i}){const r=Vi(i),a=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class vg extends Fo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ft(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const l=h=>r=e?r:h,u=h=>a=i?a:h;if(t){const h=_r(r),d=_r(a);h<0&&d<0?u(0):h>0&&d>0&&l(0)}if(r===a){let h=a===0?1:Math.abs(a*.05);u(a+h),t||l(r-h)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=e8(r,a);return t.bounds==="ticks"&&l2(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return bf(t,this.chart.options.locale,this.options.ticks.format)}}class eb extends vg{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ie(t)?t:0,this.max=Ie(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Vi(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}gt(eb,"id","linear"),gt(eb,"defaults",{ticks:{callback:Zg.formatters.numeric}});const Xh=n=>Math.floor(sa(n)),ho=(n,t)=>Math.pow(10,Xh(n)+t);function qx(n){return n/Math.pow(10,Xh(n))===1}function Gx(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function n8(n,t){const e=t-n;let i=Xh(e);for(;Gx(n,t,i)>10;)i++;for(;Gx(n,t,i)<10;)i--;return Math.min(i,Xh(n))}function i8(n,{min:t,max:e}){t=ii(n.min,t);const i=[],r=Xh(t);let a=n8(t,e),l=a<0?Math.pow(10,Math.abs(a)):1;const u=Math.pow(10,a),h=r>a?Math.pow(10,r):0,d=Math.round((t-h)*l)/l,g=Math.floor((t-h)/u/10)*u*10;let y=Math.floor((d-g)/Math.pow(10,a)),_=ii(n.min,Math.round((h+g+y*Math.pow(10,a))*l)/l);for(;_<e;)i.push({value:_,major:qx(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(a++,y=2,l=a>=0?1:l),_=Math.round((h+g+y*Math.pow(10,a))*l)/l;const E=ii(n.max,_);return i.push({value:E,major:qx(E),significand:y}),i}class nb extends Fo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=vg.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Ie(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ie(t)?Math.max(0,t):null,this.max=Ie(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ie(this._userMin)&&(this.min=t===ho(this.min,0)?ho(this.min,-1):ho(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const a=u=>i=t?i:u,l=u=>r=e?r:u;i===r&&(i<=0?(a(1),l(10)):(a(ho(i,-1)),l(ho(r,1)))),i<=0&&a(ho(r,-1)),r<=0&&l(ho(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=i8(e,this);return t.bounds==="ticks"&&l2(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":bf(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=sa(t),this._valueRange=sa(this.max)-sa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(sa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}gt(nb,"id","logarithmic"),gt(nb,"defaults",{ticks:{callback:Zg.formatters.logarithmic,major:{enabled:!0}}});function ib(n){const t=n.ticks;if(t.display&&n.display){const e=Mn(t.backdropPadding);return Dt(t.font&&t.font.size,we.font.size)+e.height}return 0}function r8(n,t,e){return e=Se(e)?e:[e],{w:uB(n,t.string,e),h:e.length*t.lineHeight}}function Wx(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function s8(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],a=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?Jt/a:0;for(let h=0;h<a;h++){const d=l.setContext(n.getPointLabelContext(h));r[h]=d.padding;const g=n.getPointPosition(h,n.drawingArea+r[h],u),y=Qe(d.font),_=r8(n.ctx,y,n._pointLabels[h]);i[h]=_;const E=xn(n.getIndexAngle(h)+u),S=Math.round(N0(E)),A=Wx(S,g.x,_.w,0,180),x=Wx(S,g.y,_.h,90,270);a8(e,t,E,A,x)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=c8(n,i,r)}function a8(n,t,e,i,r){const a=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,h=0;i.start<t.l?(u=(t.l-i.start)/a,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/a,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(h=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+h))}function o8(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:a,padding:l,size:u}=e,h=n.getPointPosition(t,i+r+l,a),d=Math.round(N0(xn(h.angle+Le))),g=f8(h.y,u.h,d),y=u8(d),_=h8(h.x,u.w,y);return{visible:!0,x:h.x,y:g,textAlign:y,left:_,top:g,right:_+u.w,bottom:g+u.h}}function l8(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:a}=n;return!(os({x:e,y:i},t)||os({x:e,y:a},t)||os({x:r,y:i},t)||os({x:r,y:a},t))}function c8(n,t,e){const i=[],r=n._pointLabels.length,a=n.options,{centerPointLabels:l,display:u}=a.pointLabels,h={extra:ib(a)/2,additionalAngle:l?Jt/r:0};let d;for(let g=0;g<r;g++){h.padding=e[g],h.size=t[g];const y=o8(n,g,h);i.push(y),u==="auto"&&(y.visible=l8(y,d),y.visible&&(d=y))}return i}function u8(n){return n===0||n===180?"center":n<180?"left":"right"}function h8(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function f8(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function d8(n,t,e){const{left:i,top:r,right:a,bottom:l}=e,{backdropColor:u}=t;if(!Ft(u)){const h=wo(t.borderRadius),d=Mn(t.backdropPadding);n.fillStyle=u;const g=i-d.left,y=r-d.top,_=a-i+d.width,E=l-r+d.height;Object.values(h).some(S=>S!==0)?(n.beginPath(),Yh(n,{x:g,y,w:_,h:E,radius:h}),n.fill()):n.fillRect(g,y,_,E)}}function p8(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const a=n._pointLabelItems[r];if(!a.visible)continue;const l=i.setContext(n.getPointLabelContext(r));d8(e,l,a);const u=Qe(l.font),{x:h,y:d,textAlign:g}=a;Lo(e,n._pointLabels[r],h,d+u.lineHeight/2,u,{color:l.color,textAlign:g,textBaseline:"middle"})}}function J2(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,be);else{let a=n.getPointPosition(0,t);r.moveTo(a.x,a.y);for(let l=1;l<i;l++)a=n.getPointPosition(l,t),r.lineTo(a.x,a.y)}}function g8(n,t,e,i,r){const a=n.ctx,l=t.circular,{color:u,lineWidth:h}=t;!l&&!i||!u||!h||e<0||(a.save(),a.strokeStyle=u,a.lineWidth=h,a.setLineDash(r.dash||[]),a.lineDashOffset=r.dashOffset,a.beginPath(),J2(n,e,l,i),a.closePath(),a.stroke(),a.restore())}function m8(n,t,e){return Aa(n,{label:e,index:t,type:"pointLabel"})}class dh extends vg{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Mn(ib(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ie(t)&&!isNaN(t)?t:0,this.max=Ie(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ib(this.options))}generateTickLabels(t){vg.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=pe(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?s8(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=be/(this._pointLabels.length||1),i=this.options.startAngle||0;return xn(t*e+Vi(i))}getDistanceFromCenterForValue(t){if(Ft(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ft(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return m8(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Le+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:a}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),J2(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:a}=e,l=this._pointLabels.length;let u,h,d;if(e.pointLabels.display&&p8(this,l),r.display&&this.ticks.forEach((g,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(g.value);const _=this.getContext(y),E=r.setContext(_),S=a.setContext(_);g8(this,E,h,l,S)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const g=i.setContext(this.getPointLabelContext(u)),{color:y,lineWidth:_}=g;!_||!y||(t.lineWidth=_,t.strokeStyle=y,t.setLineDash(g.borderDash),t.lineDashOffset=g.borderDashOffset,h=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(u,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,h)=>{if(h===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(h)),g=Qe(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){t.font=g.string,l=t.measureText(u.label).width,t.fillStyle=d.backdropColor;const y=Mn(d.backdropPadding);t.fillRect(-l/2-y.left,-a-g.size/2-y.top,l+y.width,g.size+y.height)}Lo(t,u.label,0,-a,g,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}gt(dh,"id","radialLinear"),gt(dh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),gt(dh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),gt(dh,"descriptors",{angleLines:{_fallback:"grid"}});const rm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qn=Object.keys(rm);function Yx(n,t){return n-t}function Kx(n,t){if(Ft(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ie(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(pc(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,r)),+l)}function Xx(n,t,e,i){const r=qn.length;for(let a=qn.indexOf(n);a<r-1;++a){const l=rm[qn[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return qn[a]}return qn[r-1]}function y8(n,t,e,i,r){for(let a=qn.length-1;a>=qn.indexOf(e);a--){const l=qn[a];if(rm[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return qn[e?qn.indexOf(e):0]}function v8(n){for(let t=qn.indexOf(n)+1,e=qn.length;t<e;++t)if(rm[qn[t]].common)return qn[t]}function Qx(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=P0(e,t),a=e[i]>=t?e[i]:e[r];n[a]=!0}}function _8(n,t,e,i){const r=n._adapter,a=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=a;u<=l;u=+r.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function Zx(n,t,e){const i=[],r={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return a===0||!e?i:_8(n,i,r,e)}class Qh extends Fo{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Rj._date(t.adapters.date);r.init(e),Ah(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Kx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Ie(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),a=Ie(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,u=Qz(r,a,l);return this._unit=e.unit||(i.autoSkip?Xx(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):y8(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:v8(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),Zx(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=ln(e,0,l),i=ln(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,a=r.time,l=a.unit||Xx(a.minUnit,e,i,this._getLabelCapacity(e)),u=Dt(r.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,d=pc(h)||h===!0,g={};let y=e,_,E;if(d&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(_=y,E=0;_<i;_=+t.add(_,u,l),E++)Qx(g,_,S);return(_===i||r.bounds==="ticks"||E===1)&&Qx(g,_,S),Object.keys(g).sort(Yx).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,a=this._unit,l=e||r[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const a=this.options,l=a.ticks.callback;if(l)return pe(l,[t,e,i],this);const u=a.time.displayFormats,h=this._unit,d=this._majorUnit,g=h&&u[h],y=d&&u[d],_=i[e],E=d&&y&&_&&_.major;return this._adapter.format(t,r||(E?y:g))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Vi(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,Zx(this,[t],this._majorUnit),r),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(Kx(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return h2(t.sort(Yx))}}gt(Qh,"id","time"),gt(Qh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gp(n,t,e){let i=0,r=n.length-1,a,l,u,h;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=as(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=as(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[r]);const d=l-a;return d?u+(h-u)*(t-a)/d:u}class rb extends Qh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=gp(e,this.min),this._tableRange=gp(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],a=[];let l,u,h,d,g;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)g=r[l+1],h=r[l-1],d=r[l],Math.round((g+h)/2)!==d&&a.push({time:d,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(gp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return gp(this._table,i*this._tableRange+this._minPos,!0)}}gt(rb,"id","timeseries"),gt(rb,"defaults",Qh.defaults);var b8=Object.freeze({__proto__:null,CategoryScale:tb,LinearScale:eb,LogarithmicScale:nb,RadialLinearScale:dh,TimeScale:Qh,TimeSeriesScale:rb});const E8=[xj,nH,QH,b8];/*!
  * CoreUI v4.1.0 (https://coreui.io)
  * Copyright 2025 [object Object]
  * Licensed under MIT (https://github.com/coreui/coreui-chartjs/blob/main/LICENSE)
  */const ph={TOOLTIP:"chartjs-tooltip",TOOLTIP_BODY:"chartjs-tooltip-body",TOOLTIP_BODY_ITEM:"chartjs-tooltip-body-item",TOOLTIP_HEADER:"chartjs-tooltip-header",TOOLTIP_HEADER_ITEM:"chartjs-tooltip-header-item"},T8=n=>{let t=n.canvas.parentNode.querySelector("div");if(!t){t=document.createElement("div"),t.classList.add(ph.TOOLTIP);const e=document.createElement("table");e.style.margin="0px",t.append(e),n.canvas.parentNode.append(t)}return t},S8=n=>{const{chart:t,tooltip:e}=n,i=T8(t);if(e.opacity===0){i.style.opacity=0;return}if(e.body){const l=e.title||[],u=e.body.map(y=>y.lines),h=document.createElement("thead");h.classList.add(ph.TOOLTIP_HEADER);for(const y of l){const _=document.createElement("tr");_.style.borderWidth=0,_.classList.add(ph.TOOLTIP_HEADER_ITEM);const E=document.createElement("th");E.style.borderWidth=0;const S=document.createTextNode(y);E.append(S),_.append(E),h.append(_)}const d=document.createElement("tbody");d.classList.add(ph.TOOLTIP_BODY);for(const[y,_]of u.entries()){const E=e.labelColors[y],S=document.createElement("span");S.style.background=E.backgroundColor,S.style.borderColor=E.borderColor,S.style.borderWidth="2px",S.style.marginRight="10px",S.style.height="10px",S.style.width="10px",S.style.display="inline-block";const A=document.createElement("tr");A.classList.add(ph.TOOLTIP_BODY_ITEM);const x=document.createElement("td");x.style.borderWidth=0;const O=document.createTextNode(_);x.append(S),x.append(O),A.append(x),d.append(A)}const g=i.querySelector("table");for(;g.firstChild;)g.firstChild.remove();g.append(h),g.append(d)}const{offsetLeft:r,offsetTop:a}=t.canvas;i.style.opacity=1,i.style.left=`${r+e.caretX}px`,i.style.top=`${a+e.caretY}px`,i.style.font=e.options.bodyFont.string,i.style.padding=`${e.padding}px ${e.padding}px`};var Cn=function(){return Cn=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Cn.apply(this,arguments)};function Jx(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}var mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ef(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tM={exports:{}},s_,tR;function w8(){if(tR)return s_;tR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return s_=n,s_}var a_,eR;function A8(){if(eR)return a_;eR=1;var n=w8();function t(){}function e(){}return e.resetWarningCache=t,a_=function(){function i(l,u,h,d,g,y){if(y!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},a_}tM.exports=A8()();var x8=tM.exports,Vn=Ef(x8),eM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=r(a,i(u)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)t.call(a,u)&&a[u]&&(l=r(l,u));return l}function r(a,l){return l?a?a+" "+l:a+l:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(eM);var R8=eM.exports,C8=Ef(R8),O8=typeof mp=="object"&&mp&&mp.Object===Object&&mp,nM=O8,I8=nM,M8=typeof self=="object"&&self&&self.Object===Object&&self,D8=I8||M8||Function("return this")(),Sr=D8,N8=Sr,P8=N8.Symbol,sm=P8,nR=sm,iM=Object.prototype,k8=iM.hasOwnProperty,L8=iM.toString,th=nR?nR.toStringTag:void 0;function V8(n){var t=k8.call(n,th),e=n[th];try{n[th]=void 0;var i=!0}catch{}var r=L8.call(n);return i&&(t?n[th]=e:delete n[th]),r}var U8=V8,z8=Object.prototype,B8=z8.toString;function j8(n){return B8.call(n)}var F8=j8,iR=sm,H8=U8,$8=F8,q8="[object Null]",G8="[object Undefined]",rR=iR?iR.toStringTag:void 0;function W8(n){return n==null?n===void 0?G8:q8:rR&&rR in Object(n)?H8(n):$8(n)}var Dc=W8;function Y8(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var Ts=Y8,K8=Dc,X8=Ts,Q8="[object AsyncFunction]",Z8="[object Function]",J8="[object GeneratorFunction]",t$="[object Proxy]";function e$(n){if(!X8(n))return!1;var t=K8(n);return t==Z8||t==J8||t==Q8||t==t$}var q0=e$,n$=Sr,i$=n$["__core-js_shared__"],r$=i$,o_=r$,sR=function(){var n=/[^.]+$/.exec(o_&&o_.keys&&o_.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function s$(n){return!!sR&&sR in n}var a$=s$,o$=Function.prototype,l$=o$.toString;function c$(n){if(n!=null){try{return l$.call(n)}catch{}try{return n+""}catch{}}return""}var rM=c$,u$=q0,h$=a$,f$=Ts,d$=rM,p$=/[\\^$.*+?()[\]{}|]/g,g$=/^\[object .+?Constructor\]$/,m$=Function.prototype,y$=Object.prototype,v$=m$.toString,_$=y$.hasOwnProperty,b$=RegExp("^"+v$.call(_$).replace(p$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E$(n){if(!f$(n)||h$(n))return!1;var t=u$(n)?b$:g$;return t.test(d$(n))}var T$=E$;function S$(n,t){return n==null?void 0:n[t]}var w$=S$,A$=T$,x$=w$;function R$(n,t){var e=x$(n,t);return A$(e)?e:void 0}var Ho=R$,C$=Ho,O$=function(){try{var n=C$(Object,"defineProperty");return n({},"",{}),n}catch{}}(),sM=O$,aR=sM;function I$(n,t,e){t=="__proto__"&&aR?aR(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}var G0=I$;function M$(n,t){return n===t||n!==n&&t!==t}var Tf=M$,D$=G0,N$=Tf,P$=Object.prototype,k$=P$.hasOwnProperty;function L$(n,t,e){var i=n[t];(!(k$.call(n,t)&&N$(i,e))||e===void 0&&!(t in n))&&D$(n,t,e)}var aM=L$,V$=aM,U$=G0;function z$(n,t,e,i){var r=!e;e||(e={});for(var a=-1,l=t.length;++a<l;){var u=t[a],h=i?i(e[u],n[u],u,e,n):void 0;h===void 0&&(h=n[u]),r?U$(e,u,h):V$(e,u,h)}return e}var oM=z$;function B$(n){return n}var W0=B$;function j$(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}var F$=j$,H$=F$,oR=Math.max;function $$(n,t,e){return t=oR(t===void 0?n.length-1:t,0),function(){for(var i=arguments,r=-1,a=oR(i.length-t,0),l=Array(a);++r<a;)l[r]=i[t+r];r=-1;for(var u=Array(t+1);++r<t;)u[r]=i[r];return u[t]=e(l),H$(n,this,u)}}var q$=$$;function G$(n){return function(){return n}}var W$=G$,Y$=W$,lR=sM,K$=W0,X$=lR?function(n,t){return lR(n,"toString",{configurable:!0,enumerable:!1,value:Y$(t),writable:!0})}:K$,Q$=X$,Z$=800,J$=16,t7=Date.now;function e7(n){var t=0,e=0;return function(){var i=t7(),r=J$-(i-e);if(e=i,r>0){if(++t>=Z$)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}var n7=e7,i7=Q$,r7=n7,s7=r7(i7),a7=s7,o7=W0,l7=q$,c7=a7;function u7(n,t){return c7(l7(n,t,o7),n+"")}var h7=u7,f7=9007199254740991;function d7(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=f7}var Y0=d7,p7=q0,g7=Y0;function m7(n){return n!=null&&g7(n.length)&&!p7(n)}var Nc=m7,y7=9007199254740991,v7=/^(?:0|[1-9]\d*)$/;function _7(n,t){var e=typeof n;return t=t??y7,!!t&&(e=="number"||e!="symbol"&&v7.test(n))&&n>-1&&n%1==0&&n<t}var K0=_7,b7=Tf,E7=Nc,T7=K0,S7=Ts;function w7(n,t,e){if(!S7(e))return!1;var i=typeof t;return(i=="number"?E7(e)&&T7(t,e.length):i=="string"&&t in e)?b7(e[t],n):!1}var A7=w7,x7=h7,R7=A7;function C7(n){return x7(function(t,e){var i=-1,r=e.length,a=r>1?e[r-1]:void 0,l=r>2?e[2]:void 0;for(a=n.length>3&&typeof a=="function"?(r--,a):void 0,l&&R7(e[0],e[1],l)&&(a=r<3?void 0:a,r=1),t=Object(t);++i<r;){var u=e[i];u&&n(t,u,i,a)}return t})}var lM=C7,O7=Object.prototype;function I7(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||O7;return n===e}var am=I7;function M7(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}var D7=M7;function N7(n){return n!=null&&typeof n=="object"}var $o=N7,P7=Dc,k7=$o,L7="[object Arguments]";function V7(n){return k7(n)&&P7(n)==L7}var U7=V7,cR=U7,z7=$o,cM=Object.prototype,B7=cM.hasOwnProperty,j7=cM.propertyIsEnumerable,F7=cR(function(){return arguments}())?cR:function(n){return z7(n)&&B7.call(n,"callee")&&!j7.call(n,"callee")},X0=F7,H7=Array.isArray,Ss=H7,_g={exports:{}};function $7(){return!1}var q7=$7;_g.exports;(function(n,t){var e=Sr,i=q7,r=t&&!t.nodeType&&t,a=r&&!0&&n&&!n.nodeType&&n,l=a&&a.exports===r,u=l?e.Buffer:void 0,h=u?u.isBuffer:void 0,d=h||i;n.exports=d})(_g,_g.exports);var Q0=_g.exports,G7=Dc,W7=Y0,Y7=$o,K7="[object Arguments]",X7="[object Array]",Q7="[object Boolean]",Z7="[object Date]",J7="[object Error]",tq="[object Function]",eq="[object Map]",nq="[object Number]",iq="[object Object]",rq="[object RegExp]",sq="[object Set]",aq="[object String]",oq="[object WeakMap]",lq="[object ArrayBuffer]",cq="[object DataView]",uq="[object Float32Array]",hq="[object Float64Array]",fq="[object Int8Array]",dq="[object Int16Array]",pq="[object Int32Array]",gq="[object Uint8Array]",mq="[object Uint8ClampedArray]",yq="[object Uint16Array]",vq="[object Uint32Array]",ve={};ve[uq]=ve[hq]=ve[fq]=ve[dq]=ve[pq]=ve[gq]=ve[mq]=ve[yq]=ve[vq]=!0;ve[K7]=ve[X7]=ve[lq]=ve[Q7]=ve[cq]=ve[Z7]=ve[J7]=ve[tq]=ve[eq]=ve[nq]=ve[iq]=ve[rq]=ve[sq]=ve[aq]=ve[oq]=!1;function _q(n){return Y7(n)&&W7(n.length)&&!!ve[G7(n)]}var bq=_q;function Eq(n){return function(t){return n(t)}}var Tq=Eq,bg={exports:{}};bg.exports;(function(n,t){var e=nM,i=t&&!t.nodeType&&t,r=i&&!0&&n&&!n.nodeType&&n,a=r&&r.exports===i,l=a&&e.process,u=function(){try{var h=r&&r.require&&r.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}}();n.exports=u})(bg,bg.exports);var Sq=bg.exports,wq=bq,Aq=Tq,uR=Sq,hR=uR&&uR.isTypedArray,xq=hR?Aq(hR):wq,Z0=xq,Rq=D7,Cq=X0,Oq=Ss,Iq=Q0,Mq=K0,Dq=Z0,Nq=Object.prototype,Pq=Nq.hasOwnProperty;function kq(n,t){var e=Oq(n),i=!e&&Cq(n),r=!e&&!i&&Iq(n),a=!e&&!i&&!r&&Dq(n),l=e||i||r||a,u=l?Rq(n.length,String):[],h=u.length;for(var d in n)(t||Pq.call(n,d))&&!(l&&(d=="length"||r&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Mq(d,h)))&&u.push(d);return u}var uM=kq;function Lq(n,t){return function(e){return n(t(e))}}var hM=Lq,Vq=hM,Uq=Vq(Object.keys,Object),zq=Uq,Bq=am,jq=zq,Fq=Object.prototype,Hq=Fq.hasOwnProperty;function $q(n){if(!Bq(n))return jq(n);var t=[];for(var e in Object(n))Hq.call(n,e)&&e!="constructor"&&t.push(e);return t}var qq=$q,Gq=uM,Wq=qq,Yq=Nc;function Kq(n){return Yq(n)?Gq(n):Wq(n)}var om=Kq,Xq=aM,Qq=oM,Zq=lM,Jq=Nc,tG=am,eG=om,nG=Object.prototype,iG=nG.hasOwnProperty,rG=Zq(function(n,t){if(tG(t)||Jq(t)){Qq(t,eG(t),n);return}for(var e in t)iG.call(t,e)&&Xq(n,e,t[e])}),sG=rG,fR=Ef(sG);function aG(){this.__data__=[],this.size=0}var oG=aG,lG=Tf;function cG(n,t){for(var e=n.length;e--;)if(lG(n[e][0],t))return e;return-1}var lm=cG,uG=lm,hG=Array.prototype,fG=hG.splice;function dG(n){var t=this.__data__,e=uG(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():fG.call(t,e,1),--this.size,!0}var pG=dG,gG=lm;function mG(n){var t=this.__data__,e=gG(t,n);return e<0?void 0:t[e][1]}var yG=mG,vG=lm;function _G(n){return vG(this.__data__,n)>-1}var bG=_G,EG=lm;function TG(n,t){var e=this.__data__,i=EG(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}var SG=TG,wG=oG,AG=pG,xG=yG,RG=bG,CG=SG;function Pc(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Pc.prototype.clear=wG;Pc.prototype.delete=AG;Pc.prototype.get=xG;Pc.prototype.has=RG;Pc.prototype.set=CG;var cm=Pc,OG=cm;function IG(){this.__data__=new OG,this.size=0}var MG=IG;function DG(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}var NG=DG;function PG(n){return this.__data__.get(n)}var kG=PG;function LG(n){return this.__data__.has(n)}var VG=LG,UG=Ho,zG=Sr,BG=UG(zG,"Map"),J0=BG,jG=Ho,FG=jG(Object,"create"),um=FG,dR=um;function HG(){this.__data__=dR?dR(null):{},this.size=0}var $G=HG;function qG(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var GG=qG,WG=um,YG="__lodash_hash_undefined__",KG=Object.prototype,XG=KG.hasOwnProperty;function QG(n){var t=this.__data__;if(WG){var e=t[n];return e===YG?void 0:e}return XG.call(t,n)?t[n]:void 0}var ZG=QG,JG=um,tW=Object.prototype,eW=tW.hasOwnProperty;function nW(n){var t=this.__data__;return JG?t[n]!==void 0:eW.call(t,n)}var iW=nW,rW=um,sW="__lodash_hash_undefined__";function aW(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=rW&&t===void 0?sW:t,this}var oW=aW,lW=$G,cW=GG,uW=ZG,hW=iW,fW=oW;function kc(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}kc.prototype.clear=lW;kc.prototype.delete=cW;kc.prototype.get=uW;kc.prototype.has=hW;kc.prototype.set=fW;var dW=kc,pR=dW,pW=cm,gW=J0;function mW(){this.size=0,this.__data__={hash:new pR,map:new(gW||pW),string:new pR}}var yW=mW;function vW(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var _W=vW,bW=_W;function EW(n,t){var e=n.__data__;return bW(t)?e[typeof t=="string"?"string":"hash"]:e.map}var hm=EW,TW=hm;function SW(n){var t=TW(this,n).delete(n);return this.size-=t?1:0,t}var wW=SW,AW=hm;function xW(n){return AW(this,n).get(n)}var RW=xW,CW=hm;function OW(n){return CW(this,n).has(n)}var IW=OW,MW=hm;function DW(n,t){var e=MW(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}var NW=DW,PW=yW,kW=wW,LW=RW,VW=IW,UW=NW;function Lc(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Lc.prototype.clear=PW;Lc.prototype.delete=kW;Lc.prototype.get=LW;Lc.prototype.has=VW;Lc.prototype.set=UW;var tE=Lc,zW=cm,BW=J0,jW=tE,FW=200;function HW(n,t){var e=this.__data__;if(e instanceof zW){var i=e.__data__;if(!BW||i.length<FW-1)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new jW(i)}return e.set(n,t),this.size=e.size,this}var $W=HW,qW=cm,GW=MG,WW=NG,YW=kG,KW=VG,XW=$W;function Vc(n){var t=this.__data__=new qW(n);this.size=t.size}Vc.prototype.clear=GW;Vc.prototype.delete=WW;Vc.prototype.get=YW;Vc.prototype.has=KW;Vc.prototype.set=XW;var eE=Vc,QW="__lodash_hash_undefined__";function ZW(n){return this.__data__.set(n,QW),this}var JW=ZW;function tY(n){return this.__data__.has(n)}var eY=tY,nY=tE,iY=JW,rY=eY;function Eg(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new nY;++t<e;)this.add(n[t])}Eg.prototype.add=Eg.prototype.push=iY;Eg.prototype.has=rY;var sY=Eg;function aY(n,t){for(var e=-1,i=n==null?0:n.length;++e<i;)if(t(n[e],e,n))return!0;return!1}var oY=aY;function lY(n,t){return n.has(t)}var cY=lY,uY=sY,hY=oY,fY=cY,dY=1,pY=2;function gY(n,t,e,i,r,a){var l=e&dY,u=n.length,h=t.length;if(u!=h&&!(l&&h>u))return!1;var d=a.get(n),g=a.get(t);if(d&&g)return d==t&&g==n;var y=-1,_=!0,E=e&pY?new uY:void 0;for(a.set(n,t),a.set(t,n);++y<u;){var S=n[y],A=t[y];if(i)var x=l?i(A,S,y,t,n,a):i(S,A,y,n,t,a);if(x!==void 0){if(x)continue;_=!1;break}if(E){if(!hY(t,function(O,P){if(!fY(E,P)&&(S===O||r(S,O,e,i,a)))return E.push(P)})){_=!1;break}}else if(!(S===A||r(S,A,e,i,a))){_=!1;break}}return a.delete(n),a.delete(t),_}var fM=gY,mY=Sr,yY=mY.Uint8Array,dM=yY;function vY(n){var t=-1,e=Array(n.size);return n.forEach(function(i,r){e[++t]=[r,i]}),e}var _Y=vY;function bY(n){var t=-1,e=Array(n.size);return n.forEach(function(i){e[++t]=i}),e}var EY=bY,gR=sm,mR=dM,TY=Tf,SY=fM,wY=_Y,AY=EY,xY=1,RY=2,CY="[object Boolean]",OY="[object Date]",IY="[object Error]",MY="[object Map]",DY="[object Number]",NY="[object RegExp]",PY="[object Set]",kY="[object String]",LY="[object Symbol]",VY="[object ArrayBuffer]",UY="[object DataView]",yR=gR?gR.prototype:void 0,l_=yR?yR.valueOf:void 0;function zY(n,t,e,i,r,a,l){switch(e){case UY:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case VY:return!(n.byteLength!=t.byteLength||!a(new mR(n),new mR(t)));case CY:case OY:case DY:return TY(+n,+t);case IY:return n.name==t.name&&n.message==t.message;case NY:case kY:return n==t+"";case MY:var u=wY;case PY:var h=i&xY;if(u||(u=AY),n.size!=t.size&&!h)return!1;var d=l.get(n);if(d)return d==t;i|=RY,l.set(n,t);var g=SY(u(n),u(t),i,r,a,l);return l.delete(n),g;case LY:if(l_)return l_.call(n)==l_.call(t)}return!1}var BY=zY;function jY(n,t){for(var e=-1,i=t.length,r=n.length;++e<i;)n[r+e]=t[e];return n}var FY=jY,HY=FY,$Y=Ss;function qY(n,t,e){var i=t(n);return $Y(n)?i:HY(i,e(n))}var GY=qY;function WY(n,t){for(var e=-1,i=n==null?0:n.length,r=0,a=[];++e<i;){var l=n[e];t(l,e,n)&&(a[r++]=l)}return a}var YY=WY;function KY(){return[]}var XY=KY,QY=YY,ZY=XY,JY=Object.prototype,tK=JY.propertyIsEnumerable,vR=Object.getOwnPropertySymbols,eK=vR?function(n){return n==null?[]:(n=Object(n),QY(vR(n),function(t){return tK.call(n,t)}))}:ZY,nK=eK,iK=GY,rK=nK,sK=om;function aK(n){return iK(n,sK,rK)}var oK=aK,_R=oK,lK=1,cK=Object.prototype,uK=cK.hasOwnProperty;function hK(n,t,e,i,r,a){var l=e&lK,u=_R(n),h=u.length,d=_R(t),g=d.length;if(h!=g&&!l)return!1;for(var y=h;y--;){var _=u[y];if(!(l?_ in t:uK.call(t,_)))return!1}var E=a.get(n),S=a.get(t);if(E&&S)return E==t&&S==n;var A=!0;a.set(n,t),a.set(t,n);for(var x=l;++y<h;){_=u[y];var O=n[_],P=t[_];if(i)var V=l?i(P,O,_,t,n,a):i(O,P,_,n,t,a);if(!(V===void 0?O===P||r(O,P,e,i,a):V)){A=!1;break}x||(x=_=="constructor")}if(A&&!x){var $=n.constructor,H=t.constructor;$!=H&&"constructor"in n&&"constructor"in t&&!(typeof $=="function"&&$ instanceof $&&typeof H=="function"&&H instanceof H)&&(A=!1)}return a.delete(n),a.delete(t),A}var fK=hK,dK=Ho,pK=Sr,gK=dK(pK,"DataView"),mK=gK,yK=Ho,vK=Sr,_K=yK(vK,"Promise"),bK=_K,EK=Ho,TK=Sr,SK=EK(TK,"Set"),wK=SK,AK=Ho,xK=Sr,RK=AK(xK,"WeakMap"),CK=RK,sb=mK,ab=J0,ob=bK,lb=wK,cb=CK,pM=Dc,Uc=rM,bR="[object Map]",OK="[object Object]",ER="[object Promise]",TR="[object Set]",SR="[object WeakMap]",wR="[object DataView]",IK=Uc(sb),MK=Uc(ab),DK=Uc(ob),NK=Uc(lb),PK=Uc(cb),vo=pM;(sb&&vo(new sb(new ArrayBuffer(1)))!=wR||ab&&vo(new ab)!=bR||ob&&vo(ob.resolve())!=ER||lb&&vo(new lb)!=TR||cb&&vo(new cb)!=SR)&&(vo=function(n){var t=pM(n),e=t==OK?n.constructor:void 0,i=e?Uc(e):"";if(i)switch(i){case IK:return wR;case MK:return bR;case DK:return ER;case NK:return TR;case PK:return SR}return t});var kK=vo,c_=eE,LK=fM,VK=BY,UK=fK,AR=kK,xR=Ss,RR=Q0,zK=Z0,BK=1,CR="[object Arguments]",OR="[object Array]",yp="[object Object]",jK=Object.prototype,IR=jK.hasOwnProperty;function FK(n,t,e,i,r,a){var l=xR(n),u=xR(t),h=l?OR:AR(n),d=u?OR:AR(t);h=h==CR?yp:h,d=d==CR?yp:d;var g=h==yp,y=d==yp,_=h==d;if(_&&RR(n)){if(!RR(t))return!1;l=!0,g=!1}if(_&&!g)return a||(a=new c_),l||zK(n)?LK(n,t,e,i,r,a):VK(n,t,h,e,i,r,a);if(!(e&BK)){var E=g&&IR.call(n,"__wrapped__"),S=y&&IR.call(t,"__wrapped__");if(E||S){var A=E?n.value():n,x=S?t.value():t;return a||(a=new c_),r(A,x,e,i,a)}}return _?(a||(a=new c_),UK(n,t,e,i,r,a)):!1}var HK=FK,$K=HK,MR=$o;function gM(n,t,e,i,r){return n===t?!0:n==null||t==null||!MR(n)&&!MR(t)?n!==n&&t!==t:$K(n,t,e,i,gM,r)}var mM=gM,qK=eE,GK=mM,WK=1,YK=2;function KK(n,t,e,i){var r=e.length,a=r,l=!i;if(n==null)return!a;for(n=Object(n);r--;){var u=e[r];if(l&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++r<a;){u=e[r];var h=u[0],d=n[h],g=u[1];if(l&&u[2]){if(d===void 0&&!(h in n))return!1}else{var y=new qK;if(i)var _=i(d,g,h,n,t,y);if(!(_===void 0?GK(g,d,WK|YK,i,y):_))return!1}}return!0}var XK=KK,QK=Ts;function ZK(n){return n===n&&!QK(n)}var yM=ZK,JK=yM,tX=om;function eX(n){for(var t=tX(n),e=t.length;e--;){var i=t[e],r=n[i];t[e]=[i,r,JK(r)]}return t}var nX=eX;function iX(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}var vM=iX,rX=XK,sX=nX,aX=vM;function oX(n){var t=sX(n);return t.length==1&&t[0][2]?aX(t[0][0],t[0][1]):function(e){return e===n||rX(e,n,t)}}var lX=oX,cX=Dc,uX=$o,hX="[object Symbol]";function fX(n){return typeof n=="symbol"||uX(n)&&cX(n)==hX}var fm=fX,dX=Ss,pX=fm,gX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mX=/^\w*$/;function yX(n,t){if(dX(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||pX(n)?!0:mX.test(n)||!gX.test(n)||t!=null&&n in Object(t)}var nE=yX,_M=tE,vX="Expected a function";function iE(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(vX);var e=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=e.cache;if(a.has(r))return a.get(r);var l=n.apply(this,i);return e.cache=a.set(r,l)||a,l};return e.cache=new(iE.Cache||_M),e}iE.Cache=_M;var _X=iE,bX=_X,EX=500;function TX(n){var t=bX(n,function(i){return e.size===EX&&e.clear(),i}),e=t.cache;return t}var SX=TX,wX=SX,AX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xX=/\\(\\)?/g,RX=wX(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(AX,function(e,i,r,a){t.push(r?a.replace(xX,"$1"):i||e)}),t}),CX=RX;function OX(n,t){for(var e=-1,i=n==null?0:n.length,r=Array(i);++e<i;)r[e]=t(n[e],e,n);return r}var IX=OX,DR=sm,MX=IX,DX=Ss,NX=fm,NR=DR?DR.prototype:void 0,PR=NR?NR.toString:void 0;function bM(n){if(typeof n=="string")return n;if(DX(n))return MX(n,bM)+"";if(NX(n))return PR?PR.call(n):"";var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}var PX=bM,kX=PX;function LX(n){return n==null?"":kX(n)}var VX=LX,UX=Ss,zX=nE,BX=CX,jX=VX;function FX(n,t){return UX(n)?n:zX(n,t)?[n]:BX(jX(n))}var EM=FX,HX=fm;function $X(n){if(typeof n=="string"||HX(n))return n;var t=n+"";return t=="0"&&1/n==-1/0?"-0":t}var dm=$X,qX=EM,GX=dm;function WX(n,t){t=qX(t,n);for(var e=0,i=t.length;n!=null&&e<i;)n=n[GX(t[e++])];return e&&e==i?n:void 0}var TM=WX,YX=TM;function KX(n,t,e){var i=n==null?void 0:YX(n,t);return i===void 0?e:i}var XX=KX;function QX(n,t){return n!=null&&t in Object(n)}var ZX=QX,JX=EM,tQ=X0,eQ=Ss,nQ=K0,iQ=Y0,rQ=dm;function sQ(n,t,e){t=JX(t,n);for(var i=-1,r=t.length,a=!1;++i<r;){var l=rQ(t[i]);if(!(a=n!=null&&e(n,l)))break;n=n[l]}return a||++i!=r?a:(r=n==null?0:n.length,!!r&&iQ(r)&&nQ(l,r)&&(eQ(n)||tQ(n)))}var aQ=sQ,oQ=ZX,lQ=aQ;function cQ(n,t){return n!=null&&lQ(n,t,oQ)}var uQ=cQ,hQ=mM,fQ=XX,dQ=uQ,pQ=nE,gQ=yM,mQ=vM,yQ=dm,vQ=1,_Q=2;function bQ(n,t){return pQ(n)&&gQ(t)?mQ(yQ(n),t):function(e){var i=fQ(e,n);return i===void 0&&i===t?dQ(e,n):hQ(t,i,vQ|_Q)}}var EQ=bQ;function TQ(n){return function(t){return t==null?void 0:t[n]}}var SQ=TQ,wQ=TM;function AQ(n){return function(t){return wQ(t,n)}}var xQ=AQ,RQ=SQ,CQ=xQ,OQ=nE,IQ=dm;function MQ(n){return OQ(n)?RQ(IQ(n)):CQ(n)}var DQ=MQ,NQ=lX,PQ=EQ,kQ=W0,LQ=Ss,VQ=DQ;function UQ(n){return typeof n=="function"?n:n==null?kQ:typeof n=="object"?LQ(n)?PQ(n[0],n[1]):NQ(n):VQ(n)}var SM=UQ,zQ=SM,BQ=Nc,jQ=om;function FQ(n){return function(t,e,i){var r=Object(t);if(!BQ(t)){var a=zQ(e);t=jQ(t),e=function(u){return a(r[u],u,r)}}var l=n(t,e,i);return l>-1?r[a?t[l]:l]:void 0}}var HQ=FQ;function $Q(n,t,e,i){for(var r=n.length,a=e+(i?1:-1);i?a--:++a<r;)if(t(n[a],a,n))return a;return-1}var qQ=$Q,GQ=/\s/;function WQ(n){for(var t=n.length;t--&&GQ.test(n.charAt(t)););return t}var YQ=WQ,KQ=YQ,XQ=/^\s+/;function QQ(n){return n&&n.slice(0,KQ(n)+1).replace(XQ,"")}var ZQ=QQ,JQ=ZQ,kR=Ts,tZ=fm,LR=NaN,eZ=/^[-+]0x[0-9a-f]+$/i,nZ=/^0b[01]+$/i,iZ=/^0o[0-7]+$/i,rZ=parseInt;function sZ(n){if(typeof n=="number")return n;if(tZ(n))return LR;if(kR(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=kR(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=JQ(n);var e=nZ.test(n);return e||iZ.test(n)?rZ(n.slice(2),e?2:8):eZ.test(n)?LR:+n}var aZ=sZ,oZ=aZ,VR=1/0,lZ=17976931348623157e292;function cZ(n){if(!n)return n===0?n:0;if(n=oZ(n),n===VR||n===-VR){var t=n<0?-1:1;return t*lZ}return n===n?n:0}var uZ=cZ,hZ=uZ;function fZ(n){var t=hZ(n),e=t%1;return t===t?e?t-e:t:0}var dZ=fZ,pZ=qQ,gZ=SM,mZ=dZ,yZ=Math.max;function vZ(n,t,e){var i=n==null?0:n.length;if(!i)return-1;var r=e==null?0:mZ(e);return r<0&&(r=yZ(i+r,0)),pZ(n,gZ(t),r)}var _Z=vZ,bZ=HQ,EZ=_Z,TZ=bZ(EZ),SZ=TZ,wZ=Ef(SZ),AZ=G0,xZ=Tf;function RZ(n,t,e){(e!==void 0&&!xZ(n[t],e)||e===void 0&&!(t in n))&&AZ(n,t,e)}var wM=RZ;function CZ(n){return function(t,e,i){for(var r=-1,a=Object(t),l=i(t),u=l.length;u--;){var h=l[n?u:++r];if(e(a[h],h,a)===!1)break}return t}}var OZ=CZ,IZ=OZ,MZ=IZ(),DZ=MZ,Tg={exports:{}};Tg.exports;(function(n,t){var e=Sr,i=t&&!t.nodeType&&t,r=i&&!0&&n&&!n.nodeType&&n,a=r&&r.exports===i,l=a?e.Buffer:void 0,u=l?l.allocUnsafe:void 0;function h(d,g){if(g)return d.slice();var y=d.length,_=u?u(y):new d.constructor(y);return d.copy(_),_}n.exports=h})(Tg,Tg.exports);var NZ=Tg.exports,UR=dM;function PZ(n){var t=new n.constructor(n.byteLength);return new UR(t).set(new UR(n)),t}var kZ=PZ,LZ=kZ;function VZ(n,t){var e=t?LZ(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var UZ=VZ;function zZ(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}var BZ=zZ,jZ=Ts,zR=Object.create,FZ=function(){function n(){}return function(t){if(!jZ(t))return{};if(zR)return zR(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),HZ=FZ,$Z=hM,qZ=$Z(Object.getPrototypeOf,Object),AM=qZ,GZ=HZ,WZ=AM,YZ=am;function KZ(n){return typeof n.constructor=="function"&&!YZ(n)?GZ(WZ(n)):{}}var XZ=KZ,QZ=Nc,ZZ=$o;function JZ(n){return ZZ(n)&&QZ(n)}var tJ=JZ,eJ=Dc,nJ=AM,iJ=$o,rJ="[object Object]",sJ=Function.prototype,aJ=Object.prototype,xM=sJ.toString,oJ=aJ.hasOwnProperty,lJ=xM.call(Object);function cJ(n){if(!iJ(n)||eJ(n)!=rJ)return!1;var t=nJ(n);if(t===null)return!0;var e=oJ.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&xM.call(e)==lJ}var uJ=cJ;function hJ(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}var RM=hJ;function fJ(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var dJ=fJ,pJ=Ts,gJ=am,mJ=dJ,yJ=Object.prototype,vJ=yJ.hasOwnProperty;function _J(n){if(!pJ(n))return mJ(n);var t=gJ(n),e=[];for(var i in n)i=="constructor"&&(t||!vJ.call(n,i))||e.push(i);return e}var bJ=_J,EJ=uM,TJ=bJ,SJ=Nc;function wJ(n){return SJ(n)?EJ(n,!0):TJ(n)}var CM=wJ,AJ=oM,xJ=CM;function RJ(n){return AJ(n,xJ(n))}var CJ=RJ,BR=wM,OJ=NZ,IJ=UZ,MJ=BZ,DJ=XZ,jR=X0,FR=Ss,NJ=tJ,PJ=Q0,kJ=q0,LJ=Ts,VJ=uJ,UJ=Z0,HR=RM,zJ=CJ;function BJ(n,t,e,i,r,a,l){var u=HR(n,e),h=HR(t,e),d=l.get(h);if(d){BR(n,e,d);return}var g=a?a(u,h,e+"",n,t,l):void 0,y=g===void 0;if(y){var _=FR(h),E=!_&&PJ(h),S=!_&&!E&&UJ(h);g=h,_||E||S?FR(u)?g=u:NJ(u)?g=MJ(u):E?(y=!1,g=OJ(h,!0)):S?(y=!1,g=IJ(h,!0)):g=[]:VJ(h)||jR(h)?(g=u,jR(u)?g=zJ(u):(!LJ(u)||kJ(u))&&(g=DJ(h))):y=!1}y&&(l.set(h,g),r(g,h,i,a,l),l.delete(h)),BR(n,e,g)}var jJ=BJ,FJ=eE,HJ=wM,$J=DZ,qJ=jJ,GJ=Ts,WJ=CM,YJ=RM;function OM(n,t,e,i,r){n!==t&&$J(t,function(a,l){if(r||(r=new FJ),GJ(a))qJ(n,t,l,e,OM,i,r);else{var u=i?i(YJ(n,l),a,l+"",n,t,r):void 0;u===void 0&&(u=a),HJ(n,l,u)}},WJ)}var KJ=OM,XJ=KJ,QJ=lM,ZJ=QJ(function(n,t,e){XJ(n,t,e)}),JJ=ZJ,$R=Ef(JJ),qR=function(n,t){typeof n=="function"?n(t):n&&(n.current=t)},wr=B.forwardRef(function(n,t){var e=n.className,i=n.customTooltips,r=i===void 0?!0:i,a=n.data,l=n.id,u=n.fallbackContent,h=n.getDatasetAtEvent,d=n.getElementAtEvent,g=n.getElementsAtEvent,y=n.height,_=y===void 0?150:y,E=n.options,S=n.plugins,A=S===void 0?[]:S,x=n.redraw,O=x===void 0?!1:x,P=n.type,V=P===void 0?"bar":P,$=n.width,H=$===void 0?300:$,Y=n.wrapper,D=Y===void 0?!0:Y,R=Jx(n,["className","customTooltips","data","id","fallbackContent","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","height","options","plugins","redraw","type","width","wrapper"]);hr.register.apply(hr,E8);var I=B.useRef(null),N=B.useRef(),L=B.useMemo(function(){return typeof a=="function"?I.current?a(I.current):{datasets:[]}:$R({},a)},[I.current,JSON.stringify(a)]),j=B.useMemo(function(){return r?$R({},E,{plugins:{tooltip:{enabled:!1,mode:"index",position:"nearest",external:S8}}}):E},[I.current,JSON.stringify(E)]),k=function(){I.current&&(N.current=new hr(I.current,{type:V,data:L,options:j,plugins:A}),qR(t,N.current))},wt=function(ft){N.current&&(h&&h(N.current.getElementsAtEventForMode(ft,"dataset",{intersect:!0},!1),ft),d&&d(N.current.getElementsAtEventForMode(ft,"nearest",{intersect:!0},!1),ft),g&&g(N.current.getElementsAtEventForMode(ft,"index",{intersect:!0},!1),ft))},_t=function(){if(N.current){if(E&&(N.current.options=Cn({},j)),!N.current.config.data){N.current.config.data=L,N.current.update();return}var ft=L.datasets,bt=ft===void 0?[]:ft,F=Jx(L,["datasets"]),rt=N.current.config.data.datasets,ht=rt===void 0?[]:rt;fR(N.current.config.data,F),N.current.config.data.datasets=bt.map(function(it){var dt=wZ(ht,function(Tt){return Tt.label===it.label&&Tt.type===it.type});return!dt||!it.data?it:(dt.data?dt.data.length=it.data.length:dt.data=[],fR(dt.data,it.data),Cn(Cn(Cn({},dt),it),{data:dt.data}))}),N.current.update()}},W=function(){qR(t,null),N.current&&(N.current.destroy(),N.current=void 0)};B.useEffect(function(){return k(),function(){return W()}},[]),B.useEffect(function(){N.current&&(O?(W(),setTimeout(function(){k()},0)):_t())},[JSON.stringify(a),L]);var nt=function(ft){return ut.createElement("canvas",Cn({},!D&&e&&{className:e},{"data-testid":"canvas",height:_,id:l,onClick:function(bt){wt(bt)},ref:ft,role:"img",width:H},R),u)};return D?ut.createElement("div",Cn({className:C8("chart-wrapper",e)},R),nt(I)):nt(I)});wr.propTypes={className:Vn.string,customTooltips:Vn.bool,data:Vn.any.isRequired,fallbackContent:Vn.node,getDatasetAtEvent:Vn.func,getElementAtEvent:Vn.func,getElementsAtEvent:Vn.func,height:Vn.number,id:Vn.string,options:Vn.object,plugins:Vn.array,redraw:Vn.bool,type:Vn.oneOf(["bar","line","scatter","bubble","pie","doughnut","polarArea","radar"]).isRequired,width:Vn.number,wrapper:Vn.bool};wr.displayName="CChart";var IM=B.forwardRef(function(n,t){return ut.createElement(wr,Cn({},n,{type:"bar",ref:t}))});IM.displayName="CChartBar";var ttt=B.forwardRef(function(n,t){return ut.createElement(wr,Cn({},n,{type:"bubble",ref:t}))});ttt.displayName="CChartBubble";var ett=B.forwardRef(function(n,t){return ut.createElement(wr,Cn({},n,{type:"doughnut",ref:t}))});ett.displayName="CChartDoughnut";var Ih=B.forwardRef(function(n,t){return ut.createElement(wr,Cn({},n,{type:"line",ref:t}))});Ih.displayName="CChartLine";var ntt=B.forwardRef(function(n,t){return ut.createElement(wr,Cn({},n,{type:"pie",ref:t}))});ntt.displayName="CChartPie";var itt=B.forwardRef(function(n,t){return ut.createElement(wr,Cn({},n,{type:"polarArea",ref:t}))});itt.displayName="CChartPolarArea";var rtt=B.forwardRef(function(n,t){return ut.createElement(wr,Cn({},n,{type:"radar",ref:t}))});rtt.displayName="CChartRadar";var stt=B.forwardRef(function(n,t){return ut.createElement(wr,Cn({},n,{type:"scatter",ref:t}))});stt.displayName="CChartScatter";z.string,z.bool;var vp=function(n,t){if(!(typeof window>"u")&&!(typeof document>"u")){var e=document.body;return window.getComputedStyle(e,null).getPropertyValue(n).replace(/^\s/,"")}};const MM=n=>{const t=B.useRef(null),e=B.useRef(null);return B.useEffect(()=>{document.documentElement.addEventListener("ColorSchemeChange",()=>{t.current&&setTimeout(()=>{t.current.data.datasets[0].pointBackgroundColor=vp("--cui-primary"),t.current.update()}),e.current&&setTimeout(()=>{e.current.data.datasets[0].pointBackgroundColor=vp("--cui-info"),e.current.update()})})},[t,e]),J.jsxs(Mc,{className:n.className,xs:{gutter:4},children:[J.jsx(Li,{sm:6,xl:4,xxl:3,children:J.jsx(rs,{color:"primary",value:J.jsxs(J.Fragment,{children:["26K"," ",J.jsxs("span",{className:"fs-6 fw-normal",children:["(-12.4% ",J.jsx(lr,{icon:OA}),")"]})]}),title:"Users",action:J.jsxs(Wl,{alignment:"end",children:[J.jsx(Kl,{color:"transparent",caret:!1,className:"text-white p-0",children:J.jsx(lr,{icon:ep})}),J.jsxs(Yl,{children:[J.jsx(an,{children:"Action"}),J.jsx(an,{children:"Another action"}),J.jsx(an,{children:"Something else here..."}),J.jsx(an,{disabled:!0,children:"Disabled action"})]})]}),chart:J.jsx(Ih,{ref:t,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:vp("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),J.jsx(Li,{sm:6,xl:4,xxl:3,children:J.jsx(rs,{color:"info",value:J.jsxs(J.Fragment,{children:["$6.200"," ",J.jsxs("span",{className:"fs-6 fw-normal",children:["(40.9% ",J.jsx(lr,{icon:IA}),")"]})]}),title:"Income",action:J.jsxs(Wl,{alignment:"end",children:[J.jsx(Kl,{color:"transparent",caret:!1,className:"text-white p-0",children:J.jsx(lr,{icon:ep})}),J.jsxs(Yl,{children:[J.jsx(an,{children:"Action"}),J.jsx(an,{children:"Another action"}),J.jsx(an,{children:"Something else here..."}),J.jsx(an,{disabled:!0,children:"Disabled action"})]})]}),chart:J.jsx(Ih,{ref:e,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:vp("--cui-info"),data:[1,18,9,17,34,22,11]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),J.jsx(Li,{sm:6,xl:4,xxl:3,children:J.jsx(rs,{color:"warning",value:J.jsxs(J.Fragment,{children:["2.49%"," ",J.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",J.jsx(lr,{icon:IA}),")"]})]}),title:"Conversion Rate",action:J.jsxs(Wl,{alignment:"end",children:[J.jsx(Kl,{color:"transparent",caret:!1,className:"text-white p-0",children:J.jsx(lr,{icon:ep})}),J.jsxs(Yl,{children:[J.jsx(an,{children:"Action"}),J.jsx(an,{children:"Another action"}),J.jsx(an,{children:"Something else here..."}),J.jsx(an,{disabled:!0,children:"Disabled action"})]})]}),chart:J.jsx(Ih,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})}),J.jsx(Li,{sm:6,xl:4,xxl:3,children:J.jsx(rs,{color:"danger",value:J.jsxs(J.Fragment,{children:["44K"," ",J.jsxs("span",{className:"fs-6 fw-normal",children:["(-23.6% ",J.jsx(lr,{icon:OA}),")"]})]}),title:"Sessions",action:J.jsxs(Wl,{alignment:"end",children:[J.jsx(Kl,{color:"transparent",caret:!1,className:"text-white p-0",children:J.jsx(lr,{icon:ep})}),J.jsxs(Yl,{children:[J.jsx(an,{children:"Action"}),J.jsx(an,{children:"Another action"}),J.jsx(an,{children:"Something else here..."}),J.jsx(an,{disabled:!0,children:"Disabled action"})]})]}),chart:J.jsx(IM,{className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December","January","February","March","April"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40,85,65,23,12,98,34,84,67,82],barPercentage:.6}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1,drawTicks:!1},ticks:{display:!1}},y:{border:{display:!1},grid:{display:!1,drawBorder:!1,drawTicks:!1},ticks:{display:!1}}}}})})})]})};MM.propTypes={className:z.string,withCharts:z.bool};const att=[{path:"/dashboard",label:"Home Cliente"},{path:"/dashboard/plan",label:"Plano Semanal"}];function ott(){return J.jsxs(QI,{menu:att,children:[J.jsx("h2",{children:"Cliente Dashboard"}),J.jsx(MM,{})]})}function ltt(){const[n,t]=B.useState(null),[e,i]=B.useState({labels:[],data:[]}),[r,a]=B.useState(!0),[l,u]=B.useState(null);return B.useEffect(()=>{async function h(){try{const d=await Vv(Lv(Eh,"users")),g=await Vv(cU(Lv(Eh,"users"),uU("role","==","trainer"))),y=await Vv(Lv(Eh,"sessions"));t({usersCount:d.size,trainersCount:g.size,sessionsCount:y.size});const _=new Date,E=Array.from({length:6},(A,x)=>{const O=new Date(_);return O.setMonth(_.getMonth()-(5-x)),O.toLocaleString("default",{month:"short"})}),S=E.map(()=>Math.floor(Math.random()*50)+10);i({labels:E,data:S})}catch(d){u(d)}finally{a(!1)}}h()},[]),{stats:n,monthly:e,loading:r,error:l}}function ctt(){const{stats:n,monthly:t,loading:e,error:i}=ltt();return e?J.jsx("div",{children:"Carregando dados..."}):i?J.jsxs("div",{children:["Erro: ",i.message]}):J.jsxs(QI,{menu:"admin",children:[J.jsx("h2",{className:"mb-4",children:"Admin Dashboard"}),J.jsxs(Mc,{className:"mb-4",children:[J.jsx(Li,{sm:6,md:4,children:J.jsx(rs,{className:"mb-3",color:"primary",title:"Utilizadores",value:n.usersCount})}),J.jsx(Li,{sm:6,md:4,children:J.jsx(rs,{className:"mb-3",color:"info",title:"Trainers",value:n.trainersCount})}),J.jsx(Li,{sm:6,md:4,children:J.jsx(rs,{className:"mb-3",color:"warning",title:"Sesses",value:n.sessionsCount})})]}),J.jsx(Oc,{children:J.jsxs(Ic,{children:[J.jsx("h5",{children:"Sesses (ltimos 6 meses)"}),J.jsx(Ih,{data:{labels:t.labels,datasets:[{label:"Sesses",backgroundColor:"rgba(13,110,253,0.1)",borderColor:"rgba(13,110,253,1)",data:t.data,fill:!0,tension:.4}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,stepSize:10}}}})]})})]})}function GR({requiredRole:n}){const{user:t,role:e,loading:i}=SU();return i?J.jsx("div",{className:"text-center mt-5",children:J.jsx(vf,{color:"primary"})}):t?n&&e!==n?J.jsx(h_,{to:"/",replace:!0}):J.jsx(rP,{}):J.jsx(h_,{to:"/login",replace:!0})}function utt(){return J.jsxs(aP,{children:["-     ",J.jsx(ar,{path:"/",element:J.jsx(h_,{to:"/login",replace:!0})}),"+     ",J.jsx(ar,{path:"/",element:J.jsx(AA,{})}),J.jsx(ar,{path:"/login",element:J.jsx(AA,{})}),J.jsx(ar,{path:"/register",element:J.jsx(lz,{})}),J.jsx(ar,{element:J.jsx(GR,{}),children:J.jsx(ar,{path:"/dashboard",element:J.jsx(ott,{})})}),J.jsx(ar,{element:J.jsx(GR,{requiredRole:"admin"}),children:J.jsx(ar,{path:"/admin",element:J.jsx(ctt,{})})}),J.jsx(ar,{path:"*",element:J.jsx("div",{children:"Pgina no encontrada"})})]})}dN.createRoot(document.getElementById("root")).render(J.jsx(JP,{store:MU,children:J.jsx(TU,{children:J.jsx(OP,{children:J.jsx(utt,{})})})}));
