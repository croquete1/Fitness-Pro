const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Login-BJ8bsKev.js","./use-toast-BXgmuXfu.js","./button-BLaV3_SP.js","./heading-iMxg-re2.js","./Register-CssO_UD_.js","./text-DsZGIkQi.js","./DashboardCliente-6E3lMpRT.js","./DashboardTrainer-ChySRQJP.js","./simple-grid-CuqY1g_w.js","./DashboardAdmin-BzCCoxHe.js","./DashboardAdmin-MkBJHUAd.css"])))=>i.map(i=>d[i]);
function XT(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ch(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sf={exports:{}},Al={},of={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function YT(){if(by)return Le;by=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,F={};function N(B,K,ae){this.props=B,this.context=K,this.refs=F,this.updater=ae||M}N.prototype.isReactComponent={},N.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function Y(){}Y.prototype=N.prototype;function te(B,K,ae){this.props=B,this.context=K,this.refs=F,this.updater=ae||M}var ne=te.prototype=new Y;ne.constructor=te,U(ne,N.prototype),ne.isPureReactComponent=!0;var he=Array.isArray,X=Object.prototype.hasOwnProperty,pe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(B,K,ae){var be,Ne={},Oe=null,je=null;if(K!=null)for(be in K.ref!==void 0&&(je=K.ref),K.key!==void 0&&(Oe=""+K.key),K)X.call(K,be)&&!P.hasOwnProperty(be)&&(Ne[be]=K[be]);var Me=arguments.length-2;if(Me===1)Ne.children=ae;else if(1<Me){for(var nt=Array(Me),_t=0;_t<Me;_t++)nt[_t]=arguments[_t+2];Ne.children=nt}if(B&&B.defaultProps)for(be in Me=B.defaultProps,Me)Ne[be]===void 0&&(Ne[be]=Me[be]);return{$$typeof:n,type:B,key:Oe,ref:je,props:Ne,_owner:pe.current}}function k(B,K){return{$$typeof:n,type:B.type,key:K,ref:B.ref,props:B.props,_owner:B._owner}}function O(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return K[ae]})}var j=/\/+/g;function A(B,K){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):K.toString(36)}function pt(B,K,ae,be,Ne){var Oe=typeof B;(Oe==="undefined"||Oe==="boolean")&&(B=null);var je=!1;if(B===null)je=!0;else switch(Oe){case"string":case"number":je=!0;break;case"object":switch(B.$$typeof){case n:case e:je=!0}}if(je)return je=B,Ne=Ne(je),B=be===""?"."+A(je,0):be,he(Ne)?(ae="",B!=null&&(ae=B.replace(j,"$&/")+"/"),pt(Ne,K,ae,"",function(_t){return _t})):Ne!=null&&(O(Ne)&&(Ne=k(Ne,ae+(!Ne.key||je&&je.key===Ne.key?"":(""+Ne.key).replace(j,"$&/")+"/")+B)),K.push(Ne)),1;if(je=0,be=be===""?".":be+":",he(B))for(var Me=0;Me<B.length;Me++){Oe=B[Me];var nt=be+A(Oe,Me);je+=pt(Oe,K,ae,nt,Ne)}else if(nt=S(B),typeof nt=="function")for(B=nt.call(B),Me=0;!(Oe=B.next()).done;)Oe=Oe.value,nt=be+A(Oe,Me++),je+=pt(Oe,K,ae,nt,Ne);else if(Oe==="object")throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return je}function zt(B,K,ae){if(B==null)return B;var be=[],Ne=0;return pt(B,be,"","",function(Oe){return K.call(ae,Oe,Ne++)}),be}function $t(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var Ye={current:null},le={transition:null},Ee={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:le,ReactCurrentOwner:pe};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:zt,forEach:function(B,K,ae){zt(B,function(){K.apply(this,arguments)},ae)},count:function(B){var K=0;return zt(B,function(){K++}),K},toArray:function(B){return zt(B,function(K){return K})||[]},only:function(B){if(!O(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Le.Component=N,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=te,Le.StrictMode=i,Le.Suspense=p,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,Le.act=ue,Le.cloneElement=function(B,K,ae){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var be=U({},B.props),Ne=B.key,Oe=B.ref,je=B._owner;if(K!=null){if(K.ref!==void 0&&(Oe=K.ref,je=pe.current),K.key!==void 0&&(Ne=""+K.key),B.type&&B.type.defaultProps)var Me=B.type.defaultProps;for(nt in K)X.call(K,nt)&&!P.hasOwnProperty(nt)&&(be[nt]=K[nt]===void 0&&Me!==void 0?Me[nt]:K[nt])}var nt=arguments.length-2;if(nt===1)be.children=ae;else if(1<nt){Me=Array(nt);for(var _t=0;_t<nt;_t++)Me[_t]=arguments[_t+2];be.children=Me}return{$$typeof:n,type:B.type,key:Ne,ref:Oe,props:be,_owner:je}},Le.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:l,_context:B},B.Consumer=B},Le.createElement=R,Le.createFactory=function(B){var K=R.bind(null,B);return K.type=B,K},Le.createRef=function(){return{current:null}},Le.forwardRef=function(B){return{$$typeof:d,render:B}},Le.isValidElement=O,Le.lazy=function(B){return{$$typeof:_,_payload:{_status:-1,_result:B},_init:$t}},Le.memo=function(B,K){return{$$typeof:y,type:B,compare:K===void 0?null:K}},Le.startTransition=function(B){var K=le.transition;le.transition={};try{B()}finally{le.transition=K}},Le.unstable_act=ue,Le.useCallback=function(B,K){return Ye.current.useCallback(B,K)},Le.useContext=function(B){return Ye.current.useContext(B)},Le.useDebugValue=function(){},Le.useDeferredValue=function(B){return Ye.current.useDeferredValue(B)},Le.useEffect=function(B,K){return Ye.current.useEffect(B,K)},Le.useId=function(){return Ye.current.useId()},Le.useImperativeHandle=function(B,K,ae){return Ye.current.useImperativeHandle(B,K,ae)},Le.useInsertionEffect=function(B,K){return Ye.current.useInsertionEffect(B,K)},Le.useLayoutEffect=function(B,K){return Ye.current.useLayoutEffect(B,K)},Le.useMemo=function(B,K){return Ye.current.useMemo(B,K)},Le.useReducer=function(B,K,ae){return Ye.current.useReducer(B,K,ae)},Le.useRef=function(B){return Ye.current.useRef(B)},Le.useState=function(B){return Ye.current.useState(B)},Le.useSyncExternalStore=function(B,K,ae){return Ye.current.useSyncExternalStore(B,K,ae)},Le.useTransition=function(){return Ye.current.useTransition()},Le.version="18.3.1",Le}var xy;function yp(){return xy||(xy=1,of.exports=YT()),of.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function JT(){if(Ny)return Al;Ny=1;var n=yp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,w={},S=null,M=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(M=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:M,props:w,_owner:o.current}}return Al.Fragment=t,Al.jsx=c,Al.jsxs=c,Al}var Oy;function ZT(){return Oy||(Oy=1,sf.exports=JT()),sf.exports}var st=ZT(),Z=yp();const M_=ch(Z),Pf=XT({__proto__:null,default:M_},[Z]);var _c={},af={exports:{}},Fn={},lf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function eS(){return Dy||(Dy=1,function(n){function e(le,Ee){var ue=le.length;le.push(Ee);e:for(;0<ue;){var B=ue-1>>>1,K=le[B];if(0<o(K,Ee))le[B]=Ee,le[ue]=K,ue=B;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var Ee=le[0],ue=le.pop();if(ue!==Ee){le[0]=ue;e:for(var B=0,K=le.length,ae=K>>>1;B<ae;){var be=2*(B+1)-1,Ne=le[be],Oe=be+1,je=le[Oe];if(0>o(Ne,ue))Oe<K&&0>o(je,Ne)?(le[B]=je,le[Oe]=ue,B=Oe):(le[B]=Ne,le[be]=ue,B=be);else if(Oe<K&&0>o(je,ue))le[B]=je,le[Oe]=ue,B=Oe;else break e}}return Ee}function o(le,Ee){var ue=le.sortIndex-Ee.sortIndex;return ue!==0?ue:le.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,w=null,S=3,M=!1,U=!1,F=!1,N=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(le){for(var Ee=t(y);Ee!==null;){if(Ee.callback===null)i(y);else if(Ee.startTime<=le)i(y),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=t(y)}}function he(le){if(F=!1,ne(le),!U)if(t(p)!==null)U=!0,$t(X);else{var Ee=t(y);Ee!==null&&Ye(he,Ee.startTime-le)}}function X(le,Ee){U=!1,F&&(F=!1,Y(R),R=-1),M=!0;var ue=S;try{for(ne(Ee),w=t(p);w!==null&&(!(w.expirationTime>Ee)||le&&!L());){var B=w.callback;if(typeof B=="function"){w.callback=null,S=w.priorityLevel;var K=B(w.expirationTime<=Ee);Ee=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(p)&&i(p),ne(Ee)}else i(p);w=t(p)}if(w!==null)var ae=!0;else{var be=t(y);be!==null&&Ye(he,be.startTime-Ee),ae=!1}return ae}finally{w=null,S=ue,M=!1}}var pe=!1,P=null,R=-1,k=5,O=-1;function L(){return!(n.unstable_now()-O<k)}function j(){if(P!==null){var le=n.unstable_now();O=le;var Ee=!0;try{Ee=P(!0,le)}finally{Ee?A():(pe=!1,P=null)}}else pe=!1}var A;if(typeof te=="function")A=function(){te(j)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,zt=pt.port2;pt.port1.onmessage=j,A=function(){zt.postMessage(null)}}else A=function(){N(j,0)};function $t(le){P=le,pe||(pe=!0,A())}function Ye(le,Ee){R=N(function(){le(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){U||M||(U=!0,$t(X))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(le){switch(S){case 1:case 2:case 3:var Ee=3;break;default:Ee=S}var ue=S;S=Ee;try{return le()}finally{S=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Ee){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ue=S;S=le;try{return Ee()}finally{S=ue}},n.unstable_scheduleCallback=function(le,Ee,ue){var B=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?B+ue:B):ue=B,le){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ue+K,le={id:_++,callback:Ee,priorityLevel:le,startTime:ue,expirationTime:K,sortIndex:-1},ue>B?(le.sortIndex=ue,e(y,le),t(p)===null&&le===t(y)&&(F?(Y(R),R=-1):F=!0,Ye(he,ue-B))):(le.sortIndex=K,e(p,le),U||M||(U=!0,$t(X))),le},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(le){var Ee=S;return function(){var ue=S;S=Ee;try{return le.apply(this,arguments)}finally{S=ue}}}}(uf)),uf}var Vy;function tS(){return Vy||(Vy=1,lf.exports=eS()),lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function nS(){if(Ly)return Fn;Ly=1;var n=yp(),e=tS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function S(r){return p.call(w,r)?!0:p.call(_,r)?!1:y.test(r)?w[r]=!0:(_[r]=!0,!1)}function M(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,s,a,h){if(s===null||typeof s>"u"||M(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(r,s,a,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new F(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Y,te);N[s]=new F(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Y,te);N[s]=new F(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Y,te);N[s]=new F(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function ne(r,s,a,h){var f=N.hasOwnProperty(s)?N[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(U(s,a,f,h)&&(a=null),h||f===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),pe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),zt=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Ye=Symbol.for("react.offscreen"),le=Symbol.iterator;function Ee(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var ue=Object.assign,B;function K(r){if(B===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var ae=!1;function be(r,s){if(!r||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var h=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){h=H}r.call(s.prototype)}else{try{throw Error()}catch(H){h=H}r()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,C=g.length-1;1<=E&&0<=C&&f[E]!==g[C];)C--;for(;1<=E&&0<=C;E--,C--)if(f[E]!==g[C]){if(E!==1||C!==1)do if(E--,C--,0>C||f[E]!==g[C]){var x=`
`+f[E].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=E&&0<=C);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Ne(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case pe:return"Portal";case k:return"Profiler";case R:return"StrictMode";case A:return"Suspense";case pt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case zt:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case $t:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function nt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _t(r){var s=nt(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function nr(r){r._valueTracker||(r._valueTracker=_t(r))}function mi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=nt(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Lr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function gi(r,s){var a=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ki(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Me(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ys(r,s){s=s.checked,s!=null&&ne(r,"checked",s,!1)}function Js(r,s){Ys(r,s);var a=Me(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Qi(r,s.type,a):s.hasOwnProperty("defaultValue")&&Qi(r,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Fo(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Qi(r,s,a){(s!=="number"||Lr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Cn=Array.isArray;function zn(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Me(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Mr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function mn(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Cn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Me(a)}}function yi(r,s){var a=Me(s.value),h=Me(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Xi(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function wt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?wt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var An,Yi=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(An=An||document.createElement("div"),An.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=An.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Er(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ur=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(r){Ur.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Fr[s]=Fr[r]})});function Zs(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Fr.hasOwnProperty(r)&&Fr[r]?(""+s).trim():s+"px"}function eo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Zs(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var $n=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Br(r,s){if(s){if($n[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function to(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jr=null;function Ji(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vi=null,Wt=null,rr=null;function kn(r){if(r=dl(r)){if(typeof vi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ou(s),vi(r.stateNode,r.type,s))}}function ir(r){Wt?rr?rr.push(r):rr=[r]:Wt=r}function no(){if(Wt){var r=Wt,s=rr;if(rr=Wt=null,kn(r),s)for(r=0;r<s.length;r++)kn(s[r])}}function _i(r,s){return r(s)}function ro(){}var wr=!1;function gn(r,s,a){if(wr)return r(s,a);wr=!0;try{return _i(r,s,a)}finally{wr=!1,(Wt!==null||rr!==null)&&(ro(),no())}}function mt(r,s){var a=r.stateNode;if(a===null)return null;var h=Ou(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Zi=!1;if(d)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Zi=!1}function Ei(r,s,a,h,f,g,E,C,x){var H=Array.prototype.slice.call(arguments,3);try{s.apply(a,H)}catch(re){this.onError(re)}}var wi=!1,Hn=null,qn=!1,io=null,el={onError:function(r){wi=!0,Hn=r}};function es(r,s,a,h,f,g,E,C,x){wi=!1,Hn=null,Ei.apply(el,arguments)}function Uo(r,s,a,h,f,g,E,C,x){if(es.apply(this,arguments),wi){if(wi){var H=Hn;wi=!1,Hn=null}else throw Error(t(198));qn||(qn=!0,io=H)}}function Ht(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ti(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Gn(r){if(Ht(r)!==r)throw Error(t(188))}function Bo(r){var s=r.alternate;if(!s){if(s=Ht(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Gn(f),r;if(g===h)return Gn(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var E=!1,C=f.child;C;){if(C===a){E=!0,a=f,h=g;break}if(C===h){E=!0,h=f,a=g;break}C=C.sibling}if(!E){for(C=g.child;C;){if(C===a){E=!0,a=g,h=f;break}if(C===h){E=!0,h=g,a=f;break}C=C.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function so(r){return r=Bo(r),r!==null?ts(r):null}function ts(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ts(r);if(s!==null)return s;r=r.sibling}return null}var ns=e.unstable_scheduleCallback,Si=e.unstable_cancelCallback,jo=e.unstable_shouldYield,rs=e.unstable_requestPaint,Je=e.unstable_now,zo=e.unstable_getCurrentPriorityLevel,sr=e.unstable_ImmediatePriority,Tr=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,oo=e.unstable_LowPriority,$o=e.unstable_IdlePriority,zr=null,yn=null;function Wo(r){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(zr,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:qo,ao=Math.log,Ho=Math.LN2;function qo(r){return r>>>=0,r===0?32:31-(ao(r)/Ho|0)|0}var is=64,ss=4194304;function $r(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ii(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var C=E&~f;C!==0?h=$r(C):(g&=E,g!==0&&(h=$r(g)))}else E=a&~f,E!==0?h=$r(E):g!==0&&(h=$r(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Yt(s),f=1<<a,h|=r[a],s&=~f;return h}function os(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kn(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Yt(g),C=1<<E,x=f[E];x===-1?((C&a)===0||(C&h)!==0)&&(f[E]=os(C,s)):x<=s&&(r.expiredLanes|=C),g&=~C}}function vn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ri(){var r=is;return is<<=1,(is&4194240)===0&&(is=64),r}function Sr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Wr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Yt(s),r[s]=a}function rt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Yt(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Hr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Yt(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Ve=0;function qr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Go,as,ls,Ko,Qo,lo=!1,_n=[],St=null,En=null,wn=null,Gr=new Map,Tn=new Map,bn=[],Xo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function or(r,s){switch(r){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Gr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(s.pointerId)}}function At(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=dl(s),s!==null&&as(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function tl(r,s,a,h,f){switch(s){case"focusin":return St=At(St,r,s,a,h,f),!0;case"dragenter":return En=At(En,r,s,a,h,f),!0;case"mouseover":return wn=At(wn,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return Gr.set(g,At(Gr.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Tn.set(g,At(Tn.get(g)||null,r,s,a,h,f)),!0}return!1}function uo(r){var s=fo(r.target);if(s!==null){var a=Ht(s);if(a!==null){if(s=a.tag,s===13){if(s=Ti(a),s!==null){r.blockedOn=s,Qo(r.priority,function(){ls(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ir(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=ze(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);jr=h,a.target.dispatchEvent(h),jr=null}else return s=dl(a),s!==null&&as(s),r.blockedOn=a,!1;s.shift()}return!0}function Kr(r,s,a){Ir(r)&&a.delete(s)}function Yo(){lo=!1,St!==null&&Ir(St)&&(St=null),En!==null&&Ir(En)&&(En=null),wn!==null&&Ir(wn)&&(wn=null),Gr.forEach(Kr),Tn.forEach(Kr)}function Qn(r,s){r.blockedOn===s&&(r.blockedOn=null,lo||(lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yo)))}function xn(r){function s(f){return Qn(f,r)}if(0<_n.length){Qn(_n[0],r);for(var a=1;a<_n.length;a++){var h=_n[a];h.blockedOn===r&&(h.blockedOn=null)}}for(St!==null&&Qn(St,r),En!==null&&Qn(En,r),wn!==null&&Qn(wn,r),Gr.forEach(s),Tn.forEach(s),a=0;a<bn.length;a++)h=bn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<bn.length&&(a=bn[0],a.blockedOn===null);)uo(a),a.blockedOn===null&&bn.shift()}var Rr=he.ReactCurrentBatchConfig,I=!0;function b(r,s,a,h){var f=Ve,g=Rr.transition;Rr.transition=null;try{Ve=1,fe(r,s,a,h)}finally{Ve=f,Rr.transition=g}}function q(r,s,a,h){var f=Ve,g=Rr.transition;Rr.transition=null;try{Ve=4,fe(r,s,a,h)}finally{Ve=f,Rr.transition=g}}function fe(r,s,a,h){if(I){var f=ze(r,s,a,h);if(f===null)Kh(r,s,h,xe,a),or(r,h);else if(tl(f,r,s,a,h))h.stopPropagation();else if(or(r,h),s&4&&-1<Xo.indexOf(r)){for(;f!==null;){var g=dl(f);if(g!==null&&Go(g),g=ze(r,s,a,h),g===null&&Kh(r,s,h,xe,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Kh(r,s,h,null,a)}}var xe=null;function ze(r,s,a,h){if(xe=null,r=Ji(h),r=fo(r),r!==null)if(s=Ht(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ti(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return xe=r,null}function Ze(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zo()){case sr:return 1;case Tr:return 4;case Pn:case oo:return 16;case $o:return 536870912;default:return 16}default:return 16}}var Ae=null,Ge=null,ot=null;function Vt(){if(ot)return ot;var r,s=Ge,a=s.length,h,f="value"in Ae?Ae.value:Ae.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===f[g-h];h++);return ot=f.slice(r,1<h?1-h:void 0)}function ar(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Nn(){return!0}function Ci(){return!1}function kt(r){function s(a,h,f,g,E){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Nn:Ci,this.isPropagationStopped=Ci,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),s}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=kt(Cr),Qr=ue({},Cr,{view:0,detail:0}),Fh=kt(Qr),Zo,Ai,us,co=ue({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==us&&(us&&r.type==="mousemove"?(Zo=r.screenX-us.screenX,Ai=r.screenY-us.screenY):Ai=Zo=0,us=r),Zo)},movementY:function(r){return"movementY"in r?r.movementY:Ai}}),ea=kt(co),nl=ue({},co,{dataTransfer:0}),_u=kt(nl),ta=ue({},Qr,{relatedTarget:0}),na=kt(ta),Eu=ue({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ki=kt(Eu),wu=ue({},Cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tu=kt(wu),Su=ue({},Cr,{data:0}),rl=kt(Su),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Iu[r])?!!s[r]:!1}function Xr(){return Ru}var u=ue({},Qr,{key:function(r){if(r.key){var s=ra[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ar(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(r){return r.type==="keypress"?ar(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ar(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),v=ue({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=kt(v),z=ue({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),G=kt(z),oe=ue({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=kt(oe),Lt=ue({},co,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=kt(Lt),qt=[9,13,27,32],Pt=d&&"CompositionEvent"in window,lr=null;d&&"documentMode"in document&&(lr=document.documentMode);var Xn=d&&"TextEvent"in window&&!lr,ho=d&&(!Pt||lr&&8<lr&&11>=lr),ia=" ",Im=!1;function Rm(r,s){switch(r){case"keyup":return qt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var sa=!1;function G0(r,s){switch(r){case"compositionend":return Cm(s);case"keypress":return s.which!==32?null:(Im=!0,ia);case"textInput":return r=s.data,r===ia&&Im?null:r;default:return null}}function K0(r,s){if(sa)return r==="compositionend"||!Pt&&Rm(r,s)?(r=Vt(),ot=Ge=Ae=null,sa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ho&&s.locale!=="ko"?null:s.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Am(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Q0[r.type]:s==="textarea"}function km(r,s,a,h){ir(h),s=bu(s,"onChange"),0<s.length&&(a=new Jo("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var il=null,sl=null;function X0(r){qm(r,0)}function Cu(r){var s=ca(r);if(mi(s))return r}function Y0(r,s){if(r==="change")return s}var Pm=!1;if(d){var Uh;if(d){var Bh="oninput"in document;if(!Bh){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),Bh=typeof bm.oninput=="function"}Uh=Bh}else Uh=!1;Pm=Uh&&(!document.documentMode||9<document.documentMode)}function xm(){il&&(il.detachEvent("onpropertychange",Nm),sl=il=null)}function Nm(r){if(r.propertyName==="value"&&Cu(sl)){var s=[];km(s,sl,r,Ji(r)),gn(X0,s)}}function J0(r,s,a){r==="focusin"?(xm(),il=s,sl=a,il.attachEvent("onpropertychange",Nm)):r==="focusout"&&xm()}function Z0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Cu(sl)}function eT(r,s){if(r==="click")return Cu(s)}function tT(r,s){if(r==="input"||r==="change")return Cu(s)}function nT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ar=typeof Object.is=="function"?Object.is:nT;function ol(r,s){if(Ar(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Ar(r[f],s[f]))return!1}return!0}function Om(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dm(r,s){var a=Om(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Om(a)}}function Vm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Vm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Lm(){for(var r=window,s=Lr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Lr(r.document)}return s}function jh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function rT(r){var s=Lm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Vm(a.ownerDocument.documentElement,a)){if(h!==null&&jh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Dm(a,g);var E=Dm(a,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var iT=d&&"documentMode"in document&&11>=document.documentMode,oa=null,zh=null,al=null,$h=!1;function Mm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||oa==null||oa!==Lr(h)||(h=oa,"selectionStart"in h&&jh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),al&&ol(al,h)||(al=h,h=bu(zh,"onSelect"),0<h.length&&(s=new Jo("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=oa)))}function Au(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var aa={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Wh={},Fm={};d&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function ku(r){if(Wh[r])return Wh[r];if(!aa[r])return r;var s=aa[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Fm)return Wh[r]=s[a];return r}var Um=ku("animationend"),Bm=ku("animationiteration"),jm=ku("animationstart"),zm=ku("transitionend"),$m=new Map,Wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(r,s){$m.set(r,s),l(s,[r])}for(var Hh=0;Hh<Wm.length;Hh++){var qh=Wm[Hh],sT=qh.toLowerCase(),oT=qh[0].toUpperCase()+qh.slice(1);cs(sT,"on"+oT)}cs(Um,"onAnimationEnd"),cs(Bm,"onAnimationIteration"),cs(jm,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(zm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Hm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Uo(h,s,void 0,r),r.currentTarget=null}function qm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var C=h[E],x=C.instance,H=C.currentTarget;if(C=C.listener,x!==g&&f.isPropagationStopped())break e;Hm(f,C,H),g=x}else for(E=0;E<h.length;E++){if(C=h[E],x=C.instance,H=C.currentTarget,C=C.listener,x!==g&&f.isPropagationStopped())break e;Hm(f,C,H),g=x}}}if(qn)throw r=io,qn=!1,io=null,r}function lt(r,s){var a=s[ed];a===void 0&&(a=s[ed]=new Set);var h=r+"__bubble";a.has(h)||(Gm(s,r,2,!1),a.add(h))}function Gh(r,s,a){var h=0;s&&(h|=4),Gm(a,r,h,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function ul(r){if(!r[Pu]){r[Pu]=!0,i.forEach(function(a){a!=="selectionchange"&&(aT.has(a)||Gh(a,!1,r),Gh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,Gh("selectionchange",!1,s))}}function Gm(r,s,a,h){switch(Ze(s)){case 1:var f=b;break;case 4:f=q;break;default:f=fe}a=f.bind(null,s,a,r),f=void 0,!Zi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Kh(r,s,a,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var x=E.tag;if((x===3||x===4)&&(x=E.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;E=E.return}for(;C!==null;){if(E=fo(C),E===null)return;if(x=E.tag,x===5||x===6){h=g=E;continue e}C=C.parentNode}}h=h.return}gn(function(){var H=g,re=Ji(a),ie=[];e:{var ee=$m.get(r);if(ee!==void 0){var ce=Jo,ge=r;switch(r){case"keypress":if(ar(a)===0)break e;case"keydown":case"keyup":ce=m;break;case"focusin":ge="focus",ce=na;break;case"focusout":ge="blur",ce=na;break;case"beforeblur":case"afterblur":ce=na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case Um:case Bm:case jm:ce=ki;break;case zm:ce=it;break;case"scroll":ce=Fh;break;case"wheel":ce=$e;break;case"copy":case"cut":case"paste":ce=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=T}var ye=(s&4)!==0,It=!ye&&r==="scroll",$=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var D=H,W;D!==null;){W=D;var se=W.stateNode;if(W.tag===5&&se!==null&&(W=se,$!==null&&(se=mt(D,$),se!=null&&ye.push(cl(D,se,W)))),It)break;D=D.return}0<ye.length&&(ee=new ce(ee,ge,null,a,re),ie.push({event:ee,listeners:ye}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",ee&&a!==jr&&(ge=a.relatedTarget||a.fromElement)&&(fo(ge)||ge[Pi]))break e;if((ce||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(ge=a.relatedTarget||a.toElement,ce=H,ge=ge?fo(ge):null,ge!==null&&(It=Ht(ge),ge!==It||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(ce=null,ge=H),ce!==ge)){if(ye=ea,se="onMouseLeave",$="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ye=T,se="onPointerLeave",$="onPointerEnter",D="pointer"),It=ce==null?ee:ca(ce),W=ge==null?ee:ca(ge),ee=new ye(se,D+"leave",ce,a,re),ee.target=It,ee.relatedTarget=W,se=null,fo(re)===H&&(ye=new ye($,D+"enter",ge,a,re),ye.target=W,ye.relatedTarget=It,se=ye),It=se,ce&&ge)t:{for(ye=ce,$=ge,D=0,W=ye;W;W=la(W))D++;for(W=0,se=$;se;se=la(se))W++;for(;0<D-W;)ye=la(ye),D--;for(;0<W-D;)$=la($),W--;for(;D--;){if(ye===$||$!==null&&ye===$.alternate)break t;ye=la(ye),$=la($)}ye=null}else ye=null;ce!==null&&Km(ie,ee,ce,ye,!1),ge!==null&&It!==null&&Km(ie,It,ge,ye,!0)}}e:{if(ee=H?ca(H):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var _e=Y0;else if(Am(ee))if(Pm)_e=tT;else{_e=Z0;var Te=J0}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(_e=eT);if(_e&&(_e=_e(r,H))){km(ie,_e,a,re);break e}Te&&Te(r,ee,H),r==="focusout"&&(Te=ee._wrapperState)&&Te.controlled&&ee.type==="number"&&Qi(ee,"number",ee.value)}switch(Te=H?ca(H):window,r){case"focusin":(Am(Te)||Te.contentEditable==="true")&&(oa=Te,zh=H,al=null);break;case"focusout":al=zh=oa=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Mm(ie,a,re);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Mm(ie,a,re)}var Se;if(Pt)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else sa?Rm(r,a)&&(Ce="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(ho&&a.locale!=="ko"&&(sa||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&sa&&(Se=Vt()):(Ae=re,Ge="value"in Ae?Ae.value:Ae.textContent,sa=!0)),Te=bu(H,Ce),0<Te.length&&(Ce=new rl(Ce,r,null,a,re),ie.push({event:Ce,listeners:Te}),Se?Ce.data=Se:(Se=Cm(a),Se!==null&&(Ce.data=Se)))),(Se=Xn?G0(r,a):K0(r,a))&&(H=bu(H,"onBeforeInput"),0<H.length&&(re=new rl("onBeforeInput","beforeinput",null,a,re),ie.push({event:re,listeners:H}),re.data=Se))}qm(ie,s)})}function cl(r,s,a){return{instance:r,listener:s,currentTarget:a}}function bu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=mt(r,a),g!=null&&h.unshift(cl(r,g,f)),g=mt(r,s),g!=null&&h.push(cl(r,g,f))),r=r.return}return h}function la(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Km(r,s,a,h,f){for(var g=s._reactName,E=[];a!==null&&a!==h;){var C=a,x=C.alternate,H=C.stateNode;if(x!==null&&x===h)break;C.tag===5&&H!==null&&(C=H,f?(x=mt(a,g),x!=null&&E.unshift(cl(a,x,C))):f||(x=mt(a,g),x!=null&&E.push(cl(a,x,C)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var lT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function Qm(r){return(typeof r=="string"?r:""+r).replace(lT,`
`).replace(uT,"")}function xu(r,s,a){if(s=Qm(s),Qm(r)!==s&&a)throw Error(t(425))}function Nu(){}var Qh=null,Xh=null;function Yh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,cT=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(r){return Xm.resolve(null).then(r).catch(dT)}:Jh;function dT(r){setTimeout(function(){throw r})}function Zh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),xn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);xn(s)}function hs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Ym(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var ua=Math.random().toString(36).slice(2),Yr="__reactFiber$"+ua,hl="__reactProps$"+ua,Pi="__reactContainer$"+ua,ed="__reactEvents$"+ua,fT="__reactListeners$"+ua,pT="__reactHandles$"+ua;function fo(r){var s=r[Yr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Pi]||a[Yr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Ym(r);r!==null;){if(a=r[Yr])return a;r=Ym(r)}return s}r=a,a=r.parentNode}return null}function dl(r){return r=r[Yr]||r[Pi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ca(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ou(r){return r[hl]||null}var td=[],ha=-1;function ds(r){return{current:r}}function ut(r){0>ha||(r.current=td[ha],td[ha]=null,ha--)}function at(r,s){ha++,td[ha]=r.current,r.current=s}var fs={},sn=ds(fs),On=ds(!1),po=fs;function da(r,s){var a=r.type.contextTypes;if(!a)return fs;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Dn(r){return r=r.childContextTypes,r!=null}function Du(){ut(On),ut(sn)}function Jm(r,s,a){if(sn.current!==fs)throw Error(t(168));at(sn,s),at(On,a)}function Zm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,je(r)||"Unknown",f));return ue({},a,h)}function Vu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||fs,po=sn.current,at(sn,r),at(On,On.current),!0}function eg(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Zm(r,s,po),h.__reactInternalMemoizedMergedChildContext=r,ut(On),ut(sn),at(sn,r)):ut(On),at(On,a)}var bi=null,Lu=!1,nd=!1;function tg(r){bi===null?bi=[r]:bi.push(r)}function mT(r){Lu=!0,tg(r)}function ps(){if(!nd&&bi!==null){nd=!0;var r=0,s=Ve;try{var a=bi;for(Ve=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}bi=null,Lu=!1}catch(f){throw bi!==null&&(bi=bi.slice(r+1)),ns(sr,ps),f}finally{Ve=s,nd=!1}}return null}var fa=[],pa=0,Mu=null,Fu=0,ur=[],cr=0,mo=null,xi=1,Ni="";function go(r,s){fa[pa++]=Fu,fa[pa++]=Mu,Mu=r,Fu=s}function ng(r,s,a){ur[cr++]=xi,ur[cr++]=Ni,ur[cr++]=mo,mo=r;var h=xi;r=Ni;var f=32-Yt(h)-1;h&=~(1<<f),a+=1;var g=32-Yt(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,xi=1<<32-Yt(s)+f|a<<f|h,Ni=g+r}else xi=1<<g|a<<f|h,Ni=r}function rd(r){r.return!==null&&(go(r,1),ng(r,1,0))}function id(r){for(;r===Mu;)Mu=fa[--pa],fa[pa]=null,Fu=fa[--pa],fa[pa]=null;for(;r===mo;)mo=ur[--cr],ur[cr]=null,Ni=ur[--cr],ur[cr]=null,xi=ur[--cr],ur[cr]=null}var Yn=null,Jn=null,ft=!1,kr=null;function rg(r,s){var a=pr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function ig(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Yn=r,Jn=hs(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Yn=r,Jn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=mo!==null?{id:xi,overflow:Ni}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=pr(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Yn=r,Jn=null,!0):!1;default:return!1}}function sd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function od(r){if(ft){var s=Jn;if(s){var a=s;if(!ig(r,s)){if(sd(r))throw Error(t(418));s=hs(a.nextSibling);var h=Yn;s&&ig(r,s)?rg(h,a):(r.flags=r.flags&-4097|2,ft=!1,Yn=r)}}else{if(sd(r))throw Error(t(418));r.flags=r.flags&-4097|2,ft=!1,Yn=r}}}function sg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Yn=r}function Uu(r){if(r!==Yn)return!1;if(!ft)return sg(r),ft=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Yh(r.type,r.memoizedProps)),s&&(s=Jn)){if(sd(r))throw og(),Error(t(418));for(;s;)rg(r,s),s=hs(s.nextSibling)}if(sg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Jn=hs(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Jn=null}}else Jn=Yn?hs(r.stateNode.nextSibling):null;return!0}function og(){for(var r=Jn;r;)r=hs(r.nextSibling)}function ma(){Jn=Yn=null,ft=!1}function ad(r){kr===null?kr=[r]:kr.push(r)}var gT=he.ReactCurrentBatchConfig;function fl(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var C=f.refs;E===null?delete C[g]:C[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Bu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ag(r){var s=r._init;return s(r._payload)}function lg(r){function s($,D){if(r){var W=$.deletions;W===null?($.deletions=[D],$.flags|=16):W.push(D)}}function a($,D){if(!r)return null;for(;D!==null;)s($,D),D=D.sibling;return null}function h($,D){for($=new Map;D!==null;)D.key!==null?$.set(D.key,D):$.set(D.index,D),D=D.sibling;return $}function f($,D){return $=Ts($,D),$.index=0,$.sibling=null,$}function g($,D,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<D?($.flags|=2,D):W):($.flags|=2,D)):($.flags|=1048576,D)}function E($){return r&&$.alternate===null&&($.flags|=2),$}function C($,D,W,se){return D===null||D.tag!==6?(D=Jd(W,$.mode,se),D.return=$,D):(D=f(D,W),D.return=$,D)}function x($,D,W,se){var _e=W.type;return _e===P?re($,D,W.props.children,se,W.key):D!==null&&(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===$t&&ag(_e)===D.type)?(se=f(D,W.props),se.ref=fl($,D,W),se.return=$,se):(se=cc(W.type,W.key,W.props,null,$.mode,se),se.ref=fl($,D,W),se.return=$,se)}function H($,D,W,se){return D===null||D.tag!==4||D.stateNode.containerInfo!==W.containerInfo||D.stateNode.implementation!==W.implementation?(D=Zd(W,$.mode,se),D.return=$,D):(D=f(D,W.children||[]),D.return=$,D)}function re($,D,W,se,_e){return D===null||D.tag!==7?(D=Io(W,$.mode,se,_e),D.return=$,D):(D=f(D,W),D.return=$,D)}function ie($,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Jd(""+D,$.mode,W),D.return=$,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return W=cc(D.type,D.key,D.props,null,$.mode,W),W.ref=fl($,null,D),W.return=$,W;case pe:return D=Zd(D,$.mode,W),D.return=$,D;case $t:var se=D._init;return ie($,se(D._payload),W)}if(Cn(D)||Ee(D))return D=Io(D,$.mode,W,null),D.return=$,D;Bu($,D)}return null}function ee($,D,W,se){var _e=D!==null?D.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return _e!==null?null:C($,D,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case X:return W.key===_e?x($,D,W,se):null;case pe:return W.key===_e?H($,D,W,se):null;case $t:return _e=W._init,ee($,D,_e(W._payload),se)}if(Cn(W)||Ee(W))return _e!==null?null:re($,D,W,se,null);Bu($,W)}return null}function ce($,D,W,se,_e){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(W)||null,C(D,$,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case X:return $=$.get(se.key===null?W:se.key)||null,x(D,$,se,_e);case pe:return $=$.get(se.key===null?W:se.key)||null,H(D,$,se,_e);case $t:var Te=se._init;return ce($,D,W,Te(se._payload),_e)}if(Cn(se)||Ee(se))return $=$.get(W)||null,re(D,$,se,_e,null);Bu(D,se)}return null}function ge($,D,W,se){for(var _e=null,Te=null,Se=D,Ce=D=0,Qt=null;Se!==null&&Ce<W.length;Ce++){Se.index>Ce?(Qt=Se,Se=null):Qt=Se.sibling;var qe=ee($,Se,W[Ce],se);if(qe===null){Se===null&&(Se=Qt);break}r&&Se&&qe.alternate===null&&s($,Se),D=g(qe,D,Ce),Te===null?_e=qe:Te.sibling=qe,Te=qe,Se=Qt}if(Ce===W.length)return a($,Se),ft&&go($,Ce),_e;if(Se===null){for(;Ce<W.length;Ce++)Se=ie($,W[Ce],se),Se!==null&&(D=g(Se,D,Ce),Te===null?_e=Se:Te.sibling=Se,Te=Se);return ft&&go($,Ce),_e}for(Se=h($,Se);Ce<W.length;Ce++)Qt=ce(Se,$,Ce,W[Ce],se),Qt!==null&&(r&&Qt.alternate!==null&&Se.delete(Qt.key===null?Ce:Qt.key),D=g(Qt,D,Ce),Te===null?_e=Qt:Te.sibling=Qt,Te=Qt);return r&&Se.forEach(function(Ss){return s($,Ss)}),ft&&go($,Ce),_e}function ye($,D,W,se){var _e=Ee(W);if(typeof _e!="function")throw Error(t(150));if(W=_e.call(W),W==null)throw Error(t(151));for(var Te=_e=null,Se=D,Ce=D=0,Qt=null,qe=W.next();Se!==null&&!qe.done;Ce++,qe=W.next()){Se.index>Ce?(Qt=Se,Se=null):Qt=Se.sibling;var Ss=ee($,Se,qe.value,se);if(Ss===null){Se===null&&(Se=Qt);break}r&&Se&&Ss.alternate===null&&s($,Se),D=g(Ss,D,Ce),Te===null?_e=Ss:Te.sibling=Ss,Te=Ss,Se=Qt}if(qe.done)return a($,Se),ft&&go($,Ce),_e;if(Se===null){for(;!qe.done;Ce++,qe=W.next())qe=ie($,qe.value,se),qe!==null&&(D=g(qe,D,Ce),Te===null?_e=qe:Te.sibling=qe,Te=qe);return ft&&go($,Ce),_e}for(Se=h($,Se);!qe.done;Ce++,qe=W.next())qe=ce(Se,$,Ce,qe.value,se),qe!==null&&(r&&qe.alternate!==null&&Se.delete(qe.key===null?Ce:qe.key),D=g(qe,D,Ce),Te===null?_e=qe:Te.sibling=qe,Te=qe);return r&&Se.forEach(function(QT){return s($,QT)}),ft&&go($,Ce),_e}function It($,D,W,se){if(typeof W=="object"&&W!==null&&W.type===P&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case X:e:{for(var _e=W.key,Te=D;Te!==null;){if(Te.key===_e){if(_e=W.type,_e===P){if(Te.tag===7){a($,Te.sibling),D=f(Te,W.props.children),D.return=$,$=D;break e}}else if(Te.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===$t&&ag(_e)===Te.type){a($,Te.sibling),D=f(Te,W.props),D.ref=fl($,Te,W),D.return=$,$=D;break e}a($,Te);break}else s($,Te);Te=Te.sibling}W.type===P?(D=Io(W.props.children,$.mode,se,W.key),D.return=$,$=D):(se=cc(W.type,W.key,W.props,null,$.mode,se),se.ref=fl($,D,W),se.return=$,$=se)}return E($);case pe:e:{for(Te=W.key;D!==null;){if(D.key===Te)if(D.tag===4&&D.stateNode.containerInfo===W.containerInfo&&D.stateNode.implementation===W.implementation){a($,D.sibling),D=f(D,W.children||[]),D.return=$,$=D;break e}else{a($,D);break}else s($,D);D=D.sibling}D=Zd(W,$.mode,se),D.return=$,$=D}return E($);case $t:return Te=W._init,It($,D,Te(W._payload),se)}if(Cn(W))return ge($,D,W,se);if(Ee(W))return ye($,D,W,se);Bu($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,D!==null&&D.tag===6?(a($,D.sibling),D=f(D,W),D.return=$,$=D):(a($,D),D=Jd(W,$.mode,se),D.return=$,$=D),E($)):a($,D)}return It}var ga=lg(!0),ug=lg(!1),ju=ds(null),zu=null,ya=null,ld=null;function ud(){ld=ya=zu=null}function cd(r){var s=ju.current;ut(ju),r._currentValue=s}function hd(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function va(r,s){zu=r,ld=ya=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Vn=!0),r.firstContext=null)}function hr(r){var s=r._currentValue;if(ld!==r)if(r={context:r,memoizedValue:s,next:null},ya===null){if(zu===null)throw Error(t(308));ya=r,zu.dependencies={lanes:0,firstContext:r}}else ya=ya.next=r;return s}var yo=null;function dd(r){yo===null?yo=[r]:yo.push(r)}function cg(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,dd(s)):(a.next=f.next,f.next=a),s.interleaved=a,Oi(r,h)}function Oi(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ms=!1;function fd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Di(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function gs(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Oi(r,a)}return f=h.interleaved,f===null?(s.next=s,dd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Oi(r,a)}function $u(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Hr(r,a)}}function dg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Wu(r,s,a,h){var f=r.updateQueue;ms=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var x=C,H=x.next;x.next=null,E===null?g=H:E.next=H,E=x;var re=r.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==E&&(C===null?re.firstBaseUpdate=H:C.next=H,re.lastBaseUpdate=x))}if(g!==null){var ie=f.baseState;E=0,re=H=x=null,C=g;do{var ee=C.lane,ce=C.eventTime;if((h&ee)===ee){re!==null&&(re=re.next={eventTime:ce,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ge=r,ye=C;switch(ee=s,ce=a,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){ie=ge.call(ce,ie,ee);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,ee=typeof ge=="function"?ge.call(ce,ie,ee):ge,ee==null)break e;ie=ue({},ie,ee);break e;case 2:ms=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,ee=f.effects,ee===null?f.effects=[C]:ee.push(C))}else ce={eventTime:ce,lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(H=re=ce,x=ie):re=re.next=ce,E|=ee;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(re===null&&(x=ie),f.baseState=x,f.firstBaseUpdate=H,f.lastBaseUpdate=re,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Eo|=E,r.lanes=E,r.memoizedState=ie}}function fg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var pl={},Jr=ds(pl),ml=ds(pl),gl=ds(pl);function vo(r){if(r===pl)throw Error(t(174));return r}function pd(r,s){switch(at(gl,s),at(ml,r),at(Jr,pl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Tt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Tt(s,r)}ut(Jr),at(Jr,s)}function _a(){ut(Jr),ut(ml),ut(gl)}function pg(r){vo(gl.current);var s=vo(Jr.current),a=Tt(s,r.type);s!==a&&(at(ml,r),at(Jr,a))}function md(r){ml.current===r&&(ut(Jr),ut(ml))}var gt=ds(0);function Hu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gd=[];function yd(){for(var r=0;r<gd.length;r++)gd[r]._workInProgressVersionPrimary=null;gd.length=0}var qu=he.ReactCurrentDispatcher,vd=he.ReactCurrentBatchConfig,_o=0,yt=null,Mt=null,Gt=null,Gu=!1,yl=!1,vl=0,yT=0;function on(){throw Error(t(321))}function _d(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Ar(r[a],s[a]))return!1;return!0}function Ed(r,s,a,h,f,g){if(_o=g,yt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,qu.current=r===null||r.memoizedState===null?wT:TT,r=a(h,f),yl){g=0;do{if(yl=!1,vl=0,25<=g)throw Error(t(301));g+=1,Gt=Mt=null,s.updateQueue=null,qu.current=ST,r=a(h,f)}while(yl)}if(qu.current=Xu,s=Mt!==null&&Mt.next!==null,_o=0,Gt=Mt=yt=null,Gu=!1,s)throw Error(t(300));return r}function wd(){var r=vl!==0;return vl=0,r}function Zr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?yt.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function dr(){if(Mt===null){var r=yt.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var s=Gt===null?yt.memoizedState:Gt.next;if(s!==null)Gt=s,Mt=r;else{if(r===null)throw Error(t(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Gt===null?yt.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function _l(r,s){return typeof s=="function"?s(r):s}function Td(r){var s=dr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Mt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var C=E=null,x=null,H=g;do{var re=H.lane;if((_o&re)===re)x!==null&&(x=x.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:r(h,H.action);else{var ie={lane:re,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};x===null?(C=x=ie,E=h):x=x.next=ie,yt.lanes|=re,Eo|=re}H=H.next}while(H!==null&&H!==g);x===null?E=h:x.next=C,Ar(h,s.memoizedState)||(Vn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=x,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,yt.lanes|=g,Eo|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Sd(r){var s=dr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Ar(g,s.memoizedState)||(Vn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function mg(){}function gg(r,s){var a=yt,h=dr(),f=s(),g=!Ar(h.memoizedState,f);if(g&&(h.memoizedState=f,Vn=!0),h=h.queue,Id(_g.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||Gt!==null&&Gt.memoizedState.tag&1){if(a.flags|=2048,El(9,vg.bind(null,a,h,f,s),void 0,null),Kt===null)throw Error(t(349));(_o&30)!==0||yg(a,s,f)}return f}function yg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=yt.updateQueue,s===null?(s={lastEffect:null,stores:null},yt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function vg(r,s,a,h){s.value=a,s.getSnapshot=h,Eg(s)&&wg(r)}function _g(r,s,a){return a(function(){Eg(s)&&wg(r)})}function Eg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Ar(r,a)}catch{return!0}}function wg(r){var s=Oi(r,1);s!==null&&Nr(s,r,1,-1)}function Tg(r){var s=Zr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:r},s.queue=r,r=r.dispatch=ET.bind(null,yt,r),[s.memoizedState,r]}function El(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=yt.updateQueue,s===null?(s={lastEffect:null,stores:null},yt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Sg(){return dr().memoizedState}function Ku(r,s,a,h){var f=Zr();yt.flags|=r,f.memoizedState=El(1|s,a,void 0,h===void 0?null:h)}function Qu(r,s,a,h){var f=dr();h=h===void 0?null:h;var g=void 0;if(Mt!==null){var E=Mt.memoizedState;if(g=E.destroy,h!==null&&_d(h,E.deps)){f.memoizedState=El(s,a,g,h);return}}yt.flags|=r,f.memoizedState=El(1|s,a,g,h)}function Ig(r,s){return Ku(8390656,8,r,s)}function Id(r,s){return Qu(2048,8,r,s)}function Rg(r,s){return Qu(4,2,r,s)}function Cg(r,s){return Qu(4,4,r,s)}function Ag(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function kg(r,s,a){return a=a!=null?a.concat([r]):null,Qu(4,4,Ag.bind(null,s,r),a)}function Rd(){}function Pg(r,s){var a=dr();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&_d(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function bg(r,s){var a=dr();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&_d(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function xg(r,s,a){return(_o&21)===0?(r.baseState&&(r.baseState=!1,Vn=!0),r.memoizedState=a):(Ar(a,s)||(a=Ri(),yt.lanes|=a,Eo|=a,r.baseState=!0),s)}function vT(r,s){var a=Ve;Ve=a!==0&&4>a?a:4,r(!0);var h=vd.transition;vd.transition={};try{r(!1),s()}finally{Ve=a,vd.transition=h}}function Ng(){return dr().memoizedState}function _T(r,s,a){var h=Es(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Og(r))Dg(s,a);else if(a=cg(r,s,a,h),a!==null){var f=Rn();Nr(a,r,h,f),Vg(a,s,h)}}function ET(r,s,a){var h=Es(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Og(r))Dg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,C=g(E,a);if(f.hasEagerState=!0,f.eagerState=C,Ar(C,E)){var x=s.interleaved;x===null?(f.next=f,dd(s)):(f.next=x.next,x.next=f),s.interleaved=f;return}}catch{}finally{}a=cg(r,s,f,h),a!==null&&(f=Rn(),Nr(a,r,h,f),Vg(a,s,h))}}function Og(r){var s=r.alternate;return r===yt||s!==null&&s===yt}function Dg(r,s){yl=Gu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Vg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Hr(r,a)}}var Xu={readContext:hr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},wT={readContext:hr,useCallback:function(r,s){return Zr().memoizedState=[r,s===void 0?null:s],r},useContext:hr,useEffect:Ig,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ku(4194308,4,Ag.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ku(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ku(4,2,r,s)},useMemo:function(r,s){var a=Zr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Zr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=_T.bind(null,yt,r),[h.memoizedState,r]},useRef:function(r){var s=Zr();return r={current:r},s.memoizedState=r},useState:Tg,useDebugValue:Rd,useDeferredValue:function(r){return Zr().memoizedState=r},useTransition:function(){var r=Tg(!1),s=r[0];return r=vT.bind(null,r[1]),Zr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=yt,f=Zr();if(ft){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Kt===null)throw Error(t(349));(_o&30)!==0||yg(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Ig(_g.bind(null,h,g,r),[r]),h.flags|=2048,El(9,vg.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Zr(),s=Kt.identifierPrefix;if(ft){var a=Ni,h=xi;a=(h&~(1<<32-Yt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=vl++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=yT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},TT={readContext:hr,useCallback:Pg,useContext:hr,useEffect:Id,useImperativeHandle:kg,useInsertionEffect:Rg,useLayoutEffect:Cg,useMemo:bg,useReducer:Td,useRef:Sg,useState:function(){return Td(_l)},useDebugValue:Rd,useDeferredValue:function(r){var s=dr();return xg(s,Mt.memoizedState,r)},useTransition:function(){var r=Td(_l)[0],s=dr().memoizedState;return[r,s]},useMutableSource:mg,useSyncExternalStore:gg,useId:Ng,unstable_isNewReconciler:!1},ST={readContext:hr,useCallback:Pg,useContext:hr,useEffect:Id,useImperativeHandle:kg,useInsertionEffect:Rg,useLayoutEffect:Cg,useMemo:bg,useReducer:Sd,useRef:Sg,useState:function(){return Sd(_l)},useDebugValue:Rd,useDeferredValue:function(r){var s=dr();return Mt===null?s.memoizedState=r:xg(s,Mt.memoizedState,r)},useTransition:function(){var r=Sd(_l)[0],s=dr().memoizedState;return[r,s]},useMutableSource:mg,useSyncExternalStore:gg,useId:Ng,unstable_isNewReconciler:!1};function Pr(r,s){if(r&&r.defaultProps){s=ue({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Cd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ue({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Yu={isMounted:function(r){return(r=r._reactInternals)?Ht(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Rn(),f=Es(r),g=Di(h,f);g.payload=s,a!=null&&(g.callback=a),s=gs(r,g,f),s!==null&&(Nr(s,r,f,h),$u(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Rn(),f=Es(r),g=Di(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=gs(r,g,f),s!==null&&(Nr(s,r,f,h),$u(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Rn(),h=Es(r),f=Di(a,h);f.tag=2,s!=null&&(f.callback=s),s=gs(r,f,h),s!==null&&(Nr(s,r,h,a),$u(s,r,h))}};function Lg(r,s,a,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!ol(a,h)||!ol(f,g):!0}function Mg(r,s,a){var h=!1,f=fs,g=s.contextType;return typeof g=="object"&&g!==null?g=hr(g):(f=Dn(s)?po:sn.current,h=s.contextTypes,g=(h=h!=null)?da(r,f):fs),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Yu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Fg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Yu.enqueueReplaceState(s,s.state,null)}function Ad(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},fd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=hr(g):(g=Dn(s)?po:sn.current,f.context=da(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cd(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Yu.enqueueReplaceState(f,f.state,null),Wu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ea(r,s){try{var a="",h=s;do a+=Ne(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function kd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Pd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var IT=typeof WeakMap=="function"?WeakMap:Map;function Ug(r,s,a){a=Di(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){ic||(ic=!0,Wd=h),Pd(r,s)},a}function Bg(r,s,a){a=Di(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Pd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Pd(r,s),typeof h!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function jg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new IT;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=FT.bind(null,r,s,a),s.then(r,r))}function zg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function $g(r,s,a,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Di(-1,1),s.tag=2,gs(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var RT=he.ReactCurrentOwner,Vn=!1;function In(r,s,a,h){s.child=r===null?ug(s,null,a,h):ga(s,r.child,a,h)}function Wg(r,s,a,h,f){a=a.render;var g=s.ref;return va(s,f),h=Ed(r,s,a,h,g,f),a=wd(),r!==null&&!Vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Vi(r,s,f)):(ft&&a&&rd(s),s.flags|=1,In(r,s,h,f),s.child)}function Hg(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Yd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,qg(r,s,g,h,f)):(r=cc(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(E,h)&&r.ref===s.ref)return Vi(r,s,f)}return s.flags|=1,r=Ts(g,h),r.ref=s.ref,r.return=s,s.child=r}function qg(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(ol(g,h)&&r.ref===s.ref)if(Vn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Vn=!0);else return s.lanes=r.lanes,Vi(r,s,f)}return bd(r,s,a,h,f)}function Gg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ta,Zn),Zn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,at(Ta,Zn),Zn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,at(Ta,Zn),Zn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,at(Ta,Zn),Zn|=h;return In(r,s,f,a),s.child}function Kg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function bd(r,s,a,h,f){var g=Dn(a)?po:sn.current;return g=da(s,g),va(s,f),a=Ed(r,s,a,h,g,f),h=wd(),r!==null&&!Vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Vi(r,s,f)):(ft&&h&&rd(s),s.flags|=1,In(r,s,a,f),s.child)}function Qg(r,s,a,h,f){if(Dn(a)){var g=!0;Vu(s)}else g=!1;if(va(s,f),s.stateNode===null)Zu(r,s),Mg(s,a,h),Ad(s,a,h,f),h=!0;else if(r===null){var E=s.stateNode,C=s.memoizedProps;E.props=C;var x=E.context,H=a.contextType;typeof H=="object"&&H!==null?H=hr(H):(H=Dn(a)?po:sn.current,H=da(s,H));var re=a.getDerivedStateFromProps,ie=typeof re=="function"||typeof E.getSnapshotBeforeUpdate=="function";ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||x!==H)&&Fg(s,E,h,H),ms=!1;var ee=s.memoizedState;E.state=ee,Wu(s,h,E,f),x=s.memoizedState,C!==h||ee!==x||On.current||ms?(typeof re=="function"&&(Cd(s,a,re,h),x=s.memoizedState),(C=ms||Lg(s,a,C,h,ee,x,H))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),E.props=h,E.state=x,E.context=H,h=C):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,hg(r,s),C=s.memoizedProps,H=s.type===s.elementType?C:Pr(s.type,C),E.props=H,ie=s.pendingProps,ee=E.context,x=a.contextType,typeof x=="object"&&x!==null?x=hr(x):(x=Dn(a)?po:sn.current,x=da(s,x));var ce=a.getDerivedStateFromProps;(re=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ie||ee!==x)&&Fg(s,E,h,x),ms=!1,ee=s.memoizedState,E.state=ee,Wu(s,h,E,f);var ge=s.memoizedState;C!==ie||ee!==ge||On.current||ms?(typeof ce=="function"&&(Cd(s,a,ce,h),ge=s.memoizedState),(H=ms||Lg(s,a,H,h,ee,ge,x)||!1)?(re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ge,x),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ge,x)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ge),E.props=h,E.state=ge,E.context=x,h=H):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),h=!1)}return xd(r,s,a,h,g,f)}function xd(r,s,a,h,f,g){Kg(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&eg(s,a,!1),Vi(r,s,g);h=s.stateNode,RT.current=s;var C=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=ga(s,r.child,null,g),s.child=ga(s,null,C,g)):In(r,s,C,g),s.memoizedState=h.state,f&&eg(s,a,!0),s.child}function Xg(r){var s=r.stateNode;s.pendingContext?Jm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Jm(r,s.context,!1),pd(r,s.containerInfo)}function Yg(r,s,a,h,f){return ma(),ad(f),s.flags|=256,In(r,s,a,h),s.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function Od(r){return{baseLanes:r,cachePool:null,transitions:null}}function Jg(r,s,a){var h=s.pendingProps,f=gt.current,g=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),at(gt,f&1),r===null)return od(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=hc(E,h,0,null),r=Io(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Od(a),s.memoizedState=Nd,r):Dd(s,E));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return CT(r,s,E,h,C,f,a);if(g){g=h.fallback,E=s.mode,f=r.child,C=f.sibling;var x={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=Ts(f,x),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=Ts(C,g):(g=Io(g,E,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?Od(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,s.memoizedState=Nd,h}return g=r.child,r=g.sibling,h=Ts(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Dd(r,s){return s=hc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ju(r,s,a,h){return h!==null&&ad(h),ga(s,r.child,null,a),r=Dd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function CT(r,s,a,h,f,g,E){if(a)return s.flags&256?(s.flags&=-257,h=kd(Error(t(422))),Ju(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=hc({mode:"visible",children:h.children},f,0,null),g=Io(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&ga(s,r.child,null,E),s.child.memoizedState=Od(E),s.memoizedState=Nd,g);if((s.mode&1)===0)return Ju(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,g=Error(t(419)),h=kd(g,h,void 0),Ju(r,s,E,h)}if(C=(E&r.childLanes)!==0,Vn||C){if(h=Kt,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Oi(r,f),Nr(h,r,f,-1))}return Xd(),h=kd(Error(t(421))),Ju(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=UT.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Jn=hs(f.nextSibling),Yn=s,ft=!0,kr=null,r!==null&&(ur[cr++]=xi,ur[cr++]=Ni,ur[cr++]=mo,xi=r.id,Ni=r.overflow,mo=s),s=Dd(s,h.children),s.flags|=4096,s)}function Zg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),hd(r.return,s,a)}function Vd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function ey(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(In(r,s,h.children,a),h=gt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zg(r,a,s);else if(r.tag===19)Zg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(at(gt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Hu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Vd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Hu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Vd(s,!0,a,null,g);break;case"together":Vd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Vi(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Eo|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Ts(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Ts(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function AT(r,s,a){switch(s.tag){case 3:Xg(s),ma();break;case 5:pg(s);break;case 1:Dn(s.type)&&Vu(s);break;case 4:pd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;at(ju,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(at(gt,gt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Jg(r,s,a):(at(gt,gt.current&1),r=Vi(r,s,a),r!==null?r.sibling:null);at(gt,gt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return ey(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(gt,gt.current),h)break;return null;case 22:case 23:return s.lanes=0,Gg(r,s,a)}return Vi(r,s,a)}var ty,Ld,ny,ry;ty=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ld=function(){},ny=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,vo(Jr.current);var g=null;switch(a){case"input":f=gi(r,f),h=gi(r,h),g=[];break;case"select":f=ue({},f,{value:void 0}),h=ue({},h,{value:void 0}),g=[];break;case"textarea":f=Mr(r,f),h=Mr(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Nu)}Br(a,h);var E;a=null;for(H in f)if(!h.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var C=f[H];for(E in C)C.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in h){var x=h[H];if(C=f?.[H],h.hasOwnProperty(H)&&x!==C&&(x!=null||C!=null))if(H==="style")if(C){for(E in C)!C.hasOwnProperty(E)||x&&x.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in x)x.hasOwnProperty(E)&&C[E]!==x[E]&&(a||(a={}),a[E]=x[E])}else a||(g||(g=[]),g.push(H,a)),a=x;else H==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,C=C?C.__html:void 0,x!=null&&C!==x&&(g=g||[]).push(H,x)):H==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(H,""+x):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(x!=null&&H==="onScroll"&&lt("scroll",r),g||C===x||(g=[])):(g=g||[]).push(H,x))}a&&(g=g||[]).push("style",a);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},ry=function(r,s,a,h){a!==h&&(s.flags|=4)};function wl(r,s){if(!ft)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function an(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function kT(r,s,a){var h=s.pendingProps;switch(id(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(s),null;case 1:return Dn(s.type)&&Du(),an(s),null;case 3:return h=s.stateNode,_a(),ut(On),ut(sn),yd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Uu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kr!==null&&(Gd(kr),kr=null))),Ld(r,s),an(s),null;case 5:md(s);var f=vo(gl.current);if(a=s.type,r!==null&&s.stateNode!=null)ny(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return an(s),null}if(r=vo(Jr.current),Uu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[Yr]=s,h[hl]=g,r=(s.mode&1)!==0,a){case"dialog":lt("cancel",h),lt("close",h);break;case"iframe":case"object":case"embed":lt("load",h);break;case"video":case"audio":for(f=0;f<ll.length;f++)lt(ll[f],h);break;case"source":lt("error",h);break;case"img":case"image":case"link":lt("error",h),lt("load",h);break;case"details":lt("toggle",h);break;case"input":Ki(h,g),lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},lt("invalid",h);break;case"textarea":mn(h,g),lt("invalid",h)}Br(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var C=g[E];E==="children"?typeof C=="string"?h.textContent!==C&&(g.suppressHydrationWarning!==!0&&xu(h.textContent,C,r),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&xu(h.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&lt("scroll",h)}switch(a){case"input":nr(h),Fo(h,g,!0);break;case"textarea":nr(h),Xi(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Nu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=wt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[Yr]=s,r[hl]=h,ty(r,s,!1,!1),s.stateNode=r;e:{switch(E=to(a,h),a){case"dialog":lt("cancel",r),lt("close",r),f=h;break;case"iframe":case"object":case"embed":lt("load",r),f=h;break;case"video":case"audio":for(f=0;f<ll.length;f++)lt(ll[f],r);f=h;break;case"source":lt("error",r),f=h;break;case"img":case"image":case"link":lt("error",r),lt("load",r),f=h;break;case"details":lt("toggle",r),f=h;break;case"input":Ki(r,h),f=gi(r,h),lt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ue({},h,{value:void 0}),lt("invalid",r);break;case"textarea":mn(r,h),f=Mr(r,h),lt("invalid",r);break;default:f=h}Br(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var x=C[g];g==="style"?eo(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Yi(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Er(r,x):typeof x=="number"&&Er(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&lt("scroll",r):x!=null&&ne(r,g,x,E))}switch(a){case"input":nr(r),Fo(r,h,!1);break;case"textarea":nr(r),Xi(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Me(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?zn(r,!!h.multiple,g,!1):h.defaultValue!=null&&zn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Nu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return an(s),null;case 6:if(r&&s.stateNode!=null)ry(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=vo(gl.current),vo(Jr.current),Uu(s)){if(h=s.stateNode,a=s.memoizedProps,h[Yr]=s,(g=h.nodeValue!==a)&&(r=Yn,r!==null))switch(r.tag){case 3:xu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&xu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Yr]=s,s.stateNode=h}return an(s),null;case 13:if(ut(gt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&Jn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)og(),ma(),s.flags|=98560,g=!1;else if(g=Uu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Yr]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;an(s),g=!1}else kr!==null&&(Gd(kr),kr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(gt.current&1)!==0?Ft===0&&(Ft=3):Xd())),s.updateQueue!==null&&(s.flags|=4),an(s),null);case 4:return _a(),Ld(r,s),r===null&&ul(s.stateNode.containerInfo),an(s),null;case 10:return cd(s.type._context),an(s),null;case 17:return Dn(s.type)&&Du(),an(s),null;case 19:if(ut(gt),g=s.memoizedState,g===null)return an(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)wl(g,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Hu(r),E!==null){for(s.flags|=128,wl(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return at(gt,gt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Je()>Sa&&(s.flags|=128,h=!0,wl(g,!1),s.lanes=4194304)}else{if(!h)if(r=Hu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),wl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ft)return an(s),null}else 2*Je()-g.renderingStartTime>Sa&&a!==1073741824&&(s.flags|=128,h=!0,wl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Je(),s.sibling=null,a=gt.current,at(gt,h?a&1|2:a&1),s):(an(s),null);case 22:case 23:return Qd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Zn&1073741824)!==0&&(an(s),s.subtreeFlags&6&&(s.flags|=8192)):an(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function PT(r,s){switch(id(s),s.tag){case 1:return Dn(s.type)&&Du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return _a(),ut(On),ut(sn),yd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return md(s),null;case 13:if(ut(gt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ma()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ut(gt),null;case 4:return _a(),null;case 10:return cd(s.type._context),null;case 22:case 23:return Qd(),null;case 24:return null;default:return null}}var ec=!1,ln=!1,bT=typeof WeakSet=="function"?WeakSet:Set,me=null;function wa(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){Et(r,s,h)}else a.current=null}function Md(r,s,a){try{a()}catch(h){Et(r,s,h)}}var iy=!1;function xT(r,s){if(Qh=I,r=Lm(),jh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,C=-1,x=-1,H=0,re=0,ie=r,ee=null;t:for(;;){for(var ce;ie!==a||f!==0&&ie.nodeType!==3||(C=E+f),ie!==g||h!==0&&ie.nodeType!==3||(x=E+h),ie.nodeType===3&&(E+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)ee=ie,ie=ce;for(;;){if(ie===r)break t;if(ee===a&&++H===f&&(C=E),ee===g&&++re===h&&(x=E),(ce=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ce}a=C===-1||x===-1?null:{start:C,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xh={focusedElem:r,selectionRange:a},I=!1,me=s;me!==null;)if(s=me,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,me=r;else for(;me!==null;){s=me;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,It=ge.memoizedState,$=s.stateNode,D=$.getSnapshotBeforeUpdate(s.elementType===s.type?ye:Pr(s.type,ye),It);$.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){Et(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,me=r;break}me=s.return}return ge=iy,iy=!1,ge}function Tl(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Md(s,a,g)}f=f.next}while(f!==h)}}function tc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Fd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function sy(r){var s=r.alternate;s!==null&&(r.alternate=null,sy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Yr],delete s[hl],delete s[ed],delete s[fT],delete s[pT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function oy(r){return r.tag===5||r.tag===3||r.tag===4}function ay(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||oy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ud(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Nu));else if(h!==4&&(r=r.child,r!==null))for(Ud(r,s,a),r=r.sibling;r!==null;)Ud(r,s,a),r=r.sibling}function Bd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Bd(r,s,a),r=r.sibling;r!==null;)Bd(r,s,a),r=r.sibling}var Jt=null,br=!1;function ys(r,s,a){for(a=a.child;a!==null;)ly(r,s,a),a=a.sibling}function ly(r,s,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(zr,a)}catch{}switch(a.tag){case 5:ln||wa(a,s);case 6:var h=Jt,f=br;Jt=null,ys(r,s,a),Jt=h,br=f,Jt!==null&&(br?(r=Jt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Jt.removeChild(a.stateNode));break;case 18:Jt!==null&&(br?(r=Jt,a=a.stateNode,r.nodeType===8?Zh(r.parentNode,a):r.nodeType===1&&Zh(r,a),xn(r)):Zh(Jt,a.stateNode));break;case 4:h=Jt,f=br,Jt=a.stateNode.containerInfo,br=!0,ys(r,s,a),Jt=h,br=f;break;case 0:case 11:case 14:case 15:if(!ln&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Md(a,s,E),f=f.next}while(f!==h)}ys(r,s,a);break;case 1:if(!ln&&(wa(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){Et(a,s,C)}ys(r,s,a);break;case 21:ys(r,s,a);break;case 22:a.mode&1?(ln=(h=ln)||a.memoizedState!==null,ys(r,s,a),ln=h):ys(r,s,a);break;default:ys(r,s,a)}}function uy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new bT),s.forEach(function(h){var f=BT.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function xr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 5:Jt=C.stateNode,br=!1;break e;case 3:Jt=C.stateNode.containerInfo,br=!0;break e;case 4:Jt=C.stateNode.containerInfo,br=!0;break e}C=C.return}if(Jt===null)throw Error(t(160));ly(g,E,f),Jt=null,br=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(H){Et(f,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)cy(s,r),s=s.sibling}function cy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(xr(s,r),ei(r),h&4){try{Tl(3,r,r.return),tc(3,r)}catch(ye){Et(r,r.return,ye)}try{Tl(5,r,r.return)}catch(ye){Et(r,r.return,ye)}}break;case 1:xr(s,r),ei(r),h&512&&a!==null&&wa(a,a.return);break;case 5:if(xr(s,r),ei(r),h&512&&a!==null&&wa(a,a.return),r.flags&32){var f=r.stateNode;try{Er(f,"")}catch(ye){Et(r,r.return,ye)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,C=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Ys(f,g),to(C,E);var H=to(C,g);for(E=0;E<x.length;E+=2){var re=x[E],ie=x[E+1];re==="style"?eo(f,ie):re==="dangerouslySetInnerHTML"?Yi(f,ie):re==="children"?Er(f,ie):ne(f,re,ie,H)}switch(C){case"input":Js(f,g);break;case"textarea":yi(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?zn(f,!!g.multiple,ce,!1):ee!==!!g.multiple&&(g.defaultValue!=null?zn(f,!!g.multiple,g.defaultValue,!0):zn(f,!!g.multiple,g.multiple?[]:"",!1))}f[hl]=g}catch(ye){Et(r,r.return,ye)}}break;case 6:if(xr(s,r),ei(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ye){Et(r,r.return,ye)}}break;case 3:if(xr(s,r),ei(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{xn(s.containerInfo)}catch(ye){Et(r,r.return,ye)}break;case 4:xr(s,r),ei(r);break;case 13:xr(s,r),ei(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||($d=Je())),h&4&&uy(r);break;case 22:if(re=a!==null&&a.memoizedState!==null,r.mode&1?(ln=(H=ln)||re,xr(s,r),ln=H):xr(s,r),ei(r),h&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!re&&(r.mode&1)!==0)for(me=r,re=r.child;re!==null;){for(ie=me=re;me!==null;){switch(ee=me,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:Tl(4,ee,ee.return);break;case 1:wa(ee,ee.return);var ge=ee.stateNode;if(typeof ge.componentWillUnmount=="function"){h=ee,a=ee.return;try{s=h,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(ye){Et(h,a,ye)}}break;case 5:wa(ee,ee.return);break;case 22:if(ee.memoizedState!==null){fy(ie);continue}}ce!==null?(ce.return=ee,me=ce):fy(ie)}re=re.sibling}e:for(re=null,ie=r;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ie.stateNode,x=ie.memoizedProps.style,E=x!=null&&x.hasOwnProperty("display")?x.display:null,C.style.display=Zs("display",E))}catch(ye){Et(r,r.return,ye)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=H?"":ie.memoizedProps}catch(ye){Et(r,r.return,ye)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:xr(s,r),ei(r),h&4&&uy(r);break;case 21:break;default:xr(s,r),ei(r)}}function ei(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(oy(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Er(f,""),h.flags&=-33);var g=ay(r);Bd(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,C=ay(r);Ud(r,C,E);break;default:throw Error(t(161))}}catch(x){Et(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function NT(r,s,a){me=r,hy(r)}function hy(r,s,a){for(var h=(r.mode&1)!==0;me!==null;){var f=me,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||ec;if(!E){var C=f.alternate,x=C!==null&&C.memoizedState!==null||ln;C=ec;var H=ln;if(ec=E,(ln=x)&&!H)for(me=f;me!==null;)E=me,x=E.child,E.tag===22&&E.memoizedState!==null?py(f):x!==null?(x.return=E,me=x):py(f);for(;g!==null;)me=g,hy(g),g=g.sibling;me=f,ec=C,ln=H}dy(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,me=g):dy(r)}}function dy(r){for(;me!==null;){var s=me;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ln||tc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!ln)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Pr(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&fg(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}fg(s,E,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var re=H.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&xn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||s.flags&512&&Fd(s)}catch(ee){Et(s,s.return,ee)}}if(s===r){me=null;break}if(a=s.sibling,a!==null){a.return=s.return,me=a;break}me=s.return}}function fy(r){for(;me!==null;){var s=me;if(s===r){me=null;break}var a=s.sibling;if(a!==null){a.return=s.return,me=a;break}me=s.return}}function py(r){for(;me!==null;){var s=me;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{tc(4,s)}catch(x){Et(s,a,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(x){Et(s,f,x)}}var g=s.return;try{Fd(s)}catch(x){Et(s,g,x)}break;case 5:var E=s.return;try{Fd(s)}catch(x){Et(s,E,x)}}}catch(x){Et(s,s.return,x)}if(s===r){me=null;break}var C=s.sibling;if(C!==null){C.return=s.return,me=C;break}me=s.return}}var OT=Math.ceil,nc=he.ReactCurrentDispatcher,jd=he.ReactCurrentOwner,fr=he.ReactCurrentBatchConfig,He=0,Kt=null,bt=null,Zt=0,Zn=0,Ta=ds(0),Ft=0,Sl=null,Eo=0,rc=0,zd=0,Il=null,Ln=null,$d=0,Sa=1/0,Li=null,ic=!1,Wd=null,vs=null,sc=!1,_s=null,oc=0,Rl=0,Hd=null,ac=-1,lc=0;function Rn(){return(He&6)!==0?Je():ac!==-1?ac:ac=Je()}function Es(r){return(r.mode&1)===0?1:(He&2)!==0&&Zt!==0?Zt&-Zt:gT.transition!==null?(lc===0&&(lc=Ri()),lc):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Ze(r.type)),r)}function Nr(r,s,a,h){if(50<Rl)throw Rl=0,Hd=null,Error(t(185));Wr(r,a,h),((He&2)===0||r!==Kt)&&(r===Kt&&((He&2)===0&&(rc|=a),Ft===4&&ws(r,Zt)),Mn(r,h),a===1&&He===0&&(s.mode&1)===0&&(Sa=Je()+500,Lu&&ps()))}function Mn(r,s){var a=r.callbackNode;Kn(r,s);var h=Ii(r,r===Kt?Zt:0);if(h===0)a!==null&&Si(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Si(a),s===1)r.tag===0?mT(gy.bind(null,r)):tg(gy.bind(null,r)),hT(function(){(He&6)===0&&ps()}),a=null;else{switch(qr(h)){case 1:a=sr;break;case 4:a=Tr;break;case 16:a=Pn;break;case 536870912:a=$o;break;default:a=Pn}a=Iy(a,my.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function my(r,s){if(ac=-1,lc=0,(He&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Ia()&&r.callbackNode!==a)return null;var h=Ii(r,r===Kt?Zt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=uc(r,h);else{s=h;var f=He;He|=2;var g=vy();(Kt!==r||Zt!==s)&&(Li=null,Sa=Je()+500,To(r,s));do try{LT();break}catch(C){yy(r,C)}while(!0);ud(),nc.current=g,He=f,bt!==null?s=0:(Kt=null,Zt=0,s=Ft)}if(s!==0){if(s===2&&(f=vn(r),f!==0&&(h=f,s=qd(r,f))),s===1)throw a=Sl,To(r,0),ws(r,h),Mn(r,Je()),a;if(s===6)ws(r,h);else{if(f=r.current.alternate,(h&30)===0&&!DT(f)&&(s=uc(r,h),s===2&&(g=vn(r),g!==0&&(h=g,s=qd(r,g))),s===1))throw a=Sl,To(r,0),ws(r,h),Mn(r,Je()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:So(r,Ln,Li);break;case 3:if(ws(r,h),(h&130023424)===h&&(s=$d+500-Je(),10<s)){if(Ii(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Rn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Jh(So.bind(null,r,Ln,Li),s);break}So(r,Ln,Li);break;case 4:if(ws(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-Yt(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*OT(h/1960))-h,10<h){r.timeoutHandle=Jh(So.bind(null,r,Ln,Li),h);break}So(r,Ln,Li);break;case 5:So(r,Ln,Li);break;default:throw Error(t(329))}}}return Mn(r,Je()),r.callbackNode===a?my.bind(null,r):null}function qd(r,s){var a=Il;return r.current.memoizedState.isDehydrated&&(To(r,s).flags|=256),r=uc(r,s),r!==2&&(s=Ln,Ln=a,s!==null&&Gd(s)),r}function Gd(r){Ln===null?Ln=r:Ln.push.apply(Ln,r)}function DT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Ar(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ws(r,s){for(s&=~zd,s&=~rc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Yt(s),h=1<<a;r[a]=-1,s&=~h}}function gy(r){if((He&6)!==0)throw Error(t(327));Ia();var s=Ii(r,0);if((s&1)===0)return Mn(r,Je()),null;var a=uc(r,s);if(r.tag!==0&&a===2){var h=vn(r);h!==0&&(s=h,a=qd(r,h))}if(a===1)throw a=Sl,To(r,0),ws(r,s),Mn(r,Je()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,So(r,Ln,Li),Mn(r,Je()),null}function Kd(r,s){var a=He;He|=1;try{return r(s)}finally{He=a,He===0&&(Sa=Je()+500,Lu&&ps())}}function wo(r){_s!==null&&_s.tag===0&&(He&6)===0&&Ia();var s=He;He|=1;var a=fr.transition,h=Ve;try{if(fr.transition=null,Ve=1,r)return r()}finally{Ve=h,fr.transition=a,He=s,(He&6)===0&&ps()}}function Qd(){Zn=Ta.current,ut(Ta)}function To(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,cT(a)),bt!==null)for(a=bt.return;a!==null;){var h=a;switch(id(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Du();break;case 3:_a(),ut(On),ut(sn),yd();break;case 5:md(h);break;case 4:_a();break;case 13:ut(gt);break;case 19:ut(gt);break;case 10:cd(h.type._context);break;case 22:case 23:Qd()}a=a.return}if(Kt=r,bt=r=Ts(r.current,null),Zt=Zn=s,Ft=0,Sl=null,zd=rc=Eo=0,Ln=Il=null,yo!==null){for(s=0;s<yo.length;s++)if(a=yo[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}a.pending=h}yo=null}return r}function yy(r,s){do{var a=bt;try{if(ud(),qu.current=Xu,Gu){for(var h=yt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Gu=!1}if(_o=0,Gt=Mt=yt=null,yl=!1,vl=0,jd.current=null,a===null||a.return===null){Ft=1,Sl=s,bt=null;break}e:{var g=r,E=a.return,C=a,x=s;if(s=Zt,C.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var H=x,re=C,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=re.alternate;ee?(re.updateQueue=ee.updateQueue,re.memoizedState=ee.memoizedState,re.lanes=ee.lanes):(re.updateQueue=null,re.memoizedState=null)}var ce=zg(E);if(ce!==null){ce.flags&=-257,$g(ce,E,C,g,s),ce.mode&1&&jg(g,H,s),s=ce,x=H;var ge=s.updateQueue;if(ge===null){var ye=new Set;ye.add(x),s.updateQueue=ye}else ge.add(x);break e}else{if((s&1)===0){jg(g,H,s),Xd();break e}x=Error(t(426))}}else if(ft&&C.mode&1){var It=zg(E);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),$g(It,E,C,g,s),ad(Ea(x,C));break e}}g=x=Ea(x,C),Ft!==4&&(Ft=2),Il===null?Il=[g]:Il.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var $=Ug(g,x,s);dg(g,$);break e;case 1:C=x;var D=g.type,W=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(vs===null||!vs.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=Bg(g,C,s);dg(g,se);break e}}g=g.return}while(g!==null)}Ey(a)}catch(_e){s=_e,bt===a&&a!==null&&(bt=a=a.return);continue}break}while(!0)}function vy(){var r=nc.current;return nc.current=Xu,r===null?Xu:r}function Xd(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Kt===null||(Eo&268435455)===0&&(rc&268435455)===0||ws(Kt,Zt)}function uc(r,s){var a=He;He|=2;var h=vy();(Kt!==r||Zt!==s)&&(Li=null,To(r,s));do try{VT();break}catch(f){yy(r,f)}while(!0);if(ud(),He=a,nc.current=h,bt!==null)throw Error(t(261));return Kt=null,Zt=0,Ft}function VT(){for(;bt!==null;)_y(bt)}function LT(){for(;bt!==null&&!jo();)_y(bt)}function _y(r){var s=Sy(r.alternate,r,Zn);r.memoizedProps=r.pendingProps,s===null?Ey(r):bt=s,jd.current=null}function Ey(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=kT(a,s,Zn),a!==null){bt=a;return}}else{if(a=PT(a,s),a!==null){a.flags&=32767,bt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ft=6,bt=null;return}}if(s=s.sibling,s!==null){bt=s;return}bt=s=r}while(s!==null);Ft===0&&(Ft=5)}function So(r,s,a){var h=Ve,f=fr.transition;try{fr.transition=null,Ve=1,MT(r,s,a,h)}finally{fr.transition=f,Ve=h}return null}function MT(r,s,a,h){do Ia();while(_s!==null);if((He&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(rt(r,g),r===Kt&&(bt=Kt=null,Zt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||sc||(sc=!0,Iy(Pn,function(){return Ia(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=fr.transition,fr.transition=null;var E=Ve;Ve=1;var C=He;He|=4,jd.current=null,xT(r,a),cy(a,r),rT(Xh),I=!!Qh,Xh=Qh=null,r.current=a,NT(a),rs(),He=C,Ve=E,fr.transition=g}else r.current=a;if(sc&&(sc=!1,_s=r,oc=f),g=r.pendingLanes,g===0&&(vs=null),Wo(a.stateNode),Mn(r,Je()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(ic)throw ic=!1,r=Wd,Wd=null,r;return(oc&1)!==0&&r.tag!==0&&Ia(),g=r.pendingLanes,(g&1)!==0?r===Hd?Rl++:(Rl=0,Hd=r):Rl=0,ps(),null}function Ia(){if(_s!==null){var r=qr(oc),s=fr.transition,a=Ve;try{if(fr.transition=null,Ve=16>r?16:r,_s===null)var h=!1;else{if(r=_s,_s=null,oc=0,(He&6)!==0)throw Error(t(331));var f=He;for(He|=4,me=r.current;me!==null;){var g=me,E=g.child;if((me.flags&16)!==0){var C=g.deletions;if(C!==null){for(var x=0;x<C.length;x++){var H=C[x];for(me=H;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:Tl(8,re,g)}var ie=re.child;if(ie!==null)ie.return=re,me=ie;else for(;me!==null;){re=me;var ee=re.sibling,ce=re.return;if(sy(re),re===H){me=null;break}if(ee!==null){ee.return=ce,me=ee;break}me=ce}}}var ge=g.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var It=ye.sibling;ye.sibling=null,ye=It}while(ye!==null)}}me=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,me=E;else e:for(;me!==null;){if(g=me,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Tl(9,g,g.return)}var $=g.sibling;if($!==null){$.return=g.return,me=$;break e}me=g.return}}var D=r.current;for(me=D;me!==null;){E=me;var W=E.child;if((E.subtreeFlags&2064)!==0&&W!==null)W.return=E,me=W;else e:for(E=D;me!==null;){if(C=me,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:tc(9,C)}}catch(_e){Et(C,C.return,_e)}if(C===E){me=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,me=se;break e}me=C.return}}if(He=f,ps(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(zr,r)}catch{}h=!0}return h}finally{Ve=a,fr.transition=s}}return!1}function wy(r,s,a){s=Ea(a,s),s=Ug(r,s,1),r=gs(r,s,1),s=Rn(),r!==null&&(Wr(r,1,s),Mn(r,s))}function Et(r,s,a){if(r.tag===3)wy(r,r,a);else for(;s!==null;){if(s.tag===3){wy(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vs===null||!vs.has(h))){r=Ea(a,r),r=Bg(s,r,1),s=gs(s,r,1),r=Rn(),s!==null&&(Wr(s,1,r),Mn(s,r));break}}s=s.return}}function FT(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Rn(),r.pingedLanes|=r.suspendedLanes&a,Kt===r&&(Zt&a)===a&&(Ft===4||Ft===3&&(Zt&130023424)===Zt&&500>Je()-$d?To(r,0):zd|=a),Mn(r,s)}function Ty(r,s){s===0&&((r.mode&1)===0?s=1:(s=ss,ss<<=1,(ss&130023424)===0&&(ss=4194304)));var a=Rn();r=Oi(r,s),r!==null&&(Wr(r,s,a),Mn(r,a))}function UT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Ty(r,a)}function BT(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Ty(r,a)}var Sy;Sy=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||On.current)Vn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Vn=!1,AT(r,s,a);Vn=(r.flags&131072)!==0}else Vn=!1,ft&&(s.flags&1048576)!==0&&ng(s,Fu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Zu(r,s),r=s.pendingProps;var f=da(s,sn.current);va(s,a),f=Ed(null,s,h,r,f,a);var g=wd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Dn(h)?(g=!0,Vu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,fd(s),f.updater=Yu,s.stateNode=f,f._reactInternals=s,Ad(s,h,r,a),s=xd(null,s,h,!0,g,a)):(s.tag=0,ft&&g&&rd(s),In(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Zu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=zT(h),r=Pr(h,r),f){case 0:s=bd(null,s,h,r,a);break e;case 1:s=Qg(null,s,h,r,a);break e;case 11:s=Wg(null,s,h,r,a);break e;case 14:s=Hg(null,s,h,Pr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Pr(h,f),bd(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Pr(h,f),Qg(r,s,h,f,a);case 3:e:{if(Xg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,hg(r,s),Wu(s,h,null,a);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Ea(Error(t(423)),s),s=Yg(r,s,h,a,f);break e}else if(h!==f){f=Ea(Error(t(424)),s),s=Yg(r,s,h,a,f);break e}else for(Jn=hs(s.stateNode.containerInfo.firstChild),Yn=s,ft=!0,kr=null,a=ug(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ma(),h===f){s=Vi(r,s,a);break e}In(r,s,h,a)}s=s.child}return s;case 5:return pg(s),r===null&&od(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,Yh(h,f)?E=null:g!==null&&Yh(h,g)&&(s.flags|=32),Kg(r,s),In(r,s,E,a),s.child;case 6:return r===null&&od(s),null;case 13:return Jg(r,s,a);case 4:return pd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ga(s,null,h,a):In(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Pr(h,f),Wg(r,s,h,f,a);case 7:return In(r,s,s.pendingProps,a),s.child;case 8:return In(r,s,s.pendingProps.children,a),s.child;case 12:return In(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,at(ju,h._currentValue),h._currentValue=E,g!==null)if(Ar(g.value,E)){if(g.children===f.children&&!On.current){s=Vi(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){E=g.child;for(var x=C.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=Di(-1,a&-a),x.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var re=H.pending;re===null?x.next=x:(x.next=re.next,re.next=x),H.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),hd(g.return,a,s),C.lanes|=a;break}x=x.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,C=E.alternate,C!==null&&(C.lanes|=a),hd(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}In(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,va(s,a),f=hr(f),h=h(f),s.flags|=1,In(r,s,h,a),s.child;case 14:return h=s.type,f=Pr(h,s.pendingProps),f=Pr(h.type,f),Hg(r,s,h,f,a);case 15:return qg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Pr(h,f),Zu(r,s),s.tag=1,Dn(h)?(r=!0,Vu(s)):r=!1,va(s,a),Mg(s,h,f),Ad(s,h,f,a),xd(null,s,h,!0,r,a);case 19:return ey(r,s,a);case 22:return Gg(r,s,a)}throw Error(t(156,s.tag))};function Iy(r,s){return ns(r,s)}function jT(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,a,h){return new jT(r,s,a,h)}function Yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zT(r){if(typeof r=="function")return Yd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===zt)return 14}return 2}function Ts(r,s){var a=r.alternate;return a===null?(a=pr(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function cc(r,s,a,h,f,g){var E=2;if(h=r,typeof r=="function")Yd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return Io(a.children,f,g,s);case R:E=8,f|=8;break;case k:return r=pr(12,a,s,f|2),r.elementType=k,r.lanes=g,r;case A:return r=pr(13,a,s,f),r.elementType=A,r.lanes=g,r;case pt:return r=pr(19,a,s,f),r.elementType=pt,r.lanes=g,r;case Ye:return hc(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:E=10;break e;case L:E=9;break e;case j:E=11;break e;case zt:E=14;break e;case $t:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=pr(E,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Io(r,s,a,h){return r=pr(7,r,h,s),r.lanes=a,r}function hc(r,s,a,h){return r=pr(22,r,h,s),r.elementType=Ye,r.lanes=a,r.stateNode={isHidden:!1},r}function Jd(r,s,a){return r=pr(6,r,null,s),r.lanes=a,r}function Zd(r,s,a){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function $T(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sr(0),this.expirationTimes=Sr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ef(r,s,a,h,f,g,E,C,x){return r=new $T(r,s,a,C,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=pr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},fd(g),r}function WT(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Ry(r){if(!r)return fs;r=r._reactInternals;e:{if(Ht(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Dn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Dn(a))return Zm(r,a,s)}return s}function Cy(r,s,a,h,f,g,E,C,x){return r=ef(a,h,!0,r,f,g,E,C,x),r.context=Ry(null),a=r.current,h=Rn(),f=Es(a),g=Di(h,f),g.callback=s??null,gs(a,g,f),r.current.lanes=f,Wr(r,f,h),Mn(r,h),r}function dc(r,s,a,h){var f=s.current,g=Rn(),E=Es(f);return a=Ry(a),s.context===null?s.context=a:s.pendingContext=a,s=Di(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=gs(f,s,E),r!==null&&(Nr(r,f,E,g),$u(r,f,E)),E}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ay(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function tf(r,s){Ay(r,s),(r=r.alternate)&&Ay(r,s)}function HT(){return null}var ky=typeof reportError=="function"?reportError:function(r){console.error(r)};function nf(r){this._internalRoot=r}pc.prototype.render=nf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));dc(r,s,null,null)},pc.prototype.unmount=nf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;wo(function(){dc(null,r,null,null)}),s[Pi]=null}};function pc(r){this._internalRoot=r}pc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ko();r={blockedOn:null,target:r,priority:s};for(var a=0;a<bn.length&&s!==0&&s<bn[a].priority;a++);bn.splice(a,0,r),a===0&&uo(r)}};function rf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function mc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Py(){}function qT(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var H=fc(E);g.call(H)}}var E=Cy(s,h,r,0,null,!1,!1,"",Py);return r._reactRootContainer=E,r[Pi]=E.current,ul(r.nodeType===8?r.parentNode:r),wo(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var H=fc(x);C.call(H)}}var x=ef(r,0,!1,null,null,!1,!1,"",Py);return r._reactRootContainer=x,r[Pi]=x.current,ul(r.nodeType===8?r.parentNode:r),wo(function(){dc(s,x,a,h)}),x}function gc(r,s,a,h,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var C=f;f=function(){var x=fc(E);C.call(x)}}dc(s,E,r,f)}else E=qT(a,s,r,f,h);return fc(E)}Go=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=$r(s.pendingLanes);a!==0&&(Hr(s,a|1),Mn(s,Je()),(He&6)===0&&(Sa=Je()+500,ps()))}break;case 13:wo(function(){var h=Oi(r,1);if(h!==null){var f=Rn();Nr(h,r,1,f)}}),tf(r,1)}},as=function(r){if(r.tag===13){var s=Oi(r,134217728);if(s!==null){var a=Rn();Nr(s,r,134217728,a)}tf(r,134217728)}},ls=function(r){if(r.tag===13){var s=Es(r),a=Oi(r,s);if(a!==null){var h=Rn();Nr(a,r,s,h)}tf(r,s)}},Ko=function(){return Ve},Qo=function(r,s){var a=Ve;try{return Ve=r,s()}finally{Ve=a}},vi=function(r,s,a){switch(s){case"input":if(Js(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=Ou(h);if(!f)throw Error(t(90));mi(h),Js(h,f)}}}break;case"textarea":yi(r,a);break;case"select":s=a.value,s!=null&&zn(r,!!a.multiple,s,!1)}},_i=Kd,ro=wo;var GT={usingClientEntryPoint:!1,Events:[dl,ca,Ou,ir,no,Kd]},Cl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=so(r),r===null?null:r.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||HT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{zr=yc.inject(KT),yn=yc}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT,Fn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rf(s))throw Error(t(200));return WT(r,s,null,a)},Fn.createRoot=function(r,s){if(!rf(r))throw Error(t(299));var a=!1,h="",f=ky;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=ef(r,1,!1,null,null,a,!1,h,f),r[Pi]=s.current,ul(r.nodeType===8?r.parentNode:r),new nf(s)},Fn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=so(s),r=r===null?null:r.stateNode,r},Fn.flushSync=function(r){return wo(r)},Fn.hydrate=function(r,s,a){if(!mc(s))throw Error(t(200));return gc(null,r,s,!0,a)},Fn.hydrateRoot=function(r,s,a){if(!rf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",E=ky;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Cy(s,null,r,1,a??null,f,!1,g,E),r[Pi]=s.current,ul(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new pc(s)},Fn.render=function(r,s,a){if(!mc(s))throw Error(t(200));return gc(null,r,s,!1,a)},Fn.unmountComponentAtNode=function(r){if(!mc(r))throw Error(t(40));return r._reactRootContainer?(wo(function(){gc(null,null,r,!1,function(){r._reactRootContainer=null,r[Pi]=null})}),!0):!1},Fn.unstable_batchedUpdates=Kd,Fn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!mc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return gc(r,s,a,!1,h)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var My;function F_(){if(My)return af.exports;My=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),af.exports=nS(),af.exports}var Fy;function rS(){if(Fy)return _c;Fy=1;var n=F_();return _c.createRoot=n.createRoot,_c.hydrateRoot=n.hydrateRoot,_c}var iS=rS();const sS=ch(iS);F_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wl.apply(this,arguments)}var Ps;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ps||(Ps={}));const Uy="popstate";function oS(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:c,hash:d}=i.location;return bf("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:zc(o)}return lS(e,t,null,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function U_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aS(){return Math.random().toString(36).substr(2,8)}function By(n,e){return{usr:n.state,key:n.key,idx:e}}function bf(n,e,t,i){return t===void 0&&(t=null),Wl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wa(e):e,{state:t,key:e&&e.key||i||aS()})}function zc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function lS(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d=Ps.Pop,p=null,y=_();y==null&&(y=0,c.replaceState(Wl({},c.state,{idx:y}),""));function _(){return(c.state||{idx:null}).idx}function w(){d=Ps.Pop;let N=_(),Y=N==null?null:N-y;y=N,p&&p({action:d,location:F.location,delta:Y})}function S(N,Y){d=Ps.Push;let te=bf(F.location,N,Y);y=_()+1;let ne=By(te,y),he=F.createHref(te);try{c.pushState(ne,"",he)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(he)}l&&p&&p({action:d,location:F.location,delta:1})}function M(N,Y){d=Ps.Replace;let te=bf(F.location,N,Y);y=_();let ne=By(te,y),he=F.createHref(te);c.replaceState(ne,"",he),l&&p&&p({action:d,location:F.location,delta:0})}function U(N){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof N=="string"?N:zc(N);return te=te.replace(/ $/,"%20"),Ct(Y,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,Y)}let F={get action(){return d},get location(){return n(o,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Uy,w),p=N,()=>{o.removeEventListener(Uy,w),p=null}},createHref(N){return e(o,N)},createURL:U,encodeLocation(N){let Y=U(N);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:M,go(N){return c.go(N)}};return F}var jy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(jy||(jy={}));function uS(n,e,t){return t===void 0&&(t="/"),cS(n,e,t)}function cS(n,e,t,i){let o=typeof e=="string"?Wa(e):e,l=vp(o.pathname||"/",t);if(l==null)return null;let c=B_(n);hS(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=SS(l);d=ES(c[p],y)}return d}function B_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Ct(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=Ns([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Ct(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),B_(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:vS(y,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of j_(l.path))o(l,c,p)}),e}function j_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=j_(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function hS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_S(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const dS=/^:[\w-]+$/,fS=3,pS=2,mS=1,gS=10,yS=-2,zy=n=>n==="*";function vS(n,e){let t=n.split("/"),i=t.length;return t.some(zy)&&(i+=yS),e&&(i+=pS),t.filter(o=>!zy(o)).reduce((o,l)=>o+(dS.test(l)?fS:l===""?mS:gS),i)}function _S(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function ES(n,e,t){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=wS({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),S=p.route;if(!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Ns([l,w.pathname]),pathnameBase:AS(Ns([l,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(l=Ns([l,w.pathnameBase]))}return c}function wS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=TS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,_,w)=>{let{paramName:S,isOptional:M}=_;if(S==="*"){let F=d[w]||"";c=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const U=d[w];return M&&!U?y[S]=void 0:y[S]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function TS(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),U_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function SS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return U_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function vp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function IS(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Wa(n):n;return{pathname:t?t.startsWith("/")?t:RS(t,e):e,search:kS(i),hash:PS(o)}}function RS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function cf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _p(n,e){let t=CS(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Ep(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Wa(n):(o=Wl({},n),Ct(!o.pathname||!o.pathname.includes("?"),cf("?","pathname","search",o)),Ct(!o.pathname||!o.pathname.includes("#"),cf("#","pathname","hash",o)),Ct(!o.search||!o.search.includes("#"),cf("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}d=w>=0?e[w]:"/"}let p=IS(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}const Ns=n=>n.join("/").replace(/\/\/+/g,"/"),AS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const z_=["post","put","patch","delete"];new Set(z_);const xS=["get",...z_];new Set(xS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hl.apply(this,arguments)}const wp=Z.createContext(null),NS=Z.createContext(null),Hs=Z.createContext(null),hh=Z.createContext(null),qs=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),$_=Z.createContext(null);function OS(n,e){let{relative:t}=e===void 0?{}:e;Ha()||Ct(!1);let{basename:i,navigator:o}=Z.useContext(Hs),{hash:l,pathname:c,search:d}=q_(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Ns([i,c])),o.createHref({pathname:p,search:d,hash:l})}function Ha(){return Z.useContext(hh)!=null}function su(){return Ha()||Ct(!1),Z.useContext(hh).location}function W_(n){Z.useContext(Hs).static||Z.useLayoutEffect(n)}function H_(){let{isDataRoute:n}=Z.useContext(qs);return n?qS():DS()}function DS(){Ha()||Ct(!1);let n=Z.useContext(wp),{basename:e,future:t,navigator:i}=Z.useContext(Hs),{matches:o}=Z.useContext(qs),{pathname:l}=su(),c=JSON.stringify(_p(o,t.v7_relativeSplatPath)),d=Z.useRef(!1);return W_(()=>{d.current=!0}),Z.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){i.go(y);return}let w=Ep(y,JSON.parse(c),l,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ns([e,w.pathname])),(_.replace?i.replace:i.push)(w,_.state,_)},[e,i,c,l,n])}function q_(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=Z.useContext(Hs),{matches:o}=Z.useContext(qs),{pathname:l}=su(),c=JSON.stringify(_p(o,i.v7_relativeSplatPath));return Z.useMemo(()=>Ep(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function VS(n,e){return LS(n,e)}function LS(n,e,t,i){Ha()||Ct(!1);let{navigator:o}=Z.useContext(Hs),{matches:l}=Z.useContext(qs),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let y=su(),_;if(e){var w;let N=typeof e=="string"?Wa(e):e;p==="/"||(w=N.pathname)!=null&&w.startsWith(p)||Ct(!1),_=N}else _=y;let S=_.pathname||"/",M=S;if(p!=="/"){let N=p.replace(/^\//,"").split("/");M="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let U=uS(n,{pathname:M}),F=jS(U&&U.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Ns([p,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Ns([p,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,i);return e&&F?Z.createElement(hh.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Ps.Pop}},F):F}function MS(){let n=HS(),e=bS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,null)}const FS=Z.createElement(MS,null);class US extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Z.createElement(qs.Provider,{value:this.props.routeContext},Z.createElement($_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BS(n){let{routeContext:e,match:t,children:i}=n,o=Z.useContext(wp);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(qs.Provider,{value:e},i)}function jS(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=c.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);_>=0||Ct(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<c.length;_++){let w=c[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=_),w.route.id){let{loaderData:S,errors:M}=t,U=w.route.loader&&S[w.route.id]===void 0&&(!M||M[w.route.id]===void 0);if(w.route.lazy||U){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((_,w,S)=>{let M,U=!1,F=null,N=null;t&&(M=d&&w.route.id?d[w.route.id]:void 0,F=w.route.errorElement||FS,p&&(y<0&&S===0?(GS("route-fallback"),U=!0,N=null):y===S&&(U=!0,N=w.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,S+1)),te=()=>{let ne;return M?ne=F:U?ne=N:w.route.Component?ne=Z.createElement(w.route.Component,null):w.route.element?ne=w.route.element:ne=_,Z.createElement(BS,{match:w,routeContext:{outlet:_,matches:Y,isDataRoute:t!=null},children:ne})};return t&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?Z.createElement(US,{location:t.location,revalidation:t.revalidation,component:F,error:M,children:te(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):te()},null)}var G_=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(G_||{}),K_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(K_||{});function zS(n){let e=Z.useContext(wp);return e||Ct(!1),e}function $S(n){let e=Z.useContext(NS);return e||Ct(!1),e}function WS(n){let e=Z.useContext(qs);return e||Ct(!1),e}function Q_(n){let e=WS(),t=e.matches[e.matches.length-1];return t.route.id||Ct(!1),t.route.id}function HS(){var n;let e=Z.useContext($_),t=$S(),i=Q_();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function qS(){let{router:n}=zS(G_.UseNavigateStable),e=Q_(K_.UseNavigateStable),t=Z.useRef(!1);return W_(()=>{t.current=!0}),Z.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Hl({fromRouteId:e},l)))},[n,e])}const $y={};function GS(n,e,t){$y[n]||($y[n]=!0)}function KS(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function hf(n){let{to:e,replace:t,state:i,relative:o}=n;Ha()||Ct(!1);let{future:l,static:c}=Z.useContext(Hs),{matches:d}=Z.useContext(qs),{pathname:p}=su(),y=H_(),_=Ep(e,_p(d,l.v7_relativeSplatPath),p,o==="path"),w=JSON.stringify(_);return Z.useEffect(()=>y(JSON.parse(w),{replace:t,state:i,relative:o}),[y,w,o,t,i]),null}function Pl(n){Ct(!1)}function QS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Ps.Pop,navigator:l,static:c=!1,future:d}=n;Ha()&&Ct(!1);let p=e.replace(/^\/*/,"/"),y=Z.useMemo(()=>({basename:p,navigator:l,static:c,future:Hl({v7_relativeSplatPath:!1},d)}),[p,d,l,c]);typeof i=="string"&&(i=Wa(i));let{pathname:_="/",search:w="",hash:S="",state:M=null,key:U="default"}=i,F=Z.useMemo(()=>{let N=vp(_,p);return N==null?null:{location:{pathname:N,search:w,hash:S,state:M,key:U},navigationType:o}},[p,_,w,S,M,U,o]);return F==null?null:Z.createElement(Hs.Provider,{value:y},Z.createElement(hh.Provider,{children:t,value:F}))}function XS(n){let{children:e,location:t}=n;return VS(xf(e),t)}new Promise(()=>{});function xf(n,e){e===void 0&&(e=[]);let t=[];return Z.Children.forEach(n,(i,o)=>{if(!Z.isValidElement(i))return;let l=[...e,o];if(i.type===Z.Fragment){t.push.apply(t,xf(i.props.children,l));return}i.type!==Pl&&Ct(!1),!i.props.index||!i.props.children||Ct(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=xf(i.props.children,l)),t.push(c)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nf(){return Nf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nf.apply(this,arguments)}function YS(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function JS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZS(n,e){return n.button===0&&(!e||e==="_self")&&!JS(n)}const eI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tI="6";try{window.__reactRouterVersion=tI}catch{}const nI="startTransition",Wy=Pf[nI];function rI(n){let{basename:e,children:t,future:i,window:o}=n,l=Z.useRef();l.current==null&&(l.current=oS({window:o,v5Compat:!0}));let c=l.current,[d,p]=Z.useState({action:c.action,location:c.location}),{v7_startTransition:y}=i||{},_=Z.useCallback(w=>{y&&Wy?Wy(()=>p(w)):p(w)},[p,y]);return Z.useLayoutEffect(()=>c.listen(_),[c,_]),Z.useEffect(()=>KS(i),[i]),Z.createElement(QS,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:i})}const iI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QN=Z.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:w}=e,S=YS(e,eI),{basename:M}=Z.useContext(Hs),U,F=!1;if(typeof y=="string"&&sI.test(y)&&(U=y,iI))try{let ne=new URL(window.location.href),he=y.startsWith("//")?new URL(ne.protocol+y):new URL(y),X=vp(he.pathname,M);he.origin===ne.origin&&X!=null?y=X+he.search+he.hash:F=!0}catch{}let N=OS(y,{relative:o}),Y=oI(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:w});function te(ne){i&&i(ne),ne.defaultPrevented||Y(ne)}return Z.createElement("a",Nf({},S,{href:U||N,onClick:F||l?i:te,ref:t,target:p}))});var Hy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var qy;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(qy||(qy={}));function oI(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,p=H_(),y=su(),_=q_(n,{relative:c});return Z.useCallback(w=>{if(ZS(w,t)){w.preventDefault();let S=i!==void 0?i:zc(y)===zc(_);p(n,{replace:S,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[y,p,_,i,o,t,n,l,c,d])}const aI="modulepreload",lI=function(n,e){return new URL(n,e).href},Gy={},ou=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let y=function(_){return Promise.all(_.map(w=>Promise.resolve(w).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=y(t.map(_=>{if(_=lI(_,i),_ in Gy)return;Gy[_]=!0;const w=_.endsWith(".css"),S=w?'[rel="stylesheet"]':"";if(!!i)for(let F=c.length-1;F>=0;F--){const N=c[F];if(N.href===_&&(!w||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${S}`))return;const U=document.createElement("link");if(U.rel=w?"stylesheet":aI,w||(U.as="script"),U.crossOrigin="",U.href=_,p&&U.setAttribute("nonce",p),document.head.appendChild(U),w)return new Promise((F,N)=>{U.addEventListener("load",F),U.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var bl={exports:{}};bl.exports;var Ky;function uI(){return Ky||(Ky=1,function(n,e){var t=200,i="__lodash_hash_undefined__",o=800,l=16,c=9007199254740991,d="[object Arguments]",p="[object Array]",y="[object AsyncFunction]",_="[object Boolean]",w="[object Date]",S="[object Error]",M="[object Function]",U="[object GeneratorFunction]",F="[object Map]",N="[object Number]",Y="[object Null]",te="[object Object]",ne="[object Proxy]",he="[object RegExp]",X="[object Set]",pe="[object String]",P="[object Undefined]",R="[object WeakMap]",k="[object ArrayBuffer]",O="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",A="[object Int8Array]",pt="[object Int16Array]",zt="[object Int32Array]",$t="[object Uint8Array]",Ye="[object Uint8ClampedArray]",le="[object Uint16Array]",Ee="[object Uint32Array]",ue=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,ae={};ae[L]=ae[j]=ae[A]=ae[pt]=ae[zt]=ae[$t]=ae[Ye]=ae[le]=ae[Ee]=!0,ae[d]=ae[p]=ae[k]=ae[_]=ae[O]=ae[w]=ae[S]=ae[M]=ae[F]=ae[N]=ae[te]=ae[he]=ae[X]=ae[pe]=ae[R]=!1;var be=typeof vc=="object"&&vc&&vc.Object===Object&&vc,Ne=typeof self=="object"&&self&&self.Object===Object&&self,Oe=be||Ne||Function("return this")(),je=e&&!e.nodeType&&e,Me=je&&!0&&n&&!n.nodeType&&n,nt=Me&&Me.exports===je,_t=nt&&be.process,nr=function(){try{var I=Me&&Me.require&&Me.require("util").types;return I||_t&&_t.binding&&_t.binding("util")}catch{}}(),mi=nr&&nr.isTypedArray;function Lr(I,b,q){switch(q.length){case 0:return I.call(b);case 1:return I.call(b,q[0]);case 2:return I.call(b,q[0],q[1]);case 3:return I.call(b,q[0],q[1],q[2])}return I.apply(b,q)}function gi(I,b){for(var q=-1,fe=Array(I);++q<I;)fe[q]=b(q);return fe}function Ki(I){return function(b){return I(b)}}function Ys(I,b){return I?.[b]}function Js(I,b){return function(q){return I(b(q))}}var Fo=Array.prototype,Qi=Function.prototype,Cn=Object.prototype,zn=Oe["__core-js_shared__"],Mr=Qi.toString,mn=Cn.hasOwnProperty,yi=function(){var I=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),Xi=Cn.toString,wt=Mr.call(Object),Tt=RegExp("^"+Mr.call(mn).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),An=nt?Oe.Buffer:void 0,Yi=Oe.Symbol,Er=Oe.Uint8Array;An&&An.allocUnsafe;var Fr=Js(Object.getPrototypeOf,Object),Ur=Object.create,Zs=Cn.propertyIsEnumerable,eo=Fo.splice,$n=Yi?Yi.toStringTag:void 0,Br=function(){try{var I=Kn(Object,"defineProperty");return I({},"",{}),I}catch{}}(),to=An?An.isBuffer:void 0,jr=Math.max,Ji=Date.now,vi=Kn(Oe,"Map"),Wt=Kn(Object,"create"),rr=function(){function I(){}return function(b){if(!or(b))return{};if(Ur)return Ur(b);I.prototype=b;var q=new I;return I.prototype=void 0,q}}();function kn(I){var b=-1,q=I==null?0:I.length;for(this.clear();++b<q;){var fe=I[b];this.set(fe[0],fe[1])}}function ir(){this.__data__=Wt?Wt(null):{},this.size=0}function no(I){var b=this.has(I)&&delete this.__data__[I];return this.size-=b?1:0,b}function _i(I){var b=this.__data__;if(Wt){var q=b[I];return q===i?void 0:q}return mn.call(b,I)?b[I]:void 0}function ro(I){var b=this.__data__;return Wt?b[I]!==void 0:mn.call(b,I)}function wr(I,b){var q=this.__data__;return this.size+=this.has(I)?0:1,q[I]=Wt&&b===void 0?i:b,this}kn.prototype.clear=ir,kn.prototype.delete=no,kn.prototype.get=_i,kn.prototype.has=ro,kn.prototype.set=wr;function gn(I){var b=-1,q=I==null?0:I.length;for(this.clear();++b<q;){var fe=I[b];this.set(fe[0],fe[1])}}function mt(){this.__data__=[],this.size=0}function Zi(I){var b=this.__data__,q=rs(b,I);if(q<0)return!1;var fe=b.length-1;return q==fe?b.pop():eo.call(b,q,1),--this.size,!0}function Wn(I){var b=this.__data__,q=rs(b,I);return q<0?void 0:b[q][1]}function Ei(I){return rs(this.__data__,I)>-1}function wi(I,b){var q=this.__data__,fe=rs(q,I);return fe<0?(++this.size,q.push([I,b])):q[fe][1]=b,this}gn.prototype.clear=mt,gn.prototype.delete=Zi,gn.prototype.get=Wn,gn.prototype.has=Ei,gn.prototype.set=wi;function Hn(I){var b=-1,q=I==null?0:I.length;for(this.clear();++b<q;){var fe=I[b];this.set(fe[0],fe[1])}}function qn(){this.size=0,this.__data__={hash:new kn,map:new(vi||gn),string:new kn}}function io(I){var b=os(this,I).delete(I);return this.size-=b?1:0,b}function el(I){return os(this,I).get(I)}function es(I){return os(this,I).has(I)}function Uo(I,b){var q=os(this,I),fe=q.size;return q.set(I,b),this.size+=q.size==fe?0:1,this}Hn.prototype.clear=qn,Hn.prototype.delete=io,Hn.prototype.get=el,Hn.prototype.has=es,Hn.prototype.set=Uo;function Ht(I){var b=this.__data__=new gn(I);this.size=b.size}function Ti(){this.__data__=new gn,this.size=0}function Gn(I){var b=this.__data__,q=b.delete(I);return this.size=b.size,q}function Bo(I){return this.__data__.get(I)}function so(I){return this.__data__.has(I)}function ts(I,b){var q=this.__data__;if(q instanceof gn){var fe=q.__data__;if(!vi||fe.length<t-1)return fe.push([I,b]),this.size=++q.size,this;q=this.__data__=new Hn(fe)}return q.set(I,b),this.size=q.size,this}Ht.prototype.clear=Ti,Ht.prototype.delete=Gn,Ht.prototype.get=Bo,Ht.prototype.has=so,Ht.prototype.set=ts;function ns(I,b){var q=En(I),fe=!q&&St(I),xe=!q&&!fe&&Tn(I),ze=!q&&!fe&&!xe&&uo(I),Ze=q||fe||xe||ze,Ae=Ze?gi(I.length,String):[],Ge=Ae.length;for(var ot in I)Ze&&(ot=="length"||xe&&(ot=="offset"||ot=="parent")||ze&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||Sr(ot,Ge))||Ae.push(ot);return Ae}function Si(I,b,q){(q!==void 0&&!_n(I[b],q)||q===void 0&&!(b in I))&&Je(I,b,q)}function jo(I,b,q){var fe=I[b];(!(mn.call(I,b)&&_n(fe,q))||q===void 0&&!(b in I))&&Je(I,b,q)}function rs(I,b){for(var q=I.length;q--;)if(_n(I[q][0],b))return q;return-1}function Je(I,b,q){b=="__proto__"&&Br?Br(I,b,{configurable:!0,enumerable:!0,value:q,writable:!0}):I[b]=q}var zo=Ii();function sr(I){return I==null?I===void 0?P:Y:$n&&$n in Object(I)?vn(I):Go(I)}function Tr(I){return At(I)&&sr(I)==d}function Pn(I){if(!or(I)||Hr(I))return!1;var b=bn(I)?Tt:B;return b.test(lo(I))}function oo(I){return At(I)&&Xo(I.length)&&!!ae[sr(I)]}function $o(I){if(!or(I))return qr(I);var b=Ve(I),q=[];for(var fe in I)fe=="constructor"&&(b||!mn.call(I,fe))||q.push(fe);return q}function zr(I,b,q,fe,xe){I!==b&&zo(b,function(ze,Ze){if(xe||(xe=new Ht),or(ze))yn(I,b,Ze,q,zr,fe,xe);else{var Ae=fe?fe(ls(I,Ze),ze,Ze+"",I,b,xe):void 0;Ae===void 0&&(Ae=ze),Si(I,Ze,Ae)}},Kr)}function yn(I,b,q,fe,xe,ze,Ze){var Ae=ls(I,q),Ge=ls(b,q),ot=Ze.get(Ge);if(ot){Si(I,q,ot);return}var Vt=ze?ze(Ae,Ge,q+"",I,b,Ze):void 0,ar=Vt===void 0;if(ar){var Nn=En(Ge),Ci=!Nn&&Tn(Ge),kt=!Nn&&!Ci&&uo(Ge);Vt=Ge,Nn||Ci||kt?En(Ae)?Vt=Ae:Gr(Ae)?Vt=is(Ae):Ci?(ar=!1,Vt=ao(Ge)):kt?(ar=!1,Vt=qo(Ge)):Vt=[]:tl(Ge)||St(Ge)?(Vt=Ae,St(Ae)?Vt=Ir(Ae):(!or(Ae)||bn(Ae))&&(Vt=Ri(Ge))):ar=!1}ar&&(Ze.set(Ge,Vt),xe(Vt,Ge,fe,ze,Ze),Ze.delete(Ge)),Si(I,q,Vt)}function Wo(I,b){return Ko(as(I,b,xn),I+"")}var Yt=Br?function(I,b){return Br(I,"toString",{configurable:!0,enumerable:!1,value:Qn(b),writable:!0})}:xn;function ao(I,b){return I.slice()}function Ho(I){var b=new I.constructor(I.byteLength);return new Er(b).set(new Er(I)),b}function qo(I,b){var q=Ho(I.buffer);return new I.constructor(q,I.byteOffset,I.length)}function is(I,b){var q=-1,fe=I.length;for(b||(b=Array(fe));++q<fe;)b[q]=I[q];return b}function ss(I,b,q,fe){var xe=!q;q||(q={});for(var ze=-1,Ze=b.length;++ze<Ze;){var Ae=b[ze],Ge=void 0;Ge===void 0&&(Ge=I[Ae]),xe?Je(q,Ae,Ge):jo(q,Ae,Ge)}return q}function $r(I){return Wo(function(b,q){var fe=-1,xe=q.length,ze=xe>1?q[xe-1]:void 0,Ze=xe>2?q[2]:void 0;for(ze=I.length>3&&typeof ze=="function"?(xe--,ze):void 0,Ze&&Wr(q[0],q[1],Ze)&&(ze=xe<3?void 0:ze,xe=1),b=Object(b);++fe<xe;){var Ae=q[fe];Ae&&I(b,Ae,fe,ze)}return b})}function Ii(I){return function(b,q,fe){for(var xe=-1,ze=Object(b),Ze=fe(b),Ae=Ze.length;Ae--;){var Ge=Ze[++xe];if(q(ze[Ge],Ge,ze)===!1)break}return b}}function os(I,b){var q=I.__data__;return rt(b)?q[typeof b=="string"?"string":"hash"]:q.map}function Kn(I,b){var q=Ys(I,b);return Pn(q)?q:void 0}function vn(I){var b=mn.call(I,$n),q=I[$n];try{I[$n]=void 0;var fe=!0}catch{}var xe=Xi.call(I);return fe&&(b?I[$n]=q:delete I[$n]),xe}function Ri(I){return typeof I.constructor=="function"&&!Ve(I)?rr(Fr(I)):{}}function Sr(I,b){var q=typeof I;return b=b??c,!!b&&(q=="number"||q!="symbol"&&K.test(I))&&I>-1&&I%1==0&&I<b}function Wr(I,b,q){if(!or(q))return!1;var fe=typeof b;return(fe=="number"?wn(q)&&Sr(b,q.length):fe=="string"&&b in q)?_n(q[b],I):!1}function rt(I){var b=typeof I;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?I!=="__proto__":I===null}function Hr(I){return!!yi&&yi in I}function Ve(I){var b=I&&I.constructor,q=typeof b=="function"&&b.prototype||Cn;return I===q}function qr(I){var b=[];if(I!=null)for(var q in Object(I))b.push(q);return b}function Go(I){return Xi.call(I)}function as(I,b,q){return b=jr(b===void 0?I.length-1:b,0),function(){for(var fe=arguments,xe=-1,ze=jr(fe.length-b,0),Ze=Array(ze);++xe<ze;)Ze[xe]=fe[b+xe];xe=-1;for(var Ae=Array(b+1);++xe<b;)Ae[xe]=fe[xe];return Ae[b]=q(Ze),Lr(I,this,Ae)}}function ls(I,b){if(!(b==="constructor"&&typeof I[b]=="function")&&b!="__proto__")return I[b]}var Ko=Qo(Yt);function Qo(I){var b=0,q=0;return function(){var fe=Ji(),xe=l-(fe-q);if(q=fe,xe>0){if(++b>=o)return arguments[0]}else b=0;return I.apply(void 0,arguments)}}function lo(I){if(I!=null){try{return Mr.call(I)}catch{}try{return I+""}catch{}}return""}function _n(I,b){return I===b||I!==I&&b!==b}var St=Tr(function(){return arguments}())?Tr:function(I){return At(I)&&mn.call(I,"callee")&&!Zs.call(I,"callee")},En=Array.isArray;function wn(I){return I!=null&&Xo(I.length)&&!bn(I)}function Gr(I){return At(I)&&wn(I)}var Tn=to||Rr;function bn(I){if(!or(I))return!1;var b=sr(I);return b==M||b==U||b==y||b==ne}function Xo(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=c}function or(I){var b=typeof I;return I!=null&&(b=="object"||b=="function")}function At(I){return I!=null&&typeof I=="object"}function tl(I){if(!At(I)||sr(I)!=te)return!1;var b=Fr(I);if(b===null)return!0;var q=mn.call(b,"constructor")&&b.constructor;return typeof q=="function"&&q instanceof q&&Mr.call(q)==wt}var uo=mi?Ki(mi):oo;function Ir(I){return ss(I,Kr(I))}function Kr(I){return wn(I)?ns(I):$o(I)}var Yo=$r(function(I,b,q,fe){zr(I,b,q,fe)});function Qn(I){return function(){return I}}function xn(I){return I}function Rr(){return!1}n.exports=Yo}(bl,bl.exports)),bl.exports}var cI=uI();const Fi=ch(cI);function hI(n,...e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");const t={...n};for(const i of e)if(i!=null)for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(o in t&&delete t[o],t[o]=i[o]);return t}function dI(n){return Array.isArray(n)}function ba(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!dI(n)}function fI(n){const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}}function Qy(n){if(n==null)return n;const{unitless:e}=fI(n);return e||typeof n=="number"?`${n}px`:n}function pI(n,e){const t=["@media screen"];return n&&t.push("and",`(min-width: ${Qy(n)})`),e&&t.push("and",`(max-width: ${Qy(e)})`),t.join(" ")}function mI(n){const e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}const gI=(...n)=>n.filter(Boolean).join(" ");function yI(n,e,t,i){const o=typeof e=="string"?e.split("."):[e];for(i=0;i<o.length&&n;i+=1)n=n[o[i]];return n===void 0?t:n}const vI=n=>{const e=new WeakMap;return(i,o,l,c)=>{if(typeof i>"u")return n(i,o,l);e.has(i)||e.set(i,new Map);const d=e.get(i);if(d.has(o))return d.get(o);const p=n(i,o,l,c);return d.set(o,p),p}},_I=vI(yI),EI=n=>n.default||n;function wI(n,e=[]){const t=Object.assign({},n);for(const i of e)i in t&&delete t[i];return t}const TI=n=>typeof n=="function";function bs(n,...e){return TI(n)?n(...e):n}function SI(n,...e){const t=Object.getOwnPropertyDescriptors(n),i=Object.keys(t),o=c=>{const d={};for(let p=0;p<c.length;p++){const y=c[p];t[y]&&(Object.defineProperty(d,y,t[y]),delete t[y])}return d},l=c=>o(Array.isArray(c)?c:i.filter(c));return e.map(l).concat(o(i))}const Ut={open:(n,e)=>`${n}[data-open], ${n}[open], ${n}[data-state=open] ${e}`,closed:(n,e)=>`${n}[data-closed], ${n}[data-state=closed] ${e}`,hover:(n,e)=>`${n}:hover ${e}, ${n}[data-hover] ${e}`,focus:(n,e)=>`${n}:focus ${e}, ${n}[data-focus] ${e}`,focusVisible:(n,e)=>`${n}:focus-visible ${e}`,focusWithin:(n,e)=>`${n}:focus-within ${e}`,active:(n,e)=>`${n}:active ${e}, ${n}[data-active] ${e}`,disabled:(n,e)=>`${n}:disabled ${e}, ${n}[data-disabled] ${e}`,invalid:(n,e)=>`${n}:invalid ${e}, ${n}[data-invalid] ${e}`,checked:(n,e)=>`${n}:checked ${e}, ${n}[data-checked] ${e}`,placeholderShown:(n,e)=>`${n}:placeholder-shown ${e}`},ti=n=>X_(e=>n(e,"&"),"[role=group]","[data-group]",".group"),Mi=n=>X_(e=>n(e,"~ &"),"[data-peer]",".peer"),X_=(n,...e)=>e.map(n).join(", "),Tp={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:ti(Ut.open),_groupClosed:ti(Ut.closed),_groupHover:ti(Ut.hover),_peerHover:Mi(Ut.hover),_groupFocus:ti(Ut.focus),_peerFocus:Mi(Ut.focus),_groupFocusVisible:ti(Ut.focusVisible),_peerFocusVisible:Mi(Ut.focusVisible),_groupActive:ti(Ut.active),_peerActive:Mi(Ut.active),_groupDisabled:ti(Ut.disabled),_peerDisabled:Mi(Ut.disabled),_groupInvalid:ti(Ut.invalid),_peerInvalid:Mi(Ut.invalid),_groupChecked:ti(Ut.checked),_peerChecked:Mi(Ut.checked),_groupFocusWithin:ti(Ut.focusWithin),_peerFocusWithin:Mi(Ut.focusWithin),_peerPlaceholderShown:Mi(Ut.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},II=Object.keys(Tp),RI=n=>/!(important)?$/.test(n),Xy=n=>typeof n=="string"?n.replace(/!(important)?$/,"").trim():n,CI=(n,e)=>t=>{const i=String(e),o=RI(i),l=Xy(i),c=n?`${n}.${l}`:l;let d=ba(t.__cssMap)&&c in t.__cssMap?t.__cssMap[c].varRef:e;return d=Xy(d),o?`${d} !important`:d};function Sp(n){const{scale:e,transform:t,compose:i}=n;return(l,c)=>{const d=CI(e,l)(c);let p=t?.(d,c)??d;return i&&(p=i(p,c)),p}}const Ec=(...n)=>e=>n.reduce((t,i)=>i(t),e);function mr(n,e){return t=>{const i={property:t,scale:n};return i.transform=Sp({scale:n,transform:e}),i}}const AI=({rtl:n,ltr:e})=>t=>t.direction==="rtl"?n:e;function kI(n){const{property:e,scale:t,transform:i}=n;return{scale:t,property:AI(e),transform:t?Sp({scale:t,compose:i}):i}}const Y_=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function PI(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...Y_].join(" ")}function bI(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...Y_].join(" ")}const xI={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},NI={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function OI(n){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":n,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const DI={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Of={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},VI=new Set(Object.values(Of)),Df=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),LI=n=>n.trim();function MI(n,e){if(n==null||Df.has(n))return n;if(!(Vf(n)||Df.has(n)))return`url('${n}')`;const o=/(^[a-z-A-Z]+)\((.*)\)/g.exec(n),l=o?.[1],c=o?.[2];if(!l||!c)return n;const d=l.includes("-gradient")?l:`${l}-gradient`,[p,...y]=c.split(",").map(LI).filter(Boolean);if(y?.length===0)return n;const _=p in Of?Of[p]:p;y.unshift(_);const w=y.map(S=>{if(VI.has(S))return S;const M=S.indexOf(" "),[U,F]=M!==-1?[S.substr(0,M),S.substr(M+1)]:[S],N=Vf(F)?F:F&&F.split(" "),Y=`colors.${U}`,te=Y in e.__cssMap?e.__cssMap[Y].varRef:U;return N?[te,...Array.isArray(N)?N:[N]].join(" "):te});return`${d}(${w.join(", ")})`}const Vf=n=>typeof n=="string"&&n.includes("(")&&n.includes(")"),FI=(n,e)=>MI(n,e??{});function UI(n){return/^var\(--.+\)$/.test(n)}const BI=n=>{const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}},ni=n=>e=>`${n}(${e})`,Be={filter(n){return n!=="auto"?n:xI},backdropFilter(n){return n!=="auto"?n:NI},ring(n){return OI(Be.px(n))},bgClip(n){return n==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:n}},transform(n){return n==="auto"?PI():n==="auto-gpu"?bI():n},vh(n){return n==="$100vh"?"var(--chakra-vh)":n},px(n){if(n==null)return n;const{unitless:e}=BI(n);return e||typeof n=="number"?`${n}px`:n},fraction(n){return typeof n!="number"||n>1?n:`${n*100}%`},float(n,e){const t={left:"right",right:"left"};return e.direction==="rtl"?t[n]:n},degree(n){if(UI(n)||n==null)return n;const e=typeof n=="string"&&!n.endsWith("deg");return typeof n=="number"||e?`${n}deg`:n},gradient:FI,blur:ni("blur"),opacity:ni("opacity"),brightness:ni("brightness"),contrast:ni("contrast"),dropShadow:ni("drop-shadow"),grayscale:ni("grayscale"),hueRotate:n=>ni("hue-rotate")(Be.degree(n)),invert:ni("invert"),saturate:ni("saturate"),sepia:ni("sepia"),bgImage(n){return n==null||Vf(n)||Df.has(n)?n:`url(${n})`},outline(n){const e=String(n)==="0"||String(n)==="none";return n!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:n}},flexDirection(n){const{space:e,divide:t}=DI[n]??{},i={flexDirection:n};return e&&(i[e]=1),t&&(i[t]=1),i}},V={borderWidths:mr("borderWidths"),borderStyles:mr("borderStyles"),colors:mr("colors"),borders:mr("borders"),gradients:mr("gradients",Be.gradient),radii:mr("radii",Be.px),space:mr("space",Ec(Be.vh,Be.px)),spaceT:mr("space",Ec(Be.vh,Be.px)),degreeT(n){return{property:n,transform:Be.degree}},prop(n,e,t){return{property:n,scale:e,...e&&{transform:Sp({scale:e,transform:t})}}},propT(n,e){return{property:n,transform:e}},sizes:mr("sizes",Ec(Be.vh,Be.px)),sizesT:mr("sizes",Ec(Be.vh,Be.fraction)),shadows:mr("shadows"),logical:kI,blur:mr("blur",Be.blur)},kc={background:V.colors("background"),backgroundColor:V.colors("backgroundColor"),backgroundImage:V.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Be.bgClip},bgSize:V.prop("backgroundSize"),bgPosition:V.prop("backgroundPosition"),bg:V.colors("background"),bgColor:V.colors("backgroundColor"),bgPos:V.prop("backgroundPosition"),bgRepeat:V.prop("backgroundRepeat"),bgAttachment:V.prop("backgroundAttachment"),bgGradient:V.gradients("backgroundImage"),bgClip:{transform:Be.bgClip}};Object.assign(kc,{bgImage:kc.backgroundImage,bgImg:kc.backgroundImage});const Ke={border:V.borders("border"),borderWidth:V.borderWidths("borderWidth"),borderStyle:V.borderStyles("borderStyle"),borderColor:V.colors("borderColor"),borderRadius:V.radii("borderRadius"),borderTop:V.borders("borderTop"),borderBlockStart:V.borders("borderBlockStart"),borderTopLeftRadius:V.radii("borderTopLeftRadius"),borderStartStartRadius:V.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:V.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:V.radii("borderTopRightRadius"),borderStartEndRadius:V.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:V.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:V.borders("borderRight"),borderInlineEnd:V.borders("borderInlineEnd"),borderBottom:V.borders("borderBottom"),borderBlockEnd:V.borders("borderBlockEnd"),borderBottomLeftRadius:V.radii("borderBottomLeftRadius"),borderBottomRightRadius:V.radii("borderBottomRightRadius"),borderLeft:V.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:V.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:V.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:V.borders(["borderLeft","borderRight"]),borderInline:V.borders("borderInline"),borderY:V.borders(["borderTop","borderBottom"]),borderBlock:V.borders("borderBlock"),borderTopWidth:V.borderWidths("borderTopWidth"),borderBlockStartWidth:V.borderWidths("borderBlockStartWidth"),borderTopColor:V.colors("borderTopColor"),borderBlockStartColor:V.colors("borderBlockStartColor"),borderTopStyle:V.borderStyles("borderTopStyle"),borderBlockStartStyle:V.borderStyles("borderBlockStartStyle"),borderBottomWidth:V.borderWidths("borderBottomWidth"),borderBlockEndWidth:V.borderWidths("borderBlockEndWidth"),borderBottomColor:V.colors("borderBottomColor"),borderBlockEndColor:V.colors("borderBlockEndColor"),borderBottomStyle:V.borderStyles("borderBottomStyle"),borderBlockEndStyle:V.borderStyles("borderBlockEndStyle"),borderLeftWidth:V.borderWidths("borderLeftWidth"),borderInlineStartWidth:V.borderWidths("borderInlineStartWidth"),borderLeftColor:V.colors("borderLeftColor"),borderInlineStartColor:V.colors("borderInlineStartColor"),borderLeftStyle:V.borderStyles("borderLeftStyle"),borderInlineStartStyle:V.borderStyles("borderInlineStartStyle"),borderRightWidth:V.borderWidths("borderRightWidth"),borderInlineEndWidth:V.borderWidths("borderInlineEndWidth"),borderRightColor:V.colors("borderRightColor"),borderInlineEndColor:V.colors("borderInlineEndColor"),borderRightStyle:V.borderStyles("borderRightStyle"),borderInlineEndStyle:V.borderStyles("borderInlineEndStyle"),borderTopRadius:V.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:V.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:V.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:V.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Ke,{rounded:Ke.borderRadius,roundedTop:Ke.borderTopRadius,roundedTopLeft:Ke.borderTopLeftRadius,roundedTopRight:Ke.borderTopRightRadius,roundedTopStart:Ke.borderStartStartRadius,roundedTopEnd:Ke.borderStartEndRadius,roundedBottom:Ke.borderBottomRadius,roundedBottomLeft:Ke.borderBottomLeftRadius,roundedBottomRight:Ke.borderBottomRightRadius,roundedBottomStart:Ke.borderEndStartRadius,roundedBottomEnd:Ke.borderEndEndRadius,roundedLeft:Ke.borderLeftRadius,roundedRight:Ke.borderRightRadius,roundedStart:Ke.borderInlineStartRadius,roundedEnd:Ke.borderInlineEndRadius,borderStart:Ke.borderInlineStart,borderEnd:Ke.borderInlineEnd,borderTopStartRadius:Ke.borderStartStartRadius,borderTopEndRadius:Ke.borderStartEndRadius,borderBottomStartRadius:Ke.borderEndStartRadius,borderBottomEndRadius:Ke.borderEndEndRadius,borderStartRadius:Ke.borderInlineStartRadius,borderEndRadius:Ke.borderInlineEndRadius,borderStartWidth:Ke.borderInlineStartWidth,borderEndWidth:Ke.borderInlineEndWidth,borderStartColor:Ke.borderInlineStartColor,borderEndColor:Ke.borderInlineEndColor,borderStartStyle:Ke.borderInlineStartStyle,borderEndStyle:Ke.borderInlineEndStyle});const jI={color:V.colors("color"),textColor:V.colors("color"),fill:V.colors("fill"),stroke:V.colors("stroke"),accentColor:V.colors("accentColor"),textFillColor:V.colors("textFillColor")},$c={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Be.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:V.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:V.space("gap"),rowGap:V.space("rowGap"),columnGap:V.space("columnGap")};Object.assign($c,{flexDir:$c.flexDirection});const gr={width:V.sizesT("width"),inlineSize:V.sizesT("inlineSize"),height:V.sizes("height"),blockSize:V.sizes("blockSize"),boxSize:V.sizes(["width","height"]),minWidth:V.sizes("minWidth"),minInlineSize:V.sizes("minInlineSize"),minHeight:V.sizes("minHeight"),minBlockSize:V.sizes("minBlockSize"),maxWidth:V.sizes("maxWidth"),maxInlineSize:V.sizes("maxInlineSize"),maxHeight:V.sizes("maxHeight"),maxBlockSize:V.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(n,e)=>({[`@media screen and (min-width: ${e.__breakpoints?.get(n)?.minW??n})`]:{display:"none"}})},hideBelow:{scale:"breakpoints",transform:(n,e)=>({[`@media screen and (max-width: ${e.__breakpoints?.get(n)?._minW??n})`]:{display:"none"}})},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:V.propT("float",Be.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(gr,{w:gr.width,h:gr.height,minW:gr.minWidth,maxW:gr.maxWidth,minH:gr.minHeight,maxH:gr.maxHeight,overscroll:gr.overscrollBehavior,overscrollX:gr.overscrollBehaviorX,overscrollY:gr.overscrollBehaviorY});const zI={filter:{transform:Be.filter},blur:V.blur("--chakra-blur"),brightness:V.propT("--chakra-brightness",Be.brightness),contrast:V.propT("--chakra-contrast",Be.contrast),hueRotate:V.propT("--chakra-hue-rotate",Be.hueRotate),invert:V.propT("--chakra-invert",Be.invert),saturate:V.propT("--chakra-saturate",Be.saturate),dropShadow:V.propT("--chakra-drop-shadow",Be.dropShadow),backdropFilter:{transform:Be.backdropFilter},backdropBlur:V.blur("--chakra-backdrop-blur"),backdropBrightness:V.propT("--chakra-backdrop-brightness",Be.brightness),backdropContrast:V.propT("--chakra-backdrop-contrast",Be.contrast),backdropHueRotate:V.propT("--chakra-backdrop-hue-rotate",Be.hueRotate),backdropInvert:V.propT("--chakra-backdrop-invert",Be.invert),backdropSaturate:V.propT("--chakra-backdrop-saturate",Be.saturate)},$I={ring:{transform:Be.ring},ringColor:V.colors("--chakra-ring-color"),ringOffset:V.prop("--chakra-ring-offset-width"),ringOffsetColor:V.colors("--chakra-ring-offset-color"),ringInset:V.prop("--chakra-ring-inset")},WI={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Be.outline},outlineOffset:!0,outlineColor:V.colors("outlineColor")},J_={gridGap:V.space("gridGap"),gridColumnGap:V.space("gridColumnGap"),gridRowGap:V.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function HI(n,e,t,i){const o=typeof e=="string"?e.split("."):[e];for(i=0;i<o.length&&n;i+=1)n=n[o[i]];return n===void 0?t:n}const qI=n=>{const e=new WeakMap;return(i,o,l,c)=>{if(typeof i>"u")return n(i,o,l);e.has(i)||e.set(i,new Map);const d=e.get(i);if(d.has(o))return d.get(o);const p=n(i,o,l,c);return d.set(o,p),p}},GI=qI(HI),KI={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},QI={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},df=(n,e,t)=>{const i={},o=GI(n,e,{});for(const l in o)l in t&&t[l]!=null||(i[l]=o[l]);return i},XI={srOnly:{transform(n){return n===!0?KI:n==="focusable"?QI:{}}},layerStyle:{processResult:!0,transform:(n,e,t)=>df(e,`layerStyles.${n}`,t)},textStyle:{processResult:!0,transform:(n,e,t)=>df(e,`textStyles.${n}`,t)},apply:{processResult:!0,transform:(n,e,t)=>df(e,n,t)}},Ml={position:!0,pos:V.prop("position"),zIndex:V.prop("zIndex","zIndices"),inset:V.spaceT("inset"),insetX:V.spaceT(["left","right"]),insetInline:V.spaceT("insetInline"),insetY:V.spaceT(["top","bottom"]),insetBlock:V.spaceT("insetBlock"),top:V.spaceT("top"),insetBlockStart:V.spaceT("insetBlockStart"),bottom:V.spaceT("bottom"),insetBlockEnd:V.spaceT("insetBlockEnd"),left:V.spaceT("left"),insetInlineStart:V.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:V.spaceT("right"),insetInlineEnd:V.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Ml,{insetStart:Ml.insetInlineStart,insetEnd:Ml.insetInlineEnd});const Lf={boxShadow:V.shadows("boxShadow"),mixBlendMode:!0,blendMode:V.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:V.prop("backgroundBlendMode"),opacity:!0};Object.assign(Lf,{shadow:Lf.boxShadow});const ct={margin:V.spaceT("margin"),marginTop:V.spaceT("marginTop"),marginBlockStart:V.spaceT("marginBlockStart"),marginRight:V.spaceT("marginRight"),marginInlineEnd:V.spaceT("marginInlineEnd"),marginBottom:V.spaceT("marginBottom"),marginBlockEnd:V.spaceT("marginBlockEnd"),marginLeft:V.spaceT("marginLeft"),marginInlineStart:V.spaceT("marginInlineStart"),marginX:V.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:V.spaceT("marginInline"),marginY:V.spaceT(["marginTop","marginBottom"]),marginBlock:V.spaceT("marginBlock"),padding:V.space("padding"),paddingTop:V.space("paddingTop"),paddingBlockStart:V.space("paddingBlockStart"),paddingRight:V.space("paddingRight"),paddingBottom:V.space("paddingBottom"),paddingBlockEnd:V.space("paddingBlockEnd"),paddingLeft:V.space("paddingLeft"),paddingInlineStart:V.space("paddingInlineStart"),paddingInlineEnd:V.space("paddingInlineEnd"),paddingX:V.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:V.space("paddingInline"),paddingY:V.space(["paddingTop","paddingBottom"]),paddingBlock:V.space("paddingBlock")};Object.assign(ct,{m:ct.margin,mt:ct.marginTop,mr:ct.marginRight,me:ct.marginInlineEnd,marginEnd:ct.marginInlineEnd,mb:ct.marginBottom,ml:ct.marginLeft,ms:ct.marginInlineStart,marginStart:ct.marginInlineStart,mx:ct.marginX,my:ct.marginY,p:ct.padding,pt:ct.paddingTop,py:ct.paddingY,px:ct.paddingX,pb:ct.paddingBottom,pl:ct.paddingLeft,ps:ct.paddingInlineStart,paddingStart:ct.paddingInlineStart,pr:ct.paddingRight,pe:ct.paddingInlineEnd,paddingEnd:ct.paddingInlineEnd});const YI={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:V.spaceT("scrollMargin"),scrollMarginTop:V.spaceT("scrollMarginTop"),scrollMarginBottom:V.spaceT("scrollMarginBottom"),scrollMarginLeft:V.spaceT("scrollMarginLeft"),scrollMarginRight:V.spaceT("scrollMarginRight"),scrollMarginX:V.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:V.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:V.spaceT("scrollPadding"),scrollPaddingTop:V.spaceT("scrollPaddingTop"),scrollPaddingBottom:V.spaceT("scrollPaddingBottom"),scrollPaddingLeft:V.spaceT("scrollPaddingLeft"),scrollPaddingRight:V.spaceT("scrollPaddingRight"),scrollPaddingX:V.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:V.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},JI={fontFamily:V.prop("fontFamily","fonts"),fontSize:V.prop("fontSize","fontSizes",Be.px),fontWeight:V.prop("fontWeight","fontWeights"),lineHeight:V.prop("lineHeight","lineHeights"),letterSpacing:V.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(n){if(n===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},ZI={textDecorationColor:V.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:V.shadows("textShadow")},e1={clipPath:!0,transform:V.propT("transform",Be.transform),transformOrigin:!0,translateX:V.spaceT("--chakra-translate-x"),translateY:V.spaceT("--chakra-translate-y"),skewX:V.degreeT("--chakra-skew-x"),skewY:V.degreeT("--chakra-skew-y"),scaleX:V.prop("--chakra-scale-x"),scaleY:V.prop("--chakra-scale-y"),scale:V.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:V.degreeT("--chakra-rotate")},t1={listStyleType:!0,listStylePosition:!0,listStylePos:V.prop("listStylePosition"),listStyleImage:!0,listStyleImg:V.prop("listStyleImage")},n1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:V.prop("transitionDuration","transition.duration"),transitionProperty:V.prop("transitionProperty","transition.property"),transitionTimingFunction:V.prop("transitionTimingFunction","transition.easing")},Ip=Fi({},kc,Ke,jI,$c,gr,zI,$I,WI,J_,XI,Ml,Lf,ct,YI,JI,ZI,e1,t1,n1),r1=Object.assign({},ct,gr,$c,J_,Ml),XN=Object.keys(r1),i1=[...Object.keys(Ip),...II],s1={...Ip,...Tp},o1=n=>n in s1,a1=n=>e=>{if(!e.__breakpoints)return n;const{isResponsive:t,toArrayValue:i,media:o}=e.__breakpoints,l={};for(const c in n){let d=bs(n[c],e);if(d==null)continue;if(d=ba(d)&&t(d)?i(d):d,!Array.isArray(d)){l[c]=d;continue}const p=d.slice(0,o.length).length;for(let y=0;y<p;y+=1){const _=o?.[y];if(!_){l[c]=d[y];continue}l[_]=l[_]||{},d[y]!=null&&(l[_][c]=d[y])}}return l};function l1(n){const e=[];let t="",i=!1;for(let o=0;o<n.length;o++){const l=n[o];l==="("?(i=!0,t+=l):l===")"?(i=!1,t+=l):l===","&&!i?(e.push(t),t=""):t+=l}return t=t.trim(),t&&e.push(t),e}function u1(n){return/^var\(--.+\)$/.test(n)}const c1=(n,e)=>n.startsWith("--")&&typeof e=="string"&&!u1(e),h1=(n,e)=>{if(e==null)return e;const t=c=>n.__cssMap?.[c]?.varRef,i=c=>t(c)??c,[o,l]=l1(e);return e=t(o)??i(l)??i(e),e};function d1(n){const{configs:e={},pseudos:t={},theme:i}=n,o=(l,c=!1)=>{const d=bs(l,i),p=a1(d)(i);let y={};for(let _ in p){const w=p[_];let S=bs(w,i);_ in t&&(_=t[_]),c1(_,S)&&(S=h1(i,S));let M=e[_];if(M===!0&&(M={property:_}),ba(S)){y[_]=y[_]??{},y[_]=Fi({},y[_],o(S,!0));continue}let U=M?.transform?.(S,i,d)??S;U=M?.processResult?o(U,!0):U;const F=bs(M?.property,i);if(!c&&M?.static){const N=bs(M.static,i);y=Fi({},y,N)}if(F&&Array.isArray(F)){for(const N of F)y[N]=U;continue}if(F){F==="&"&&ba(U)?y=Fi({},y,U):y[F]=U;continue}if(ba(U)){y=Fi({},y,U);continue}y[_]=U}return y};return o}const f1=n=>e=>d1({theme:e,pseudos:Tp,configs:Ip})(n);function p1(n,e){if(Array.isArray(n))return n;if(ba(n))return e(n);if(n!=null)return[n]}function m1(n,e){for(let t=e+1;t<n.length;t++)if(n[t]!=null)return t;return-1}function g1(n){const e=n.__breakpoints;return function(i,o,l,c){if(!e)return;const d={},p=p1(l,e.toArrayValue);if(!p)return d;const y=p.length,_=y===1,w=!!i.parts;for(let S=0;S<y;S++){const M=e.details[S],U=e.details[m1(p,S)],F=pI(M.minW,U?._minW),N=bs(i[o]?.[p[S]],c);if(N){if(w){i.parts?.forEach(Y=>{Fi(d,{[Y]:_?N[Y]:{[F]:N[Y]}})});continue}if(!w){_?Fi(d,N):d[F]=N;continue}d[F]=N}}return d}}function y1(n){return e=>{const{variant:t,size:i,theme:o}=e,l=g1(o);return Fi({},bs(n.baseStyle??{},e),l(n,"sizes",i,e),l(n,"variants",t,e))}}function v1(n){return wI(n,["styleConfig","size","variant","colorScheme"])}function _1(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function E1(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var w1=function(){function n(t){var i=this;this._insertTag=function(o){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(o,l),i.tags.push(o)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(E1(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var l=_1(o);try{l.insertRule(i,l.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var o;return(o=i.parentNode)==null?void 0:o.removeChild(i)}),this.tags=[],this.ctr=0},n}(),cn="-ms-",Wc="-moz-",Qe="-webkit-",Z_="comm",Rp="rule",Cp="decl",T1="@import",eE="@keyframes",S1="@layer",I1=Math.abs,dh=String.fromCharCode,R1=Object.assign;function C1(n,e){return tn(n,0)^45?(((e<<2^tn(n,0))<<2^tn(n,1))<<2^tn(n,2))<<2^tn(n,3):0}function tE(n){return n.trim()}function A1(n,e){return(n=e.exec(n))?n[0]:n}function Xe(n,e,t){return n.replace(e,t)}function Mf(n,e){return n.indexOf(e)}function tn(n,e){return n.charCodeAt(e)|0}function ql(n,e,t){return n.slice(e,t)}function ii(n){return n.length}function Ap(n){return n.length}function wc(n,e){return e.push(n),n}function k1(n,e){return n.map(e).join("")}var fh=1,Ma=1,nE=0,jn=0,Nt=0,qa="";function ph(n,e,t,i,o,l,c){return{value:n,root:e,parent:t,type:i,props:o,children:l,line:fh,column:Ma,length:c,return:""}}function kl(n,e){return R1(ph("",null,null,"",null,null,0),n,{length:-n.length},e)}function P1(){return Nt}function b1(){return Nt=jn>0?tn(qa,--jn):0,Ma--,Nt===10&&(Ma=1,fh--),Nt}function tr(){return Nt=jn<nE?tn(qa,jn++):0,Ma++,Nt===10&&(Ma=1,fh++),Nt}function oi(){return tn(qa,jn)}function Pc(){return jn}function au(n,e){return ql(qa,n,e)}function Gl(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rE(n){return fh=Ma=1,nE=ii(qa=n),jn=0,[]}function iE(n){return qa="",n}function bc(n){return tE(au(jn-1,Ff(n===91?n+2:n===40?n+1:n)))}function x1(n){for(;(Nt=oi())&&Nt<33;)tr();return Gl(n)>2||Gl(Nt)>3?"":" "}function N1(n,e){for(;--e&&tr()&&!(Nt<48||Nt>102||Nt>57&&Nt<65||Nt>70&&Nt<97););return au(n,Pc()+(e<6&&oi()==32&&tr()==32))}function Ff(n){for(;tr();)switch(Nt){case n:return jn;case 34:case 39:n!==34&&n!==39&&Ff(Nt);break;case 40:n===41&&Ff(n);break;case 92:tr();break}return jn}function O1(n,e){for(;tr()&&n+Nt!==57;)if(n+Nt===84&&oi()===47)break;return"/*"+au(e,jn-1)+"*"+dh(n===47?n:tr())}function D1(n){for(;!Gl(oi());)tr();return au(n,jn)}function V1(n){return iE(xc("",null,null,null,[""],n=rE(n),0,[0],n))}function xc(n,e,t,i,o,l,c,d,p){for(var y=0,_=0,w=c,S=0,M=0,U=0,F=1,N=1,Y=1,te=0,ne="",he=o,X=l,pe=i,P=ne;N;)switch(U=te,te=tr()){case 40:if(U!=108&&tn(P,w-1)==58){Mf(P+=Xe(bc(te),"&","&\f"),"&\f")!=-1&&(Y=-1);break}case 34:case 39:case 91:P+=bc(te);break;case 9:case 10:case 13:case 32:P+=x1(U);break;case 92:P+=N1(Pc()-1,7);continue;case 47:switch(oi()){case 42:case 47:wc(L1(O1(tr(),Pc()),e,t),p);break;default:P+="/"}break;case 123*F:d[y++]=ii(P)*Y;case 125*F:case 59:case 0:switch(te){case 0:case 125:N=0;case 59+_:Y==-1&&(P=Xe(P,/\f/g,"")),M>0&&ii(P)-w&&wc(M>32?Jy(P+";",i,t,w-1):Jy(Xe(P," ","")+";",i,t,w-2),p);break;case 59:P+=";";default:if(wc(pe=Yy(P,e,t,y,_,o,d,ne,he=[],X=[],w),l),te===123)if(_===0)xc(P,e,pe,pe,he,l,w,d,X);else switch(S===99&&tn(P,3)===110?100:S){case 100:case 108:case 109:case 115:xc(n,pe,pe,i&&wc(Yy(n,pe,pe,0,0,o,d,ne,o,he=[],w),X),o,X,w,d,i?he:X);break;default:xc(P,pe,pe,pe,[""],X,0,d,X)}}y=_=M=0,F=Y=1,ne=P="",w=c;break;case 58:w=1+ii(P),M=U;default:if(F<1){if(te==123)--F;else if(te==125&&F++==0&&b1()==125)continue}switch(P+=dh(te),te*F){case 38:Y=_>0?1:(P+="\f",-1);break;case 44:d[y++]=(ii(P)-1)*Y,Y=1;break;case 64:oi()===45&&(P+=bc(tr())),S=oi(),_=w=ii(ne=P+=D1(Pc())),te++;break;case 45:U===45&&ii(P)==2&&(F=0)}}return l}function Yy(n,e,t,i,o,l,c,d,p,y,_){for(var w=o-1,S=o===0?l:[""],M=Ap(S),U=0,F=0,N=0;U<i;++U)for(var Y=0,te=ql(n,w+1,w=I1(F=c[U])),ne=n;Y<M;++Y)(ne=tE(F>0?S[Y]+" "+te:Xe(te,/&\f/g,S[Y])))&&(p[N++]=ne);return ph(n,e,t,o===0?Rp:d,p,y,_)}function L1(n,e,t){return ph(n,e,t,Z_,dh(P1()),ql(n,2,-2),0)}function Jy(n,e,t,i){return ph(n,e,t,Cp,ql(n,0,i),ql(n,i+1,-1),i)}function xa(n,e){for(var t="",i=Ap(n),o=0;o<i;o++)t+=e(n[o],o,n,e)||"";return t}function M1(n,e,t,i){switch(n.type){case S1:if(n.children.length)break;case T1:case Cp:return n.return=n.return||n.value;case Z_:return"";case eE:return n.return=n.value+"{"+xa(n.children,i)+"}";case Rp:n.value=n.props.join(",")}return ii(t=xa(n.children,i))?n.return=n.value+"{"+t+"}":""}function F1(n){var e=Ap(n);return function(t,i,o,l){for(var c="",d=0;d<e;d++)c+=n[d](t,i,o,l)||"";return c}}function U1(n){return function(e){e.root||(e=e.return)&&n(e)}}function sE(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var B1=function(e,t,i){for(var o=0,l=0;o=l,l=oi(),o===38&&l===12&&(t[i]=1),!Gl(l);)tr();return au(e,jn)},j1=function(e,t){var i=-1,o=44;do switch(Gl(o)){case 0:o===38&&oi()===12&&(t[i]=1),e[i]+=B1(jn-1,t,i);break;case 2:e[i]+=bc(o);break;case 4:if(o===44){e[++i]=oi()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=dh(o)}while(o=tr());return e},z1=function(e,t){return iE(j1(rE(e),t))},Zy=new WeakMap,$1=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,o=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Zy.get(i))&&!o){Zy.set(e,!0);for(var l=[],c=z1(t,l),d=i.props,p=0,y=0;p<c.length;p++)for(var _=0;_<d.length;_++,y++)e.props[y]=l[p]?c[p].replace(/&\f/g,d[_]):d[_]+" "+c[p]}}},W1=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function oE(n,e){switch(C1(n,e)){case 5103:return Qe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+n+Wc+n+cn+n+n;case 6828:case 4268:return Qe+n+cn+n+n;case 6165:return Qe+n+cn+"flex-"+n+n;case 5187:return Qe+n+Xe(n,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+cn+"flex-$1$2")+n;case 5443:return Qe+n+cn+"flex-item-"+Xe(n,/flex-|-self/,"")+n;case 4675:return Qe+n+cn+"flex-line-pack"+Xe(n,/align-content|flex-|-self/,"")+n;case 5548:return Qe+n+cn+Xe(n,"shrink","negative")+n;case 5292:return Qe+n+cn+Xe(n,"basis","preferred-size")+n;case 6060:return Qe+"box-"+Xe(n,"-grow","")+Qe+n+cn+Xe(n,"grow","positive")+n;case 4554:return Qe+Xe(n,/([^-])(transform)/g,"$1"+Qe+"$2")+n;case 6187:return Xe(Xe(Xe(n,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),n,"")+n;case 5495:case 3959:return Xe(n,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Xe(Xe(n,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+n+n;case 4095:case 3583:case 4068:case 2532:return Xe(n,/(.+)-inline(.+)/,Qe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ii(n)-1-e>6)switch(tn(n,e+1)){case 109:if(tn(n,e+4)!==45)break;case 102:return Xe(n,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+Wc+(tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Mf(n,"stretch")?oE(Xe(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(tn(n,e+1)!==115)break;case 6444:switch(tn(n,ii(n)-3-(~Mf(n,"!important")&&10))){case 107:return Xe(n,":",":"+Qe)+n;case 101:return Xe(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(tn(n,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+cn+"$2box$3")+n}break;case 5936:switch(tn(n,e+11)){case 114:return Qe+n+cn+Xe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Qe+n+cn+Xe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Qe+n+cn+Xe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Qe+n+cn+n+n}return n}var H1=function(e,t,i,o){if(e.length>-1&&!e.return)switch(e.type){case Cp:e.return=oE(e.value,e.length);break;case eE:return xa([kl(e,{value:Xe(e.value,"@","@"+Qe)})],o);case Rp:if(e.length)return k1(e.props,function(l){switch(A1(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xa([kl(e,{props:[Xe(l,/:(read-\w+)/,":"+Wc+"$1")]})],o);case"::placeholder":return xa([kl(e,{props:[Xe(l,/:(plac\w+)/,":"+Qe+"input-$1")]}),kl(e,{props:[Xe(l,/:(plac\w+)/,":"+Wc+"$1")]}),kl(e,{props:[Xe(l,/:(plac\w+)/,cn+"input-$1")]})],o)}return""})}},q1=[H1],G1=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(F){var N=F.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(F),F.setAttribute("data-s",""))})}var o=e.stylisPlugins||q1,l={},c,d=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(F){for(var N=F.getAttribute("data-emotion").split(" "),Y=1;Y<N.length;Y++)l[N[Y]]=!0;d.push(F)});var p,y=[$1,W1];{var _,w=[M1,U1(function(F){_.insert(F)})],S=F1(y.concat(o,w)),M=function(N){return xa(V1(N),S)};p=function(N,Y,te,ne){_=te,M(N?N+"{"+Y.styles+"}":Y.styles),ne&&(U.inserted[Y.name]=!0)}}var U={key:t,sheet:new w1({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:p};return U.sheet.hydrate(d),U};function Uf(){return Uf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Uf.apply(null,arguments)}var ff={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function K1(){if(ev)return et;ev=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,y=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,w=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,M=n?Symbol.for("react.memo"):60115,U=n?Symbol.for("react.lazy"):60116,F=n?Symbol.for("react.block"):60121,N=n?Symbol.for("react.fundamental"):60117,Y=n?Symbol.for("react.responder"):60118,te=n?Symbol.for("react.scope"):60119;function ne(X){if(typeof X=="object"&&X!==null){var pe=X.$$typeof;switch(pe){case e:switch(X=X.type,X){case p:case y:case i:case l:case o:case w:return X;default:switch(X=X&&X.$$typeof,X){case d:case _:case U:case M:case c:return X;default:return pe}}case t:return pe}}}function he(X){return ne(X)===y}return et.AsyncMode=p,et.ConcurrentMode=y,et.ContextConsumer=d,et.ContextProvider=c,et.Element=e,et.ForwardRef=_,et.Fragment=i,et.Lazy=U,et.Memo=M,et.Portal=t,et.Profiler=l,et.StrictMode=o,et.Suspense=w,et.isAsyncMode=function(X){return he(X)||ne(X)===p},et.isConcurrentMode=he,et.isContextConsumer=function(X){return ne(X)===d},et.isContextProvider=function(X){return ne(X)===c},et.isElement=function(X){return typeof X=="object"&&X!==null&&X.$$typeof===e},et.isForwardRef=function(X){return ne(X)===_},et.isFragment=function(X){return ne(X)===i},et.isLazy=function(X){return ne(X)===U},et.isMemo=function(X){return ne(X)===M},et.isPortal=function(X){return ne(X)===t},et.isProfiler=function(X){return ne(X)===l},et.isStrictMode=function(X){return ne(X)===o},et.isSuspense=function(X){return ne(X)===w},et.isValidElementType=function(X){return typeof X=="string"||typeof X=="function"||X===i||X===y||X===l||X===o||X===w||X===S||typeof X=="object"&&X!==null&&(X.$$typeof===U||X.$$typeof===M||X.$$typeof===c||X.$$typeof===d||X.$$typeof===_||X.$$typeof===N||X.$$typeof===Y||X.$$typeof===te||X.$$typeof===F)},et.typeOf=ne,et}var tv;function Q1(){return tv||(tv=1,ff.exports=K1()),ff.exports}var pf,nv;function X1(){if(nv)return pf;nv=1;var n=Q1(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=i,l[n.Memo]=o;function c(U){return n.isMemo(U)?o:l[U.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,S=Object.prototype;function M(U,F,N){if(typeof F!="string"){if(S){var Y=w(F);Y&&Y!==S&&M(U,Y,N)}var te=p(F);y&&(te=te.concat(y(F)));for(var ne=c(U),he=c(F),X=0;X<te.length;++X){var pe=te[X];if(!t[pe]&&!(N&&N[pe])&&!(he&&he[pe])&&!(ne&&ne[pe])){var P=_(F,pe);try{d(U,pe,P)}catch{}}}}return U}return pf=M,pf}X1();var Y1=!0;function aE(n,e,t){var i="";return t.split(" ").forEach(function(o){n[o]!==void 0?e.push(n[o]+";"):o&&(i+=o+" ")}),i}var kp=function(e,t,i){var o=e.key+"-"+t.name;(i===!1||Y1===!1)&&e.registered[o]===void 0&&(e.registered[o]=t.styles)},lE=function(e,t,i){kp(e,t,i);var o=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l=t;do e.insert(t===l?"."+o:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function J1(n){for(var e=0,t,i=0,o=n.length;o>=4;++i,o-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Z1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},eR=/[A-Z]|^ms/g,tR=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uE=function(e){return e.charCodeAt(1)===45},rv=function(e){return e!=null&&typeof e!="boolean"},mf=sE(function(n){return uE(n)?n:n.replace(eR,"-$&").toLowerCase()}),iv=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(tR,function(i,o,l){return si={name:o,styles:l,next:si},o})}return Z1[e]!==1&&!uE(e)&&typeof t=="number"&&t!==0?t+"px":t};function Kl(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var o=t;if(o.anim===1)return si={name:o.name,styles:o.styles,next:si},o.name;var l=t;if(l.styles!==void 0){var c=l.next;if(c!==void 0)for(;c!==void 0;)si={name:c.name,styles:c.styles,next:si},c=c.next;var d=l.styles+";";return d}return nR(n,e,t)}case"function":{if(n!==void 0){var p=si,y=t(n);return si=p,Kl(n,e,y)}break}}var _=t;if(e==null)return _;var w=e[_];return w!==void 0?w:_}function nR(n,e,t){var i="";if(Array.isArray(t))for(var o=0;o<t.length;o++)i+=Kl(n,e,t[o])+";";else for(var l in t){var c=t[l];if(typeof c!="object"){var d=c;e!=null&&e[d]!==void 0?i+=l+"{"+e[d]+"}":rv(d)&&(i+=mf(l)+":"+iv(l,d)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var p=0;p<c.length;p++)rv(c[p])&&(i+=mf(l)+":"+iv(l,c[p])+";");else{var y=Kl(n,e,c);switch(l){case"animation":case"animationName":{i+=mf(l)+":"+y+";";break}default:i+=l+"{"+y+"}"}}}return i}var sv=/label:\s*([^\s;{]+)\s*(;|$)/g,si;function Pp(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,o="";si=void 0;var l=n[0];if(l==null||l.raw===void 0)i=!1,o+=Kl(t,e,l);else{var c=l;o+=c[0]}for(var d=1;d<n.length;d++)if(o+=Kl(t,e,n[d]),i){var p=l;o+=p[d]}sv.lastIndex=0;for(var y="",_;(_=sv.exec(o))!==null;)y+="-"+_[1];var w=J1(o)+y;return{name:w,styles:o,next:si}}var rR=function(e){return e()},iR=Pf.useInsertionEffect?Pf.useInsertionEffect:!1,cE=iR||rR,hE=Z.createContext(typeof HTMLElement<"u"?G1({key:"css"}):null);hE.Provider;var dE=function(e){return Z.forwardRef(function(t,i){var o=Z.useContext(hE);return e(t,o,i)})},bp=Z.createContext({}),xp={}.hasOwnProperty,Bf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sR=function(e,t){var i={};for(var o in t)xp.call(t,o)&&(i[o]=t[o]);return i[Bf]=e,i},oR=function(e){var t=e.cache,i=e.serialized,o=e.isStringTag;return kp(t,i,o),cE(function(){return lE(t,i,o)}),null},aR=dE(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var o=n[Bf],l=[i],c="";typeof n.className=="string"?c=aE(e.registered,l,n.className):n.className!=null&&(c=n.className+" ");var d=Pp(l,void 0,Z.useContext(bp));c+=e.key+"-"+d.name;var p={};for(var y in n)xp.call(n,y)&&y!=="css"&&y!==Bf&&(p[y]=n[y]);return p.className=c,t&&(p.ref=t),Z.createElement(Z.Fragment,null,Z.createElement(oR,{cache:e,serialized:d,isStringTag:typeof o=="string"}),Z.createElement(o,p))}),lR=aR,ov=function(e,t){var i=arguments;if(t==null||!xp.call(t,"css"))return Z.createElement.apply(void 0,i);var o=i.length,l=new Array(o);l[0]=lR,l[1]=sR(e,t);for(var c=2;c<o;c++)l[c]=i[c];return Z.createElement.apply(null,l)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(ov||(ov={}));function uR(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Pp(e)}function cR(){var n=uR.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const fE=Z.createContext({});fE.displayName="ColorModeContext";function pE(){const n=Z.useContext(fE);if(n===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return n}function Np(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}var hR=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dR=sE(function(n){return hR.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),fR=dR,pR=function(e){return e!=="theme"},av=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?fR:pR},lv=function(e,t,i){var o;if(t){var l=t.shouldForwardProp;o=e.__emotion_forwardProp&&l?function(c){return e.__emotion_forwardProp(c)&&l(c)}:l}return typeof o!="function"&&i&&(o=e.__emotion_forwardProp),o},mR=function(e){var t=e.cache,i=e.serialized,o=e.isStringTag;return kp(t,i,o),cE(function(){return lE(t,i,o)}),null},gR=function n(e,t){var i=e.__emotion_real===e,o=i&&e.__emotion_base||e,l,c;t!==void 0&&(l=t.label,c=t.target);var d=lv(e,t,i),p=d||av(o),y=!p("as");return function(){var _=arguments,w=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&w.push("label:"+l+";"),_[0]==null||_[0].raw===void 0)w.push.apply(w,_);else{var S=_[0];w.push(S[0]);for(var M=_.length,U=1;U<M;U++)w.push(_[U],S[U])}var F=dE(function(N,Y,te){var ne=y&&N.as||o,he="",X=[],pe=N;if(N.theme==null){pe={};for(var P in N)pe[P]=N[P];pe.theme=Z.useContext(bp)}typeof N.className=="string"?he=aE(Y.registered,X,N.className):N.className!=null&&(he=N.className+" ");var R=Pp(w.concat(X),Y.registered,pe);he+=Y.key+"-"+R.name,c!==void 0&&(he+=" "+c);var k=y&&d===void 0?av(ne):p,O={};for(var L in N)y&&L==="as"||k(L)&&(O[L]=N[L]);return O.className=he,te&&(O.ref=te),Z.createElement(Z.Fragment,null,Z.createElement(mR,{cache:Y,serialized:R,isStringTag:typeof ne=="string"}),Z.createElement(ne,O))});return F.displayName=l!==void 0?l:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",F.defaultProps=e.defaultProps,F.__emotion_real=F,F.__emotion_base=o,F.__emotion_styles=w,F.__emotion_forwardProp=d,Object.defineProperty(F,"toString",{value:function(){return"."+c}}),F.withComponent=function(N,Y){var te=n(N,Uf({},t,Y,{shouldForwardProp:lv(F,Y,!0)}));return te.apply(void 0,w)},F}},yR=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],jf=gR.bind(null);yR.forEach(function(n){jf[n]=jf(n)});const vR=new Set([...i1,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),_R=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function ER(n){return(_R.has(n)||!vR.has(n))&&n[0]!=="_"}const wR=EI(jf),TR=({baseStyle:n})=>e=>{const{theme:t,css:i,__css:o,sx:l,...c}=e,[d]=SI(c,o1),p=bs(n,e),y=hI({},o,p,mI(d),l),_=f1(y)(e.theme);return i?[_,i]:_};function gf(n,e){const{baseStyle:t,...i}=e??{};i.shouldForwardProp||(i.shouldForwardProp=ER);const o=TR({baseStyle:t}),l=wR(n,i)(o);return Z.forwardRef(function(p,y){const{children:_,...w}=p,{colorMode:S,forced:M}=pE(),U=M?S:void 0;return Z.createElement(l,{ref:y,"data-theme":U,...w},_)})}function SR(){const n=new Map;return new Proxy(gf,{apply(e,t,i){return gf(...i)},get(e,t){return n.has(t)||n.set(t,gf(t)),n.get(t)}})}const zf=SR();function mE(n){return Z.forwardRef(n)}var yf,uv;function IR(){if(uv)return yf;uv=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var d,p,y;if(Array.isArray(l)){if(d=l.length,d!=c.length)return!1;for(p=d;p--!==0;)if(!o(l[p],c[p]))return!1;return!0}var _;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(_=l.entries();!(p=_.next()).done;)if(!c.has(p.value[0]))return!1;for(_=l.entries();!(p=_.next()).done;)if(!o(p.value[1],c.get(p.value[0])))return!1;return!0}if(t&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(_=l.entries();!(p=_.next()).done;)if(!c.has(p.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(d=l.length,d!=c.length)return!1;for(p=d;p--!==0;)if(l[p]!==c[p])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(y=Object.keys(l),d=y.length,d!==Object.keys(c).length)return!1;for(p=d;p--!==0;)if(!Object.prototype.hasOwnProperty.call(c,y[p]))return!1;if(n&&l instanceof Element)return!1;for(p=d;p--!==0;)if(!((y[p]==="_owner"||y[p]==="__v"||y[p]==="__o")&&l.$$typeof)&&!o(l[y[p]],c[y[p]]))return!1;return!0}return l!==l&&c!==c}return yf=function(c,d){try{return o(c,d)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},yf}var RR=IR();const CR=ch(RR);function AR(){const n=Z.useContext(bp);if(!n)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return n}function kR(){const n=pE(),e=AR();return{...n,theme:e}}function PR(n,e,t){if(e==null)return e;const i=o=>n.__cssMap?.[o]?.value;return i(e)??i(t)??t}function YN(n,e,t){const i=Array.isArray(e)?e:[e],o=Array.isArray(t)?t:[t];return l=>{const c=o.filter(Boolean),d=i.map((p,y)=>{const _=`${n}.${p}`;return PR(l,_,c[y]??p)});return Array.isArray(e)?d:d[0]}}function bR(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>t!==void 0&&e!=="children"&&!Z.isValidElement(t)))}function gE(n,e={}){const{styleConfig:t,...i}=e,{theme:o,colorMode:l}=kR(),c=n?_I(o,`components.${n}`):void 0,d=t||c,p=Fi({theme:o,colorMode:l},d?.defaultProps??{},bR(i),(_,w)=>_?void 0:w),y=Z.useRef({});if(d){const w=y1(d)(p);CR(y.current,w)||(y.current=w)}return y.current}function xR(n,e={}){return gE(n,e)}function JN(n,e={}){return gE(n,e)}const NR=cR({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),$f=mE((n,e)=>{const t=xR("Spinner",n),{label:i="Loading...",thickness:o="2px",speed:l="0.45s",emptyColor:c="transparent",className:d,...p}=v1(n),y=gI("chakra-spinner",d),_={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:o,borderBottomColor:c,borderLeftColor:c,animation:`${NR} ${l} linear infinite`,...t};return st.jsx(zf.div,{ref:e,__css:_,className:y,...p,children:i&&st.jsx(zf.span,{srOnly:!0,children:i})})});$f.displayName="Spinner";const Wf=mE(function(e,t){const{direction:i,align:o,justify:l,wrap:c,basis:d,grow:p,shrink:y,..._}=e,w={display:"flex",flexDirection:i,alignItems:o,justifyContent:l,flexWrap:c,flexBasis:d,flexGrow:p,flexShrink:y};return st.jsx(zf.div,{ref:t,__css:w,..._})});Wf.displayName="Flex";const OR=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,w=(l&3)<<4|d>>4;let S=(d&15)<<2|y>>6,M=y&63;p||(M=64,c||(S=64)),i.push(t[_],t[w],t[S],t[M])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||w==null)throw new VR;const S=l<<2|d>>4;if(i.push(S),y!==64){const M=d<<4&240|y>>2;if(i.push(M),w!==64){const U=y<<6&192|w;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LR=function(n){const e=yE(n);return vE.encodeByteArray(e,!0)},Hc=function(n){return LR(n).replace(/\./g,"")},_E=function(n){try{return vE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=()=>MR().__FIREBASE_DEFAULTS__,UR=()=>{if(typeof process>"u"||typeof cv>"u")return;const n=cv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_E(n[1]);return e&&JSON.parse(e)},mh=()=>{try{return OR()||FR()||UR()||BR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},EE=n=>{var e,t;return(t=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jR=n=>{const e=EE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},wE=()=>{var n;return(n=mh())===null||n===void 0?void 0:n.config},TE=n=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hc(JSON.stringify(t)),Hc(JSON.stringify(c)),""].join(".")}const Fl={};function WR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?n.emulator.push(e):n.prod.push(e);return n}function HR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let hv=!1;function IE(n,e){if(typeof window>"u"||typeof document>"u"||!Ga(window.location.host)||Fl[n]===e||Fl[n]||hv)return;Fl[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=WR().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{hv=!0,c()},S}function _(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=HR(i),M=t("text"),U=document.getElementById(M)||document.createElement("span"),F=t("learnmore"),N=document.getElementById(F)||document.createElement("a"),Y=t("preprendIcon"),te=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;d(ne),_(N,F);const he=y();p(te,Y),ne.append(te,U,N,he),document.body.appendChild(ne)}l?(U.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function GR(){var n;const e=(n=mh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JR(){return!GR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZR(){try{return typeof indexedDB=="object"}catch{return!1}}function eC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="FirebaseError";class Gi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=tC,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?nC(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Gi(o,d,i)}}function nC(n,e){return n.replace(rC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const rC=/\{\$([^}]+)}/g;function iC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ko(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(dv(l)&&dv(c)){if(!ko(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function dv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function xl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Nl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function sC(n,e){const t=new oC(n,e);return t.subscribe.bind(t)}class oC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");aC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=vf),o.error===void 0&&(o.error=vf),o.complete===void 0&&(o.complete=vf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n){return n&&n._delegate?n._delegate:n}class Po{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new zR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cC(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(n){return n===Ro?void 0:n}function cC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const dC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},fC=Fe.INFO,pC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},mC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=pC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=fC,this._logHandler=mC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const gC=(n,e)=>e.some(t=>n instanceof t);let fv,pv;function yC(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,Hf=new WeakMap,CE=new WeakMap,_f=new WeakMap,Dp=new WeakMap;function _C(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Os(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&RE.set(t,n)}).catch(()=>{}),Dp.set(e,n),e}function EC(n){if(Hf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Hf.set(n,e)}let qf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Hf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wC(n){qf=n(qf)}function TC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ef(this),e,...t);return CE.set(i,e.sort?e.sort():[e]),Os(i)}:vC().includes(n)?function(...e){return n.apply(Ef(this),e),Os(RE.get(this))}:function(...e){return Os(n.apply(Ef(this),e))}}function SC(n){return typeof n=="function"?TC(n):(n instanceof IDBTransaction&&EC(n),gC(n,yC())?new Proxy(n,qf):n)}function Os(n){if(n instanceof IDBRequest)return _C(n);if(_f.has(n))return _f.get(n);const e=SC(n);return e!==n&&(_f.set(n,e),Dp.set(e,n)),e}const Ef=n=>Dp.get(n);function IC(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Os(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Os(c.result),p.oldVersion,p.newVersion,Os(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const RC=["get","getKey","getAll","getAllKeys","count"],CC=["put","add","delete","clear"],wf=new Map;function mv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=CC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||RC.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return wf.set(e,l),l}wC(n=>({...n,get:(e,t,i)=>mv(e,t)||n.get(e,t,i),has:(e,t)=>!!mv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function kC(n){const e=n.getComponent();return e?.type==="VERSION"}const Gf="@firebase/app",gv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Op("@firebase/app"),PC="@firebase/app-compat",bC="@firebase/analytics-compat",xC="@firebase/analytics",NC="@firebase/app-check-compat",OC="@firebase/app-check",DC="@firebase/auth",VC="@firebase/auth-compat",LC="@firebase/database",MC="@firebase/data-connect",FC="@firebase/database-compat",UC="@firebase/functions",BC="@firebase/functions-compat",jC="@firebase/installations",zC="@firebase/installations-compat",$C="@firebase/messaging",WC="@firebase/messaging-compat",HC="@firebase/performance",qC="@firebase/performance-compat",GC="@firebase/remote-config",KC="@firebase/remote-config-compat",QC="@firebase/storage",XC="@firebase/storage-compat",YC="@firebase/firestore",JC="@firebase/ai",ZC="@firebase/firestore-compat",eA="firebase",tA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",nA={[Gf]:"fire-core",[PC]:"fire-core-compat",[xC]:"fire-analytics",[bC]:"fire-analytics-compat",[OC]:"fire-app-check",[NC]:"fire-app-check-compat",[DC]:"fire-auth",[VC]:"fire-auth-compat",[LC]:"fire-rtdb",[MC]:"fire-data-connect",[FC]:"fire-rtdb-compat",[UC]:"fire-fn",[BC]:"fire-fn-compat",[jC]:"fire-iid",[zC]:"fire-iid-compat",[$C]:"fire-fcm",[WC]:"fire-fcm-compat",[HC]:"fire-perf",[qC]:"fire-perf-compat",[GC]:"fire-rc",[KC]:"fire-rc-compat",[QC]:"fire-gcs",[XC]:"fire-gcs-compat",[YC]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,rA=new Map,Qf=new Map;function yv(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fa(n){const e=n.name;if(Qf.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,n);for(const t of qc.values())yv(t,n);for(const t of rA.values())yv(t,n);return!0}function Vp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new lu("app","Firebase",iA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=tA;function AE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Kf,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(t||(t=wE()),!t)throw Ds.create("no-options");const l=qc.get(o);if(l){if(ko(t,l.options)&&ko(i,l.config))return l;throw Ds.create("duplicate-app",{appName:o})}const c=new hC(o);for(const p of Qf.values())c.addComponent(p);const d=new sA(t,i,c);return qc.set(o,d),d}function kE(n=Kf){const e=qc.get(n);if(!e&&n===Kf&&wE())return AE();if(!e)throw Ds.create("no-app",{appName:n});return e}function Vs(n,e,t){var i;let o=(i=nA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Fa(new Po(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebase-heartbeat-database",aA=1,Ql="firebase-heartbeat-store";let Tf=null;function PE(){return Tf||(Tf=IC(oA,aA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ql)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ds.create("idb-open",{originalErrorMessage:n.message})})),Tf}async function lA(n){try{const t=(await PE()).transaction(Ql),i=await t.objectStore(Ql).get(bE(n));return await t.done,i}catch(e){if(e instanceof Gi)$i.warn(e.message);else{const t=Ds.create("idb-get",{originalErrorMessage:e?.message});$i.warn(t.message)}}}async function vv(n,e){try{const i=(await PE()).transaction(Ql,"readwrite");await i.objectStore(Ql).put(e,bE(n)),await i.done}catch(t){if(t instanceof Gi)$i.warn(t.message);else{const i=Ds.create("idb-set",{originalErrorMessage:t?.message});$i.warn(i.message)}}}function bE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=1024,cA=30;class hA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=_v();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>cA){const c=pA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$i.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_v(),{heartbeatsToSend:i,unsentEntries:o}=dA(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function _v(){return new Date().toISOString().substring(0,10)}function dA(n,e=uA){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Ev(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ev(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class fA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZR()?eC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ev(n){return Hc(JSON.stringify({version:2,heartbeats:n})).length}function pA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n){Fa(new Po("platform-logger",e=>new AC(e),"PRIVATE")),Fa(new Po("heartbeat",e=>new hA(e),"PRIVATE")),Vs(Gf,gv,n),Vs(Gf,gv,"esm2017"),Vs("fire-js","")}mA("");function xE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gA=xE,NE=new lu("auth","Firebase",xE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Op("@firebase/auth");function yA(n,...e){Gc.logLevel<=Fe.WARN&&Gc.warn(`Auth (${Ka}): ${n}`,...e)}function Nc(n,...e){Gc.logLevel<=Fe.ERROR&&Gc.error(`Auth (${Ka}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(n,...e){throw Lp(n,...e)}function ai(n,...e){return Lp(n,...e)}function OE(n,e,t){const i=Object.assign(Object.assign({},gA()),{[e]:t});return new lu("auth","Firebase",i).create(e,{appName:n.name})}function ji(n){return OE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return NE.create(n,...e)}function Ie(n,e,...t){if(!n)throw Lp(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nc(e),new Error(e)}function Wi(n,e){n||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function vA(){return wv()==="http:"||wv()==="https:"}function wv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vA()||QR()||"connection"in navigator)?navigator.onLine:!0}function EA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wi(t>e,"Short delay should be less than long delay!"),this.isMobile=qR()||XR()}get(){return _A()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n,e){Wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SA=new cu(3e4,6e4);function Gs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ks(n,e,t,i,o={}){return VE(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=uu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return KR()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ga(n.emulatorConfig.host)&&(y.credentials="include"),DE.fetch()(await LE(n,n.config.apiHost,t,d),y)})}async function VE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wA),e);try{const o=new RA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Tc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Tc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Tc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw OE(n,_,y);Dr(n,_)}}catch(o){if(o instanceof Gi)throw o;Dr(n,"network-request-failed",{message:String(o)})}}async function hu(n,e,t,i,o={}){const l=await Ks(n,e,t,i,o);return"mfaPendingCredential"in l&&Dr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function LE(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?Mp(n.config,o):`${n.config.apiScheme}://${o}`;return TA.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function IA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ai(this.auth,"network-request-failed")),SA.get())})}}function Tc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ai(n,e,i);return o.customData._tokenResponse=t,o}function Tv(n){return n!==void 0&&n.enterprise!==void 0}class CA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return IA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AA(n,e){return Ks(n,"GET","/v2/recaptchaConfig",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(n,e){return Ks(n,"POST","/v1/accounts:delete",e)}async function Kc(n,e){return Ks(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PA(n,e=!1){const t=pn(n),i=await t.getIdToken(e),o=Fp(i);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:i,authTime:Ul(Sf(o.auth_time)),issuedAtTime:Ul(Sf(o.iat)),expirationTime:Ul(Sf(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Sf(n){return Number(n)*1e3}function Fp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_E(t);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Sv(n){const e=Fp(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Gi&&bA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function bA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Xl(n,Kc(t,{idToken:i}));Ie(o?.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ME(l.providerUserInfo):[],d=OA(n.providerData,c),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!d?.length,_=p?y:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Yf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function NA(n){const e=pn(n);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function ME(n){return n.map(e=>{var{providerId:t}=e,i=Np(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(n,e){const t=await VE(n,{},async()=>{const i=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await LE(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Ga(n.emulatorConfig.host)&&(p.credentials="include"),DE.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VA(n,e){return Ks(n,"POST","/v2/accounts:revokeToken",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Sv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await DA(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Na;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PA(this,e)}reload(){return NA(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await Xl(this,kA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,y,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,M=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,U=(c=t.photoURL)!==null&&c!==void 0?c:void 0,F=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=t.createdAt)!==null&&y!==void 0?y:void 0,te=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ne,emailVerified:he,isAnonymous:X,providerData:pe,stsTokenManager:P}=t;Ie(ne&&P,e,"internal-error");const R=Na.fromJSON(this.name,P);Ie(typeof ne=="string",e,"internal-error"),Is(w,e.name),Is(S,e.name),Ie(typeof he=="boolean",e,"internal-error"),Ie(typeof X=="boolean",e,"internal-error"),Is(M,e.name),Is(U,e.name),Is(F,e.name),Is(N,e.name),Is(Y,e.name),Is(te,e.name);const k=new Or({uid:ne,auth:e,email:S,emailVerified:he,displayName:w,isAnonymous:X,photoURL:U,phoneNumber:M,tenantId:F,stsTokenManager:R,createdAt:Y,lastLoginAt:te});return pe&&Array.isArray(pe)&&(k.providerData=pe.map(O=>Object.assign({},O))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new Na;o.updateFromServerResponse(t);const l=new Or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Qc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?ME(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Na;d.updateFromIdToken(i);const p=new Or({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;function Bi(n){Wi(n instanceof Function,"Expected a class definition");let e=Iv.get(n);return e?(Wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Iv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}FE.type="NONE";const Rv=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n,e,t){return`firebase:${n}:${e}:${t}`}class Oa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Oc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Oc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kc(this.auth,{idToken:e}).catch(()=>{});return t?Or._fromGetAccountInfoResponse(this.auth,t,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Oa(Bi(Rv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Bi(Rv);const c=Oc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){let w;if(typeof _=="string"){const S=await Kc(e,{idToken:_}).catch(()=>{});if(!S)break;w=await Or._fromGetAccountInfoResponse(e,S,_)}else w=Or._fromJSON(e,_);y!==l&&(d=w),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Oa(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new Oa(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(HE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||jE(e))&&!e.includes("edge/"))return"Chrome";if($E(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function UE(n=fn()){return/firefox\//i.test(n)}function BE(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jE(n=fn()){return/crios\//i.test(n)}function zE(n=fn()){return/iemobile/i.test(n)}function $E(n=fn()){return/android/i.test(n)}function WE(n=fn()){return/blackberry/i.test(n)}function HE(n=fn()){return/webos/i.test(n)}function Up(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LA(n=fn()){var e;return Up(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MA(){return YR()&&document.documentMode===10}function qE(n=fn()){return Up(n)||$E(n)||HE(n)||WE(n)||/windows phone/i.test(n)||zE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n,e=[]){let t;switch(n){case"Browser":t=Cv(fn());break;case"Worker":t=`${Cv(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ka}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n,e={}){return Ks(n,"GET","/v2/passwordPolicy",Gs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=6;class jA{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:BA,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new FA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kc(this,{idToken:e}),i=await Or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(ji(this));const t=e?pn(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UA(this),t=new jA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await VA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[Bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&yA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Do(n){return pn(n)}class Av{constructor(e){this.auth=e,this.observer=null,this.addObserver=sC(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $A(n){gh=n}function KE(n){return gh.loadJS(n)}function WA(){return gh.recaptchaEnterpriseScript}function HA(){return gh.gapiScript}function qA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class GA{constructor(){this.enterprise=new KA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QA="recaptcha-enterprise",QE="NO_RECAPTCHA";class XA{constructor(e){this.type=QA,this.auth=Do(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{AA(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new CA(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;Tv(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(QE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GA().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Tv(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=WA();p.length!==0&&(p+=d),KE(p).then(()=>{o(d,l,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function kv(n,e,t,i=!1,o=!1){const l=new XA(n);let c;if(o)c=QE;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Jf(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await kv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await kv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n,e){const t=Vp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ko(l,e??{}))return o;Dr(o,"already-initialized")}return t.initialize({options:e})}function JA(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Bi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function ZA(n,e,t){const i=Do(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=XE(e),{host:c,port:d}=ek(e),p=d===null?"":`:${d}`,y={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(ko(y,i.config.emulator)&&ko(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Ga(c)?(SE(`${l}//${c}${p}`),IE("Auth",!0)):tk()}function XE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ek(n){const e=XE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Pv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Pv(c)}}}function Pv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function nk(n,e){return Ks(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(n,e){return hu(n,"POST","/v1/accounts:signInWithPassword",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(n,e){return hu(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}async function sk(n,e){return hu(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Bp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Yl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Yl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jf(e,t,"signInWithPassword",rk);case"emailLink":return ik(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jf(e,i,"signUpPassword",nk);case"emailLink":return sk(e,{idToken:t,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(n,e){return hu(n,"POST","/v1/accounts:signInWithIdp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="http://localhost";class bo extends Bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Np(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new bo(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Da(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Da(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Da(e,t)}buildRequest(){const e={requestUri:ok,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lk(n){const e=xl(Nl(n)).link,t=e?xl(Nl(e)).deep_link_id:null,i=xl(Nl(n)).deep_link_id;return(i?xl(Nl(i)).link:null)||i||t||e||n}class jp{constructor(e){var t,i,o,l,c,d;const p=xl(Nl(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,w=ak((o=p.mode)!==null&&o!==void 0?o:null);Ie(y&&_&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=lk(e);try{return new jp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.providerId=Qa.PROVIDER_ID}static credential(e,t){return Yl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=jp.parseLink(t);return Ie(i,"argument-error"),Yl._fromEmailAndCode(e,i.code,i.tenantId)}}Qa.PROVIDER_ID="password";Qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends YE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends du{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Cs.credential(t,i)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends du{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends du{constructor(){super("twitter.com")}static credential(e,t){return bo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ks.credential(t,i)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(n,e){return hu(n,"POST","/v1/accounts:signUp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Or._fromIdTokenResponse(e,i,o),c=bv(i);return new xo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=bv(i);return new xo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function bv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Gi{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Xc(e,t,i,o)}}function JE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(n,l,e,i):l})}async function ck(n,e,t=!1){const i=await Xl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(n,e,t=!1){const{auth:i}=n;if(yr(i.app))return Promise.reject(ji(i));const o="reauthenticate";try{const l=await Xl(n,JE(i,o,e,n),t);Ie(l.idToken,i,"internal-error");const c=Fp(l.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(n.uid===d,i,"user-mismatch"),xo._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Dr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(n,e,t=!1){if(yr(n.app))return Promise.reject(ji(n));const i="signIn",o=await JE(n,i,e),l=await xo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function dk(n,e){return ZE(Do(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(n){const e=Do(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZN(n,e,t){if(yr(n.app))return Promise.reject(ji(n));const i=Do(n),c=await Jf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ew(n),p}),d=await xo._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function eO(n,e,t){return yr(n.app)?Promise.reject(ji(n)):dk(pn(n),Qa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ew(n),i})}function fk(n,e,t,i){return pn(n).onIdTokenChanged(e,t,i)}function pk(n,e,t){return pn(n).beforeAuthStateChanged(e,t)}function tw(n,e,t,i){return pn(n).onAuthStateChanged(e,t,i)}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=1e3,gk=10;class rw extends nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);MA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},mk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rw.type="LOCAL";const yk=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iw.type="SESSION";const sw=iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new yh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await vk(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=zp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function Ek(n){li().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function wk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tk(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Sk(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebaseLocalStorageDb",Ik=1,Jc="firebaseLocalStorage",lw="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vh(n,e){return n.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function Rk(){const n=indexedDB.deleteDatabase(aw);return new fu(n).toPromise()}function Zf(){const n=indexedDB.open(aw,Ik);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jc,{keyPath:lw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jc)?e(i):(i.close(),await Rk(),e(await Zf()))})})}async function xv(n,e,t){const i=vh(n,!0).put({[lw]:e,value:t});return new fu(i).toPromise()}async function Ck(n,e){const t=vh(n,!1).get(e),i=await new fu(t).toPromise();return i===void 0?null:i.value}function Nv(n,e){const t=vh(n,!0).delete(e);return new fu(t).toPromise()}const Ak=800,kk=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(Sk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wk(),!this.activeServiceWorker)return;this.sender=new _k(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zf();return await xv(e,Yc,"1"),await Nv(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>xv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Ck(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Nv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=vh(o,!1).getAll();return new fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const Pk=uw;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n,e){return e?Bi(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends Bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xk(n){return ZE(n.auth,new $p(n),n.bypassAuthState)}function Nk(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),hk(t,new $p(n),n.bypassAuthState)}async function Ok(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),ck(t,new $p(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xk;case"linkViaPopup":case"linkViaRedirect":return Ok;case"reauthViaPopup":case"reauthViaRedirect":return Nk;default:Dr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new cu(2e3,1e4);class Pa extends cw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dk.get())};e()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="pendingRedirect",Dc=new Map;class Lk extends cw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const i=await Mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mk(n,e){const t=Bk(e),i=Uk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Fk(n,e){Dc.set(n._key(),e)}function Uk(n){return Bi(n._redirectPersistence)}function Bk(n){return Oc(Vk,n.config.apiKey,n.name)}async function jk(n,e,t=!1){if(yr(n.app))return Promise.reject(ji(n));const i=Do(n),o=bk(i,e),c=await new Lk(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=10*60*1e3;class $k{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!hw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ai(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(e))}saveEventToCache(e){this.cachedEventUids.add(Ov(e)),this.lastProcessedEventTime=Date.now()}}function Ov(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Wk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,e={}){return Ks(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gk=/^https?/;async function Kk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Hk(n);for(const t of e)try{if(Qk(t))return}catch{}Dr(n,"unauthorized-domain")}function Qk(n){const e=Xf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Gk.test(t))return!1;if(qk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new cu(3e4,6e4);function Dv(){const n=li().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Yk(n){return new Promise((e,t)=>{var i,o,l;function c(){Dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dv(),t(ai(n,"network-request-failed"))},timeout:Xk.get()})}if(!((o=(i=li().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=li().gapi)===null||l===void 0)&&l.load)c();else{const d=qA("iframefcb");return li()[d]=()=>{gapi.load?c():t(ai(n,"network-request-failed"))},KE(`${HA()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function Jk(n){return Vc=Vc||Yk(n),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new cu(5e3,15e3),eP="__/auth/iframe",tP="emulator/auth/iframe",nP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iP(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mp(e,tP):`https://${n.config.authDomain}/${eP}`,i={apiKey:e.apiKey,appName:n.name,v:Ka},o=rP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${uu(i).slice(1)}`}async function sP(n){const e=await Jk(n),t=li().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:iP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=ai(n,"network-request-failed"),d=li().setTimeout(()=>{l(c)},Zk.get());function p(){li().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aP=500,lP=600,uP="_blank",cP="http://localhost";class Vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hP(n,e,t,i=aP,o=lP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},oP),{width:i.toString(),height:o.toString(),top:l,left:c}),y=fn().toLowerCase();t&&(d=jE(y)?uP:t),UE(y)&&(e=e||cP,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[M,U])=>`${S}${M}=${U},`,"");if(LA(y)&&d!=="_self")return dP(e||"",d),new Vv(null);const w=window.open(e||"",d,_);Ie(w,n,"popup-blocked");try{w.focus()}catch{}return new Vv(w)}function dP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="__/auth/handler",pP="emulator/auth/handler",mP=encodeURIComponent("fac");async function Lv(n,e,t,i,o,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ka,eventId:o};if(e instanceof YE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",iC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof du){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${mP}=${encodeURIComponent(p)}`:"";return`${gP(n)}?${uu(d).slice(1)}${y}`}function gP({config:n}){return n.emulator?Mp(n,pP):`https://${n.authDomain}/${fP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="webStorageSupport";class yP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sw,this._completeRedirectFn=jk,this._overrideRedirectResult=Fk}async _openPopup(e,t,i,o){var l;Wi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Lv(e,t,i,Xf(),o);return hP(e,c,zp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Lv(e,t,i,Xf(),o);return Ek(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Wi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await sP(e),i=new $k(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(If,{type:If},o=>{var l;const c=(l=o?.[0])===null||l===void 0?void 0:l[If];c!==void 0&&t(!!c),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Kk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qE()||BE()||Up()}}const vP=yP;var Mv="@firebase/auth",Fv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wP(n){Fa(new Po("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(n)},y=new zA(i,o,l,p);return JA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Fa(new Po("auth-internal",e=>{const t=Do(e.getProvider("auth").getImmediate());return(i=>new _P(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(Mv,Fv,EP(n)),Vs(Mv,Fv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=5*60,SP=TE("authIdTokenMaxAge")||TP;let Uv=null;const IP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>SP)return;const o=t?.token;Uv!==o&&(Uv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RP(n=kE()){const e=Vp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=YA(n,{popupRedirectResolver:vP,persistence:[Pk,yk,sw]}),i=TE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=IP(l.toString());pk(t,c,()=>c(t.currentUser)),fk(t,d=>c(d))}}const o=EE("auth");return o&&ZA(t,`http://${o}`),t}function CP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$A({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=ai("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",CP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wP("Browser");var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,dw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function k(){}k.prototype=R.prototype,P.D=R.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(O,L,j){for(var A=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)A[pt-2]=arguments[pt];return R.prototype[L].apply(O,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,k){k||(k=0);var O=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)O[L]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(L=0;16>L;++L)O[L]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=P.g[0],k=P.g[1],L=P.g[2];var j=P.g[3],A=R+(j^k&(L^j))+O[0]+3614090360&4294967295;R=k+(A<<7&4294967295|A>>>25),A=j+(L^R&(k^L))+O[1]+3905402710&4294967295,j=R+(A<<12&4294967295|A>>>20),A=L+(k^j&(R^k))+O[2]+606105819&4294967295,L=j+(A<<17&4294967295|A>>>15),A=k+(R^L&(j^R))+O[3]+3250441966&4294967295,k=L+(A<<22&4294967295|A>>>10),A=R+(j^k&(L^j))+O[4]+4118548399&4294967295,R=k+(A<<7&4294967295|A>>>25),A=j+(L^R&(k^L))+O[5]+1200080426&4294967295,j=R+(A<<12&4294967295|A>>>20),A=L+(k^j&(R^k))+O[6]+2821735955&4294967295,L=j+(A<<17&4294967295|A>>>15),A=k+(R^L&(j^R))+O[7]+4249261313&4294967295,k=L+(A<<22&4294967295|A>>>10),A=R+(j^k&(L^j))+O[8]+1770035416&4294967295,R=k+(A<<7&4294967295|A>>>25),A=j+(L^R&(k^L))+O[9]+2336552879&4294967295,j=R+(A<<12&4294967295|A>>>20),A=L+(k^j&(R^k))+O[10]+4294925233&4294967295,L=j+(A<<17&4294967295|A>>>15),A=k+(R^L&(j^R))+O[11]+2304563134&4294967295,k=L+(A<<22&4294967295|A>>>10),A=R+(j^k&(L^j))+O[12]+1804603682&4294967295,R=k+(A<<7&4294967295|A>>>25),A=j+(L^R&(k^L))+O[13]+4254626195&4294967295,j=R+(A<<12&4294967295|A>>>20),A=L+(k^j&(R^k))+O[14]+2792965006&4294967295,L=j+(A<<17&4294967295|A>>>15),A=k+(R^L&(j^R))+O[15]+1236535329&4294967295,k=L+(A<<22&4294967295|A>>>10),A=R+(L^j&(k^L))+O[1]+4129170786&4294967295,R=k+(A<<5&4294967295|A>>>27),A=j+(k^L&(R^k))+O[6]+3225465664&4294967295,j=R+(A<<9&4294967295|A>>>23),A=L+(R^k&(j^R))+O[11]+643717713&4294967295,L=j+(A<<14&4294967295|A>>>18),A=k+(j^R&(L^j))+O[0]+3921069994&4294967295,k=L+(A<<20&4294967295|A>>>12),A=R+(L^j&(k^L))+O[5]+3593408605&4294967295,R=k+(A<<5&4294967295|A>>>27),A=j+(k^L&(R^k))+O[10]+38016083&4294967295,j=R+(A<<9&4294967295|A>>>23),A=L+(R^k&(j^R))+O[15]+3634488961&4294967295,L=j+(A<<14&4294967295|A>>>18),A=k+(j^R&(L^j))+O[4]+3889429448&4294967295,k=L+(A<<20&4294967295|A>>>12),A=R+(L^j&(k^L))+O[9]+568446438&4294967295,R=k+(A<<5&4294967295|A>>>27),A=j+(k^L&(R^k))+O[14]+3275163606&4294967295,j=R+(A<<9&4294967295|A>>>23),A=L+(R^k&(j^R))+O[3]+4107603335&4294967295,L=j+(A<<14&4294967295|A>>>18),A=k+(j^R&(L^j))+O[8]+1163531501&4294967295,k=L+(A<<20&4294967295|A>>>12),A=R+(L^j&(k^L))+O[13]+2850285829&4294967295,R=k+(A<<5&4294967295|A>>>27),A=j+(k^L&(R^k))+O[2]+4243563512&4294967295,j=R+(A<<9&4294967295|A>>>23),A=L+(R^k&(j^R))+O[7]+1735328473&4294967295,L=j+(A<<14&4294967295|A>>>18),A=k+(j^R&(L^j))+O[12]+2368359562&4294967295,k=L+(A<<20&4294967295|A>>>12),A=R+(k^L^j)+O[5]+4294588738&4294967295,R=k+(A<<4&4294967295|A>>>28),A=j+(R^k^L)+O[8]+2272392833&4294967295,j=R+(A<<11&4294967295|A>>>21),A=L+(j^R^k)+O[11]+1839030562&4294967295,L=j+(A<<16&4294967295|A>>>16),A=k+(L^j^R)+O[14]+4259657740&4294967295,k=L+(A<<23&4294967295|A>>>9),A=R+(k^L^j)+O[1]+2763975236&4294967295,R=k+(A<<4&4294967295|A>>>28),A=j+(R^k^L)+O[4]+1272893353&4294967295,j=R+(A<<11&4294967295|A>>>21),A=L+(j^R^k)+O[7]+4139469664&4294967295,L=j+(A<<16&4294967295|A>>>16),A=k+(L^j^R)+O[10]+3200236656&4294967295,k=L+(A<<23&4294967295|A>>>9),A=R+(k^L^j)+O[13]+681279174&4294967295,R=k+(A<<4&4294967295|A>>>28),A=j+(R^k^L)+O[0]+3936430074&4294967295,j=R+(A<<11&4294967295|A>>>21),A=L+(j^R^k)+O[3]+3572445317&4294967295,L=j+(A<<16&4294967295|A>>>16),A=k+(L^j^R)+O[6]+76029189&4294967295,k=L+(A<<23&4294967295|A>>>9),A=R+(k^L^j)+O[9]+3654602809&4294967295,R=k+(A<<4&4294967295|A>>>28),A=j+(R^k^L)+O[12]+3873151461&4294967295,j=R+(A<<11&4294967295|A>>>21),A=L+(j^R^k)+O[15]+530742520&4294967295,L=j+(A<<16&4294967295|A>>>16),A=k+(L^j^R)+O[2]+3299628645&4294967295,k=L+(A<<23&4294967295|A>>>9),A=R+(L^(k|~j))+O[0]+4096336452&4294967295,R=k+(A<<6&4294967295|A>>>26),A=j+(k^(R|~L))+O[7]+1126891415&4294967295,j=R+(A<<10&4294967295|A>>>22),A=L+(R^(j|~k))+O[14]+2878612391&4294967295,L=j+(A<<15&4294967295|A>>>17),A=k+(j^(L|~R))+O[5]+4237533241&4294967295,k=L+(A<<21&4294967295|A>>>11),A=R+(L^(k|~j))+O[12]+1700485571&4294967295,R=k+(A<<6&4294967295|A>>>26),A=j+(k^(R|~L))+O[3]+2399980690&4294967295,j=R+(A<<10&4294967295|A>>>22),A=L+(R^(j|~k))+O[10]+4293915773&4294967295,L=j+(A<<15&4294967295|A>>>17),A=k+(j^(L|~R))+O[1]+2240044497&4294967295,k=L+(A<<21&4294967295|A>>>11),A=R+(L^(k|~j))+O[8]+1873313359&4294967295,R=k+(A<<6&4294967295|A>>>26),A=j+(k^(R|~L))+O[15]+4264355552&4294967295,j=R+(A<<10&4294967295|A>>>22),A=L+(R^(j|~k))+O[6]+2734768916&4294967295,L=j+(A<<15&4294967295|A>>>17),A=k+(j^(L|~R))+O[13]+1309151649&4294967295,k=L+(A<<21&4294967295|A>>>11),A=R+(L^(k|~j))+O[4]+4149444226&4294967295,R=k+(A<<6&4294967295|A>>>26),A=j+(k^(R|~L))+O[11]+3174756917&4294967295,j=R+(A<<10&4294967295|A>>>22),A=L+(R^(j|~k))+O[2]+718787259&4294967295,L=j+(A<<15&4294967295|A>>>17),A=k+(j^(L|~R))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+j&4294967295}i.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var k=R-this.blockSize,O=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=k;)o(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<R;)if(O[L++]=P.charCodeAt(j++),L==this.blockSize){o(this,O),L=0;break}}else for(;j<R;)if(O[L++]=P[j++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=R},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var k=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=k&255,k/=256;for(this.u(P),P=Array(16),R=k=0;4>R;++R)for(var O=0;32>O;O+=8)P[k++]=this.g[R]>>>O&255;return P};function l(P,R){var k=d;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=R(P)}function c(P,R){this.h=R;for(var k=[],O=!0,L=P.length-1;0<=L;L--){var j=P[L]|0;O&&j==R||(k[L]=j,O=!1)}this.g=k}var d={};function p(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return N(y(-P));for(var R=[],k=1,O=0;P>=k;O++)R[O]=P/k|0,k*=4294967296;return new c(R,0)}function _(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return N(_(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(R,8)),O=w,L=0;L<P.length;L+=8){var j=Math.min(8,P.length-L),A=parseInt(P.substring(L,L+j),R);8>j?(j=y(Math.pow(R,j)),O=O.j(j).add(y(A))):(O=O.j(k),O=O.add(y(A)))}return O}var w=p(0),S=p(1),M=p(16777216);n=c.prototype,n.m=function(){if(F(this))return-N(this).m();for(var P=0,R=1,k=0;k<this.g.length;k++){var O=this.i(k);P+=(0<=O?O:4294967296+O)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(U(this))return"0";if(F(this))return"-"+N(this).toString(P);for(var R=y(Math.pow(P,6)),k=this,O="";;){var L=he(k,R).g;k=Y(k,L.j(R));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=L,U(k))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function U(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function F(P){return P.h==-1}n.l=function(P){return P=Y(this,P),F(P)?-1:U(P)?0:1};function N(P){for(var R=P.g.length,k=[],O=0;O<R;O++)k[O]=~P.g[O];return new c(k,~P.h).add(S)}n.abs=function(){return F(this)?N(this):this},n.add=function(P){for(var R=Math.max(this.g.length,P.g.length),k=[],O=0,L=0;L<=R;L++){var j=O+(this.i(L)&65535)+(P.i(L)&65535),A=(j>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);O=A>>>16,j&=65535,A&=65535,k[L]=A<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function Y(P,R){return P.add(N(R))}n.j=function(P){if(U(this)||U(P))return w;if(F(this))return F(P)?N(this).j(N(P)):N(N(this).j(P));if(F(P))return N(this.j(N(P)));if(0>this.l(M)&&0>P.l(M))return y(this.m()*P.m());for(var R=this.g.length+P.g.length,k=[],O=0;O<2*R;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<P.g.length;L++){var j=this.i(O)>>>16,A=this.i(O)&65535,pt=P.i(L)>>>16,zt=P.i(L)&65535;k[2*O+2*L]+=A*zt,te(k,2*O+2*L),k[2*O+2*L+1]+=j*zt,te(k,2*O+2*L+1),k[2*O+2*L+1]+=A*pt,te(k,2*O+2*L+1),k[2*O+2*L+2]+=j*pt,te(k,2*O+2*L+2)}for(O=0;O<R;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=R;O<2*R;O++)k[O]=0;return new c(k,0)};function te(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function ne(P,R){this.g=P,this.h=R}function he(P,R){if(U(R))throw Error("division by zero");if(U(P))return new ne(w,w);if(F(P))return R=he(N(P),R),new ne(N(R.g),N(R.h));if(F(R))return R=he(P,N(R)),new ne(N(R.g),R.h);if(30<P.g.length){if(F(P)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var k=S,O=R;0>=O.l(P);)k=X(k),O=X(O);var L=pe(k,1),j=pe(O,1);for(O=pe(O,2),k=pe(k,2);!U(O);){var A=j.add(O);0>=A.l(P)&&(L=L.add(k),j=A),O=pe(O,1),k=pe(k,1)}return R=Y(P,L.j(R)),new ne(L,R)}for(L=w;0<=P.l(R);){for(k=Math.max(1,Math.floor(P.m()/R.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=y(k),A=j.j(R);F(A)||0<A.l(P);)k-=O,j=y(k),A=j.j(R);U(j)&&(j=S),L=L.add(j),P=Y(P,A)}return new ne(L,P)}n.A=function(P){return he(this,P).h},n.and=function(P){for(var R=Math.max(this.g.length,P.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)&P.i(O);return new c(k,this.h&P.h)},n.or=function(P){for(var R=Math.max(this.g.length,P.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)|P.i(O);return new c(k,this.h|P.h)},n.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)^P.i(O);return new c(k,this.h^P.h)};function X(P){for(var R=P.g.length+1,k=[],O=0;O<R;O++)k[O]=P.i(O)<<1|P.i(O-1)>>>31;return new c(k,P.h)}function pe(P,R){var k=R>>5;R%=32;for(var O=P.g.length-k,L=[],j=0;j<O;j++)L[j]=0<R?P.i(j+k)>>>R|P.i(j+k+1)<<32-R:P.i(j+k);return new c(L,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,dw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Ls=c}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fw,Ol,pw,Lc,ep,mw,gw,yw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in v))break e;v=v[z]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,T=!1,z={next:function(){if(!T&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,S.apply(null,arguments)}function M(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function U(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,z,G){for(var oe=Array(arguments.length-2),it=2;it<arguments.length;it++)oe[it-2]=arguments[it];return m.prototype[z].apply(T,oe)}}function F(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function N(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const z=u.length||0,G=T.length||0;u.length=z+G;for(let oe=0;oe<G;oe++)u[z+oe]=T[oe]}else u.push(T)}}class Y{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var X=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function pe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function P(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let v,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(v in T)u[v]=T[v];for(let G=0;G<k.length;G++)v=k[G],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function L(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function j(u){d.setTimeout(()=>{throw u},0)}function A(){var u=Ee;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const T=zt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var zt=new Y(()=>new $t,u=>u.reset());class $t{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,le=!1,Ee=new pt,ue=()=>{const u=d.Promise.resolve(void 0);Ye=()=>{u.then(B)}};var B=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){j(v)}var m=zt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Ne(u,m){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(X){e:{try{he(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}U(Ne,ae);var Oe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Me=0;function nt(u,m,v,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=z,this.key=++Me,this.da=this.fa=!1}function _t(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function nr(u){this.src=u,this.g={},this.h=0}nr.prototype.add=function(u,m,v,T,z){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var oe=Lr(u,m,T,z);return-1<oe?(m=u[oe],v||(m.fa=!1)):(m=new nt(m,this.src,G,!!T,z),m.fa=v,u.push(m)),m};function mi(u,m){var v=m.type;if(v in u.g){var T=u.g[v],z=Array.prototype.indexOf.call(T,m,void 0),G;(G=0<=z)&&Array.prototype.splice.call(T,z,1),G&&(_t(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Lr(u,m,v,T){for(var z=0;z<u.length;++z){var G=u[z];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==T)return z}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),Ki={};function Ys(u,m,v,T,z){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Ys(u,m[G],v,T,z);return null}return v=Xi(v),u&&u[je]?u.K(m,v,y(T)?!!T.capture:!1,z):Js(u,m,v,!1,T,z)}function Js(u,m,v,T,z,G){if(!m)throw Error("Invalid event type");var oe=y(z)?!!z.capture:!!z,it=mn(u);if(it||(u[gi]=it=new nr(u)),v=it.add(m,v,T,oe,G),v.proxy)return v;if(T=Fo(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)be||(z=oe),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fo(){function u(v){return m.call(u.src,u.listener,v)}const m=Mr;return u}function Qi(u,m,v,T,z){if(Array.isArray(m))for(var G=0;G<m.length;G++)Qi(u,m[G],v,T,z);else T=y(T)?!!T.capture:!!T,v=Xi(v),u&&u[je]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=Lr(G,v,T,z),-1<v&&(_t(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=mn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Lr(m,v,T,z)),(v=-1<u?m[u]:null)&&Cn(v))}function Cn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[je])mi(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(zn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=mn(m))?(mi(v,u),v.h==0&&(v.src=null,m[gi]=null)):_t(u)}}}function zn(u){return u in Ki?Ki[u]:Ki[u]="on"+u}function Mr(u,m){if(u.da)u=!0;else{m=new Ne(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&Cn(u),u=v.call(T,m)}return u}function mn(u){return u=u[gi],u instanceof nr?u:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xi(u){return typeof u=="function"?u:(u[yi]||(u[yi]=function(m){return u.handleEvent(m)}),u[yi])}function wt(){K.call(this),this.i=new nr(this),this.M=this,this.F=null}U(wt,K),wt.prototype[je]=!0,wt.prototype.removeEventListener=function(u,m,v,T){Qi(this,u,m,v,T)};function Tt(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new ae(m,u);else if(m instanceof ae)m.target=m.target||u;else{var z=m;m=new ae(T,u),O(m,z)}if(z=!0,v)for(var G=v.length-1;0<=G;G--){var oe=m.g=v[G];z=An(oe,T,!0,m)&&z}if(oe=m.g=u,z=An(oe,T,!0,m)&&z,z=An(oe,T,!1,m)&&z,v)for(G=0;G<v.length;G++)oe=m.g=v[G],z=An(oe,T,!1,m)&&z}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)_t(v[T]);delete u.g[m],u.h--}}this.F=null},wt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},wt.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function An(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,G=0;G<m.length;++G){var oe=m[G];if(oe&&!oe.da&&oe.capture==v){var it=oe.listener,Lt=oe.ha||oe.src;oe.fa&&mi(u.i,oe),z=it.call(Lt,T)!==!1&&z}}return z&&!T.defaultPrevented}function Yi(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Er(u){u.g=Yi(()=>{u.g=null,u.i&&(u.i=!1,Er(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fr extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(u){K.call(this),this.h=u,this.g={}}U(Ur,K);var Zs=[];function eo(u){pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Cn(m)},u),u.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),eo(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Br=d.JSON.parse,to=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function jr(){}jr.prototype.h=null;function Ji(u){return u.h||(u.h=u.i())}function vi(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){ae.call(this,"d")}U(rr,ae);function kn(){ae.call(this,"c")}U(kn,ae);var ir={},no=null;function _i(){return no=no||new wt}ir.La="serverreachability";function ro(u){ae.call(this,ir.La,u)}U(ro,ae);function wr(u){const m=_i();Tt(m,new ro(m))}ir.STAT_EVENT="statevent";function gn(u,m){ae.call(this,ir.STAT_EVENT,u),this.stat=m}U(gn,ae);function mt(u){const m=_i();Tt(m,new gn(m,u))}ir.Ma="timingevent";function Zi(u,m){ae.call(this,ir.Ma,u),this.size=m}U(Zi,ae);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function wi(u,m,v,T,z,G){u.info(function(){if(u.g)if(G)for(var oe="",it=G.split("&"),Lt=0;Lt<it.length;Lt++){var $e=it[Lt].split("=");if(1<$e.length){var qt=$e[0];$e=$e[1];var Pt=qt.split("_");oe=2<=Pt.length&&Pt[1]=="type"?oe+(qt+"="+$e+"&"):oe+(qt+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+v+`
`+oe})}function Hn(u,m,v,T,z,G,oe){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+v+`
`+G+" "+oe})}function qn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+el(u,v)+(T?" "+T:"")})}function io(u,m){u.info(function(){return"TIMEOUT: "+m})}Ei.prototype.info=function(){};function el(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return $n(v)}catch{return m}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ht;function Ti(){}U(Ti,jr),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Ht=new Ti;function Gn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bo}function Bo(){this.i=null,this.g="",this.h=!1}var so={},ts={};function ns(u,m,v){u.L=1,u.v=Hr(vn(m)),u.m=v,u.P=!0,Si(u,null)}function Si(u,m){u.F=Date.now(),Je(u),u.A=vn(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Gr(v.i,"t",T),u.C=0,v=u.j.J,u.h=new Bo,u.g=Su(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Fr(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Zs[0]=z.toString()),z=Zs);for(var G=0;G<z.length;G++){var oe=Ys(v,z[G],T||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wr(),wi(u.i,u.u,u.A,u.l,u.R,u.m)}Gn.prototype.ca=function(u){u=u.target;const m=this.M;m&&ot(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)e:{const Pt=ot(this.g);var m=this.g.Ba();const lr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Vt(this.g)))){this.J||Pt!=4||m==7||(m==8||0>=lr?wr(3):wr(2)),sr(this);var v=this.g.Z();this.X=v;t:if(jo(this)){var T=Vt(this.g);u="";var z=T.length,G=ot(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),Tr(this);var oe="";break t}this.h.i=new d.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(G&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Hn(this.i,this.u,this.A,this.l,this.R,Pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Lt=this.g;if((it=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(it)){var $e=it;break t}}$e=null}if(v=$e)qn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oo(this,v);else{this.o=!1,this.s=3,mt(12),Pn(this),Tr(this);break e}}if(this.P){v=!0;let Xn;for(;!this.J&&this.C<oe.length;)if(Xn=rs(this,oe),Xn==ts){Pt==4&&(this.s=4,mt(14),v=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==so){this.s=4,mt(15),qn(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else qn(this.i,this.l,Xn,null),oo(this,Xn);if(jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||oe.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)qn(this.i,this.l,oe,"[Invalid Chunked Response]"),Pn(this),Tr(this);else if(0<oe.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),nl(qt),qt.M=!0,mt(11))}}else qn(this.i,this.l,oe,null),oo(this,oe);Pt==4&&Pn(this),this.o&&!this.J&&(Pt==4?na(this.j,this):(this.o=!1,Je(this)))}else ar(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Pn(this),Tr(this)}}}catch{}finally{}};function jo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rs(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ts:(v=Number(m.substring(v,T)),isNaN(v)?so:(T+=1,T+v>m.length?ts:(m=m.slice(T,T+v),u.C=T+v,m)))}Gn.prototype.cancel=function(){this.J=!0,Pn(this)};function Je(u){u.S=Date.now()+u.I,zo(u,u.I)}function zo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Wn(S(u.ba,u),m)}function sr(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(io(this.i,this.A),this.L!=2&&(wr(),mt(17)),Pn(this),this.s=2,Tr(this)):zo(this,this.S-u)};function Tr(u){u.j.G==0||u.J||na(u.j,u)}function Pn(u){sr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,eo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function oo(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Yt(v.h,u))){if(!u.K&&Yt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ta(v),Cr(v);else break e;ea(v),mt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Wn(S(v.Za,v),6e3));if(1>=Wo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ki(v,11)}else if((u.K||v.g==u)&&ta(v),!te(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let $e=z[m];if(v.T=$e[0],$e=$e[1],v.G==2)if($e[0]=="c"){v.K=$e[1],v.ia=$e[2];const qt=$e[3];qt!=null&&(v.la=qt,v.j.info("VER="+v.la));const Pt=$e[4];Pt!=null&&(v.Aa=Pt,v.j.info("SVER="+v.Aa));const lr=$e[5];lr!=null&&typeof lr=="number"&&0<lr&&(T=1.5*lr,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Xn=u.g;if(Xn){const ho=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ho){var G=T.h;G.g||ho.indexOf("spdy")==-1&&ho.indexOf("quic")==-1&&ho.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ao(G,G.h),G.h=null))}if(T.D){const ia=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(T.ya=ia,rt(T.I,T.D,ia))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var oe=u;if(T.qa=Tu(T,T.J?T.ia:null,T.W),oe.K){Ho(T.h,oe);var it=oe,Lt=T.L;Lt&&(it.I=Lt),it.B&&(sr(it),Je(it)),T.g=oe}else co(T);0<v.i.length&&Qr(v)}else $e[0]!="stop"&&$e[0]!="close"||ki(v,7);else v.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ki(v,7):kt(v):$e[0]!="noop"&&v.l&&v.l.ta($e),v.v=0)}}wr(4)}catch{}}var $o=class{constructor(u,m){this.g=u,this.map=m}};function zr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wo(u){return u.h?1:u.g?u.g.size:0}function Yt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ao(u,m){u.g?u.g.add(m):u.h=m}function Ho(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zr.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return F(u.i)}function is(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function ss(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=ss(u),T=is(u),z=T.length,G=0;G<z;G++)m.call(void 0,T[G],v&&v[G],u)}var Ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),z=null;if(0<=T){var G=u[v].substring(0,T);z=u[v].substring(T+1)}else G=u[v];m(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Kn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Kn){this.h=u.h,Ri(this,u.j),this.o=u.o,this.g=u.g,Sr(this,u.s),this.l=u.l;var m=u.i,v=new _n;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Wr(this,v),this.m=u.m}else u&&(m=String(u).match(Ii))?(this.h=!1,Ri(this,m[1]||"",!0),this.o=Ve(m[2]||""),this.g=Ve(m[3]||"",!0),Sr(this,m[4]),this.l=Ve(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=Ve(m[7]||"")):(this.h=!1,this.i=new _n(null,this.h))}Kn.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qr(m,as,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qr(m,as,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(qr(v,v.charAt(0)=="/"?Ko:ls,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",qr(v,lo)),u.join("")};function vn(u){return new Kn(u)}function Ri(u,m,v){u.j=v?Ve(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Sr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Wr(u,m,v){m instanceof _n?(u.i=m,bn(u.i,u.h)):(v||(m=qr(m,Qo)),u.i=new _n(m,u.h))}function rt(u,m,v){u.i.set(m,v)}function Hr(u){return rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Go),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Go(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var as=/[#\/\?@]/g,ls=/[#\?:]/g,Ko=/[#\?]/g,Qo=/[#\?@]/g,lo=/#/g;function _n(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function St(u){u.g||(u.g=new Map,u.h=0,u.i&&os(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=_n.prototype,n.add=function(u,m){St(this),this.i=null,u=Tn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function En(u,m){St(u),m=Tn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wn(u,m){return St(u),m=Tn(u,m),u.g.has(m)}n.forEach=function(u,m){St(this),this.g.forEach(function(v,T){v.forEach(function(z){u.call(m,z,T,this)},this)},this)},n.na=function(){St(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const z=u[T];for(let G=0;G<z.length;G++)v.push(m[T])}return v},n.V=function(u){St(this);let m=[];if(typeof u=="string")wn(this,u)&&(m=m.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return St(this),this.i=null,u=Tn(this,u),wn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gr(u,m,v){En(u,m),0<v.length&&(u.i=null,u.g.set(Tn(u,m),F(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const G=encodeURIComponent(String(T)),oe=this.V(T);for(T=0;T<oe.length;T++){var z=G;oe[T]!==""&&(z+="="+encodeURIComponent(String(oe[T]))),u.push(z)}}return this.i=u.join("&")};function Tn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function bn(u,m){m&&!u.j&&(St(u),u.i=null,u.g.forEach(function(v,T){var z=T.toLowerCase();T!=z&&(En(this,T),Gr(this,z,v))},u)),u.j=m}function Xo(u,m){const v=new Ei;if(d.Image){const T=new Image;T.onload=M(At,v,"TestLoadImage: loaded",!0,m,T),T.onerror=M(At,v,"TestLoadImage: error",!1,m,T),T.onabort=M(At,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=M(At,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function or(u,m){const v=new Ei,T=new AbortController,z=setTimeout(()=>{T.abort(),At(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout(z),G.ok?At(v,"TestPingServer: ok",!0,m):At(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),At(v,"TestPingServer: error",!1,m)})}function At(u,m,v,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(v)}catch{}}function tl(){this.g=new to}function uo(u,m,v){const T=v||"";try{$r(u,function(z,G){let oe=z;y(z)&&(oe=$n(z)),m.push(T+G+"="+encodeURIComponent(oe))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Ir(u){this.l=u.Ub||null,this.j=u.eb||!1}U(Ir,jr),Ir.prototype.g=function(){return new Kr(this.l,this.j)},Ir.prototype.i=function(u){return function(){return u}}({});function Kr(u,m){wt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Kr,wt),n=Kr.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,xn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):xn(this),this.readyState==3&&Yo(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},n.Qa=function(u){this.g&&(this.response=u,Qn(this))},n.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rr(u){let m="";return pe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function I(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Rr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):rt(u,m,v))}function b(u){wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(b,wt);var q=/^https?$/i,fe=["POST","PUT"];n=b.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ht.g(),this.v=this.o?Ji(this.o):Ji(Ht),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){xe(this,G);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)v.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())v.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(fe,m,void 0))||T||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of v)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ge(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){xe(this,G)}};function xe(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ze(u),Ae(u)}function ze(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tt(this,"complete"),Tt(this,"abort"),Ae(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ae(this,!0)),b.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ze(this):this.bb())},n.bb=function(){Ze(this)};function Ze(u){if(u.h&&typeof c<"u"&&(!u.v[1]||ot(u)!=4||u.Z()!=2)){if(u.u&&ot(u)==4)Yi(u.Ea,0,u);else if(Tt(u,"readystatechange"),ot(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=oe===0){var z=String(u.D).match(Ii)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),T=!q.test(z?z.toLowerCase():"")}v=T}if(v)Tt(u,"complete"),Tt(u,"success");else{u.m=6;try{var G=2<ot(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",ze(u)}}finally{Ae(u)}}}}function Ae(u,m){if(u.g){Ge(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Tt(u,"ready");try{v.onreadystatechange=T}catch{}}}function Ge(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ot(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ot(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Br(m)}};function Vt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(u){const m={};u=(u.g&&2<=ot(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(te(u[T]))continue;var v=L(u[T]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[z]||[];m[z]=G,G.push(v)}P(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ci(u){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nn("baseRetryDelayMs",5e3,u),this.cb=Nn("retryDelaySeedMs",1e4,u),this.Wa=Nn("forwardChannelMaxRetries",2,u),this.wa=Nn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zr(u&&u.concurrentRequestLimit),this.Da=new tl,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ci.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,T){mt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Tu(this,null,this.W),Qr(this)};function kt(u){if(Jo(u),u.G==3){var m=u.U++,v=vn(u.I);if(rt(v,"SID",u.K),rt(v,"RID",m),rt(v,"TYPE","terminate"),Ai(u,v),m=new Gn(u,u.j,m),m.L=2,m.v=Hr(vn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Je(m)}wu(u)}function Cr(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function Jo(u){Cr(u),u.u&&(d.clearTimeout(u.u),u.u=null),ta(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Qr(u){if(!yn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ye||ue(),le||(Ye(),le=!0),Ee.add(m,u),u.B=0}}function Fh(u,m){return Wo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Wn(S(u.Ga,u,m),Eu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Gn(this,this.j,u);let G=this.o;if(this.S&&(G?(G=R(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=us(this,z,m),v=vn(this.I),rt(v,"RID",u),rt(v,"CVER",22),this.D&&rt(v,"X-HTTP-Session-Id",this.D),Ai(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(Rr(G)))+"&"+m:this.m&&I(v,this.m,G)),ao(this.h,z),this.Ua&&rt(v,"TYPE","init"),this.P?(rt(v,"$req",m),rt(v,"SID","null"),z.T=!0,ns(z,v,null)):ns(z,v,m),this.G=2}}else this.G==3&&(u?Zo(this,u):this.i.length==0||yn(this.h)||Zo(this))};function Zo(u,m){var v;m?v=m.l:v=u.U++;const T=vn(u.I);rt(T,"SID",u.K),rt(T,"RID",v),rt(T,"AID",u.T),Ai(u,T),u.m&&u.o&&I(T,u.m,u.o),v=new Gn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=us(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ao(u.h,v),ns(v,T,m)}function Ai(u,m){u.H&&pe(u.H,function(v,T){rt(m,T,v)}),u.l&&$r({},function(v,T){rt(m,T,v)})}function us(u,m,v){v=Math.min(u.i.length,v);var T=u.l?S(u.l.Na,u.l,u):null;e:{var z=u.i;let G=-1;for(;;){const oe=["count="+v];G==-1?0<v?(G=z[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let it=!0;for(let Lt=0;Lt<v;Lt++){let $e=z[Lt].g;const qt=z[Lt].map;if($e-=G,0>$e)G=Math.max(0,z[Lt].g-100),it=!1;else try{uo(qt,oe,"req"+$e+"_")}catch{T&&T(qt)}}if(it){T=oe.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function co(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ye||ue(),le||(Ye(),le=!0),Ee.add(m,u),u.v=0}}function ea(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Wn(S(u.Fa,u),Eu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Wn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Cr(this),_u(this))};function nl(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function _u(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=vn(u.qa);rt(m,"RID","rpc"),rt(m,"SID",u.K),rt(m,"AID",u.T),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&rt(m,"TO",u.ja),rt(m,"TYPE","xmlhttp"),Ai(u,m),u.m&&u.o&&I(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Hr(vn(m)),v.m=null,v.P=!0,Si(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Cr(this),ea(this),mt(19))};function ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function na(u,m){var v=null;if(u.g==m){ta(u),nl(u),u.g=null;var T=2}else if(Yt(u.h,m))v=m.D,Ho(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=_i(),Tt(T,new Zi(T,v)),Qr(u)}else co(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Fh(u,m)||T==2&&ea(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Eu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),T=u.Xa;const z=!T;T=new Kn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ri(T,"https"),Hr(T),z?Xo(T.toString(),v):or(T.toString(),v)}else mt(2);u.G=0,u.l&&u.l.sa(m),wu(u),Jo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function wu(u){if(u.G=0,u.ka=[],u.l){const m=qo(u.h);(m.length!=0||u.i.length!=0)&&(N(u.ka,m),N(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Tu(u,m,v){var T=v instanceof Kn?vn(v):new Kn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Sr(T,T.s);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var G=new Kn(null);T&&Ri(G,T),m&&(G.g=m),z&&Sr(G,z),v&&(G.l=v),T=G}return v=u.D,m=u.ya,v&&m&&rt(T,v,m),rt(T,"VER",u.la),Ai(u,T),T}function Su(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new b(new Ir({eb:v})):new b(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}n=rl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ra(){}ra.prototype.g=function(u,m){return new Sn(u,m)};function Sn(u,m){wt.call(this),this.g=new Ci(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!te(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xr(this)}U(Sn,wt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){kt(this.g)},Sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=$n(u),u=v);m.i.push(new $o(m.Ya++,u)),m.G==3&&Qr(m)},Sn.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Sn.aa.N.call(this)};function Iu(u){rr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}U(Iu,rr);function Ru(){kn.call(this),this.status=1}U(Ru,kn);function Xr(u){this.g=u}U(Xr,rl),Xr.prototype.ua=function(){Tt(this.g,"a")},Xr.prototype.ta=function(u){Tt(this.g,new Iu(u))},Xr.prototype.sa=function(u){Tt(this.g,new Ru)},Xr.prototype.ra=function(){Tt(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,yw=function(){return new ra},gw=function(){return _i()},mw=ir,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Lc=es,Uo.COMPLETE="complete",pw=Uo,vi.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ol=vi,b.prototype.listenOnce=b.prototype.L,b.prototype.getLastError=b.prototype.Ka,b.prototype.getLastErrorCode=b.prototype.Ba,b.prototype.getStatus=b.prototype.Z,b.prototype.getResponseJson=b.prototype.Oa,b.prototype.getResponseText=b.prototype.oa,b.prototype.send=b.prototype.ea,b.prototype.setWithCredentials=b.prototype.Ha,fw=b}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore",zv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Op("@firebase/firestore");function Ra(){return No.logLevel}function de(n,...e){if(No.logLevel<=Fe.DEBUG){const t=e.map(Wp);No.debug(`Firestore (${Xa}): ${n}`,...t)}}function Hi(n,...e){if(No.logLevel<=Fe.ERROR){const t=e.map(Wp);No.error(`Firestore (${Xa}): ${n}`,...t)}}function Fs(n,...e){if(No.logLevel<=Fe.WARN){const t=e.map(Wp);No.warn(`Firestore (${Xa}): ${n}`,...t)}}function Wp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,vw(n,i,t)}function vw(n,e,t){let i=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Hi(i),new Error(i)}function tt(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||vw(e,o,i)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Gi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class kP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PP{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new _w(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class bP{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xP{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new bP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $v(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=OP(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function De(n,e){return n<e?-1:n>e?1:0}function tp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return De(i,o);{const l=Ew(),c=DP(l.encode(Wv(n,t)),l.encode(Wv(e,t)));return c!==0?c:De(i,o)}}t+=i>65535?2:1}return De(n.length,e.length)}function Wv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function DP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function Ua(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="__name__";class ri{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ri.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const i=ri.isNumericId(e),o=ri.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ri.extractNumericId(e).compare(ri.extractNumericId(t)):tp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class ht extends ri{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const VP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends ri{construct(e,t,i){return new nn(e,t,i)}static isValidIdentifier(e){return VP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hv}static keyField(){return new nn([Hv])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ve(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ve(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new ve(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ht.fromString(e))}static fromName(e){return new we(ht.fromString(e).popFirst(5))}static empty(){return new we(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e,t){if(!t)throw new ve(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LP(n,e,t,i){if(e===!0&&i===!0)throw new ve(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qv(n){if(!we.isDocumentKey(n))throw new ve(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gv(n){if(we.isDocumentKey(n))throw new ve(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qp(n);throw new ve(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n,e){const t={typeString:n};return e&&(t.value=e),t}function pu(n,e){if(!Tw(n))throw new ve(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ve(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-62135596800,Qv=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Qv);return new dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kv)throw new ve(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Ot("string",dt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new dt(0,0))}static max(){return new ke(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function MP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new dt(t+1,0):new dt(t,i));return new Us(o,we.empty(),e)}function FP(n){return new Us(n.readTime,n.key,Jl)}class Us{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Us(ke.min(),we.empty(),Jl)}static max(){return new Us(ke.max(),we.empty(),Jl)}}function UP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==BP)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function zP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ja(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}_h.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function Eh(n){return n==null}function Zc(n){return n===0&&1/n==-1/0}function $P(n){return typeof n=="number"&&Number.isInteger(n)&&!Zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="";function WP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xv(e)),e=HP(n.get(t),e);return Xv(e)}function HP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Sw:t+="";break;default:t+=l}}return t}function Xv(n){return n+Sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Iw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??en.RED,this.left=o??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new en(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class Jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new er([])}unionWith(e){let t=new jt(nn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rw("Invalid base64 string: "+l):l}}(e);return new rn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const qP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=qP.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="server_timestamp",Aw="__type__",kw="__previous_value__",Pw="__local_write_time__";function Kp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Aw])===null||t===void 0?void 0:t.stringValue)===Cw}function wh(n){const e=n.mapValue.fields[kw];return Kp(e)?wh(e):e}function Zl(n){const e=Bs(n.mapValue.fields[Pw].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,i,o,l,c,d,p,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=_}}const eh="(default)";class eu{constructor(e,t){this.projectId=e,this.database=t||eh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__type__",KP="__max__",Rc={mapValue:{}},xw="__vector__",th="value";function zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kp(n)?4:XP(n)?9007199254740991:QP(n)?10:11:Re(28295,{value:n})}function fi(n,e){if(n===e)return!0;const t=zs(n);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zl(n).isEqual(Zl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Bs(o.timestampValue),d=Bs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return js(o.bytesValue).isEqual(js(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return Rt(o.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Rt(o.integerValue)===Rt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Rt(o.doubleValue),d=Rt(l.doubleValue);return c===d?Zc(c)===Zc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Ua(n.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Yv(c)!==Yv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!fi(c[p],d[p])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function tu(n,e){return(n.values||[]).find(t=>fi(t,e))!==void 0}function Ba(n,e){if(n===e)return 0;const t=zs(n),i=zs(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Rt(l.integerValue||l.doubleValue),p=Rt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Zv(n.timestampValue,e.timestampValue);case 4:return Zv(Zl(n),Zl(e));case 5:return tp(n.stringValue,e.stringValue);case 6:return function(l,c){const d=js(l),p=js(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=De(d[y],p[y]);if(_!==0)return _}return De(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=De(Rt(l.latitude),Rt(c.latitude));return d!==0?d:De(Rt(l.longitude),Rt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return e_(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,y,_;const w=l.fields||{},S=c.fields||{},M=(d=w[th])===null||d===void 0?void 0:d.arrayValue,U=(p=S[th])===null||p===void 0?void 0:p.arrayValue,F=De(((y=M?.values)===null||y===void 0?void 0:y.length)||0,((_=U?.values)===null||_===void 0?void 0:_.length)||0);return F!==0?F:e_(M,U)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Rc.mapValue&&c===Rc.mapValue)return 0;if(l===Rc.mapValue)return 1;if(c===Rc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const S=tp(p[w],_[w]);if(S!==0)return S;const M=Ba(d[p[w]],y[_[w]]);if(M!==0)return M}return De(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{le:t})}}function Zv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Bs(n),i=Bs(e),o=De(t.seconds,i.seconds);return o!==0?o:De(t.nanos,i.nanos)}function e_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ba(t[o],i[o]);if(l)return l}return De(t.length,i.length)}function ja(n){return np(n)}function np(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Bs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return js(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=np(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${np(t.fields[c])}`;return o+"}"}(n.mapValue):Re(61005,{value:n})}function Mc(n){switch(zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(n);return e?16+Mc(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Mc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Qs(i.fields,(l,c)=>{o+=l.length+Mc(c)}),o}(n.mapValue);default:throw Re(13486,{value:n})}}function rp(n){return!!n&&"integerValue"in n}function Qp(n){return!!n&&"arrayValue"in n}function t_(n){return!!n&&"nullValue"in n}function n_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fc(n){return!!n&&"mapValue"in n}function QP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bw])===null||t===void 0?void 0:t.stringValue)===xw}function Bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Bl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=nn.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Bl(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Qs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Bn(Bl(this.value))}}function Nw(n){const e=[];return Qs(n.fields,(t,i)=>{const o=new nn([t]);if(Fc(i)){const l=Nw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,ke.min(),ke.min(),ke.min(),Bn.empty(),0)}static newFoundDocument(e,t,i,o){return new dn(e,1,t,ke.min(),i,o,0)}static newNoDocument(e,t){return new dn(e,2,t,ke.min(),ke.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,ke.min(),ke.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.position=e,this.inclusive=t}}function r_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=Ba(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function i_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function YP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{}class Bt extends Ow{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ZP(e,t,i):t==="array-contains"?new nb(e,i):t==="in"?new rb(e,i):t==="not-in"?new ib(e,i):t==="array-contains-any"?new sb(e,i):new Bt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new eb(e,i):new tb(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ba(t,this.value)):t!==null&&zs(this.value)===zs(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends Ow{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new pi(e,t)}matches(e){return Dw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Dw(n){return n.op==="and"}function Vw(n){return JP(n)&&Dw(n)}function JP(n){for(const e of n.filters)if(e instanceof pi)return!1;return!0}function ip(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+ja(n.value);if(Vw(n))return n.filters.map(e=>ip(e)).join(",");{const e=n.filters.map(t=>ip(t)).join(",");return`${n.op}(${e})`}}function Lw(n,e){return n instanceof Bt?function(i,o){return o instanceof Bt&&i.op===o.op&&i.field.isEqual(o.field)&&fi(i.value,o.value)}(n,e):n instanceof pi?function(i,o){return o instanceof pi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&Lw(c,o.filters[d]),!0):!1}(n,e):void Re(19439)}function Mw(n){return n instanceof Bt?function(t){return`${t.field.canonicalString()} ${t.op} ${ja(t.value)}`}(n):n instanceof pi?function(t){return t.op.toString()+" {"+t.getFilters().map(Mw).join(" ,")+"}"}(n):"Filter"}class ZP extends Bt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class eb extends Bt{constructor(e,t){super(e,"in",t),this.keys=Fw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tb extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=Fw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class nb extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qp(t)&&tu(t.arrayValue,this.value)}}class rb extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&tu(this.value.arrayValue,t)}}class ib extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!tu(this.value.arrayValue,t)}}class sb extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>tu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Pe=null}}function s_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new ob(n,e,t,i,o,l,c)}function Xp(n){const e=Pe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ip(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ja(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ja(i)).join(",")),e.Pe=t}return e.Pe}function Yp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Lw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!i_(n.startAt,e.startAt)&&i_(n.endAt,e.endAt)}function sp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ab(n,e,t,i,o,l,c,d){return new Th(n,e,t,i,o,l,c,d)}function Jp(n){return new Th(n)}function o_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lb(n){return n.collectionGroup!==null}function jl(n){const e=Pe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new jt(nn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new rh(l,i))}),t.has(nn.keyField().canonicalString())||e.Te.push(new rh(nn.keyField(),i))}return e.Te}function ui(n){const e=Pe(n);return e.Ie||(e.Ie=ub(e,jl(n))),e.Ie}function ub(n,e){if(n.limitType==="F")return s_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new rh(o.field,l)});const t=n.endAt?new nh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new nh(n.startAt.position,n.startAt.inclusive):null;return s_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function op(n,e,t){return new Th(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sh(n,e){return Yp(ui(n),ui(e))&&n.limitType===e.limitType}function Uw(n){return`${Xp(ui(n))}|lt:${n.limitType}`}function Ca(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Mw(o)).join(", ")}]`),Eh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ja(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ja(o)).join(",")),`Target(${i})`}(ui(n))}; limitType=${n.limitType})`}function Ih(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of jl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=r_(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,jl(i),o)||i.endAt&&!function(c,d,p){const y=r_(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,jl(i),o))}(n,e)}function cb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bw(n){return(e,t)=>{let i=!1;for(const o of jl(n)){const l=hb(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function hb(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?Ba(p,y):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new vt(we.comparator);function qi(){return db}const jw=new vt(we.comparator);function Dl(...n){let e=jw;for(const t of n)e=e.insert(t.key,t);return e}function zw(n){let e=jw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Co(){return zl()}function $w(){return zl()}function zl(){return new Vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const fb=new vt(we.comparator),pb=new jt(we.comparator);function Ue(...n){let e=pb;for(const t of n)e=e.add(t);return e}const mb=new jt(De);function gb(){return mb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function Ww(n){return{integerValue:""+n}}function yb(n,e){return $P(e)?Ww(e):Zp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function vb(n,e,t){return n instanceof nu?function(o,l){const c={fields:{[Aw]:{stringValue:Cw},[Pw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Kp(l)&&(l=wh(l)),l&&(c.fields[kw]=l),{mapValue:c}}(t,e):n instanceof ru?qw(n,e):n instanceof iu?Gw(n,e):function(o,l){const c=Hw(o,l),d=a_(c)+a_(o.Ee);return rp(c)&&rp(o.Ee)?Ww(d):Zp(o.serializer,d)}(n,e)}function _b(n,e,t){return n instanceof ru?qw(n,e):n instanceof iu?Gw(n,e):t}function Hw(n,e){return n instanceof ih?function(i){return rp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class nu extends Rh{}class ru extends Rh{constructor(e){super(),this.elements=e}}function qw(n,e){const t=Kw(e);for(const i of n.elements)t.some(o=>fi(o,i))||t.push(i);return{arrayValue:{values:t}}}class iu extends Rh{constructor(e){super(),this.elements=e}}function Gw(n,e){let t=Kw(e);for(const i of n.elements)t=t.filter(o=>!fi(o,i));return{arrayValue:{values:t}}}class ih extends Rh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function a_(n){return Rt(n.integerValue||n.doubleValue)}function Kw(n){return Qp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.field=e,this.transform=t}}function wb(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ru&&o instanceof ru||i instanceof iu&&o instanceof iu?Ua(i.elements,o.elements,fi):i instanceof ih&&o instanceof ih?fi(i.Ee,o.Ee):i instanceof nu&&o instanceof nu}(n.transform,e.transform)}class Tb{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ch{}function Qw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new em(n.key,_r.none()):new mu(n.key,n.data,_r.none());{const t=n.data,i=Bn.empty();let o=new jt(nn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Xs(n.key,i,new er(o.toArray()),_r.none())}}function Sb(n,e,t){n instanceof mu?function(o,l,c){const d=o.value.clone(),p=u_(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Xs?function(o,l,c){if(!Uc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=u_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Xw(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function $l(n,e,t,i){return n instanceof mu?function(l,c,d,p){if(!Uc(l.precondition,c))return d;const y=l.value.clone(),_=c_(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xs?function(l,c,d,p){if(!Uc(l.precondition,c))return d;const y=c_(l.fieldTransforms,p,c),_=c.data;return _.setAll(Xw(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,c,d){return Uc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function Ib(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Hw(i.transform,o||null);l!=null&&(t===null&&(t=Bn.empty()),t.set(i.field,l))}return t||null}function l_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ua(i,o,(l,c)=>wb(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class mu extends Ch{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Ch{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function u_(n,e,t){const i=new Map;tt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,_b(c,d,t[o]))}return i}function c_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,vb(l,c,e))}return i}class em extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rb extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Sb(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$l(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$l(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=$w();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=Qw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(t,i)=>l_(t,i))&&Ua(this.baseMutations,e.baseMutations,(t,i)=>l_(t,i))}}class tm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){tt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let o=function(){return fb}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new tm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,We;function Pb(n){switch(n){case J.OK:return Re(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function Yw(n){if(n===void 0)return Hi("GRPC error has no .code"),J.UNKNOWN;switch(n){case xt.OK:return J.OK;case xt.CANCELLED:return J.CANCELLED;case xt.UNKNOWN:return J.UNKNOWN;case xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xt.INTERNAL:return J.INTERNAL;case xt.UNAVAILABLE:return J.UNAVAILABLE;case xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xt.NOT_FOUND:return J.NOT_FOUND;case xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xt.ABORTED:return J.ABORTED;case xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xt.DATA_LOSS:return J.DATA_LOSS;default:return Re(39323,{code:n})}}(We=xt||(xt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Ls([4294967295,4294967295],0);function h_(n){const e=Ew().encode(n),t=new dw;return t.update(e),new Uint8Array(t.digest())}function d_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ls([t,i],0),new Ls([o,l],0)]}class nm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vl(`Invalid padding: ${t}`);if(i<0)throw new Vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ls.fromNumber(this.fe)}pe(e,t,i){let o=e.add(t.multiply(Ls.fromNumber(i)));return o.compare(bb)===1&&(o=new Ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=h_(e),[i,o]=d_(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,o,l);if(!this.ye(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new nm(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const t=h_(e),[i,o]=d_(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,o,l);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ah(ke.min(),o,new vt(De),qi(),Ue())}}class gu{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new gu(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t,i,o){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=o}}class Jw{constructor(e,t){this.targetId=e,this.De=t}}class Zw{constructor(e,t,i=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class f_{constructor(){this.ve=0,this.Ce=p_(),this.Fe=rn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ue(),t=Ue(),i=Ue();return this.Ce.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Re(38017,{changeType:l})}}),new gu(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=p_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class xb{constructor(e){this.We=e,this.Ge=new Map,this.ze=qi(),this.je=Cc(),this.Je=Cc(),this.He=new vt(De)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,i=e.De.count,o=this.st(t);if(o){const l=o.target;if(sp(l))if(i===0){const c=new we(l.path);this.Xe(t,c,dn.newNoDocument(c,ke.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const d=this._t(e),p=d?this.ut(d,e,c):1;if(p!==0){this.rt(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=js(i).toUint8Array()}catch(p){if(p instanceof Rw)return Fs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new nm(c,o,l)}catch(p){return Fs(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const d=this.st(c);if(d){if(l.current&&sp(d.target)){const p=new we(d.target.path);this.Tt(p).has(c)||this.It(c,p)||this.Xe(c,p,dn.newNoDocument(p,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let i=Ue();this.Je.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const o=new Ah(e,t,this.He,this.ze,i);return this.ze=qi(),this.je=Cc(),this.Je=Cc(),this.He=new vt(De),o}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new f_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new jt(De),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new jt(De),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new f_),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Cc(){return new vt(we.comparator)}function p_(){return new vt(we.comparator)}const Nb={asc:"ASCENDING",desc:"DESCENDING"},Ob={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Db={and:"AND",or:"OR"};class Vb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ap(n,e){return n.useProto3Json||Eh(e)?e:{value:e}}function sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lb(n,e){return sh(n,e.toTimestamp())}function ci(n){return tt(!!n,49232),ke.fromTimestamp(function(t){const i=Bs(t);return new dt(i.seconds,i.nanos)}(n))}function rm(n,e){return lp(n,e).canonicalString()}function lp(n,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function t0(n){const e=ht.fromString(n);return tt(o0(e),10190,{key:e.toString()}),e}function up(n,e){return rm(n.databaseId,e.path)}function Rf(n,e){const t=t0(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(r0(t))}function n0(n,e){return rm(n.databaseId,e)}function Mb(n){const e=t0(n);return e.length===4?ht.emptyPath():r0(e)}function cp(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function r0(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function m_(n,e,t){return{name:up(n,e),fields:t.value.mapValue.fields}}function Fb(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(tt(_===void 0||typeof _=="string",58123),rn.fromBase64String(_||"")):(tt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),rn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?J.UNKNOWN:Yw(y.code);return new ve(_,y.message||"")}(c);t=new Zw(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Rf(n,i.document.name),l=ci(i.document.updateTime),c=i.document.createTime?ci(i.document.createTime):ke.min(),d=new Bn({mapValue:{fields:i.document.fields}}),p=dn.newFoundDocument(o,l,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Bc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Rf(n,i.document),l=i.readTime?ci(i.readTime):ke.min(),c=dn.newNoDocument(o,l),d=i.removedTargetIds||[];t=new Bc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Rf(n,i.document),l=i.removedTargetIds||[];t=new Bc([],l,o,null)}else{if(!("filter"in e))return Re(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new kb(o,l),d=i.targetId;t=new Jw(d,c)}}return t}function Ub(n,e){let t;if(e instanceof mu)t={update:m_(n,e.key,e.value)};else if(e instanceof em)t={delete:up(n,e.key)};else if(e instanceof Xs)t={update:m_(n,e.key,e.data),updateMask:Kb(e.fieldMask)};else{if(!(e instanceof Rb))return Re(16599,{Rt:e.type});t={verify:up(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof nu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ih)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Re(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:Lb(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)}(n,e.precondition)),t}function Bb(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map(t=>function(o,l){let c=o.updateTime?ci(o.updateTime):ci(l);return c.isEqual(ke.min())&&(c=ci(l)),new Tb(c,o.transformResults||[])}(t,e))):[]}function jb(n,e){return{documents:[n0(n,e.path)]}}function zb(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=n0(n,o);const l=function(y){if(y.length!==0)return s0(pi.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:Aa(S.field),direction:Hb(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=ap(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:t,parent:o}}function $b(n){let e=Mb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){tt(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const S=i0(w);return S instanceof pi&&Vw(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(S=>function(U){return new rh(ka(U.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(w){let S;return S=typeof w=="object"?w.value:w,Eh(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(w){const S=!!w.before,M=w.values||[];return new nh(M,S)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const S=!w.before,M=w.values||[];return new nh(M,S)}(t.endAt)),ab(e,o,c,l,d,"F",p,y)}function Wb(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function i0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ka(t.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ka(t.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ka(t.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ka(t.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Bt.create(ka(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pi.create(t.compositeFilter.filters.map(i=>i0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function Hb(n){return Nb[n]}function qb(n){return Ob[n]}function Gb(n){return Db[n]}function Aa(n){return{fieldPath:n.canonicalString()}}function ka(n){return nn.fromServerFormat(n.fieldPath)}function s0(n){return n instanceof Bt?function(t){if(t.op==="=="){if(n_(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NAN"}};if(t_(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(n_(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NOT_NAN"}};if(t_(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(t.field),op:qb(t.op),value:t.value}}}(n):n instanceof pi?function(t){const i=t.getFilters().map(o=>s0(o));return i.length===1?i[0]:{compositeFilter:{op:Gb(t.op),filters:i}}}(n):Re(54877,{filter:n})}function Kb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,i,o,l=ke.min(),c=ke.min(),d=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.gt=e}}function Xb(n){const e=$b({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.Dn=new Jb}addToCollectionParentIndex(e,t){return this.Dn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Us.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class Jb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new jt(ht.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new jt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a0=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(a0,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new za(0)}static ur(){return new za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="LruGarbageCollector",Zb=1048576;function v_([n,e],[t,i]){const o=De(n,t);return o===0?De(e,i):o}class ex{constructor(e){this.Tr=e,this.buffer=new jt(v_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();v_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tx{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){de(y_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ja(t)?de(y_,"Ignoring IndexedDB error during garbage collection: ",t):await Ya(t)}await this.Rr(3e5)})}}class nx{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(_h.ue);const i=new ex(t);return this.Vr.forEachTarget(e,o=>i.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>i.Er(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(g_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,o,l,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),Ra()<=Fe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function rx(n,e){return new nx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&$l(i.mutation,o,er.empty(),dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ue()){const o=Co();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=Dl();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ue()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=qi();const c=zl(),d=function(){return zl()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Xs)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),$l(_.mutation,y,_.mutation.getFieldMask(),dt.now())):c.set(y.key,er.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var w;return d.set(y,new sx(_,(w=c.get(y))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=zl();let o=new vt((c,d)=>c-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||er.empty();_=d.applyToLocalView(y,_),i.set(p,_);const w=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,w=$w();_.forEach(S=>{if(!l.has(S)){const M=Qw(t.get(S),i.get(S));M!==null&&w.set(S,M),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Q.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(Co());let d=Jl,p=l;return c.next(y=>Q.forEach(y,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(_)?Q.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Ue())).next(_=>({batchId:d,changes:zw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=Dl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Dl();return this.indexManager.getCollectionParents(e,l).next(d=>Q.forEach(d,p=>{const y=function(w,S){return new Th(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((w,S)=>{c=c.insert(w,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,dn.newInvalidDocument(_)))});let d=Dl();return c.forEach((p,y)=>{const _=l.get(p);_!==void 0&&$l(_.mutation,y,er.empty(),dt.now()),Ih(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:Xb(o.bundledQuery),readTime:ci(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.overlays=new vt(we.comparator),this.kr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Co();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.wt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.kr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=Co(),l=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new vt((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Co(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Co(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return Q.resolve(d)}wt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.kr.get(o.largestBatchId).delete(i.key);this.kr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Ab(t,i));let l=this.kr.get(t);l===void 0&&(l=Ue(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.qr=new jt(Xt.Qr),this.$r=new jt(Xt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Xt(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new we(new ht([])),i=new Xt(t,e),o=new Xt(t,e+1),l=[];return this.$r.forEachInRange([i,o],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new we(new ht([])),i=new Xt(t,e),o=new Xt(t,e+1);let l=Ue();return this.$r.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Xt(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return we.comparator(e.key,t.key)||De(e.Hr,t.Hr)}static Ur(e,t){return De(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new jt(Xt.Qr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Cb(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Yr=this.Yr.add(new Xt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Xr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Gp:this.er-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,o],c=>{const d=this.Zr(c.Hr);l.push(d)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jt(De);return t.forEach(o=>{const l=new Xt(o,0),c=new Xt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],d=>{i=i.add(d.Hr)})}),Q.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const c=new Xt(new we(l),0);let d=new jt(De);return this.Yr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Hr)),!0)},c),Q.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(i=>{const o=this.Zr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){tt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return Q.forEach(t.mutations,o=>{const l=new Xt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new Xt(t,0),o=this.Yr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.ni=e,this.docs=function(){return new vt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=qi();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():dn.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=qi();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||UP(FP(_),i)<=0||(o.has(_.key)||Ih(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Re(9500)}ri(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new dx(this)}getSize(e){return Q.resolve(this.size)}}class dx extends ix{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.persistence=e,this.ii=new Vo(t=>Xp(t),Yp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new im,this.targetCount=0,this._i=za.ar()}forEachTarget(e,t){return this.ii.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),Q.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new za(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.hr(t),Q.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t){this.ai={},this.overlays={},this.ui=new _h(0),this.ci=!1,this.ci=!0,this.li=new ux,this.referenceDelegate=e(this),this.hi=new fx(this),this.indexManager=new Yb,this.remoteDocumentCache=function(o){return new hx(o)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new Qb(t),this.Ti=new ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new cx(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new px(this.ui.next());return this.referenceDelegate.Ii(),i(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(e,t){return Q.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class px extends jP{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.Ai=new im,this.Ri=null}static Vi(e){return new sm(e)}get mi(){if(this.Ri)return this.Ri;throw Re(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.mi,i=>{const o=we.fromPath(i);return this.fi(e,o).next(l=>{l||t.removeEntry(o,ke.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Q.or([()=>Q.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.gi=new Vo(i=>WP(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=rx(this,t)}static Vi(e,t){return new oh(e,t)}Ii(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return Q.forEach(this.gi,(i,o)=>this.Sr(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,c=>this.Sr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,ke.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Q.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mc(e.data.value)),t}Sr(e,t,i){return Q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=o}static Es(e,t){let i=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new om(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return JR()?8:zP(fn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new mx;return this.ws(e,t,c).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,t,c,d.size)})}).next(()=>l.result)}Ss(e,t,i,o){return i.documentReadCount<this.Vs?(Ra()<=Fe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ca(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(Ra()<=Fe.DEBUG&&de("QueryEngine","Query:",Ca(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.fs*o?(Ra()<=Fe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ca(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):Q.resolve())}ps(e,t){if(o_(t))return Q.resolve(null);let i=ui(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=op(t,null,"F"),i=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ue(...l);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.bs(t,d);return this.Ds(t,y,c,p.readTime)?this.ps(e,op(t,null,"F")):this.vs(e,y,t,p)}))})))}ys(e,t,i,o){return o_(t)||o.isEqual(ke.min())?Q.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,i,o)?Q.resolve(null):(Ra()<=Fe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ca(t)),this.vs(e,c,t,MP(o,Jl)).next(d=>d))})}bs(e,t){let i=new jt(Bw(e));return t.forEach((o,l)=>{Ih(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,i){return Ra()<=Fe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ca(t)),this.gs.getDocumentsMatchingQuery(e,t,Us.min(),i)}vs(e,t,i,o){return this.gs.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="LocalStore",yx=3e8;class vx{constructor(e,t,i,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new vt(De),this.Ms=new Vo(l=>Xp(l),Yp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ox(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function _x(n,e,t,i){return new vx(n,e,t,i)}async function u0(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Ue();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Bs:y,removedBatchIds:c,addedBatchIds:d}))})})}function Ex(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const w=y.batch,S=w.keys();let M=Q.resolve();return S.forEach(U=>{M=M.next(()=>_.getEntry(p,U)).next(F=>{const N=y.docVersions.get(U);tt(N!==null,48541),F.version.compareTo(N)<0&&(w.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),_.addEntry(F)))})}),M.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Ue();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function c0(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function wx(n,e){const t=Pe(n),i=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((_,w)=>{const S=o.get(w);if(!S)return;d.push(t.hi.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.hi.addMatchingKeys(l,_.addedDocuments,w)));let M=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(rn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,i)),o=o.insert(w,M),function(F,N,Y){return F.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=yx?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,M,_)&&d.push(t.hi.updateTargetData(l,M))});let p=qi(),y=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(Tx(l,c,e.documentUpdates).next(_=>{p=_.Ls,y=_.ks})),!i.isEqual(ke.min())){const _=t.hi.getLastRemoteSnapshotVersion(l).next(w=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return Q.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Fs=o,l))}function Tx(n,e,t){let i=Ue(),o=Ue();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=qi();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(am,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Ls:c,ks:o}})}function Sx(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Gp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ix(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.hi.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.hi.allocateTargetId(i).next(c=>(o=new xs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Fs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function hp(n,e,t){const i=Pe(n),o=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ja(c))throw c;de(am,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(o.target)}function __(n,e,t){const i=Pe(n);let o=ke.min(),l=Ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const w=Pe(p),S=w.Ms.get(_);return S!==void 0?Q.resolve(w.Fs.get(S)):w.hi.getTargetData(y,_)}(i,c,ui(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,t?o:ke.min(),t?l:Ue())).next(d=>(Rx(i,cb(e),d),{documents:d,qs:l})))}function Rx(n,e,t){let i=n.xs.get(e)||ke.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.xs.set(e,i)}class E_{constructor(){this.activeTargetIds=gb()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cx{constructor(){this.Fo=new E_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new E_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="ConnectivityMonitor";class T_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(w_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(w_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function dp(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="RestConnection",kx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Px{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.Ko=this.databaseId.database===eh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,t,i,o,l){const c=dp(),d=this.Go(e,t.toUriEncodedString());de(Cf,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:y}=new URL(d),_=Ga(y);return this.jo(e,d,p,i,_).then(w=>(de(Cf,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Fs(Cf,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",i),w})}Jo(e,t,i,o,l,c){return this.Wo(e,t,i,o,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}Go(e,t){const i=kx[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class xx extends Px{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,o,l){const c=dp();return new Promise((d,p)=>{const y=new fw;y.setWithCredentials(!0),y.listenOnce(pw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Lc.NO_ERROR:const w=y.getResponseJson();de(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Lc.TIMEOUT:de(un,`RPC '${e}' ${c} timed out`),p(new ve(J.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const S=y.getStatus();if(de(un,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M?.error;if(U&&U.status&&U.message){const F=function(Y){const te=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(te)>=0?te:J.UNKNOWN}(U.status);p(new ve(F,U.message))}else p(new ve(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ve(J.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{c_:e,streamId:c,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{de(un,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);de(un,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",_,i,15)})}P_(e,t,i){const o=dp(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=yw(),d=gw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");de(un,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=c.createWebChannel(_,p);this.T_(w);let S=!1,M=!1;const U=new bx({Ho:N=>{M?de(un,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(S||(de(un,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),de(un,`RPC '${e}' stream ${o} sending:`,N),w.send(N))},Yo:()=>w.close()}),F=(N,Y,te)=>{N.listen(Y,ne=>{try{te(ne)}catch(he){setTimeout(()=>{throw he},0)}})};return F(w,Ol.EventType.OPEN,()=>{M||(de(un,`RPC '${e}' stream ${o} transport opened.`),U.s_())}),F(w,Ol.EventType.CLOSE,()=>{M||(M=!0,de(un,`RPC '${e}' stream ${o} transport closed`),U.__(),this.I_(w))}),F(w,Ol.EventType.ERROR,N=>{M||(M=!0,Fs(un,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),U.__(new ve(J.UNAVAILABLE,"The operation could not be completed")))}),F(w,Ol.EventType.MESSAGE,N=>{var Y;if(!M){const te=N.data[0];tt(!!te,16349);const ne=te,he=ne?.error||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(he){de(un,`RPC '${e}' stream ${o} received error:`,he);const X=he.status;let pe=function(k){const O=xt[k];if(O!==void 0)return Yw(O)}(X),P=he.message;pe===void 0&&(pe=J.INTERNAL,P="Unknown error status: "+X+" with message "+he.message),M=!0,U.__(new ve(pe,P)),w.close()}else de(un,`RPC '${e}' stream ${o} received:`,te),U.a_(te)}}),F(d,mw.STAT_EVENT,N=>{N.stat===ep.PROXY?de(un,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===ep.NOPROXY&&de(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.o_()},0),U}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(n){return new Vb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="PersistentStream";class d0{constructor(e,t,i,o,l,c,d,p){this.Fi=e,this.w_=i,this.S_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new h0(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Hi(t.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.b_===t&&this.W_(i,o)},i=>{e(()=>{const o=new ve(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(o)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{i(()=>this.G_(o))}),this.stream.onMessage(o=>{i(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return de(S_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(de(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nx extends d0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Fb(this.serializer,e),i=function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?ci(c.readTime):ke.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=cp(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=sp(p)?{documents:jb(l,p)}:{query:zb(l,p).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=e0(l,c.resumeToken);const y=ap(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=sh(l,c.snapshotVersion.toTimestamp());const y=ap(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=Wb(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=cp(this.serializer),t.removeTarget=e,this.k_(t)}}class Ox extends d0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Bb(e.writeResults,e.commitTime),i=ci(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=cp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ub(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{}class Vx extends Dx{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ve(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,lp(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(J.UNKNOWN,l.toString())})}Jo(e,t,i,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,lp(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(J.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Lx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Hi(t),this._a=!1):de("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="RemoteStore";class Mx{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{Lo(this)&&(de(Oo,"Restarting streams for network reachability change."),await async function(p){const y=Pe(p);y.Ia.add(4),await yu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Ph(y)}(this))})}),this.Aa=new Lx(i,o)}}async function Ph(n){if(Lo(n))for(const e of n.da)await e(!0)}async function yu(n){for(const e of n.da)await e(!1)}function f0(n,e){const t=Pe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),hm(t)?cm(t):Za(t).x_()&&um(t,e))}function lm(n,e){const t=Pe(n),i=Za(t);t.Ta.delete(e),i.x_()&&p0(t,e),t.Ta.size===0&&(i.x_()?i.B_():Lo(t)&&t.Aa.set("Unknown"))}function um(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Za(n).H_(e)}function p0(n,e){n.Ra.$e(e),Za(n).Y_(e)}function cm(n){n.Ra=new xb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Za(n).start(),n.Aa.aa()}function hm(n){return Lo(n)&&!Za(n).M_()&&n.Ta.size>0}function Lo(n){return Pe(n).Ia.size===0}function m0(n){n.Ra=void 0}async function Fx(n){n.Aa.set("Online")}async function Ux(n){n.Ta.forEach((e,t)=>{um(n,e)})}async function Bx(n,e){m0(n),hm(n)?(n.Aa.la(e),cm(n)):n.Aa.set("Unknown")}async function jx(n,e,t){if(n.Aa.set("Online"),e instanceof Zw&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ta.delete(d),o.Ra.removeTarget(d))}(n,e)}catch(i){de(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ah(n,i)}else if(e instanceof Bc?n.Ra.Ye(e):e instanceof Jw?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ke.min()))try{const i=await c0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Ra.Pt(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ta.get(y);_&&l.Ta.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=l.Ta.get(p);if(!_)return;l.Ta.set(p,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),p0(l,p);const w=new xs(_.target,p,y,_.sequenceNumber);um(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){de(Oo,"Failed to raise snapshot:",i),await ah(n,i)}}async function ah(n,e,t){if(!Ja(e))throw e;n.Ia.add(1),await yu(n),n.Aa.set("Offline"),t||(t=()=>c0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Oo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Ph(n)})}function g0(n,e){return e().catch(t=>ah(n,t,e))}async function bh(n){const e=Pe(n),t=$s(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gp;for(;zx(e);)try{const o=await Sx(e.localStore,i);if(o===null){e.Pa.length===0&&t.B_();break}i=o.batchId,$x(e,o)}catch(o){await ah(e,o)}y0(e)&&v0(e)}function zx(n){return Lo(n)&&n.Pa.length<10}function $x(n,e){n.Pa.push(e);const t=$s(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function y0(n){return Lo(n)&&!$s(n).M_()&&n.Pa.length>0}function v0(n){$s(n).start()}async function Wx(n){$s(n).na()}async function Hx(n){const e=$s(n);for(const t of n.Pa)e.X_(t.mutations)}async function qx(n,e,t){const i=n.Pa.shift(),o=tm.from(i,e,t);await g0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await bh(n)}async function Gx(n,e){e&&$s(n).Z_&&await async function(i,o){if(function(c){return Pb(c)&&c!==J.ABORTED}(o.code)){const l=i.Pa.shift();$s(i).N_(),await g0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await bh(i)}}(n,e),y0(n)&&v0(n)}async function I_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),de(Oo,"RemoteStore received new credentials");const i=Lo(t);t.Ia.add(3),await yu(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Ph(t)}async function Kx(n,e){const t=Pe(n);e?(t.Ia.delete(2),await Ph(t)):e||(t.Ia.add(2),await yu(t),t.Aa.set("Unknown"))}function Za(n){return n.Va||(n.Va=function(t,i,o){const l=Pe(t);return l.ia(),new Nx(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Zo:Fx.bind(null,n),e_:Ux.bind(null,n),n_:Bx.bind(null,n),J_:jx.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),hm(n)?cm(n):n.Aa.set("Unknown")):(await n.Va.stop(),m0(n))})),n.Va}function $s(n){return n.ma||(n.ma=function(t,i,o){const l=Pe(t);return l.ia(),new Ox(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Wx.bind(null,n),n_:Gx.bind(null,n),ea:Hx.bind(null,n),ta:qx.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await bh(n)):(await n.ma.stop(),n.Pa.length>0&&(de(Oo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new dm(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(n,e){if(Hi("AsyncQueue",`${e}: ${n}`),Ja(n))return new ve(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(e){return new Va(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Dl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Va;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.fa=new vt(we.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Re(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class $a{constructor(e,t,i,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new $a(e,t,Va.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Xx{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const o=Pe(t),l=o.queries;o.queries=C_(),l.forEach((c,d)=>{for(const p of d.wa)p.onError(i)})})(this,new ve(J.ABORTED,"Firestore shutting down"))}}function C_(){return new Vo(n=>Uw(n),Sh)}async function _0(n,e){const t=Pe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(i=2):(l=new Qx,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=fm(c,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&pm(t)}async function E0(n,e){const t=Pe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Yx(n,e){const t=Pe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.wa)d.Ca(o)&&(i=!0);c.ya=o}}i&&pm(t)}function Jx(n,e,t){const i=Pe(n),o=i.queries.get(e);if(o)for(const l of o.wa)l.onError(t);i.queries.delete(e)}function pm(n){n.Da.forEach(e=>{e.next()})}var fp,A_;(A_=fp||(fp={})).Fa="default",A_.Cache="cache";class w0{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new $a(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.key=e}}class S0{constructor(e){this.key=e}}class Zx{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ue(),this.mutatedKeys=Ue(),this.Xa=Bw(e),this.eu=new Va(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new R_,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const S=o.get(_),M=Ih(this.query,w)?w:null,U=!!S&&this.mutatedKeys.has(S.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let N=!1;S&&M?S.data.isEqual(M.data)?U!==F&&(i.track({type:3,doc:M}),N=!0):this.iu(S,M)||(i.track({type:2,doc:M}),N=!0,(p&&this.Xa(M,p)>0||y&&this.Xa(M,y)<0)&&(d=!0)):!S&&M?(i.track({type:0,doc:M}),N=!0):S&&!M&&(i.track({type:1,doc:S}),N=!0,(p||y)&&(d=!0)),N&&(M?(c=c.add(M),l=F?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((_,w)=>function(M,U){const F=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{At:N})}};return F(M)-F(U)}(_.type,w.type)||this.Xa(_.doc,w.doc)),this.su(i),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,c.length!==0||y?{snapshot:new $a(this.query,e.eu,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new R_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ue(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new S0(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new T0(i))}),t}uu(e){this.Ha=e.qs,this.Za=Ue();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return $a.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const mm="SyncEngine";class eN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class tN{constructor(e){this.key=e,this.lu=!1}}class nN{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Vo(d=>Uw(d),Sh),this.Tu=new Map,this.Iu=new Set,this.du=new vt(we.comparator),this.Eu=new Map,this.Au=new im,this.Ru={},this.Vu=new Map,this.mu=za.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function rN(n,e,t=!0){const i=P0(n);let o;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await I0(i,e,t,!0),o}async function iN(n,e){const t=P0(n);await I0(t,e,!0,!1)}async function I0(n,e,t,i){const o=await Ix(n.localStore,ui(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await sN(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&f0(n.remoteStore,o),d}async function sN(n,e,t,i,o){n.gu=(w,S,M)=>async function(F,N,Y,te){let ne=N.view.nu(Y);ne.Ds&&(ne=await __(F.localStore,N.query,!1).then(({documents:P})=>N.view.nu(P,ne)));const he=te&&te.targetChanges.get(N.targetId),X=te&&te.targetMismatches.get(N.targetId)!=null,pe=N.view.applyChanges(ne,F.isPrimaryClient,he,X);return P_(F,N.targetId,pe._u),pe.snapshot}(n,w,S,M);const l=await __(n.localStore,e,!0),c=new Zx(e,l.qs),d=c.nu(l.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);P_(n,t,y._u);const _=new eN(e,t,c);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),y.snapshot}async function oN(n,e,t){const i=Pe(n),o=i.Pu.get(e),l=i.Tu.get(o.targetId);if(l.length>1)return i.Tu.set(o.targetId,l.filter(c=>!Sh(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&lm(i.remoteStore,o.targetId),pp(i,o.targetId)}).catch(Ya)):(pp(i,o.targetId),await hp(i.localStore,o.targetId,!0))}async function aN(n,e){const t=Pe(n),i=t.Pu.get(e),o=t.Tu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),lm(t.remoteStore,i.targetId))}async function lN(n,e,t){const i=mN(n);try{const o=await function(c,d){const p=Pe(c),y=dt.now(),_=d.reduce((M,U)=>M.add(U.key),Ue());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=qi(),F=Ue();return p.Os.getEntries(M,_).next(N=>{U=N,U.forEach((Y,te)=>{te.isValidDocument()||(F=F.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,U)).next(N=>{w=N;const Y=[];for(const te of d){const ne=Ib(te,w.get(te.key).overlayedDocument);ne!=null&&Y.push(new Xs(te.key,ne,Nw(ne.value.mapValue),_r.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,Y,d)}).next(N=>{S=N;const Y=N.applyToLocalDocumentSet(w,F);return p.documentOverlayCache.saveOverlays(M,N.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:zw(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.Ru[c.currentUser.toKey()];y||(y=new vt(De)),y=y.insert(d,p),c.Ru[c.currentUser.toKey()]=y}(i,o.batchId,t),await vu(i,o.changes),await bh(i.remoteStore)}catch(o){const l=fm(o,"Failed to persist write");t.reject(l)}}async function R0(n,e){const t=Pe(n);try{const i=await wx(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Eu.get(l);c&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.lu=!0:o.modifiedDocuments.size>0?tt(c.lu,14607):o.removedDocuments.size>0&&(tt(c.lu,42227),c.lu=!1))}),await vu(t,i,e)}catch(i){await Ya(i)}}function k_(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Pu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Pe(c);p.onlineState=d;let y=!1;p.queries.forEach((_,w)=>{for(const S of w.wa)S.va(d)&&(y=!0)}),y&&pm(p)}(i.eventManager,e),o.length&&i.hu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uN(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),l=o&&o.key;if(l){let c=new vt(we.comparator);c=c.insert(l,dn.newNoDocument(l,ke.min()));const d=Ue().add(l),p=new Ah(ke.min(),new Map,new vt(De),c,d);await R0(i,p),i.du=i.du.remove(l),i.Eu.delete(e),gm(i)}else await hp(i.localStore,e,!1).then(()=>pp(i,e,t)).catch(Ya)}async function cN(n,e){const t=Pe(n),i=e.batch.batchId;try{const o=await Ex(t.localStore,e);A0(t,i,null),C0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await vu(t,o)}catch(o){await Ya(o)}}async function hN(n,e,t){const i=Pe(n);try{const o=await function(c,d){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(w=>(tt(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);A0(i,e,t),C0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await vu(i,o)}catch(o){await Ya(o)}}function C0(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function A0(n,e,t){const i=Pe(n);let o=i.Ru[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Ru[i.currentUser.toKey()]=o}}function pp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||k0(n,i)})}function k0(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(lm(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),gm(n))}function P_(n,e,t){for(const i of t)i instanceof T0?(n.Au.addReference(i.key,e),dN(n,i)):i instanceof S0?(de(mm,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||k0(n,i.key)):Re(19791,{yu:i})}function dN(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(de(mm,"New document in limbo: "+t),n.Iu.add(i),gm(n))}function gm(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new we(ht.fromString(e)),i=n.mu.next();n.Eu.set(i,new tN(t)),n.du=n.du.insert(t,i),f0(n.remoteStore,new xs(ui(Jp(t.path)),i,"TargetPurposeLimboResolution",_h.ue))}}async function vu(n,e,t){const i=Pe(n),o=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((d,p)=>{c.push(i.gu(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=om.Es(p.targetId,y);l.push(w)}}))}),await Promise.all(c),i.hu.J_(o),await async function(p,y){const _=Pe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Q.forEach(y,S=>Q.forEach(S.Is,M=>_.persistence.referenceDelegate.addReference(w,S.targetId,M)).next(()=>Q.forEach(S.ds,M=>_.persistence.referenceDelegate.removeReference(w,S.targetId,M)))))}catch(w){if(!Ja(w))throw w;de(am,"Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const M=_.Fs.get(S),U=M.snapshotVersion,F=M.withLastLimboFreeSnapshotVersion(U);_.Fs=_.Fs.insert(S,F)}}}(i.localStore,l))}async function fN(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){de(mm,"User change. New user:",e.toKey());const i=await u0(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new ve(J.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await vu(t,i.Bs)}}function pN(n,e){const t=Pe(n),i=t.Eu.get(e);if(i&&i.lu)return Ue().add(i.key);{let o=Ue();const l=t.Tu.get(e);if(!l)return o;for(const c of l){const d=t.Pu.get(c);o=o.unionWith(d.view.tu)}return o}}function P0(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uN.bind(null,e),e.hu.J_=Yx.bind(null,e.eventManager),e.hu.pu=Jx.bind(null,e.eventManager),e}function mN(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return _x(this.persistence,new gx,e.initialUser,this.serializer)}Du(e){return new l0(sm.Vi,this.serializer)}bu(e){return new Cx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class gN extends lh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){tt(this.persistence.referenceDelegate instanceof oh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new tx(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new l0(i=>oh.Vi(i,t),this.serializer)}}class mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>k_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fN.bind(null,this.syncEngine),await Kx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xx}()}createDatastore(e){const t=kh(e.databaseInfo.databaseId),i=function(l){return new xx(l)}(e.databaseInfo);return function(l,c,d,p){return new Vx(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new Mx(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>k_(this.syncEngine,t,0),function(){return T_.C()?new T_:new Ax}())}createSyncEngine(e,t){return function(o,l,c,d,p,y,_){const w=new nN(o,l,c,d,p,y);return _&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Pe(o);de(Oo,"RemoteStore shutting down."),l.Ia.add(5),await yu(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class yN{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{de(Ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(de(Ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=fm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function kf(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await u0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>{Fs("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Fs("Terminating Firestore due to IndexedDb database deletion failed",o)})}),n._offlineComponents=e}async function b_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vN(n);de(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>I_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>I_(e.remoteStore,o)),n._onlineComponents=e}async function vN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ws,"Using user provided OfflineComponentProvider");try{await kf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Fs("Error using user provided cache. Falling back to memory cache: "+t),await kf(n,new lh)}}else de(Ws,"Using default OfflineComponentProvider"),await kf(n,new gN(void 0));return n._offlineComponents}async function x0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ws,"Using user provided OnlineComponentProvider"),await b_(n,n._uninitializedComponentsProvider._online)):(de(Ws,"Using default OnlineComponentProvider"),await b_(n,new mp))),n._onlineComponents}function _N(n){return x0(n).then(e=>e.syncEngine)}async function N0(n){const e=await x0(n),t=e.eventManager;return t.onListen=rN.bind(null,e.syncEngine),t.onUnlisten=oN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aN.bind(null,e.syncEngine),t}function EN(n,e,t={}){const i=new zi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new b0({next:S=>{_.Ou(),c.enqueueAndForget(()=>E0(l,w));const M=S.docs.has(d);!M&&S.fromCache?y.reject(new ve(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&p&&p.source==="server"?y.reject(new ve(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new w0(Jp(d.path),_,{includeMetadataChanges:!0,ka:!0});return _0(l,w)}(await N0(n),n.asyncQueue,e,t,i)),i.promise}function wN(n,e,t={}){const i=new zi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new b0({next:S=>{_.Ou(),c.enqueueAndForget(()=>E0(l,w)),S.fromCache&&p.source==="server"?y.reject(new ve(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new w0(d,_,{includeMetadataChanges:!0,ka:!0});return _0(l,w)}(await N0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firestore.googleapis.com",N_=!0;class O_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D0,this.ssl=N_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=a0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zb)throw new ve(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new AP;switch(i.type){case"firstParty":return new xP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=x_.get(t);i&&(de("ComponentProvider","Removing Datastore"),x_.delete(t),i.terminate())}(this),Promise.resolve()}}function TN(n,e,t,i={}){var o;n=Vr(n,xh);const l=Ga(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(SE(`https://${p}`),IE("Firestore",!0)),c.host!==D0&&c.host!==p&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!ko(y,d)&&(n._setSettings(y),i.mockUserToken)){let _,w;if(typeof i.mockUserToken=="string")_=i.mockUserToken,w=hn.MOCK_USER;else{_=$R(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ve(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new hn(S)}n._authCredentials=new kP(new _w(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Dt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(pu(t,Dt._jsonSchema))return new Dt(e,i||null,new we(ht.fromString(t.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Ot("string",Dt._jsonSchemaVersion),referencePath:Ot("string")};class Ms extends Nh{constructor(e,t,i){super(e,t,Jp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new we(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function nO(n,e,...t){if(n=pn(n),ww("collection","path",e),n instanceof xh){const i=ht.fromString(e,...t);return Gv(i),new Ms(n,null,i)}{if(!(n instanceof Dt||n instanceof Ms))throw new ve(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return Gv(i),new Ms(n.firestore,null,i)}}function V0(n,e,...t){if(n=pn(n),arguments.length===1&&(e=Hp.newId()),ww("doc","path",e),n instanceof xh){const i=ht.fromString(e,...t);return qv(i),new Dt(n,null,new we(i))}{if(!(n instanceof Dt||n instanceof Ms))throw new ve(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return qv(i),new Dt(n.firestore,n instanceof Ms?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new h0(this,"async_queue_retry"),this.oc=()=>{const i=Af();i&&de(D_,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=Af();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Af();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new zi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ja(e))throw e;de(D_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Hi("INTERNAL UNHANDLED ERROR: ",L_(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=dm.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Re(47125,{hc:L_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function L_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Mo extends xh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new V_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function SN(n,e){const t=typeof n=="object"?n:kE(),i=typeof n=="string"?n:eh,o=Vp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=jR("firestore");l&&TN(o,...l)}return o}function ym(n){if(n._terminated)throw new ve(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IN(n),n._firestoreClient}function IN(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,_){return new GP(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,O0(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new yN(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vr(rn.fromBase64String(e))}catch(t){throw new ve(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vr(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,vr._jsonSchema))return vr.fromBase64String(e.bytes)}}vr._jsonSchemaVersion="firestore/bytes/1.0",vr._jsonSchema={type:Ot("string",vr._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(pu(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Ot("string",hi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new di(e.vectorValues);throw new ve(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Ot("string",di._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^__.*__$/;class CN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new mu(e,this.data,t,this.fieldTransforms)}}class L0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function M0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ec:n})}}class vm{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.fc(e),o}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return uh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(M0(this.Ec)&&RN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class AN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||kh(e)}Dc(e,t,i,o=!1){return new vm({Ec:e,methodName:t,bc:i,path:nn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(n){const e=n._freezeSettings(),t=kh(n._databaseId);return new AN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function F0(n,e,t,i,o,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,o);wm("Data must be an object, but it was:",c,i);const d=U0(i,c);let p,y;if(l.merge)p=new er(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const S=gp(e,w,t);if(!c.contains(S))throw new ve(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);j0(_,S)||_.push(S)}p=new er(_),y=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=c.fieldTransforms;return new CN(new Bn(d),p,y)}class Vh extends Dh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}class Em extends Dh{_toFieldTransform(e){return new Eb(e.path,new nu)}isEqual(e){return e instanceof Em}}function kN(n,e,t,i){const o=n.Dc(1,e,t);wm("Data must be an object, but it was:",o,i);const l=[],c=Bn.empty();Qs(i,(p,y)=>{const _=Tm(e,p,t);y=pn(y);const w=o.gc(_);if(y instanceof Vh)l.push(_);else{const S=Lh(y,w);S!=null&&(l.push(_),c.set(_,S))}});const d=new er(l);return new L0(c,d,o.fieldTransforms)}function PN(n,e,t,i,o,l){const c=n.Dc(1,e,t),d=[gp(e,i,t)],p=[o];if(l.length%2!=0)throw new ve(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(gp(e,l[S])),p.push(l[S+1]);const y=[],_=Bn.empty();for(let S=d.length-1;S>=0;--S)if(!j0(y,d[S])){const M=d[S];let U=p[S];U=pn(U);const F=c.gc(M);if(U instanceof Vh)y.push(M);else{const N=Lh(U,F);N!=null&&(y.push(M),_.set(M,N))}}const w=new er(y);return new L0(_,w,c.fieldTransforms)}function Lh(n,e){if(B0(n=pn(n)))return wm("Unsupported field value:",e,n),U0(n,e);if(n instanceof Dh)return function(i,o){if(!M0(o.Ec))throw o.wc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=Lh(d,o.yc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return yb(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dt.fromDate(i);return{timestampValue:sh(o.serializer,l)}}if(i instanceof dt){const l=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sh(o.serializer,l)}}if(i instanceof hi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vr)return{bytesValue:e0(o.serializer,i._byteString)};if(i instanceof Dt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof di)return function(c,d){return{mapValue:{fields:{[bw]:{stringValue:xw},[th]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw d.wc("VectorValues must only contain numeric values.");return Zp(d.serializer,y)})}}}}}}(i,o);throw o.wc(`Unsupported field value: ${qp(i)}`)}(n,e)}function U0(n,e){const t={};return Iw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,(i,o)=>{const l=Lh(o,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function B0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof hi||n instanceof vr||n instanceof Dt||n instanceof Dh||n instanceof di)}function wm(n,e,t){if(!B0(t)||!Tw(t)){const i=qp(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function gp(n,e,t){if((e=pn(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return Tm(n,e);throw uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const bN=new RegExp("[~\\*/\\[\\]]");function Tm(n,e,t){if(e.search(bN)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oh(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uh(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ve(J.INVALID_ARGUMENT,d+n+p)}function j0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xN extends z0{data(){return super.data()}}function $0(n,e){return typeof e=="string"?Tm(n,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ON{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[th].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>Rt(c.doubleValue));return new di(l)}convertGeoPoint(e){return new hi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);tt(o0(i),9688,{name:e});const o=new eu(i.get(1),i.get(3)),l=new we(i.popFirst(5));return o.isEqual(t)||Hi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ao extends z0{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field($0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ao._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ao._jsonSchema={type:Ot("string",Ao._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class jc extends Ao{data(e={}){return super.data(e)}}class La{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jc(this._firestore,this._userDataWriter,i.key,i,new Ll(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new jc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ll(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new jc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ll(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:DN(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n){n=Vr(n,Dt);const e=Vr(n.firestore,Mo);return EN(ym(e),n._key).then(t=>LN(e,n,t))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Ot("string",La._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class H0 extends ON{constructor(e){super(),this.firestore=e}convertBytes(e){return new vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function rO(n){n=Vr(n,Nh);const e=Vr(n.firestore,Mo),t=ym(e),i=new H0(e);return NN(n._query),wN(t,n._query).then(o=>new La(e,i,n,o))}function iO(n,e,t){n=Vr(n,Dt);const i=Vr(n.firestore,Mo),o=W0(n.converter,e);return Mh(i,[F0(_m(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,_r.none())])}function sO(n,e,t,...i){n=Vr(n,Dt);const o=Vr(n.firestore,Mo),l=_m(o);let c;return c=typeof(e=pn(e))=="string"||e instanceof Oh?PN(l,"updateDoc",n._key,e,t,i):kN(l,"updateDoc",n._key,e),Mh(o,[c.toMutation(n._key,_r.exists(!0))])}function oO(n){return Mh(Vr(n.firestore,Mo),[new em(n._key,_r.none())])}function aO(n,e){const t=Vr(n.firestore,Mo),i=V0(n),o=W0(n.converter,e);return Mh(t,[F0(_m(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,_r.exists(!1))]).then(()=>i)}function Mh(n,e){return function(i,o){const l=new zi;return i.asyncQueue.enqueueAndForget(async()=>lN(await _N(i),o,l)),l.promise}(ym(n),e)}function LN(n,e,t){const i=t.docs.get(e._key),o=new H0(n);return new Ao(n,o,e._key,i,new Ll(t.hasPendingWrites,t.fromCache),e.converter)}function lO(){return new Em("serverTimestamp")}(function(e,t=!0){(function(o){Xa=o})(Ka),Fa(new Po("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Mo(new PP(i.getProvider("auth-internal")),new NP(c,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Vs(jv,zv,e),Vs(jv,zv,"esm2017")})();var MN="firebase",FN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(MN,FN,"app");const UN={apiKey:"AIzaSyAcGGE37ZiTFcz8mo1pSECvDCDOXdzbSHY",authDomain:"fitnesspro-36d8b.firebaseapp.com",projectId:"fitnesspro-36d8b",storageBucket:"fitnesspro-36d8b.firebasestorage.app",messagingSenderId:"881881913799",appId:"1:881881913799:web:08399068acd96e83f0e1e2"},Sm=AE(UN);console.log(" Firebase initialized:",Sm.name);const q0=RP(Sm),BN=SN(Sm),jN=Z.lazy(()=>ou(()=>import("./Login-BJ8bsKev.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),zN=Z.lazy(()=>ou(()=>import("./Register-CssO_UD_.js"),__vite__mapDeps([4,1,2,3,5]),import.meta.url)),$N=Z.lazy(()=>ou(()=>import("./DashboardCliente-6E3lMpRT.js"),__vite__mapDeps([6,3,5]),import.meta.url)),WN=Z.lazy(()=>ou(()=>import("./DashboardTrainer-ChySRQJP.js"),__vite__mapDeps([7,1,2,3,8,5]),import.meta.url)),HN=Z.lazy(()=>ou(()=>import("./DashboardAdmin-BzCCoxHe.js"),__vite__mapDeps([9,3,5,8,2,10]),import.meta.url));function qN(){const[n,e]=Z.useState(null),[t,i]=Z.useState(null),[o,l]=Z.useState(!0);if(Z.useEffect(()=>{const d=tw(q0,async p=>{if(l(!0),e(p),p)try{const y=await VN(V0(BN,"users",p.uid));i(y.exists()?y.data():null)}catch(y){console.error(" Firestore getDoc error:",y),i(null)}else i(null);l(!1)});return()=>d()},[]),o)return st.jsx(Wf,{align:"center",justify:"center",minH:"100vh",children:st.jsx($f,{size:"xl"})});const c=()=>{if(!n)return st.jsx(hf,{to:"/",replace:!0});const d=t?.role;return d==="admin"?st.jsx(HN,{user:n,profile:t}):d==="trainer"?st.jsx(WN,{user:n,profile:t}):d==="cliente"?st.jsx($N,{user:n,profile:t}):st.jsx(hf,{to:"/",replace:!0})};return st.jsx(Z.Suspense,{fallback:st.jsx(Wf,{align:"center",justify:"center",minH:"100vh",children:st.jsx($f,{size:"lg"})}),children:st.jsxs(XS,{children:[st.jsx(Pl,{path:"/",element:st.jsx(jN,{})}),st.jsx(Pl,{path:"/register",element:st.jsx(zN,{})}),st.jsx(Pl,{path:"/dashboard",element:st.jsx(c,{})}),st.jsx(Pl,{path:"*",element:st.jsx(hf,{to:"/",replace:!0})})]})})}const GN=Z.createContext();function KN({children:n}){const[e,t]=Z.useState(null),[i,o]=Z.useState(null),[l,c]=Z.useState(!0);return Z.useEffect(()=>{const d=tw(q0,async p=>{if(p){t(p);const y=await fetchUserProfile(p.uid);o(y.role)}else t(null),o(null);c(!1)});return()=>d()},[]),st.jsx(GN.Provider,{value:{user:e,role:i,loading:l},children:n})}sS.createRoot(document.getElementById("root")).render(st.jsx(M_.StrictMode,{children:st.jsx(rI,{basename:"/",children:st.jsx(KN,{children:st.jsx(qN,{})})})}));export{YN as A,ba as B,mI as C,Wf as F,QN as L,$f as S,q0 as a,iO as b,ZN as c,V0 as d,BN as e,mE as f,zf as g,gI as h,JN as i,st as j,xR as k,XN as l,wI as m,rO as n,v1 as o,nO as p,aO as q,Z as r,eO as s,lO as t,H_ as u,bs as v,kR as w,sO as x,oO as y,AR as z};
